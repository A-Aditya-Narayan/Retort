var LA=t=>{throw TypeError(t)};var fy=(t,e,r)=>e.has(t)||LA("Cannot "+r);var oe=(t,e,r)=>(fy(t,e,"read from private field"),r?r.call(t):e.get(t)),Fn=(t,e,r)=>e.has(t)?LA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),rn=(t,e,r,l)=>(fy(t,e,"write to private field"),l?l.call(t,r):e.set(t,r),r),va=(t,e,r)=>(fy(t,e,"access private method"),r);var cg=(t,e,r,l)=>({set _(p){rn(t,e,p,r)},get _(){return oe(t,e,l)}});function w7(t,e){for(var r=0;r<e.length;r++){const l=e[r];if(typeof l!="string"&&!Array.isArray(l)){for(const p in l)if(p!=="default"&&!(p in t)){const g=Object.getOwnPropertyDescriptor(l,p);g&&Object.defineProperty(t,p,g.get?g:{enumerable:!0,get:()=>l[p]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))l(p);new MutationObserver(p=>{for(const g of p)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&l(_)}).observe(document,{childList:!0,subtree:!0});function r(p){const g={};return p.integrity&&(g.integrity=p.integrity),p.referrerPolicy&&(g.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?g.credentials="include":p.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(p){if(p.ep)return;p.ep=!0;const g=r(p);fetch(p.href,g)}})();var C7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hP={exports:{}},Qx={},fP={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),A7=Symbol.for("react.portal"),T7=Symbol.for("react.fragment"),S7=Symbol.for("react.strict_mode"),E7=Symbol.for("react.profiler"),P7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),M7=Symbol.for("react.forward_ref"),k7=Symbol.for("react.suspense"),B7=Symbol.for("react.memo"),N7=Symbol.for("react.lazy"),zA=Symbol.iterator;function I7(t){return t===null||typeof t!="object"?null:(t=zA&&t[zA]||t["@@iterator"],typeof t=="function"?t:null)}var gP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xP=Object.assign,vP={};function yp(t,e,r){this.props=t,this.context=e,this.refs=vP,this.updater=r||gP}yp.prototype.isReactComponent={};yp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yP(){}yP.prototype=yp.prototype;function Q1(t,e,r){this.props=t,this.context=e,this.refs=vP,this.updater=r||gP}var J1=Q1.prototype=new yP;J1.constructor=Q1;xP(J1,yp.prototype);J1.isPureReactComponent=!0;var jA=Array.isArray,_P=Object.prototype.hasOwnProperty,tb={current:null},bP={key:!0,ref:!0,__self:!0,__source:!0};function wP(t,e,r){var l,p={},g=null,_=null;if(e!=null)for(l in e.ref!==void 0&&(_=e.ref),e.key!==void 0&&(g=""+e.key),e)_P.call(e,l)&&!bP.hasOwnProperty(l)&&(p[l]=e[l]);var C=arguments.length-2;if(C===1)p.children=r;else if(1<C){for(var i=Array(C),E=0;E<C;E++)i[E]=arguments[E+2];p.children=i}if(t&&t.defaultProps)for(l in C=t.defaultProps,C)p[l]===void 0&&(p[l]=C[l]);return{$$typeof:Tf,type:t,key:g,ref:_,props:p,_owner:tb.current}}function F7(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function R7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var OA=/\/+/g;function gy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R7(""+t.key):e.toString(36)}function Gg(t,e,r,l,p){var g=typeof t;(g==="undefined"||g==="boolean")&&(t=null);var _=!1;if(t===null)_=!0;else switch(g){case"string":case"number":_=!0;break;case"object":switch(t.$$typeof){case Tf:case A7:_=!0}}if(_)return _=t,p=p(_),t=l===""?"."+gy(_,0):l,jA(p)?(r="",t!=null&&(r=t.replace(OA,"$&/")+"/"),Gg(p,e,r,"",function(E){return E})):p!=null&&(eb(p)&&(p=F7(p,r+(!p.key||_&&_.key===p.key?"":(""+p.key).replace(OA,"$&/")+"/")+t)),e.push(p)),1;if(_=0,l=l===""?".":l+":",jA(t))for(var C=0;C<t.length;C++){g=t[C];var i=l+gy(g,C);_+=Gg(g,e,r,i,p)}else if(i=I7(t),typeof i=="function")for(t=i.call(t),C=0;!(g=t.next()).done;)g=g.value,i=l+gy(g,C++),_+=Gg(g,e,r,i,p);else if(g==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return _}function dg(t,e,r){if(t==null)return t;var l=[],p=0;return Gg(t,l,"","",function(g){return e.call(r,g,p++)}),l}function L7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var La={current:null},qg={transition:null},z7={ReactCurrentDispatcher:La,ReactCurrentBatchConfig:qg,ReactCurrentOwner:tb};function CP(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:dg,forEach:function(t,e,r){dg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dg(t,function(){e++}),e},toArray:function(t){return dg(t,function(e){return e})||[]},only:function(t){if(!eb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fn.Component=yp;fn.Fragment=T7;fn.Profiler=E7;fn.PureComponent=Q1;fn.StrictMode=S7;fn.Suspense=k7;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z7;fn.act=CP;fn.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=xP({},t.props),p=t.key,g=t.ref,_=t._owner;if(e!=null){if(e.ref!==void 0&&(g=e.ref,_=tb.current),e.key!==void 0&&(p=""+e.key),t.type&&t.type.defaultProps)var C=t.type.defaultProps;for(i in e)_P.call(e,i)&&!bP.hasOwnProperty(i)&&(l[i]=e[i]===void 0&&C!==void 0?C[i]:e[i])}var i=arguments.length-2;if(i===1)l.children=r;else if(1<i){C=Array(i);for(var E=0;E<i;E++)C[E]=arguments[E+2];l.children=C}return{$$typeof:Tf,type:t.type,key:p,ref:g,props:l,_owner:_}};fn.createContext=function(t){return t={$$typeof:D7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P7,_context:t},t.Consumer=t};fn.createElement=wP;fn.createFactory=function(t){var e=wP.bind(null,t);return e.type=t,e};fn.createRef=function(){return{current:null}};fn.forwardRef=function(t){return{$$typeof:M7,render:t}};fn.isValidElement=eb;fn.lazy=function(t){return{$$typeof:N7,_payload:{_status:-1,_result:t},_init:L7}};fn.memo=function(t,e){return{$$typeof:B7,type:t,compare:e===void 0?null:e}};fn.startTransition=function(t){var e=qg.transition;qg.transition={};try{t()}finally{qg.transition=e}};fn.unstable_act=CP;fn.useCallback=function(t,e){return La.current.useCallback(t,e)};fn.useContext=function(t){return La.current.useContext(t)};fn.useDebugValue=function(){};fn.useDeferredValue=function(t){return La.current.useDeferredValue(t)};fn.useEffect=function(t,e){return La.current.useEffect(t,e)};fn.useId=function(){return La.current.useId()};fn.useImperativeHandle=function(t,e,r){return La.current.useImperativeHandle(t,e,r)};fn.useInsertionEffect=function(t,e){return La.current.useInsertionEffect(t,e)};fn.useLayoutEffect=function(t,e){return La.current.useLayoutEffect(t,e)};fn.useMemo=function(t,e){return La.current.useMemo(t,e)};fn.useReducer=function(t,e,r){return La.current.useReducer(t,e,r)};fn.useRef=function(t){return La.current.useRef(t)};fn.useState=function(t){return La.current.useState(t)};fn.useSyncExternalStore=function(t,e,r){return La.current.useSyncExternalStore(t,e,r)};fn.useTransition=function(){return La.current.useTransition()};fn.version="18.3.1";fP.exports=fn;var q=fP.exports;const ye=Y1(q),AP=w7({__proto__:null,default:ye},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=q,O7=Symbol.for("react.element"),V7=Symbol.for("react.fragment"),U7=Object.prototype.hasOwnProperty,$7=j7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G7={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,r){var l,p={},g=null,_=null;r!==void 0&&(g=""+r),e.key!==void 0&&(g=""+e.key),e.ref!==void 0&&(_=e.ref);for(l in e)U7.call(e,l)&&!G7.hasOwnProperty(l)&&(p[l]=e[l]);if(t&&t.defaultProps)for(l in e=t.defaultProps,e)p[l]===void 0&&(p[l]=e[l]);return{$$typeof:O7,type:t,key:g,ref:_,props:p,_owner:$7.current}}Qx.Fragment=V7;Qx.jsx=TP;Qx.jsxs=TP;hP.exports=Qx;var w=hP.exports,SP={exports:{}},yr={},EP={exports:{}},PP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Ot,Zt){var we=Ot.length;Ot.push(Zt);t:for(;0<we;){var fe=we-1>>>1,Ce=Ot[fe];if(0<p(Ce,Zt))Ot[fe]=Zt,Ot[we]=Ce,we=fe;else break t}}function r(Ot){return Ot.length===0?null:Ot[0]}function l(Ot){if(Ot.length===0)return null;var Zt=Ot[0],we=Ot.pop();if(we!==Zt){Ot[0]=we;t:for(var fe=0,Ce=Ot.length,Ze=Ce>>>1;fe<Ze;){var He=2*(fe+1)-1,to=Ot[He],cn=He+1,yo=Ot[cn];if(0>p(to,we))cn<Ce&&0>p(yo,to)?(Ot[fe]=yo,Ot[cn]=we,fe=cn):(Ot[fe]=to,Ot[He]=we,fe=He);else if(cn<Ce&&0>p(yo,we))Ot[fe]=yo,Ot[cn]=we,fe=cn;else break t}}return Zt}function p(Ot,Zt){var we=Ot.sortIndex-Zt.sortIndex;return we!==0?we:Ot.id-Zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;t.unstable_now=function(){return g.now()}}else{var _=Date,C=_.now();t.unstable_now=function(){return _.now()-C}}var i=[],E=[],B=1,F=null,N=3,V=!1,Q=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Ot){for(var Zt=r(E);Zt!==null;){if(Zt.callback===null)l(E);else if(Zt.startTime<=Ot)l(E),Zt.sortIndex=Zt.expirationTime,e(i,Zt);else break;Zt=r(E)}}function dt(Ot){if(H=!1,Z(Ot),!Q)if(r(i)!==null)Q=!0,Fe(ft);else{var Zt=r(E);Zt!==null&&Be(dt,Zt.startTime-Ot)}}function ft(Ot,Zt){Q=!1,H&&(H=!1,W(Ft),Ft=-1),V=!0;var we=N;try{for(Z(Zt),F=r(i);F!==null&&(!(F.expirationTime>Zt)||Ot&&!Ie());){var fe=F.callback;if(typeof fe=="function"){F.callback=null,N=F.priorityLevel;var Ce=fe(F.expirationTime<=Zt);Zt=t.unstable_now(),typeof Ce=="function"?F.callback=Ce:F===r(i)&&l(i),Z(Zt)}else l(i);F=r(i)}if(F!==null)var Ze=!0;else{var He=r(E);He!==null&&Be(dt,He.startTime-Zt),Ze=!1}return Ze}finally{F=null,N=we,V=!1}}var St=!1,zt=null,Ft=-1,ie=5,Dt=-1;function Ie(){return!(t.unstable_now()-Dt<ie)}function Te(){if(zt!==null){var Ot=t.unstable_now();Dt=Ot;var Zt=!0;try{Zt=zt(!0,Ot)}finally{Zt?xe():(St=!1,zt=null)}}else St=!1}var xe;if(typeof $=="function")xe=function(){$(Te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,en=ce.port2;ce.port1.onmessage=Te,xe=function(){en.postMessage(null)}}else xe=function(){tt(Te,0)};function Fe(Ot){zt=Ot,St||(St=!0,xe())}function Be(Ot,Zt){Ft=tt(function(){Ot(t.unstable_now())},Zt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ot){Ot.callback=null},t.unstable_continueExecution=function(){Q||V||(Q=!0,Fe(ft))},t.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Ot?Math.floor(1e3/Ot):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(i)},t.unstable_next=function(Ot){switch(N){case 1:case 2:case 3:var Zt=3;break;default:Zt=N}var we=N;N=Zt;try{return Ot()}finally{N=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ot,Zt){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var we=N;N=Ot;try{return Zt()}finally{N=we}},t.unstable_scheduleCallback=function(Ot,Zt,we){var fe=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?fe+we:fe):we=fe,Ot){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=we+Ce,Ot={id:B++,callback:Zt,priorityLevel:Ot,startTime:we,expirationTime:Ce,sortIndex:-1},we>fe?(Ot.sortIndex=we,e(E,Ot),r(i)===null&&Ot===r(E)&&(H?(W(Ft),Ft=-1):H=!0,Be(dt,we-fe))):(Ot.sortIndex=Ce,e(i,Ot),Q||V||(Q=!0,Fe(ft))),Ot},t.unstable_shouldYield=Ie,t.unstable_wrapCallback=function(Ot){var Zt=N;return function(){var we=N;N=Zt;try{return Ot.apply(this,arguments)}finally{N=we}}}})(PP);EP.exports=PP;var q7=EP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W7=q,xr=q7;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DP=new Set,Wh={};function yd(t,e){sp(t,e),sp(t+"Capture",e)}function sp(t,e){for(Wh[t]=e,t=0;t<e.length;t++)DP.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b_=Object.prototype.hasOwnProperty,H7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VA={},UA={};function Z7(t){return b_.call(UA,t)?!0:b_.call(VA,t)?!1:H7.test(t)?UA[t]=!0:(VA[t]=!0,!1)}function X7(t,e,r,l){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K7(t,e,r,l){if(e===null||typeof e>"u"||X7(t,e,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function za(t,e,r,l,p,g,_){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=l,this.attributeNamespace=p,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=g,this.removeEmptyString=_}var la={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){la[t]=new za(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];la[e]=new za(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){la[t]=new za(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){la[t]=new za(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){la[t]=new za(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){la[t]=new za(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){la[t]=new za(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){la[t]=new za(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){la[t]=new za(t,5,!1,t.toLowerCase(),null,!1,!1)});var nb=/[\-:]([a-z])/g;function ob(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nb,ob);la[e]=new za(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nb,ob);la[e]=new za(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nb,ob);la[e]=new za(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){la[t]=new za(t,1,!1,t.toLowerCase(),null,!1,!1)});la.xlinkHref=new za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){la[t]=new za(t,1,!1,t.toLowerCase(),null,!0,!0)});function ab(t,e,r,l){var p=la.hasOwnProperty(e)?la[e]:null;(p!==null?p.type!==0:l||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K7(e,r,p,l)&&(r=null),l||p===null?Z7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):p.mustUseProperty?t[p.propertyName]=r===null?p.type===3?!1:"":r:(e=p.attributeName,l=p.attributeNamespace,r===null?t.removeAttribute(e):(p=p.type,r=p===3||p===4&&r===!0?"":""+r,l?t.setAttributeNS(l,e,r):t.setAttribute(e,r))))}var Gi=W7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ug=Symbol.for("react.element"),Tu=Symbol.for("react.portal"),Su=Symbol.for("react.fragment"),rb=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),kP=Symbol.for("react.context"),sb=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),A_=Symbol.for("react.suspense_list"),ib=Symbol.for("react.memo"),Pl=Symbol.for("react.lazy"),BP=Symbol.for("react.offscreen"),$A=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=$A&&t[$A]||t["@@iterator"],typeof t=="function"?t:null)}var vo=Object.assign,xy;function wh(t){if(xy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xy=e&&e[1]||""}return`
`+xy+t}var vy=!1;function yy(t,e){if(!t||vy)return"";vy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(E){var l=E}Reflect.construct(t,[],e)}else{try{e.call()}catch(E){l=E}t.call(e.prototype)}else{try{throw Error()}catch(E){l=E}t()}}catch(E){if(E&&l&&typeof E.stack=="string"){for(var p=E.stack.split(`
`),g=l.stack.split(`
`),_=p.length-1,C=g.length-1;1<=_&&0<=C&&p[_]!==g[C];)C--;for(;1<=_&&0<=C;_--,C--)if(p[_]!==g[C]){if(_!==1||C!==1)do if(_--,C--,0>C||p[_]!==g[C]){var i=`
`+p[_].replace(" at new "," at ");return t.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",t.displayName)),i}while(1<=_&&0<=C);break}}}finally{vy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wh(t):""}function Y7(t){switch(t.tag){case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return t=yy(t.type,!1),t;case 11:return t=yy(t.type.render,!1),t;case 1:return t=yy(t.type,!0),t;default:return""}}function T_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Su:return"Fragment";case Tu:return"Portal";case w_:return"Profiler";case rb:return"StrictMode";case C_:return"Suspense";case A_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kP:return(t.displayName||"Context")+".Consumer";case MP:return(t._context.displayName||"Context")+".Provider";case sb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ib:return e=t.displayName||null,e!==null?e:T_(t.type)||"Memo";case Pl:e=t._payload,t=t._init;try{return T_(t(e))}catch{}}return null}function Q7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T_(e);case 8:return e===rb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J7(t){var e=NP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,g=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,g.call(this,_)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pg(t){t._valueTracker||(t._valueTracker=J7(t))}function IP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),l="";return t&&(l=NP(t)?t.checked?"true":"false":t.value),t=l,t!==r?(e.setValue(t),!0):!1}function hx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S_(t,e){var r=e.checked;return vo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function GA(t,e){var r=e.defaultValue==null?"":e.defaultValue,l=e.checked!=null?e.checked:e.defaultChecked;r=Xl(e.value!=null?e.value:r),t._wrapperState={initialChecked:l,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FP(t,e){e=e.checked,e!=null&&ab(t,"checked",e,!1)}function E_(t,e){FP(t,e);var r=Xl(e.value),l=e.type;if(r!=null)l==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P_(t,e.type,r):e.hasOwnProperty("defaultValue")&&P_(t,e.type,Xl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qA(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var l=e.type;if(!(l!=="submit"&&l!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function P_(t,e,r){(e!=="number"||hx(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ch=Array.isArray;function Uu(t,e,r,l){if(t=t.options,e){e={};for(var p=0;p<r.length;p++)e["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=e.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xl(r),e=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,l&&(t[p].defaultSelected=!0);return}e!==null||t[p].disabled||(e=t[p])}e!==null&&(e.selected=!0)}}function D_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return vo({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function WA(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(de(92));if(Ch(r)){if(1<r.length)throw Error(de(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xl(r)}}function RP(t,e){var r=Xl(e.value),l=Xl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),l!=null&&(t.defaultValue=""+l)}function HA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mg,zP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,l,p){MSApp.execUnsafeLocalFunction(function(){return t(e,r,l,p)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mg=mg||document.createElement("div"),mg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tF=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(t){tF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eh[e]=Eh[t]})});function jP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Eh.hasOwnProperty(t)&&Eh[t]?(""+e).trim():e+"px"}function OP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var l=r.indexOf("--")===0,p=jP(r,e[r],l);r==="float"&&(r="cssFloat"),l?t.setProperty(r,p):t[r]=p}}var eF=vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k_(t,e){if(e){if(eF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function B_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N_=null;function lb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I_=null,$u=null,Gu=null;function ZA(t){if(t=Pf(t)){if(typeof I_!="function")throw Error(de(280));var e=t.stateNode;e&&(e=o2(e),I_(t.stateNode,t.type,e))}}function VP(t){$u?Gu?Gu.push(t):Gu=[t]:$u=t}function UP(){if($u){var t=$u,e=Gu;if(Gu=$u=null,ZA(t),e)for(t=0;t<e.length;t++)ZA(e[t])}}function $P(t,e){return t(e)}function GP(){}var _y=!1;function qP(t,e,r){if(_y)return t(e,r);_y=!0;try{return $P(t,e,r)}finally{_y=!1,($u!==null||Gu!==null)&&(GP(),UP())}}function Zh(t,e){var r=t.stateNode;if(r===null)return null;var l=o2(r);if(l===null)return null;r=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(de(231,e,typeof r));return r}var F_=!1;if(Li)try{var dh={};Object.defineProperty(dh,"passive",{get:function(){F_=!0}}),window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{F_=!1}function nF(t,e,r,l,p,g,_,C,i){var E=Array.prototype.slice.call(arguments,3);try{e.apply(r,E)}catch(B){this.onError(B)}}var Ph=!1,fx=null,gx=!1,R_=null,oF={onError:function(t){Ph=!0,fx=t}};function aF(t,e,r,l,p,g,_,C,i){Ph=!1,fx=null,nF.apply(oF,arguments)}function rF(t,e,r,l,p,g,_,C,i){if(aF.apply(this,arguments),Ph){if(Ph){var E=fx;Ph=!1,fx=null}else throw Error(de(198));gx||(gx=!0,R_=E)}}function _d(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function WP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XA(t){if(_d(t)!==t)throw Error(de(188))}function sF(t){var e=t.alternate;if(!e){if(e=_d(t),e===null)throw Error(de(188));return e!==t?null:t}for(var r=t,l=e;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(l=p.return,l!==null){r=l;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return XA(p),t;if(g===l)return XA(p),e;g=g.sibling}throw Error(de(188))}if(r.return!==l.return)r=p,l=g;else{for(var _=!1,C=p.child;C;){if(C===r){_=!0,r=p,l=g;break}if(C===l){_=!0,l=p,r=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===r){_=!0,r=g,l=p;break}if(C===l){_=!0,l=g,r=p;break}C=C.sibling}if(!_)throw Error(de(189))}}if(r.alternate!==l)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?t:e}function HP(t){return t=sF(t),t!==null?ZP(t):null}function ZP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZP(t);if(e!==null)return e;t=t.sibling}return null}var XP=xr.unstable_scheduleCallback,KA=xr.unstable_cancelCallback,iF=xr.unstable_shouldYield,lF=xr.unstable_requestPaint,Do=xr.unstable_now,cF=xr.unstable_getCurrentPriorityLevel,cb=xr.unstable_ImmediatePriority,KP=xr.unstable_UserBlockingPriority,xx=xr.unstable_NormalPriority,dF=xr.unstable_LowPriority,YP=xr.unstable_IdlePriority,Jx=null,ni=null;function uF(t){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Jx,t,void 0,(t.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:hF,pF=Math.log,mF=Math.LN2;function hF(t){return t>>>=0,t===0?32:31-(pF(t)/mF|0)|0}var hg=64,fg=4194304;function Ah(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vx(t,e){var r=t.pendingLanes;if(r===0)return 0;var l=0,p=t.suspendedLanes,g=t.pingedLanes,_=r&268435455;if(_!==0){var C=_&~p;C!==0?l=Ah(C):(g&=_,g!==0&&(l=Ah(g)))}else _=r&~p,_!==0?l=Ah(_):g!==0&&(l=Ah(g));if(l===0)return 0;if(e!==0&&e!==l&&!(e&p)&&(p=l&-l,g=e&-e,p>=g||p===16&&(g&4194240)!==0))return e;if(l&4&&(l|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=l;0<e;)r=31-Ts(e),p=1<<r,l|=t[r],e&=~p;return l}function fF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gF(t,e){for(var r=t.suspendedLanes,l=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-Ts(g),C=1<<_,i=p[_];i===-1?(!(C&r)||C&l)&&(p[_]=fF(C,e)):i<=e&&(t.expiredLanes|=C),g&=~C}}function L_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QP(){var t=hg;return hg<<=1,!(hg&4194240)&&(hg=64),t}function by(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Sf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ts(e),t[e]=r}function xF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<r;){var p=31-Ts(r),g=1<<p;e[p]=0,l[p]=-1,t[p]=-1,r&=~g}}function db(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var l=31-Ts(r),p=1<<l;p&e|t[l]&e&&(t[l]|=e),r&=~p}}var On=0;function JP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tD,ub,eD,nD,oD,z_=!1,gg=[],Ol=null,Vl=null,Ul=null,Xh=new Map,Kh=new Map,Ml=[],vF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YA(t,e){switch(t){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Xh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(e.pointerId)}}function uh(t,e,r,l,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:e,domEventName:r,eventSystemFlags:l,nativeEvent:g,targetContainers:[p]},e!==null&&(e=Pf(e),e!==null&&ub(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,p!==null&&e.indexOf(p)===-1&&e.push(p),t)}function yF(t,e,r,l,p){switch(e){case"focusin":return Ol=uh(Ol,t,e,r,l,p),!0;case"dragenter":return Vl=uh(Vl,t,e,r,l,p),!0;case"mouseover":return Ul=uh(Ul,t,e,r,l,p),!0;case"pointerover":var g=p.pointerId;return Xh.set(g,uh(Xh.get(g)||null,t,e,r,l,p)),!0;case"gotpointercapture":return g=p.pointerId,Kh.set(g,uh(Kh.get(g)||null,t,e,r,l,p)),!0}return!1}function aD(t){var e=Jc(t.target);if(e!==null){var r=_d(e);if(r!==null){if(e=r.tag,e===13){if(e=WP(r),e!==null){t.blockedOn=e,oD(t.priority,function(){eD(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=j_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);N_=l,r.target.dispatchEvent(l),N_=null}else return e=Pf(r),e!==null&&ub(e),t.blockedOn=r,!1;e.shift()}return!0}function QA(t,e,r){Wg(t)&&r.delete(e)}function _F(){z_=!1,Ol!==null&&Wg(Ol)&&(Ol=null),Vl!==null&&Wg(Vl)&&(Vl=null),Ul!==null&&Wg(Ul)&&(Ul=null),Xh.forEach(QA),Kh.forEach(QA)}function ph(t,e){t.blockedOn===e&&(t.blockedOn=null,z_||(z_=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,_F)))}function Yh(t){function e(p){return ph(p,t)}if(0<gg.length){ph(gg[0],t);for(var r=1;r<gg.length;r++){var l=gg[r];l.blockedOn===t&&(l.blockedOn=null)}}for(Ol!==null&&ph(Ol,t),Vl!==null&&ph(Vl,t),Ul!==null&&ph(Ul,t),Xh.forEach(e),Kh.forEach(e),r=0;r<Ml.length;r++)l=Ml[r],l.blockedOn===t&&(l.blockedOn=null);for(;0<Ml.length&&(r=Ml[0],r.blockedOn===null);)aD(r),r.blockedOn===null&&Ml.shift()}var qu=Gi.ReactCurrentBatchConfig,yx=!0;function bF(t,e,r,l){var p=On,g=qu.transition;qu.transition=null;try{On=1,pb(t,e,r,l)}finally{On=p,qu.transition=g}}function wF(t,e,r,l){var p=On,g=qu.transition;qu.transition=null;try{On=4,pb(t,e,r,l)}finally{On=p,qu.transition=g}}function pb(t,e,r,l){if(yx){var p=j_(t,e,r,l);if(p===null)ky(t,e,l,_x,r),YA(t,l);else if(yF(p,t,e,r,l))l.stopPropagation();else if(YA(t,l),e&4&&-1<vF.indexOf(t)){for(;p!==null;){var g=Pf(p);if(g!==null&&tD(g),g=j_(t,e,r,l),g===null&&ky(t,e,l,_x,r),g===p)break;p=g}p!==null&&l.stopPropagation()}else ky(t,e,l,null,r)}}var _x=null;function j_(t,e,r,l){if(_x=null,t=lb(l),t=Jc(t),t!==null)if(e=_d(t),e===null)t=null;else if(r=e.tag,r===13){if(t=WP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _x=t,null}function rD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cF()){case cb:return 1;case KP:return 4;case xx:case dF:return 16;case YP:return 536870912;default:return 16}default:return 16}}var Ll=null,mb=null,Hg=null;function sD(){if(Hg)return Hg;var t,e=mb,r=e.length,l,p="value"in Ll?Ll.value:Ll.textContent,g=p.length;for(t=0;t<r&&e[t]===p[t];t++);var _=r-t;for(l=1;l<=_&&e[r-l]===p[g-l];l++);return Hg=p.slice(t,1<l?1-l:void 0)}function Zg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xg(){return!0}function JA(){return!1}function _r(t){function e(r,l,p,g,_){this._reactName=r,this._targetInst=p,this.type=l,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xg:JA,this.isPropagationStopped=JA,this}return vo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xg)},persist:function(){},isPersistent:xg}),e}var _p={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hb=_r(_p),Ef=vo({},_p,{view:0,detail:0}),CF=_r(Ef),wy,Cy,mh,t2=vo({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mh&&(mh&&t.type==="mousemove"?(wy=t.screenX-mh.screenX,Cy=t.screenY-mh.screenY):Cy=wy=0,mh=t),wy)},movementY:function(t){return"movementY"in t?t.movementY:Cy}}),tT=_r(t2),AF=vo({},t2,{dataTransfer:0}),TF=_r(AF),SF=vo({},Ef,{relatedTarget:0}),Ay=_r(SF),EF=vo({},_p,{animationName:0,elapsedTime:0,pseudoElement:0}),PF=_r(EF),DF=vo({},_p,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MF=_r(DF),kF=vo({},_p,{data:0}),eT=_r(kF),BF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IF[t])?!!e[t]:!1}function fb(){return FF}var RF=vo({},Ef,{key:function(t){if(t.key){var e=BF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fb,charCode:function(t){return t.type==="keypress"?Zg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LF=_r(RF),zF=vo({},t2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nT=_r(zF),jF=vo({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fb}),OF=_r(jF),VF=vo({},_p,{propertyName:0,elapsedTime:0,pseudoElement:0}),UF=_r(VF),$F=vo({},t2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GF=_r($F),qF=[9,13,27,32],gb=Li&&"CompositionEvent"in window,Dh=null;Li&&"documentMode"in document&&(Dh=document.documentMode);var WF=Li&&"TextEvent"in window&&!Dh,iD=Li&&(!gb||Dh&&8<Dh&&11>=Dh),oT=" ",aT=!1;function lD(t,e){switch(t){case"keyup":return qF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function HF(t,e){switch(t){case"compositionend":return cD(e);case"keypress":return e.which!==32?null:(aT=!0,oT);case"textInput":return t=e.data,t===oT&&aT?null:t;default:return null}}function ZF(t,e){if(Eu)return t==="compositionend"||!gb&&lD(t,e)?(t=sD(),Hg=mb=Ll=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iD&&e.locale!=="ko"?null:e.data;default:return null}}var XF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XF[t.type]:e==="textarea"}function dD(t,e,r,l){VP(l),e=bx(e,"onChange"),0<e.length&&(r=new hb("onChange","change",null,r,l),t.push({event:r,listeners:e}))}var Mh=null,Qh=null;function KF(t){bD(t,0)}function e2(t){var e=Mu(t);if(IP(e))return t}function YF(t,e){if(t==="change")return e}var uD=!1;if(Li){var Ty;if(Li){var Sy="oninput"in document;if(!Sy){var sT=document.createElement("div");sT.setAttribute("oninput","return;"),Sy=typeof sT.oninput=="function"}Ty=Sy}else Ty=!1;uD=Ty&&(!document.documentMode||9<document.documentMode)}function iT(){Mh&&(Mh.detachEvent("onpropertychange",pD),Qh=Mh=null)}function pD(t){if(t.propertyName==="value"&&e2(Qh)){var e=[];dD(e,Qh,t,lb(t)),qP(KF,e)}}function QF(t,e,r){t==="focusin"?(iT(),Mh=e,Qh=r,Mh.attachEvent("onpropertychange",pD)):t==="focusout"&&iT()}function JF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return e2(Qh)}function tR(t,e){if(t==="click")return e2(e)}function eR(t,e){if(t==="input"||t==="change")return e2(e)}function nR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Es=typeof Object.is=="function"?Object.is:nR;function Jh(t,e){if(Es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),l=Object.keys(e);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var p=r[l];if(!b_.call(e,p)||!Es(t[p],e[p]))return!1}return!0}function lT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cT(t,e){var r=lT(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=e&&l>=e)return{node:r,offset:e-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lT(r)}}function mD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hD(){for(var t=window,e=hx();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hx(t.document)}return e}function xb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oR(t){var e=hD(),r=t.focusedElem,l=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mD(r.ownerDocument.documentElement,r)){if(l!==null&&xb(r)){if(e=l.start,t=l.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var p=r.textContent.length,g=Math.min(l.start,p);l=l.end===void 0?g:Math.min(l.end,p),!t.extend&&g>l&&(p=l,l=g,g=p),p=cT(r,g);var _=cT(r,l);p&&_&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(p.node,p.offset),t.removeAllRanges(),g>l?(t.addRange(e),t.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aR=Li&&"documentMode"in document&&11>=document.documentMode,Pu=null,O_=null,kh=null,V_=!1;function dT(t,e,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V_||Pu==null||Pu!==hx(l)||(l=Pu,"selectionStart"in l&&xb(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kh&&Jh(kh,l)||(kh=l,l=bx(O_,"onSelect"),0<l.length&&(e=new hb("onSelect","select",null,e,r),t.push({event:e,listeners:l}),e.target=Pu)))}function vg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Du={animationend:vg("Animation","AnimationEnd"),animationiteration:vg("Animation","AnimationIteration"),animationstart:vg("Animation","AnimationStart"),transitionend:vg("Transition","TransitionEnd")},Ey={},fD={};Li&&(fD=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function n2(t){if(Ey[t])return Ey[t];if(!Du[t])return t;var e=Du[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in fD)return Ey[t]=e[r];return t}var gD=n2("animationend"),xD=n2("animationiteration"),vD=n2("animationstart"),yD=n2("transitionend"),_D=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(t,e){_D.set(t,e),yd(e,[t])}for(var Py=0;Py<uT.length;Py++){var Dy=uT[Py],rR=Dy.toLowerCase(),sR=Dy[0].toUpperCase()+Dy.slice(1);nc(rR,"on"+sR)}nc(gD,"onAnimationEnd");nc(xD,"onAnimationIteration");nc(vD,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(yD,"onTransitionEnd");sp("onMouseEnter",["mouseout","mouseover"]);sp("onMouseLeave",["mouseout","mouseover"]);sp("onPointerEnter",["pointerout","pointerover"]);sp("onPointerLeave",["pointerout","pointerover"]);yd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yd("onBeforeInput",["compositionend","keypress","textInput","paste"]);yd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function pT(t,e,r){var l=t.type||"unknown-event";t.currentTarget=r,rF(l,e,void 0,t),t.currentTarget=null}function bD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],p=l.event;l=l.listeners;t:{var g=void 0;if(e)for(var _=l.length-1;0<=_;_--){var C=l[_],i=C.instance,E=C.currentTarget;if(C=C.listener,i!==g&&p.isPropagationStopped())break t;pT(p,C,E),g=i}else for(_=0;_<l.length;_++){if(C=l[_],i=C.instance,E=C.currentTarget,C=C.listener,i!==g&&p.isPropagationStopped())break t;pT(p,C,E),g=i}}}if(gx)throw t=R_,gx=!1,R_=null,t}function Yn(t,e){var r=e[W_];r===void 0&&(r=e[W_]=new Set);var l=t+"__bubble";r.has(l)||(wD(e,t,2,!1),r.add(l))}function My(t,e,r){var l=0;e&&(l|=4),wD(r,t,l,e)}var yg="_reactListening"+Math.random().toString(36).slice(2);function tf(t){if(!t[yg]){t[yg]=!0,DP.forEach(function(r){r!=="selectionchange"&&(iR.has(r)||My(r,!1,t),My(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yg]||(e[yg]=!0,My("selectionchange",!1,e))}}function wD(t,e,r,l){switch(rD(e)){case 1:var p=bF;break;case 4:p=wF;break;default:p=pb}r=p.bind(null,e,r,t),p=void 0,!F_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(p=!0),l?p!==void 0?t.addEventListener(e,r,{capture:!0,passive:p}):t.addEventListener(e,r,!0):p!==void 0?t.addEventListener(e,r,{passive:p}):t.addEventListener(e,r,!1)}function ky(t,e,r,l,p){var g=l;if(!(e&1)&&!(e&2)&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(_===4)for(_=l.return;_!==null;){var i=_.tag;if((i===3||i===4)&&(i=_.stateNode.containerInfo,i===p||i.nodeType===8&&i.parentNode===p))return;_=_.return}for(;C!==null;){if(_=Jc(C),_===null)return;if(i=_.tag,i===5||i===6){l=g=_;continue t}C=C.parentNode}}l=l.return}qP(function(){var E=g,B=lb(r),F=[];t:{var N=_D.get(t);if(N!==void 0){var V=hb,Q=t;switch(t){case"keypress":if(Zg(r)===0)break t;case"keydown":case"keyup":V=LF;break;case"focusin":Q="focus",V=Ay;break;case"focusout":Q="blur",V=Ay;break;case"beforeblur":case"afterblur":V=Ay;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=tT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=TF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=OF;break;case gD:case xD:case vD:V=PF;break;case yD:V=UF;break;case"scroll":V=CF;break;case"wheel":V=GF;break;case"copy":case"cut":case"paste":V=MF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=nT}var H=(e&4)!==0,tt=!H&&t==="scroll",W=H?N!==null?N+"Capture":null:N;H=[];for(var $=E,Z;$!==null;){Z=$;var dt=Z.stateNode;if(Z.tag===5&&dt!==null&&(Z=dt,W!==null&&(dt=Zh($,W),dt!=null&&H.push(ef($,dt,Z)))),tt)break;$=$.return}0<H.length&&(N=new V(N,Q,null,r,B),F.push({event:N,listeners:H}))}}if(!(e&7)){t:{if(N=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",N&&r!==N_&&(Q=r.relatedTarget||r.fromElement)&&(Jc(Q)||Q[zi]))break t;if((V||N)&&(N=B.window===B?B:(N=B.ownerDocument)?N.defaultView||N.parentWindow:window,V?(Q=r.relatedTarget||r.toElement,V=E,Q=Q?Jc(Q):null,Q!==null&&(tt=_d(Q),Q!==tt||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(V=null,Q=E),V!==Q)){if(H=tT,dt="onMouseLeave",W="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(H=nT,dt="onPointerLeave",W="onPointerEnter",$="pointer"),tt=V==null?N:Mu(V),Z=Q==null?N:Mu(Q),N=new H(dt,$+"leave",V,r,B),N.target=tt,N.relatedTarget=Z,dt=null,Jc(B)===E&&(H=new H(W,$+"enter",Q,r,B),H.target=Z,H.relatedTarget=tt,dt=H),tt=dt,V&&Q)e:{for(H=V,W=Q,$=0,Z=H;Z;Z=_u(Z))$++;for(Z=0,dt=W;dt;dt=_u(dt))Z++;for(;0<$-Z;)H=_u(H),$--;for(;0<Z-$;)W=_u(W),Z--;for(;$--;){if(H===W||W!==null&&H===W.alternate)break e;H=_u(H),W=_u(W)}H=null}else H=null;V!==null&&mT(F,N,V,H,!1),Q!==null&&tt!==null&&mT(F,tt,Q,H,!0)}}t:{if(N=E?Mu(E):window,V=N.nodeName&&N.nodeName.toLowerCase(),V==="select"||V==="input"&&N.type==="file")var ft=YF;else if(rT(N))if(uD)ft=eR;else{ft=JF;var St=QF}else(V=N.nodeName)&&V.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(ft=tR);if(ft&&(ft=ft(t,E))){dD(F,ft,r,B);break t}St&&St(t,N,E),t==="focusout"&&(St=N._wrapperState)&&St.controlled&&N.type==="number"&&P_(N,"number",N.value)}switch(St=E?Mu(E):window,t){case"focusin":(rT(St)||St.contentEditable==="true")&&(Pu=St,O_=E,kh=null);break;case"focusout":kh=O_=Pu=null;break;case"mousedown":V_=!0;break;case"contextmenu":case"mouseup":case"dragend":V_=!1,dT(F,r,B);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":dT(F,r,B)}var zt;if(gb)t:{switch(t){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Eu?lD(t,r)&&(Ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ft="onCompositionStart");Ft&&(iD&&r.locale!=="ko"&&(Eu||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Eu&&(zt=sD()):(Ll=B,mb="value"in Ll?Ll.value:Ll.textContent,Eu=!0)),St=bx(E,Ft),0<St.length&&(Ft=new eT(Ft,t,null,r,B),F.push({event:Ft,listeners:St}),zt?Ft.data=zt:(zt=cD(r),zt!==null&&(Ft.data=zt)))),(zt=WF?HF(t,r):ZF(t,r))&&(E=bx(E,"onBeforeInput"),0<E.length&&(B=new eT("onBeforeInput","beforeinput",null,r,B),F.push({event:B,listeners:E}),B.data=zt))}bD(F,e)})}function ef(t,e,r){return{instance:t,listener:e,currentTarget:r}}function bx(t,e){for(var r=e+"Capture",l=[];t!==null;){var p=t,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Zh(t,r),g!=null&&l.unshift(ef(t,g,p)),g=Zh(t,e),g!=null&&l.push(ef(t,g,p))),t=t.return}return l}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mT(t,e,r,l,p){for(var g=e._reactName,_=[];r!==null&&r!==l;){var C=r,i=C.alternate,E=C.stateNode;if(i!==null&&i===l)break;C.tag===5&&E!==null&&(C=E,p?(i=Zh(r,g),i!=null&&_.unshift(ef(r,i,C))):p||(i=Zh(r,g),i!=null&&_.push(ef(r,i,C)))),r=r.return}_.length!==0&&t.push({event:e,listeners:_})}var lR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function hT(t){return(typeof t=="string"?t:""+t).replace(lR,`
`).replace(cR,"")}function _g(t,e,r){if(e=hT(e),hT(t)!==e&&r)throw Error(de(425))}function wx(){}var U_=null,$_=null;function G_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var q_=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof fT<"u"?function(t){return fT.resolve(null).then(t).catch(pR)}:q_;function pR(t){setTimeout(function(){throw t})}function By(t,e){var r=e,l=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(l===0){t.removeChild(p),Yh(e);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=p}while(r);Yh(e)}function $l(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bp=Math.random().toString(36).slice(2),ti="__reactFiber$"+bp,nf="__reactProps$"+bp,zi="__reactContainer$"+bp,W_="__reactEvents$"+bp,mR="__reactListeners$"+bp,hR="__reactHandles$"+bp;function Jc(t){var e=t[ti];if(e)return e;for(var r=t.parentNode;r;){if(e=r[zi]||r[ti]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gT(t);t!==null;){if(r=t[ti])return r;t=gT(t)}return e}t=r,r=t.parentNode}return null}function Pf(t){return t=t[ti]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function o2(t){return t[nf]||null}var H_=[],ku=-1;function oc(t){return{current:t}}function Qn(t){0>ku||(t.current=H_[ku],H_[ku]=null,ku--)}function Wn(t,e){ku++,H_[ku]=t.current,t.current=e}var Kl={},Ta=oc(Kl),Qa=oc(!1),pd=Kl;function ip(t,e){var r=t.type.contextTypes;if(!r)return Kl;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===e)return l.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in r)p[g]=e[g];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=p),p}function Ja(t){return t=t.childContextTypes,t!=null}function Cx(){Qn(Qa),Qn(Ta)}function xT(t,e,r){if(Ta.current!==Kl)throw Error(de(168));Wn(Ta,e),Wn(Qa,r)}function CD(t,e,r){var l=t.stateNode;if(e=e.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var p in l)if(!(p in e))throw Error(de(108,Q7(t)||"Unknown",p));return vo({},r,l)}function Ax(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kl,pd=Ta.current,Wn(Ta,t),Wn(Qa,Qa.current),!0}function vT(t,e,r){var l=t.stateNode;if(!l)throw Error(de(169));r?(t=CD(t,e,pd),l.__reactInternalMemoizedMergedChildContext=t,Qn(Qa),Qn(Ta),Wn(Ta,t)):Qn(Qa),Wn(Qa,r)}var Ni=null,a2=!1,Ny=!1;function AD(t){Ni===null?Ni=[t]:Ni.push(t)}function fR(t){a2=!0,AD(t)}function ac(){if(!Ny&&Ni!==null){Ny=!0;var t=0,e=On;try{var r=Ni;for(On=1;t<r.length;t++){var l=r[t];do l=l(!0);while(l!==null)}Ni=null,a2=!1}catch(p){throw Ni!==null&&(Ni=Ni.slice(t+1)),XP(cb,ac),p}finally{On=e,Ny=!1}}return null}var Bu=[],Nu=0,Tx=null,Sx=0,zr=[],jr=0,md=null,Ii=1,Fi="";function Kc(t,e){Bu[Nu++]=Sx,Bu[Nu++]=Tx,Tx=t,Sx=e}function TD(t,e,r){zr[jr++]=Ii,zr[jr++]=Fi,zr[jr++]=md,md=t;var l=Ii;t=Fi;var p=32-Ts(l)-1;l&=~(1<<p),r+=1;var g=32-Ts(e)+p;if(30<g){var _=p-p%5;g=(l&(1<<_)-1).toString(32),l>>=_,p-=_,Ii=1<<32-Ts(e)+p|r<<p|l,Fi=g+t}else Ii=1<<g|r<<p|l,Fi=t}function vb(t){t.return!==null&&(Kc(t,1),TD(t,1,0))}function yb(t){for(;t===Tx;)Tx=Bu[--Nu],Bu[Nu]=null,Sx=Bu[--Nu],Bu[Nu]=null;for(;t===md;)md=zr[--jr],zr[jr]=null,Fi=zr[--jr],zr[jr]=null,Ii=zr[--jr],zr[jr]=null}var fr=null,hr=null,oo=!1,Cs=null;function SD(t,e){var r=Or(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fr=t,hr=$l(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=md!==null?{id:Ii,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Or(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fr=t,hr=null,!0):!1;default:return!1}}function Z_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function X_(t){if(oo){var e=hr;if(e){var r=e;if(!yT(t,e)){if(Z_(t))throw Error(de(418));e=$l(r.nextSibling);var l=fr;e&&yT(t,e)?SD(l,r):(t.flags=t.flags&-4097|2,oo=!1,fr=t)}}else{if(Z_(t))throw Error(de(418));t.flags=t.flags&-4097|2,oo=!1,fr=t}}}function _T(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fr=t}function bg(t){if(t!==fr)return!1;if(!oo)return _T(t),oo=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!G_(t.type,t.memoizedProps)),e&&(e=hr)){if(Z_(t))throw ED(),Error(de(418));for(;e;)SD(t,e),e=$l(e.nextSibling)}if(_T(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hr=$l(t.nextSibling);break t}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=fr?$l(t.stateNode.nextSibling):null;return!0}function ED(){for(var t=hr;t;)t=$l(t.nextSibling)}function lp(){hr=fr=null,oo=!1}function _b(t){Cs===null?Cs=[t]:Cs.push(t)}var gR=Gi.ReactCurrentBatchConfig;function hh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var l=r.stateNode}if(!l)throw Error(de(147,t));var p=l,g=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===g?e.ref:(e=function(_){var C=p.refs;_===null?delete C[g]:C[g]=_},e._stringRef=g,e)}if(typeof t!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,t))}return t}function wg(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bT(t){var e=t._init;return e(t._payload)}function PD(t){function e(W,$){if(t){var Z=W.deletions;Z===null?(W.deletions=[$],W.flags|=16):Z.push($)}}function r(W,$){if(!t)return null;for(;$!==null;)e(W,$),$=$.sibling;return null}function l(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function p(W,$){return W=Hl(W,$),W.index=0,W.sibling=null,W}function g(W,$,Z){return W.index=Z,t?(Z=W.alternate,Z!==null?(Z=Z.index,Z<$?(W.flags|=2,$):Z):(W.flags|=2,$)):(W.flags|=1048576,$)}function _(W){return t&&W.alternate===null&&(W.flags|=2),W}function C(W,$,Z,dt){return $===null||$.tag!==6?($=Oy(Z,W.mode,dt),$.return=W,$):($=p($,Z),$.return=W,$)}function i(W,$,Z,dt){var ft=Z.type;return ft===Su?B(W,$,Z.props.children,dt,Z.key):$!==null&&($.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Pl&&bT(ft)===$.type)?(dt=p($,Z.props),dt.ref=hh(W,$,Z),dt.return=W,dt):(dt=ex(Z.type,Z.key,Z.props,null,W.mode,dt),dt.ref=hh(W,$,Z),dt.return=W,dt)}function E(W,$,Z,dt){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Vy(Z,W.mode,dt),$.return=W,$):($=p($,Z.children||[]),$.return=W,$)}function B(W,$,Z,dt,ft){return $===null||$.tag!==7?($=cd(Z,W.mode,dt,ft),$.return=W,$):($=p($,Z),$.return=W,$)}function F(W,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Oy(""+$,W.mode,Z),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ug:return Z=ex($.type,$.key,$.props,null,W.mode,Z),Z.ref=hh(W,null,$),Z.return=W,Z;case Tu:return $=Vy($,W.mode,Z),$.return=W,$;case Pl:var dt=$._init;return F(W,dt($._payload),Z)}if(Ch($)||ch($))return $=cd($,W.mode,Z,null),$.return=W,$;wg(W,$)}return null}function N(W,$,Z,dt){var ft=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ft!==null?null:C(W,$,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ug:return Z.key===ft?i(W,$,Z,dt):null;case Tu:return Z.key===ft?E(W,$,Z,dt):null;case Pl:return ft=Z._init,N(W,$,ft(Z._payload),dt)}if(Ch(Z)||ch(Z))return ft!==null?null:B(W,$,Z,dt,null);wg(W,Z)}return null}function V(W,$,Z,dt,ft){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return W=W.get(Z)||null,C($,W,""+dt,ft);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case ug:return W=W.get(dt.key===null?Z:dt.key)||null,i($,W,dt,ft);case Tu:return W=W.get(dt.key===null?Z:dt.key)||null,E($,W,dt,ft);case Pl:var St=dt._init;return V(W,$,Z,St(dt._payload),ft)}if(Ch(dt)||ch(dt))return W=W.get(Z)||null,B($,W,dt,ft,null);wg($,dt)}return null}function Q(W,$,Z,dt){for(var ft=null,St=null,zt=$,Ft=$=0,ie=null;zt!==null&&Ft<Z.length;Ft++){zt.index>Ft?(ie=zt,zt=null):ie=zt.sibling;var Dt=N(W,zt,Z[Ft],dt);if(Dt===null){zt===null&&(zt=ie);break}t&&zt&&Dt.alternate===null&&e(W,zt),$=g(Dt,$,Ft),St===null?ft=Dt:St.sibling=Dt,St=Dt,zt=ie}if(Ft===Z.length)return r(W,zt),oo&&Kc(W,Ft),ft;if(zt===null){for(;Ft<Z.length;Ft++)zt=F(W,Z[Ft],dt),zt!==null&&($=g(zt,$,Ft),St===null?ft=zt:St.sibling=zt,St=zt);return oo&&Kc(W,Ft),ft}for(zt=l(W,zt);Ft<Z.length;Ft++)ie=V(zt,W,Ft,Z[Ft],dt),ie!==null&&(t&&ie.alternate!==null&&zt.delete(ie.key===null?Ft:ie.key),$=g(ie,$,Ft),St===null?ft=ie:St.sibling=ie,St=ie);return t&&zt.forEach(function(Ie){return e(W,Ie)}),oo&&Kc(W,Ft),ft}function H(W,$,Z,dt){var ft=ch(Z);if(typeof ft!="function")throw Error(de(150));if(Z=ft.call(Z),Z==null)throw Error(de(151));for(var St=ft=null,zt=$,Ft=$=0,ie=null,Dt=Z.next();zt!==null&&!Dt.done;Ft++,Dt=Z.next()){zt.index>Ft?(ie=zt,zt=null):ie=zt.sibling;var Ie=N(W,zt,Dt.value,dt);if(Ie===null){zt===null&&(zt=ie);break}t&&zt&&Ie.alternate===null&&e(W,zt),$=g(Ie,$,Ft),St===null?ft=Ie:St.sibling=Ie,St=Ie,zt=ie}if(Dt.done)return r(W,zt),oo&&Kc(W,Ft),ft;if(zt===null){for(;!Dt.done;Ft++,Dt=Z.next())Dt=F(W,Dt.value,dt),Dt!==null&&($=g(Dt,$,Ft),St===null?ft=Dt:St.sibling=Dt,St=Dt);return oo&&Kc(W,Ft),ft}for(zt=l(W,zt);!Dt.done;Ft++,Dt=Z.next())Dt=V(zt,W,Ft,Dt.value,dt),Dt!==null&&(t&&Dt.alternate!==null&&zt.delete(Dt.key===null?Ft:Dt.key),$=g(Dt,$,Ft),St===null?ft=Dt:St.sibling=Dt,St=Dt);return t&&zt.forEach(function(Te){return e(W,Te)}),oo&&Kc(W,Ft),ft}function tt(W,$,Z,dt){if(typeof Z=="object"&&Z!==null&&Z.type===Su&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ug:t:{for(var ft=Z.key,St=$;St!==null;){if(St.key===ft){if(ft=Z.type,ft===Su){if(St.tag===7){r(W,St.sibling),$=p(St,Z.props.children),$.return=W,W=$;break t}}else if(St.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Pl&&bT(ft)===St.type){r(W,St.sibling),$=p(St,Z.props),$.ref=hh(W,St,Z),$.return=W,W=$;break t}r(W,St);break}else e(W,St);St=St.sibling}Z.type===Su?($=cd(Z.props.children,W.mode,dt,Z.key),$.return=W,W=$):(dt=ex(Z.type,Z.key,Z.props,null,W.mode,dt),dt.ref=hh(W,$,Z),dt.return=W,W=dt)}return _(W);case Tu:t:{for(St=Z.key;$!==null;){if($.key===St)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){r(W,$.sibling),$=p($,Z.children||[]),$.return=W,W=$;break t}else{r(W,$);break}else e(W,$);$=$.sibling}$=Vy(Z,W.mode,dt),$.return=W,W=$}return _(W);case Pl:return St=Z._init,tt(W,$,St(Z._payload),dt)}if(Ch(Z))return Q(W,$,Z,dt);if(ch(Z))return H(W,$,Z,dt);wg(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,$!==null&&$.tag===6?(r(W,$.sibling),$=p($,Z),$.return=W,W=$):(r(W,$),$=Oy(Z,W.mode,dt),$.return=W,W=$),_(W)):r(W,$)}return tt}var cp=PD(!0),DD=PD(!1),Ex=oc(null),Px=null,Iu=null,bb=null;function wb(){bb=Iu=Px=null}function Cb(t){var e=Ex.current;Qn(Ex),t._currentValue=e}function K_(t,e,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===r)break;t=t.return}}function Wu(t,e){Px=t,bb=Iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ka=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(bb!==t)if(t={context:t,memoizedValue:e,next:null},Iu===null){if(Px===null)throw Error(de(308));Iu=t,Px.dependencies={lanes:0,firstContext:t}}else Iu=Iu.next=t;return e}var td=null;function Ab(t){td===null?td=[t]:td.push(t)}function MD(t,e,r,l){var p=e.interleaved;return p===null?(r.next=r,Ab(e)):(r.next=p.next,p.next=r),e.interleaved=r,ji(t,l)}function ji(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dl=!1;function Tb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(t,e,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,_n&2){var p=l.pending;return p===null?e.next=e:(e.next=p.next,p.next=e),l.pending=e,ji(t,r)}return p=l.interleaved,p===null?(e.next=e,Ab(l)):(e.next=p.next,p.next=e),l.interleaved=e,ji(t,r)}function Xg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var l=e.lanes;l&=t.pendingLanes,r|=l,e.lanes=r,db(t,r)}}function wT(t,e){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var _={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};g===null?p=g=_:g=g.next=_,r=r.next}while(r!==null);g===null?p=g=e:g=g.next=e}else p=g=e;r={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:l.shared,effects:l.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Dx(t,e,r,l){var p=t.updateQueue;Dl=!1;var g=p.firstBaseUpdate,_=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var i=C,E=i.next;i.next=null,_===null?g=E:_.next=E,_=i;var B=t.alternate;B!==null&&(B=B.updateQueue,C=B.lastBaseUpdate,C!==_&&(C===null?B.firstBaseUpdate=E:C.next=E,B.lastBaseUpdate=i))}if(g!==null){var F=p.baseState;_=0,B=E=i=null,C=g;do{var N=C.lane,V=C.eventTime;if((l&N)===N){B!==null&&(B=B.next={eventTime:V,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});t:{var Q=t,H=C;switch(N=e,V=r,H.tag){case 1:if(Q=H.payload,typeof Q=="function"){F=Q.call(V,F,N);break t}F=Q;break t;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=H.payload,N=typeof Q=="function"?Q.call(V,F,N):Q,N==null)break t;F=vo({},F,N);break t;case 2:Dl=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,N=p.effects,N===null?p.effects=[C]:N.push(C))}else V={eventTime:V,lane:N,tag:C.tag,payload:C.payload,callback:C.callback,next:null},B===null?(E=B=V,i=F):B=B.next=V,_|=N;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;N=C,C=N.next,N.next=null,p.lastBaseUpdate=N,p.shared.pending=null}}while(!0);if(B===null&&(i=F),p.baseState=i,p.firstBaseUpdate=E,p.lastBaseUpdate=B,e=p.shared.interleaved,e!==null){p=e;do _|=p.lane,p=p.next;while(p!==e)}else g===null&&(p.shared.lanes=0);fd|=_,t.lanes=_,t.memoizedState=F}}function CT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var l=t[e],p=l.callback;if(p!==null){if(l.callback=null,l=r,typeof p!="function")throw Error(de(191,p));p.call(l)}}}var Df={},oi=oc(Df),of=oc(Df),af=oc(Df);function ed(t){if(t===Df)throw Error(de(174));return t}function Sb(t,e){switch(Wn(af,e),Wn(of,t),Wn(oi,Df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M_(e,t)}Qn(oi),Wn(oi,e)}function dp(){Qn(oi),Qn(of),Qn(af)}function BD(t){ed(af.current);var e=ed(oi.current),r=M_(e,t.type);e!==r&&(Wn(of,t),Wn(oi,r))}function Eb(t){of.current===t&&(Qn(oi),Qn(of))}var fo=oc(0);function Mx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function Pb(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var Kg=Gi.ReactCurrentDispatcher,Fy=Gi.ReactCurrentBatchConfig,hd=0,xo=null,Uo=null,ta=null,kx=!1,Bh=!1,rf=0,xR=0;function ya(){throw Error(de(321))}function Db(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Es(t[r],e[r]))return!1;return!0}function Mb(t,e,r,l,p,g){if(hd=g,xo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kg.current=t===null||t.memoizedState===null?bR:wR,t=r(l,p),Bh){g=0;do{if(Bh=!1,rf=0,25<=g)throw Error(de(301));g+=1,ta=Uo=null,e.updateQueue=null,Kg.current=CR,t=r(l,p)}while(Bh)}if(Kg.current=Bx,e=Uo!==null&&Uo.next!==null,hd=0,ta=Uo=xo=null,kx=!1,e)throw Error(de(300));return t}function kb(){var t=rf!==0;return rf=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?xo.memoizedState=ta=t:ta=ta.next=t,ta}function $r(){if(Uo===null){var t=xo.alternate;t=t!==null?t.memoizedState:null}else t=Uo.next;var e=ta===null?xo.memoizedState:ta.next;if(e!==null)ta=e,Uo=t;else{if(t===null)throw Error(de(310));Uo=t,t={memoizedState:Uo.memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},ta===null?xo.memoizedState=ta=t:ta=ta.next=t}return ta}function sf(t,e){return typeof e=="function"?e(t):e}function Ry(t){var e=$r(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var l=Uo,p=l.baseQueue,g=r.pending;if(g!==null){if(p!==null){var _=p.next;p.next=g.next,g.next=_}l.baseQueue=p=g,r.pending=null}if(p!==null){g=p.next,l=l.baseState;var C=_=null,i=null,E=g;do{var B=E.lane;if((hd&B)===B)i!==null&&(i=i.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),l=E.hasEagerState?E.eagerState:t(l,E.action);else{var F={lane:B,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};i===null?(C=i=F,_=l):i=i.next=F,xo.lanes|=B,fd|=B}E=E.next}while(E!==null&&E!==g);i===null?_=l:i.next=C,Es(l,e.memoizedState)||(Ka=!0),e.memoizedState=l,e.baseState=_,e.baseQueue=i,r.lastRenderedState=l}if(t=r.interleaved,t!==null){p=t;do g=p.lane,xo.lanes|=g,fd|=g,p=p.next;while(p!==t)}else p===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ly(t){var e=$r(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var l=r.dispatch,p=r.pending,g=e.memoizedState;if(p!==null){r.pending=null;var _=p=p.next;do g=t(g,_.action),_=_.next;while(_!==p);Es(g,e.memoizedState)||(Ka=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),r.lastRenderedState=g}return[g,l]}function ND(){}function ID(t,e){var r=xo,l=$r(),p=e(),g=!Es(l.memoizedState,p);if(g&&(l.memoizedState=p,Ka=!0),l=l.queue,Bb(LD.bind(null,r,l,t),[t]),l.getSnapshot!==e||g||ta!==null&&ta.memoizedState.tag&1){if(r.flags|=2048,lf(9,RD.bind(null,r,l,p,e),void 0,null),ea===null)throw Error(de(349));hd&30||FD(r,e,p)}return p}function FD(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xo.updateQueue,e===null?(e={lastEffect:null,stores:null},xo.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RD(t,e,r,l){e.value=r,e.getSnapshot=l,zD(e)&&jD(t)}function LD(t,e,r){return r(function(){zD(e)&&jD(t)})}function zD(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Es(t,r)}catch{return!0}}function jD(t){var e=ji(t,1);e!==null&&Ss(e,t,1,-1)}function AT(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:t},e.queue=t,t=t.dispatch=_R.bind(null,xo,t),[e.memoizedState,t]}function lf(t,e,r,l){return t={tag:t,create:e,destroy:r,deps:l,next:null},e=xo.updateQueue,e===null?(e={lastEffect:null,stores:null},xo.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,e.lastEffect=t)),t}function OD(){return $r().memoizedState}function Yg(t,e,r,l){var p=Ks();xo.flags|=t,p.memoizedState=lf(1|e,r,void 0,l===void 0?null:l)}function r2(t,e,r,l){var p=$r();l=l===void 0?null:l;var g=void 0;if(Uo!==null){var _=Uo.memoizedState;if(g=_.destroy,l!==null&&Db(l,_.deps)){p.memoizedState=lf(e,r,g,l);return}}xo.flags|=t,p.memoizedState=lf(1|e,r,g,l)}function TT(t,e){return Yg(8390656,8,t,e)}function Bb(t,e){return r2(2048,8,t,e)}function VD(t,e){return r2(4,2,t,e)}function UD(t,e){return r2(4,4,t,e)}function $D(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GD(t,e,r){return r=r!=null?r.concat([t]):null,r2(4,4,$D.bind(null,e,t),r)}function Nb(){}function qD(t,e){var r=$r();e=e===void 0?null:e;var l=r.memoizedState;return l!==null&&e!==null&&Db(e,l[1])?l[0]:(r.memoizedState=[t,e],t)}function WD(t,e){var r=$r();e=e===void 0?null:e;var l=r.memoizedState;return l!==null&&e!==null&&Db(e,l[1])?l[0]:(t=t(),r.memoizedState=[t,e],t)}function HD(t,e,r){return hd&21?(Es(r,e)||(r=QP(),xo.lanes|=r,fd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ka=!0),t.memoizedState=r)}function vR(t,e){var r=On;On=r!==0&&4>r?r:4,t(!0);var l=Fy.transition;Fy.transition={};try{t(!1),e()}finally{On=r,Fy.transition=l}}function ZD(){return $r().memoizedState}function yR(t,e,r){var l=Wl(t);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},XD(t))KD(e,r);else if(r=MD(t,e,r,l),r!==null){var p=Fa();Ss(r,t,l,p),YD(r,e,l)}}function _R(t,e,r){var l=Wl(t),p={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(XD(t))KD(e,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var _=e.lastRenderedState,C=g(_,r);if(p.hasEagerState=!0,p.eagerState=C,Es(C,_)){var i=e.interleaved;i===null?(p.next=p,Ab(e)):(p.next=i.next,i.next=p),e.interleaved=p;return}}catch{}finally{}r=MD(t,e,p,l),r!==null&&(p=Fa(),Ss(r,t,l,p),YD(r,e,l))}}function XD(t){var e=t.alternate;return t===xo||e!==null&&e===xo}function KD(t,e){Bh=kx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function YD(t,e,r){if(r&4194240){var l=e.lanes;l&=t.pendingLanes,r|=l,e.lanes=r,db(t,r)}}var Bx={readContext:Ur,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},bR={readContext:Ur,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:TT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yg(4194308,4,$D.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yg(4,2,t,e)},useMemo:function(t,e){var r=Ks();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var l=Ks();return e=r!==void 0?r(e):e,l.memoizedState=l.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},l.queue=t,t=t.dispatch=yR.bind(null,xo,t),[l.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:AT,useDebugValue:Nb,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=AT(!1),e=t[0];return t=vR.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var l=xo,p=Ks();if(oo){if(r===void 0)throw Error(de(407));r=r()}else{if(r=e(),ea===null)throw Error(de(349));hd&30||FD(l,e,r)}p.memoizedState=r;var g={value:r,getSnapshot:e};return p.queue=g,TT(LD.bind(null,l,g,t),[t]),l.flags|=2048,lf(9,RD.bind(null,l,g,r,e),void 0,null),r},useId:function(){var t=Ks(),e=ea.identifierPrefix;if(oo){var r=Fi,l=Ii;r=(l&~(1<<32-Ts(l)-1)).toString(32)+r,e=":"+e+"R"+r,r=rf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=xR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wR={readContext:Ur,useCallback:qD,useContext:Ur,useEffect:Bb,useImperativeHandle:GD,useInsertionEffect:VD,useLayoutEffect:UD,useMemo:WD,useReducer:Ry,useRef:OD,useState:function(){return Ry(sf)},useDebugValue:Nb,useDeferredValue:function(t){var e=$r();return HD(e,Uo.memoizedState,t)},useTransition:function(){var t=Ry(sf)[0],e=$r().memoizedState;return[t,e]},useMutableSource:ND,useSyncExternalStore:ID,useId:ZD,unstable_isNewReconciler:!1},CR={readContext:Ur,useCallback:qD,useContext:Ur,useEffect:Bb,useImperativeHandle:GD,useInsertionEffect:VD,useLayoutEffect:UD,useMemo:WD,useReducer:Ly,useRef:OD,useState:function(){return Ly(sf)},useDebugValue:Nb,useDeferredValue:function(t){var e=$r();return Uo===null?e.memoizedState=t:HD(e,Uo.memoizedState,t)},useTransition:function(){var t=Ly(sf)[0],e=$r().memoizedState;return[t,e]},useMutableSource:ND,useSyncExternalStore:ID,useId:ZD,unstable_isNewReconciler:!1};function ys(t,e){if(t&&t.defaultProps){e=vo({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Y_(t,e,r,l){e=t.memoizedState,r=r(l,e),r=r==null?e:vo({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var s2={isMounted:function(t){return(t=t._reactInternals)?_d(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var l=Fa(),p=Wl(t),g=Ri(l,p);g.payload=e,r!=null&&(g.callback=r),e=Gl(t,g,p),e!==null&&(Ss(e,t,p,l),Xg(e,t,p))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var l=Fa(),p=Wl(t),g=Ri(l,p);g.tag=1,g.payload=e,r!=null&&(g.callback=r),e=Gl(t,g,p),e!==null&&(Ss(e,t,p,l),Xg(e,t,p))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fa(),l=Wl(t),p=Ri(r,l);p.tag=2,e!=null&&(p.callback=e),e=Gl(t,p,l),e!==null&&(Ss(e,t,l,r),Xg(e,t,l))}};function ST(t,e,r,l,p,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,_):e.prototype&&e.prototype.isPureReactComponent?!Jh(r,l)||!Jh(p,g):!0}function QD(t,e,r){var l=!1,p=Kl,g=e.contextType;return typeof g=="object"&&g!==null?g=Ur(g):(p=Ja(e)?pd:Ta.current,l=e.contextTypes,g=(l=l!=null)?ip(t,p):Kl),e=new e(r,g),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s2,t.stateNode=e,e._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=g),e}function ET(t,e,r,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,l),e.state!==t&&s2.enqueueReplaceState(e,e.state,null)}function Q_(t,e,r,l){var p=t.stateNode;p.props=r,p.state=t.memoizedState,p.refs={},Tb(t);var g=e.contextType;typeof g=="object"&&g!==null?p.context=Ur(g):(g=Ja(e)?pd:Ta.current,p.context=ip(t,g)),p.state=t.memoizedState,g=e.getDerivedStateFromProps,typeof g=="function"&&(Y_(t,e,g,r),p.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(e=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),e!==p.state&&s2.enqueueReplaceState(p,p.state,null),Dx(t,r,p,l),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function up(t,e){try{var r="",l=e;do r+=Y7(l),l=l.return;while(l);var p=r}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:e,stack:p,digest:null}}function zy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var AR=typeof WeakMap=="function"?WeakMap:Map;function JD(t,e,r){r=Ri(-1,r),r.tag=3,r.payload={element:null};var l=e.value;return r.callback=function(){Ix||(Ix=!0,c1=l),J_(t,e)},r}function tM(t,e,r){r=Ri(-1,r),r.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var p=e.value;r.payload=function(){return l(p)},r.callback=function(){J_(t,e)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(r.callback=function(){J_(t,e),typeof l!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var _=e.stack;this.componentDidCatch(e.value,{componentStack:_!==null?_:""})}),r}function PT(t,e,r){var l=t.pingCache;if(l===null){l=t.pingCache=new AR;var p=new Set;l.set(e,p)}else p=l.get(e),p===void 0&&(p=new Set,l.set(e,p));p.has(r)||(p.add(r),t=zR.bind(null,t,e,r),e.then(t,t))}function DT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function MT(t,e,r,l,p){return t.mode&1?(t.flags|=65536,t.lanes=p,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ri(-1,1),e.tag=2,Gl(r,e,1))),r.lanes|=1),t)}var TR=Gi.ReactCurrentOwner,Ka=!1;function Ba(t,e,r,l){e.child=t===null?DD(e,null,r,l):cp(e,t.child,r,l)}function kT(t,e,r,l,p){r=r.render;var g=e.ref;return Wu(e,p),l=Mb(t,e,r,l,g,p),r=kb(),t!==null&&!Ka?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~p,Oi(t,e,p)):(oo&&r&&vb(e),e.flags|=1,Ba(t,e,l,p),e.child)}function BT(t,e,r,l,p){if(t===null){var g=r.type;return typeof g=="function"&&!Vb(g)&&g.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=g,eM(t,e,g,l,p)):(t=ex(r.type,null,l,e,e.mode,p),t.ref=e.ref,t.return=e,e.child=t)}if(g=t.child,!(t.lanes&p)){var _=g.memoizedProps;if(r=r.compare,r=r!==null?r:Jh,r(_,l)&&t.ref===e.ref)return Oi(t,e,p)}return e.flags|=1,t=Hl(g,l),t.ref=e.ref,t.return=e,e.child=t}function eM(t,e,r,l,p){if(t!==null){var g=t.memoizedProps;if(Jh(g,l)&&t.ref===e.ref)if(Ka=!1,e.pendingProps=l=g,(t.lanes&p)!==0)t.flags&131072&&(Ka=!0);else return e.lanes=t.lanes,Oi(t,e,p)}return t1(t,e,r,l,p)}function nM(t,e,r){var l=e.pendingProps,p=l.children,g=t!==null?t.memoizedState:null;if(l.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Ru,pr),pr|=r;else{if(!(r&1073741824))return t=g!==null?g.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wn(Ru,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=g!==null?g.baseLanes:r,Wn(Ru,pr),pr|=l}else g!==null?(l=g.baseLanes|r,e.memoizedState=null):l=r,Wn(Ru,pr),pr|=l;return Ba(t,e,p,r),e.child}function oM(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function t1(t,e,r,l,p){var g=Ja(r)?pd:Ta.current;return g=ip(e,g),Wu(e,p),r=Mb(t,e,r,l,g,p),l=kb(),t!==null&&!Ka?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~p,Oi(t,e,p)):(oo&&l&&vb(e),e.flags|=1,Ba(t,e,r,p),e.child)}function NT(t,e,r,l,p){if(Ja(r)){var g=!0;Ax(e)}else g=!1;if(Wu(e,p),e.stateNode===null)Qg(t,e),QD(e,r,l),Q_(e,r,l,p),l=!0;else if(t===null){var _=e.stateNode,C=e.memoizedProps;_.props=C;var i=_.context,E=r.contextType;typeof E=="object"&&E!==null?E=Ur(E):(E=Ja(r)?pd:Ta.current,E=ip(e,E));var B=r.getDerivedStateFromProps,F=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function";F||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==l||i!==E)&&ET(e,_,l,E),Dl=!1;var N=e.memoizedState;_.state=N,Dx(e,l,_,p),i=e.memoizedState,C!==l||N!==i||Qa.current||Dl?(typeof B=="function"&&(Y_(e,r,B,l),i=e.memoizedState),(C=Dl||ST(e,r,C,l,N,i,E))?(F||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(e.flags|=4194308)):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=i),_.props=l,_.state=i,_.context=E,l=C):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{_=e.stateNode,kD(t,e),C=e.memoizedProps,E=e.type===e.elementType?C:ys(e.type,C),_.props=E,F=e.pendingProps,N=_.context,i=r.contextType,typeof i=="object"&&i!==null?i=Ur(i):(i=Ja(r)?pd:Ta.current,i=ip(e,i));var V=r.getDerivedStateFromProps;(B=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==F||N!==i)&&ET(e,_,l,i),Dl=!1,N=e.memoizedState,_.state=N,Dx(e,l,_,p);var Q=e.memoizedState;C!==F||N!==Q||Qa.current||Dl?(typeof V=="function"&&(Y_(e,r,V,l),Q=e.memoizedState),(E=Dl||ST(e,r,E,l,N,Q,i)||!1)?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(l,Q,i),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(l,Q,i)),typeof _.componentDidUpdate=="function"&&(e.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&N===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&N===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=Q),_.props=l,_.state=Q,_.context=i,l=E):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&N===t.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&N===t.memoizedState||(e.flags|=1024),l=!1)}return e1(t,e,r,l,g,p)}function e1(t,e,r,l,p,g){oM(t,e);var _=(e.flags&128)!==0;if(!l&&!_)return p&&vT(e,r,!1),Oi(t,e,g);l=e.stateNode,TR.current=e;var C=_&&typeof r.getDerivedStateFromError!="function"?null:l.render();return e.flags|=1,t!==null&&_?(e.child=cp(e,t.child,null,g),e.child=cp(e,null,C,g)):Ba(t,e,C,g),e.memoizedState=l.state,p&&vT(e,r,!0),e.child}function aM(t){var e=t.stateNode;e.pendingContext?xT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xT(t,e.context,!1),Sb(t,e.containerInfo)}function IT(t,e,r,l,p){return lp(),_b(p),e.flags|=256,Ba(t,e,r,l),e.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function o1(t){return{baseLanes:t,cachePool:null,transitions:null}}function rM(t,e,r){var l=e.pendingProps,p=fo.current,g=!1,_=(e.flags&128)!==0,C;if((C=_)||(C=t!==null&&t.memoizedState===null?!1:(p&2)!==0),C?(g=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Wn(fo,p&1),t===null)return X_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(_=l.children,t=l.fallback,g?(l=e.mode,g=e.child,_={mode:"hidden",children:_},!(l&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=c2(_,l,0,null),t=cd(t,l,r,null),g.return=e,t.return=e,g.sibling=t,e.child=g,e.child.memoizedState=o1(r),e.memoizedState=n1,t):Ib(e,_));if(p=t.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return SR(t,e,_,l,C,p,r);if(g){g=l.fallback,_=e.mode,p=t.child,C=p.sibling;var i={mode:"hidden",children:l.children};return!(_&1)&&e.child!==p?(l=e.child,l.childLanes=0,l.pendingProps=i,e.deletions=null):(l=Hl(p,i),l.subtreeFlags=p.subtreeFlags&14680064),C!==null?g=Hl(C,g):(g=cd(g,_,r,null),g.flags|=2),g.return=e,l.return=e,l.sibling=g,e.child=l,l=g,g=e.child,_=t.child.memoizedState,_=_===null?o1(r):{baseLanes:_.baseLanes|r,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~r,e.memoizedState=n1,l}return g=t.child,t=g.sibling,l=Hl(g,{mode:"visible",children:l.children}),!(e.mode&1)&&(l.lanes=r),l.return=e,l.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=l,e.memoizedState=null,l}function Ib(t,e){return e=c2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cg(t,e,r,l){return l!==null&&_b(l),cp(e,t.child,null,r),t=Ib(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SR(t,e,r,l,p,g,_){if(r)return e.flags&256?(e.flags&=-257,l=zy(Error(de(422))),Cg(t,e,_,l)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(g=l.fallback,p=e.mode,l=c2({mode:"visible",children:l.children},p,0,null),g=cd(g,p,_,null),g.flags|=2,l.return=e,g.return=e,l.sibling=g,e.child=l,e.mode&1&&cp(e,t.child,null,_),e.child.memoizedState=o1(_),e.memoizedState=n1,g);if(!(e.mode&1))return Cg(t,e,_,null);if(p.data==="$!"){if(l=p.nextSibling&&p.nextSibling.dataset,l)var C=l.dgst;return l=C,g=Error(de(419)),l=zy(g,l,void 0),Cg(t,e,_,l)}if(C=(_&t.childLanes)!==0,Ka||C){if(l=ea,l!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(l.suspendedLanes|_)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,ji(t,p),Ss(l,t,p,-1))}return Ob(),l=zy(Error(de(421))),Cg(t,e,_,l)}return p.data==="$?"?(e.flags|=128,e.child=t.child,e=jR.bind(null,t),p._reactRetry=e,null):(t=g.treeContext,hr=$l(p.nextSibling),fr=e,oo=!0,Cs=null,t!==null&&(zr[jr++]=Ii,zr[jr++]=Fi,zr[jr++]=md,Ii=t.id,Fi=t.overflow,md=e),e=Ib(e,l.children),e.flags|=4096,e)}function FT(t,e,r){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),K_(t.return,e,r)}function jy(t,e,r,l,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:p}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=p)}function sM(t,e,r){var l=e.pendingProps,p=l.revealOrder,g=l.tail;if(Ba(t,e,l.children,r),l=fo.current,l&2)l=l&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FT(t,r,e);else if(t.tag===19)FT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Wn(fo,l),!(e.mode&1))e.memoizedState=null;else switch(p){case"forwards":for(r=e.child,p=null;r!==null;)t=r.alternate,t!==null&&Mx(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=e.child,e.child=null):(p=r.sibling,r.sibling=null),jy(e,!1,p,r,g);break;case"backwards":for(r=null,p=e.child,e.child=null;p!==null;){if(t=p.alternate,t!==null&&Mx(t)===null){e.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}jy(e,!0,r,null,g);break;case"together":jy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,r=Hl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Hl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ER(t,e,r){switch(e.tag){case 3:aM(e),lp();break;case 5:BD(e);break;case 1:Ja(e.type)&&Ax(e);break;case 4:Sb(e,e.stateNode.containerInfo);break;case 10:var l=e.type._context,p=e.memoizedProps.value;Wn(Ex,l._currentValue),l._currentValue=p;break;case 13:if(l=e.memoizedState,l!==null)return l.dehydrated!==null?(Wn(fo,fo.current&1),e.flags|=128,null):r&e.child.childLanes?rM(t,e,r):(Wn(fo,fo.current&1),t=Oi(t,e,r),t!==null?t.sibling:null);Wn(fo,fo.current&1);break;case 19:if(l=(r&e.childLanes)!==0,t.flags&128){if(l)return sM(t,e,r);e.flags|=128}if(p=e.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Wn(fo,fo.current),l)break;return null;case 22:case 23:return e.lanes=0,nM(t,e,r)}return Oi(t,e,r)}var iM,a1,lM,cM;iM=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};a1=function(){};lM=function(t,e,r,l){var p=t.memoizedProps;if(p!==l){t=e.stateNode,ed(oi.current);var g=null;switch(r){case"input":p=S_(t,p),l=S_(t,l),g=[];break;case"select":p=vo({},p,{value:void 0}),l=vo({},l,{value:void 0}),g=[];break;case"textarea":p=D_(t,p),l=D_(t,l),g=[];break;default:typeof p.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=wx)}k_(r,l);var _;r=null;for(E in p)if(!l.hasOwnProperty(E)&&p.hasOwnProperty(E)&&p[E]!=null)if(E==="style"){var C=p[E];for(_ in C)C.hasOwnProperty(_)&&(r||(r={}),r[_]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(Wh.hasOwnProperty(E)?g||(g=[]):(g=g||[]).push(E,null));for(E in l){var i=l[E];if(C=p!=null?p[E]:void 0,l.hasOwnProperty(E)&&i!==C&&(i!=null||C!=null))if(E==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||i&&i.hasOwnProperty(_)||(r||(r={}),r[_]="");for(_ in i)i.hasOwnProperty(_)&&C[_]!==i[_]&&(r||(r={}),r[_]=i[_])}else r||(g||(g=[]),g.push(E,r)),r=i;else E==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,C=C?C.__html:void 0,i!=null&&C!==i&&(g=g||[]).push(E,i)):E==="children"?typeof i!="string"&&typeof i!="number"||(g=g||[]).push(E,""+i):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(Wh.hasOwnProperty(E)?(i!=null&&E==="onScroll"&&Yn("scroll",t),g||C===i||(g=[])):(g=g||[]).push(E,i))}r&&(g=g||[]).push("style",r);var E=g;(e.updateQueue=E)&&(e.flags|=4)}};cM=function(t,e,r,l){r!==l&&(e.flags|=4)};function fh(t,e){if(!oo)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _a(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(e)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,l|=p.subtreeFlags&14680064,l|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=l,t.childLanes=r,e}function PR(t,e,r){var l=e.pendingProps;switch(yb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(e),null;case 1:return Ja(e.type)&&Cx(),_a(e),null;case 3:return l=e.stateNode,dp(),Qn(Qa),Qn(Ta),Pb(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(bg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cs!==null&&(p1(Cs),Cs=null))),a1(t,e),_a(e),null;case 5:Eb(e);var p=ed(af.current);if(r=e.type,t!==null&&e.stateNode!=null)lM(t,e,r,l,p),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!l){if(e.stateNode===null)throw Error(de(166));return _a(e),null}if(t=ed(oi.current),bg(e)){l=e.stateNode,r=e.type;var g=e.memoizedProps;switch(l[ti]=e,l[nf]=g,t=(e.mode&1)!==0,r){case"dialog":Yn("cancel",l),Yn("close",l);break;case"iframe":case"object":case"embed":Yn("load",l);break;case"video":case"audio":for(p=0;p<Th.length;p++)Yn(Th[p],l);break;case"source":Yn("error",l);break;case"img":case"image":case"link":Yn("error",l),Yn("load",l);break;case"details":Yn("toggle",l);break;case"input":GA(l,g),Yn("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!g.multiple},Yn("invalid",l);break;case"textarea":WA(l,g),Yn("invalid",l)}k_(r,g),p=null;for(var _ in g)if(g.hasOwnProperty(_)){var C=g[_];_==="children"?typeof C=="string"?l.textContent!==C&&(g.suppressHydrationWarning!==!0&&_g(l.textContent,C,t),p=["children",C]):typeof C=="number"&&l.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&_g(l.textContent,C,t),p=["children",""+C]):Wh.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Yn("scroll",l)}switch(r){case"input":pg(l),qA(l,g,!0);break;case"textarea":pg(l),HA(l);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(l.onclick=wx)}l=p,e.updateQueue=l,l!==null&&(e.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=_.createElement(r,{is:l.is}):(t=_.createElement(r),r==="select"&&(_=t,l.multiple?_.multiple=!0:l.size&&(_.size=l.size))):t=_.createElementNS(t,r),t[ti]=e,t[nf]=l,iM(t,e,!1,!1),e.stateNode=t;t:{switch(_=B_(r,l),r){case"dialog":Yn("cancel",t),Yn("close",t),p=l;break;case"iframe":case"object":case"embed":Yn("load",t),p=l;break;case"video":case"audio":for(p=0;p<Th.length;p++)Yn(Th[p],t);p=l;break;case"source":Yn("error",t),p=l;break;case"img":case"image":case"link":Yn("error",t),Yn("load",t),p=l;break;case"details":Yn("toggle",t),p=l;break;case"input":GA(t,l),p=S_(t,l),Yn("invalid",t);break;case"option":p=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},p=vo({},l,{value:void 0}),Yn("invalid",t);break;case"textarea":WA(t,l),p=D_(t,l),Yn("invalid",t);break;default:p=l}k_(r,p),C=p;for(g in C)if(C.hasOwnProperty(g)){var i=C[g];g==="style"?OP(t,i):g==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&zP(t,i)):g==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&Hh(t,i):typeof i=="number"&&Hh(t,""+i):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Wh.hasOwnProperty(g)?i!=null&&g==="onScroll"&&Yn("scroll",t):i!=null&&ab(t,g,i,_))}switch(r){case"input":pg(t),qA(t,l,!1);break;case"textarea":pg(t),HA(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Xl(l.value));break;case"select":t.multiple=!!l.multiple,g=l.value,g!=null?Uu(t,!!l.multiple,g,!1):l.defaultValue!=null&&Uu(t,!!l.multiple,l.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=wx)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}}l&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _a(e),null;case 6:if(t&&e.stateNode!=null)cM(t,e,t.memoizedProps,l);else{if(typeof l!="string"&&e.stateNode===null)throw Error(de(166));if(r=ed(af.current),ed(oi.current),bg(e)){if(l=e.stateNode,r=e.memoizedProps,l[ti]=e,(g=l.nodeValue!==r)&&(t=fr,t!==null))switch(t.tag){case 3:_g(l.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_g(l.nodeValue,r,(t.mode&1)!==0)}g&&(e.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[ti]=e,e.stateNode=l}return _a(e),null;case 13:if(Qn(fo),l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oo&&hr!==null&&e.mode&1&&!(e.flags&128))ED(),lp(),e.flags|=98560,g=!1;else if(g=bg(e),l!==null&&l.dehydrated!==null){if(t===null){if(!g)throw Error(de(318));if(g=e.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(de(317));g[ti]=e}else lp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_a(e),g=!1}else Cs!==null&&(p1(Cs),Cs=null),g=!0;if(!g)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(e.child.flags|=8192,e.mode&1&&(t===null||fo.current&1?Go===0&&(Go=3):Ob())),e.updateQueue!==null&&(e.flags|=4),_a(e),null);case 4:return dp(),a1(t,e),t===null&&tf(e.stateNode.containerInfo),_a(e),null;case 10:return Cb(e.type._context),_a(e),null;case 17:return Ja(e.type)&&Cx(),_a(e),null;case 19:if(Qn(fo),g=e.memoizedState,g===null)return _a(e),null;if(l=(e.flags&128)!==0,_=g.rendering,_===null)if(l)fh(g,!1);else{if(Go!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(_=Mx(t),_!==null){for(e.flags|=128,fh(g,!1),l=_.updateQueue,l!==null&&(e.updateQueue=l,e.flags|=4),e.subtreeFlags=0,l=r,r=e.child;r!==null;)g=r,t=l,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wn(fo,fo.current&1|2),e.child}t=t.sibling}g.tail!==null&&Do()>pp&&(e.flags|=128,l=!0,fh(g,!1),e.lanes=4194304)}else{if(!l)if(t=Mx(_),t!==null){if(e.flags|=128,l=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!oo)return _a(e),null}else 2*Do()-g.renderingStartTime>pp&&r!==1073741824&&(e.flags|=128,l=!0,fh(g,!1),e.lanes=4194304);g.isBackwards?(_.sibling=e.child,e.child=_):(r=g.last,r!==null?r.sibling=_:e.child=_,g.last=_)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=Do(),e.sibling=null,r=fo.current,Wn(fo,l?r&1|2:r&1),e):(_a(e),null);case 22:case 23:return jb(),l=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(e.flags|=8192),l&&e.mode&1?pr&1073741824&&(_a(e),e.subtreeFlags&6&&(e.flags|=8192)):_a(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function DR(t,e){switch(yb(e),e.tag){case 1:return Ja(e.type)&&Cx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dp(),Qn(Qa),Qn(Ta),Pb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Eb(e),null;case 13:if(Qn(fo),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));lp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(fo),null;case 4:return dp(),null;case 10:return Cb(e.type._context),null;case 22:case 23:return jb(),null;case 24:return null;default:return null}}var Ag=!1,Ca=!1,MR=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Fu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){To(t,e,l)}else r.current=null}function r1(t,e,r){try{r()}catch(l){To(t,e,l)}}var RT=!1;function kR(t,e){if(U_=yx,t=hD(),xb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var p=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break t}var _=0,C=-1,i=-1,E=0,B=0,F=t,N=null;e:for(;;){for(var V;F!==r||p!==0&&F.nodeType!==3||(C=_+p),F!==g||l!==0&&F.nodeType!==3||(i=_+l),F.nodeType===3&&(_+=F.nodeValue.length),(V=F.firstChild)!==null;)N=F,F=V;for(;;){if(F===t)break e;if(N===r&&++E===p&&(C=_),N===g&&++B===l&&(i=_),(V=F.nextSibling)!==null)break;F=N,N=F.parentNode}F=V}r=C===-1||i===-1?null:{start:C,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for($_={focusedElem:t,selectionRange:r},yx=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var Q=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var H=Q.memoizedProps,tt=Q.memoizedState,W=e.stateNode,$=W.getSnapshotBeforeUpdate(e.elementType===e.type?H:ys(e.type,H),tt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Z=e.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(dt){To(e,e.return,dt)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return Q=RT,RT=!1,Q}function Nh(t,e,r){var l=e.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&t)===t){var g=p.destroy;p.destroy=void 0,g!==void 0&&r1(e,r,g)}p=p.next}while(p!==l)}}function i2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var l=r.create;r.destroy=l()}r=r.next}while(r!==e)}}function s1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dM(t){var e=t.alternate;e!==null&&(t.alternate=null,dM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ti],delete e[nf],delete e[W_],delete e[mR],delete e[hR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uM(t){return t.tag===5||t.tag===3||t.tag===4}function LT(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||uM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i1(t,e,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wx));else if(l!==4&&(t=t.child,t!==null))for(i1(t,e,r),t=t.sibling;t!==null;)i1(t,e,r),t=t.sibling}function l1(t,e,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(l1(t,e,r),t=t.sibling;t!==null;)l1(t,e,r),t=t.sibling}var sa=null,ws=!1;function bl(t,e,r){for(r=r.child;r!==null;)pM(t,e,r),r=r.sibling}function pM(t,e,r){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Jx,r)}catch{}switch(r.tag){case 5:Ca||Fu(r,e);case 6:var l=sa,p=ws;sa=null,bl(t,e,r),sa=l,ws=p,sa!==null&&(ws?(t=sa,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sa.removeChild(r.stateNode));break;case 18:sa!==null&&(ws?(t=sa,r=r.stateNode,t.nodeType===8?By(t.parentNode,r):t.nodeType===1&&By(t,r),Yh(t)):By(sa,r.stateNode));break;case 4:l=sa,p=ws,sa=r.stateNode.containerInfo,ws=!0,bl(t,e,r),sa=l,ws=p;break;case 0:case 11:case 14:case 15:if(!Ca&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){p=l=l.next;do{var g=p,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&r1(r,e,_),p=p.next}while(p!==l)}bl(t,e,r);break;case 1:if(!Ca&&(Fu(r,e),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(C){To(r,e,C)}bl(t,e,r);break;case 21:bl(t,e,r);break;case 22:r.mode&1?(Ca=(l=Ca)||r.memoizedState!==null,bl(t,e,r),Ca=l):bl(t,e,r);break;default:bl(t,e,r)}}function zT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new MR),e.forEach(function(l){var p=OR.bind(null,t,l);r.has(l)||(r.add(l),l.then(p,p))})}}function xs(t,e){var r=e.deletions;if(r!==null)for(var l=0;l<r.length;l++){var p=r[l];try{var g=t,_=e,C=_;t:for(;C!==null;){switch(C.tag){case 5:sa=C.stateNode,ws=!1;break t;case 3:sa=C.stateNode.containerInfo,ws=!0;break t;case 4:sa=C.stateNode.containerInfo,ws=!0;break t}C=C.return}if(sa===null)throw Error(de(160));pM(g,_,p),sa=null,ws=!1;var i=p.alternate;i!==null&&(i.return=null),p.return=null}catch(E){To(p,e,E)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mM(e,t),e=e.sibling}function mM(t,e){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xs(e,t),Zs(t),l&4){try{Nh(3,t,t.return),i2(3,t)}catch(H){To(t,t.return,H)}try{Nh(5,t,t.return)}catch(H){To(t,t.return,H)}}break;case 1:xs(e,t),Zs(t),l&512&&r!==null&&Fu(r,r.return);break;case 5:if(xs(e,t),Zs(t),l&512&&r!==null&&Fu(r,r.return),t.flags&32){var p=t.stateNode;try{Hh(p,"")}catch(H){To(t,t.return,H)}}if(l&4&&(p=t.stateNode,p!=null)){var g=t.memoizedProps,_=r!==null?r.memoizedProps:g,C=t.type,i=t.updateQueue;if(t.updateQueue=null,i!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&FP(p,g),B_(C,_);var E=B_(C,g);for(_=0;_<i.length;_+=2){var B=i[_],F=i[_+1];B==="style"?OP(p,F):B==="dangerouslySetInnerHTML"?zP(p,F):B==="children"?Hh(p,F):ab(p,B,F,E)}switch(C){case"input":E_(p,g);break;case"textarea":RP(p,g);break;case"select":var N=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var V=g.value;V!=null?Uu(p,!!g.multiple,V,!1):N!==!!g.multiple&&(g.defaultValue!=null?Uu(p,!!g.multiple,g.defaultValue,!0):Uu(p,!!g.multiple,g.multiple?[]:"",!1))}p[nf]=g}catch(H){To(t,t.return,H)}}break;case 6:if(xs(e,t),Zs(t),l&4){if(t.stateNode===null)throw Error(de(162));p=t.stateNode,g=t.memoizedProps;try{p.nodeValue=g}catch(H){To(t,t.return,H)}}break;case 3:if(xs(e,t),Zs(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Yh(e.containerInfo)}catch(H){To(t,t.return,H)}break;case 4:xs(e,t),Zs(t);break;case 13:xs(e,t),Zs(t),p=t.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Lb=Do())),l&4&&zT(t);break;case 22:if(B=r!==null&&r.memoizedState!==null,t.mode&1?(Ca=(E=Ca)||B,xs(e,t),Ca=E):xs(e,t),Zs(t),l&8192){if(E=t.memoizedState!==null,(t.stateNode.isHidden=E)&&!B&&t.mode&1)for(Pe=t,B=t.child;B!==null;){for(F=Pe=B;Pe!==null;){switch(N=Pe,V=N.child,N.tag){case 0:case 11:case 14:case 15:Nh(4,N,N.return);break;case 1:Fu(N,N.return);var Q=N.stateNode;if(typeof Q.componentWillUnmount=="function"){l=N,r=N.return;try{e=l,Q.props=e.memoizedProps,Q.state=e.memoizedState,Q.componentWillUnmount()}catch(H){To(l,r,H)}}break;case 5:Fu(N,N.return);break;case 22:if(N.memoizedState!==null){OT(F);continue}}V!==null?(V.return=N,Pe=V):OT(F)}B=B.sibling}t:for(B=null,F=t;;){if(F.tag===5){if(B===null){B=F;try{p=F.stateNode,E?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=F.stateNode,i=F.memoizedProps.style,_=i!=null&&i.hasOwnProperty("display")?i.display:null,C.style.display=jP("display",_))}catch(H){To(t,t.return,H)}}}else if(F.tag===6){if(B===null)try{F.stateNode.nodeValue=E?"":F.memoizedProps}catch(H){To(t,t.return,H)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===t)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===t)break t;for(;F.sibling===null;){if(F.return===null||F.return===t)break t;B===F&&(B=null),F=F.return}B===F&&(B=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:xs(e,t),Zs(t),l&4&&zT(t);break;case 21:break;default:xs(e,t),Zs(t)}}function Zs(t){var e=t.flags;if(e&2){try{t:{for(var r=t.return;r!==null;){if(uM(r)){var l=r;break t}r=r.return}throw Error(de(160))}switch(l.tag){case 5:var p=l.stateNode;l.flags&32&&(Hh(p,""),l.flags&=-33);var g=LT(t);l1(t,g,p);break;case 3:case 4:var _=l.stateNode.containerInfo,C=LT(t);i1(t,C,_);break;default:throw Error(de(161))}}catch(i){To(t,t.return,i)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BR(t,e,r){Pe=t,hM(t)}function hM(t,e,r){for(var l=(t.mode&1)!==0;Pe!==null;){var p=Pe,g=p.child;if(p.tag===22&&l){var _=p.memoizedState!==null||Ag;if(!_){var C=p.alternate,i=C!==null&&C.memoizedState!==null||Ca;C=Ag;var E=Ca;if(Ag=_,(Ca=i)&&!E)for(Pe=p;Pe!==null;)_=Pe,i=_.child,_.tag===22&&_.memoizedState!==null?VT(p):i!==null?(i.return=_,Pe=i):VT(p);for(;g!==null;)Pe=g,hM(g),g=g.sibling;Pe=p,Ag=C,Ca=E}jT(t)}else p.subtreeFlags&8772&&g!==null?(g.return=p,Pe=g):jT(t)}}function jT(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ca||i2(5,e);break;case 1:var l=e.stateNode;if(e.flags&4&&!Ca)if(r===null)l.componentDidMount();else{var p=e.elementType===e.type?r.memoizedProps:ys(e.type,r.memoizedProps);l.componentDidUpdate(p,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var g=e.updateQueue;g!==null&&CT(e,g,l);break;case 3:var _=e.updateQueue;if(_!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}CT(e,_,r)}break;case 5:var C=e.stateNode;if(r===null&&e.flags&4){r=C;var i=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var E=e.alternate;if(E!==null){var B=E.memoizedState;if(B!==null){var F=B.dehydrated;F!==null&&Yh(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Ca||e.flags&512&&s1(e)}catch(N){To(e,e.return,N)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function OT(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function VT(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{i2(4,e)}catch(i){To(e,r,i)}break;case 1:var l=e.stateNode;if(typeof l.componentDidMount=="function"){var p=e.return;try{l.componentDidMount()}catch(i){To(e,p,i)}}var g=e.return;try{s1(e)}catch(i){To(e,g,i)}break;case 5:var _=e.return;try{s1(e)}catch(i){To(e,_,i)}}}catch(i){To(e,e.return,i)}if(e===t){Pe=null;break}var C=e.sibling;if(C!==null){C.return=e.return,Pe=C;break}Pe=e.return}}var NR=Math.ceil,Nx=Gi.ReactCurrentDispatcher,Fb=Gi.ReactCurrentOwner,Vr=Gi.ReactCurrentBatchConfig,_n=0,ea=null,Lo=null,ia=0,pr=0,Ru=oc(0),Go=0,cf=null,fd=0,l2=0,Rb=0,Ih=null,Xa=null,Lb=0,pp=1/0,Bi=null,Ix=!1,c1=null,ql=null,Tg=!1,zl=null,Fx=0,Fh=0,d1=null,Jg=-1,tx=0;function Fa(){return _n&6?Do():Jg!==-1?Jg:Jg=Do()}function Wl(t){return t.mode&1?_n&2&&ia!==0?ia&-ia:gR.transition!==null?(tx===0&&(tx=QP()),tx):(t=On,t!==0||(t=window.event,t=t===void 0?16:rD(t.type)),t):1}function Ss(t,e,r,l){if(50<Fh)throw Fh=0,d1=null,Error(de(185));Sf(t,r,l),(!(_n&2)||t!==ea)&&(t===ea&&(!(_n&2)&&(l2|=r),Go===4&&kl(t,ia)),tr(t,l),r===1&&_n===0&&!(e.mode&1)&&(pp=Do()+500,a2&&ac()))}function tr(t,e){var r=t.callbackNode;gF(t,e);var l=vx(t,t===ea?ia:0);if(l===0)r!==null&&KA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=l&-l,t.callbackPriority!==e){if(r!=null&&KA(r),e===1)t.tag===0?fR(UT.bind(null,t)):AD(UT.bind(null,t)),uR(function(){!(_n&6)&&ac()}),r=null;else{switch(JP(l)){case 1:r=cb;break;case 4:r=KP;break;case 16:r=xx;break;case 536870912:r=YP;break;default:r=xx}r=wM(r,fM.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function fM(t,e){if(Jg=-1,tx=0,_n&6)throw Error(de(327));var r=t.callbackNode;if(Hu()&&t.callbackNode!==r)return null;var l=vx(t,t===ea?ia:0);if(l===0)return null;if(l&30||l&t.expiredLanes||e)e=Rx(t,l);else{e=l;var p=_n;_n|=2;var g=xM();(ea!==t||ia!==e)&&(Bi=null,pp=Do()+500,ld(t,e));do try{RR();break}catch(C){gM(t,C)}while(!0);wb(),Nx.current=g,_n=p,Lo!==null?e=0:(ea=null,ia=0,e=Go)}if(e!==0){if(e===2&&(p=L_(t),p!==0&&(l=p,e=u1(t,p))),e===1)throw r=cf,ld(t,0),kl(t,l),tr(t,Do()),r;if(e===6)kl(t,l);else{if(p=t.current.alternate,!(l&30)&&!IR(p)&&(e=Rx(t,l),e===2&&(g=L_(t),g!==0&&(l=g,e=u1(t,g))),e===1))throw r=cf,ld(t,0),kl(t,l),tr(t,Do()),r;switch(t.finishedWork=p,t.finishedLanes=l,e){case 0:case 1:throw Error(de(345));case 2:Yc(t,Xa,Bi);break;case 3:if(kl(t,l),(l&130023424)===l&&(e=Lb+500-Do(),10<e)){if(vx(t,0)!==0)break;if(p=t.suspendedLanes,(p&l)!==l){Fa(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=q_(Yc.bind(null,t,Xa,Bi),e);break}Yc(t,Xa,Bi);break;case 4:if(kl(t,l),(l&4194240)===l)break;for(e=t.eventTimes,p=-1;0<l;){var _=31-Ts(l);g=1<<_,_=e[_],_>p&&(p=_),l&=~g}if(l=p,l=Do()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*NR(l/1960))-l,10<l){t.timeoutHandle=q_(Yc.bind(null,t,Xa,Bi),l);break}Yc(t,Xa,Bi);break;case 5:Yc(t,Xa,Bi);break;default:throw Error(de(329))}}}return tr(t,Do()),t.callbackNode===r?fM.bind(null,t):null}function u1(t,e){var r=Ih;return t.current.memoizedState.isDehydrated&&(ld(t,e).flags|=256),t=Rx(t,e),t!==2&&(e=Xa,Xa=r,e!==null&&p1(e)),t}function p1(t){Xa===null?Xa=t:Xa.push.apply(Xa,t)}function IR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var p=r[l],g=p.getSnapshot;p=p.value;try{if(!Es(g(),p))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kl(t,e){for(e&=~Rb,e&=~l2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ts(e),l=1<<r;t[r]=-1,e&=~l}}function UT(t){if(_n&6)throw Error(de(327));Hu();var e=vx(t,0);if(!(e&1))return tr(t,Do()),null;var r=Rx(t,e);if(t.tag!==0&&r===2){var l=L_(t);l!==0&&(e=l,r=u1(t,l))}if(r===1)throw r=cf,ld(t,0),kl(t,e),tr(t,Do()),r;if(r===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yc(t,Xa,Bi),tr(t,Do()),null}function zb(t,e){var r=_n;_n|=1;try{return t(e)}finally{_n=r,_n===0&&(pp=Do()+500,a2&&ac())}}function gd(t){zl!==null&&zl.tag===0&&!(_n&6)&&Hu();var e=_n;_n|=1;var r=Vr.transition,l=On;try{if(Vr.transition=null,On=1,t)return t()}finally{On=l,Vr.transition=r,_n=e,!(_n&6)&&ac()}}function jb(){pr=Ru.current,Qn(Ru)}function ld(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dR(r)),Lo!==null)for(r=Lo.return;r!==null;){var l=r;switch(yb(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Cx();break;case 3:dp(),Qn(Qa),Qn(Ta),Pb();break;case 5:Eb(l);break;case 4:dp();break;case 13:Qn(fo);break;case 19:Qn(fo);break;case 10:Cb(l.type._context);break;case 22:case 23:jb()}r=r.return}if(ea=t,Lo=t=Hl(t.current,null),ia=pr=e,Go=0,cf=null,Rb=l2=fd=0,Xa=Ih=null,td!==null){for(e=0;e<td.length;e++)if(r=td[e],l=r.interleaved,l!==null){r.interleaved=null;var p=l.next,g=r.pending;if(g!==null){var _=g.next;g.next=p,l.next=_}r.pending=l}td=null}return t}function gM(t,e){do{var r=Lo;try{if(wb(),Kg.current=Bx,kx){for(var l=xo.memoizedState;l!==null;){var p=l.queue;p!==null&&(p.pending=null),l=l.next}kx=!1}if(hd=0,ta=Uo=xo=null,Bh=!1,rf=0,Fb.current=null,r===null||r.return===null){Go=1,cf=e,Lo=null;break}t:{var g=t,_=r.return,C=r,i=e;if(e=ia,C.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var E=i,B=C,F=B.tag;if(!(B.mode&1)&&(F===0||F===11||F===15)){var N=B.alternate;N?(B.updateQueue=N.updateQueue,B.memoizedState=N.memoizedState,B.lanes=N.lanes):(B.updateQueue=null,B.memoizedState=null)}var V=DT(_);if(V!==null){V.flags&=-257,MT(V,_,C,g,e),V.mode&1&&PT(g,E,e),e=V,i=E;var Q=e.updateQueue;if(Q===null){var H=new Set;H.add(i),e.updateQueue=H}else Q.add(i);break t}else{if(!(e&1)){PT(g,E,e),Ob();break t}i=Error(de(426))}}else if(oo&&C.mode&1){var tt=DT(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),MT(tt,_,C,g,e),_b(up(i,C));break t}}g=i=up(i,C),Go!==4&&(Go=2),Ih===null?Ih=[g]:Ih.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,e&=-e,g.lanes|=e;var W=JD(g,i,e);wT(g,W);break t;case 1:C=i;var $=g.type,Z=g.stateNode;if(!(g.flags&128)&&(typeof $.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ql===null||!ql.has(Z)))){g.flags|=65536,e&=-e,g.lanes|=e;var dt=tM(g,C,e);wT(g,dt);break t}}g=g.return}while(g!==null)}yM(r)}catch(ft){e=ft,Lo===r&&r!==null&&(Lo=r=r.return);continue}break}while(!0)}function xM(){var t=Nx.current;return Nx.current=Bx,t===null?Bx:t}function Ob(){(Go===0||Go===3||Go===2)&&(Go=4),ea===null||!(fd&268435455)&&!(l2&268435455)||kl(ea,ia)}function Rx(t,e){var r=_n;_n|=2;var l=xM();(ea!==t||ia!==e)&&(Bi=null,ld(t,e));do try{FR();break}catch(p){gM(t,p)}while(!0);if(wb(),_n=r,Nx.current=l,Lo!==null)throw Error(de(261));return ea=null,ia=0,Go}function FR(){for(;Lo!==null;)vM(Lo)}function RR(){for(;Lo!==null&&!iF();)vM(Lo)}function vM(t){var e=bM(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?yM(t):Lo=e,Fb.current=null}function yM(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=DR(r,e),r!==null){r.flags&=32767,Lo=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Go=6,Lo=null;return}}else if(r=PR(r,e,pr),r!==null){Lo=r;return}if(e=e.sibling,e!==null){Lo=e;return}Lo=e=t}while(e!==null);Go===0&&(Go=5)}function Yc(t,e,r){var l=On,p=Vr.transition;try{Vr.transition=null,On=1,LR(t,e,r,l)}finally{Vr.transition=p,On=l}return null}function LR(t,e,r,l){do Hu();while(zl!==null);if(_n&6)throw Error(de(327));r=t.finishedWork;var p=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var g=r.lanes|r.childLanes;if(xF(t,g),t===ea&&(Lo=ea=null,ia=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tg||(Tg=!0,wM(xx,function(){return Hu(),null})),g=(r.flags&15990)!==0,r.subtreeFlags&15990||g){g=Vr.transition,Vr.transition=null;var _=On;On=1;var C=_n;_n|=4,Fb.current=null,kR(t,r),mM(r,t),oR($_),yx=!!U_,$_=U_=null,t.current=r,BR(r),lF(),_n=C,On=_,Vr.transition=g}else t.current=r;if(Tg&&(Tg=!1,zl=t,Fx=p),g=t.pendingLanes,g===0&&(ql=null),uF(r.stateNode),tr(t,Do()),e!==null)for(l=t.onRecoverableError,r=0;r<e.length;r++)p=e[r],l(p.value,{componentStack:p.stack,digest:p.digest});if(Ix)throw Ix=!1,t=c1,c1=null,t;return Fx&1&&t.tag!==0&&Hu(),g=t.pendingLanes,g&1?t===d1?Fh++:(Fh=0,d1=t):Fh=0,ac(),null}function Hu(){if(zl!==null){var t=JP(Fx),e=Vr.transition,r=On;try{if(Vr.transition=null,On=16>t?16:t,zl===null)var l=!1;else{if(t=zl,zl=null,Fx=0,_n&6)throw Error(de(331));var p=_n;for(_n|=4,Pe=t.current;Pe!==null;){var g=Pe,_=g.child;if(Pe.flags&16){var C=g.deletions;if(C!==null){for(var i=0;i<C.length;i++){var E=C[i];for(Pe=E;Pe!==null;){var B=Pe;switch(B.tag){case 0:case 11:case 15:Nh(8,B,g)}var F=B.child;if(F!==null)F.return=B,Pe=F;else for(;Pe!==null;){B=Pe;var N=B.sibling,V=B.return;if(dM(B),B===E){Pe=null;break}if(N!==null){N.return=V,Pe=N;break}Pe=V}}}var Q=g.alternate;if(Q!==null){var H=Q.child;if(H!==null){Q.child=null;do{var tt=H.sibling;H.sibling=null,H=tt}while(H!==null)}}Pe=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,Pe=_;else t:for(;Pe!==null;){if(g=Pe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Nh(9,g,g.return)}var W=g.sibling;if(W!==null){W.return=g.return,Pe=W;break t}Pe=g.return}}var $=t.current;for(Pe=$;Pe!==null;){_=Pe;var Z=_.child;if(_.subtreeFlags&2064&&Z!==null)Z.return=_,Pe=Z;else t:for(_=$;Pe!==null;){if(C=Pe,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:i2(9,C)}}catch(ft){To(C,C.return,ft)}if(C===_){Pe=null;break t}var dt=C.sibling;if(dt!==null){dt.return=C.return,Pe=dt;break t}Pe=C.return}}if(_n=p,ac(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Jx,t)}catch{}l=!0}return l}finally{On=r,Vr.transition=e}}return!1}function $T(t,e,r){e=up(r,e),e=JD(t,e,1),t=Gl(t,e,1),e=Fa(),t!==null&&(Sf(t,1,e),tr(t,e))}function To(t,e,r){if(t.tag===3)$T(t,t,r);else for(;e!==null;){if(e.tag===3){$T(e,t,r);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ql===null||!ql.has(l))){t=up(r,t),t=tM(e,t,1),e=Gl(e,t,1),t=Fa(),e!==null&&(Sf(e,1,t),tr(e,t));break}}e=e.return}}function zR(t,e,r){var l=t.pingCache;l!==null&&l.delete(e),e=Fa(),t.pingedLanes|=t.suspendedLanes&r,ea===t&&(ia&r)===r&&(Go===4||Go===3&&(ia&130023424)===ia&&500>Do()-Lb?ld(t,0):Rb|=r),tr(t,e)}function _M(t,e){e===0&&(t.mode&1?(e=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):e=1);var r=Fa();t=ji(t,e),t!==null&&(Sf(t,e,r),tr(t,r))}function jR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_M(t,r)}function OR(t,e){var r=0;switch(t.tag){case 13:var l=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(de(314))}l!==null&&l.delete(e),_M(t,r)}var bM;bM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qa.current)Ka=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ka=!1,ER(t,e,r);Ka=!!(t.flags&131072)}else Ka=!1,oo&&e.flags&1048576&&TD(e,Sx,e.index);switch(e.lanes=0,e.tag){case 2:var l=e.type;Qg(t,e),t=e.pendingProps;var p=ip(e,Ta.current);Wu(e,r),p=Mb(null,e,l,t,p,r);var g=kb();return e.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ja(l)?(g=!0,Ax(e)):g=!1,e.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Tb(e),p.updater=s2,e.stateNode=p,p._reactInternals=e,Q_(e,l,t,r),e=e1(null,e,l,!0,g,r)):(e.tag=0,oo&&g&&vb(e),Ba(null,e,p,r),e=e.child),e;case 16:l=e.elementType;t:{switch(Qg(t,e),t=e.pendingProps,p=l._init,l=p(l._payload),e.type=l,p=e.tag=UR(l),t=ys(l,t),p){case 0:e=t1(null,e,l,t,r);break t;case 1:e=NT(null,e,l,t,r);break t;case 11:e=kT(null,e,l,t,r);break t;case 14:e=BT(null,e,l,ys(l.type,t),r);break t}throw Error(de(306,l,""))}return e;case 0:return l=e.type,p=e.pendingProps,p=e.elementType===l?p:ys(l,p),t1(t,e,l,p,r);case 1:return l=e.type,p=e.pendingProps,p=e.elementType===l?p:ys(l,p),NT(t,e,l,p,r);case 3:t:{if(aM(e),t===null)throw Error(de(387));l=e.pendingProps,g=e.memoizedState,p=g.element,kD(t,e),Dx(e,l,null,r);var _=e.memoizedState;if(l=_.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){p=up(Error(de(423)),e),e=IT(t,e,l,r,p);break t}else if(l!==p){p=up(Error(de(424)),e),e=IT(t,e,l,r,p);break t}else for(hr=$l(e.stateNode.containerInfo.firstChild),fr=e,oo=!0,Cs=null,r=DD(e,null,l,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lp(),l===p){e=Oi(t,e,r);break t}Ba(t,e,l,r)}e=e.child}return e;case 5:return BD(e),t===null&&X_(e),l=e.type,p=e.pendingProps,g=t!==null?t.memoizedProps:null,_=p.children,G_(l,p)?_=null:g!==null&&G_(l,g)&&(e.flags|=32),oM(t,e),Ba(t,e,_,r),e.child;case 6:return t===null&&X_(e),null;case 13:return rM(t,e,r);case 4:return Sb(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=cp(e,null,l,r):Ba(t,e,l,r),e.child;case 11:return l=e.type,p=e.pendingProps,p=e.elementType===l?p:ys(l,p),kT(t,e,l,p,r);case 7:return Ba(t,e,e.pendingProps,r),e.child;case 8:return Ba(t,e,e.pendingProps.children,r),e.child;case 12:return Ba(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(l=e.type._context,p=e.pendingProps,g=e.memoizedProps,_=p.value,Wn(Ex,l._currentValue),l._currentValue=_,g!==null)if(Es(g.value,_)){if(g.children===p.children&&!Qa.current){e=Oi(t,e,r);break t}}else for(g=e.child,g!==null&&(g.return=e);g!==null;){var C=g.dependencies;if(C!==null){_=g.child;for(var i=C.firstContext;i!==null;){if(i.context===l){if(g.tag===1){i=Ri(-1,r&-r),i.tag=2;var E=g.updateQueue;if(E!==null){E=E.shared;var B=E.pending;B===null?i.next=i:(i.next=B.next,B.next=i),E.pending=i}}g.lanes|=r,i=g.alternate,i!==null&&(i.lanes|=r),K_(g.return,r,e),C.lanes|=r;break}i=i.next}}else if(g.tag===10)_=g.type===e.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(de(341));_.lanes|=r,C=_.alternate,C!==null&&(C.lanes|=r),K_(_,r,e),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===e){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ba(t,e,p.children,r),e=e.child}return e;case 9:return p=e.type,l=e.pendingProps.children,Wu(e,r),p=Ur(p),l=l(p),e.flags|=1,Ba(t,e,l,r),e.child;case 14:return l=e.type,p=ys(l,e.pendingProps),p=ys(l.type,p),BT(t,e,l,p,r);case 15:return eM(t,e,e.type,e.pendingProps,r);case 17:return l=e.type,p=e.pendingProps,p=e.elementType===l?p:ys(l,p),Qg(t,e),e.tag=1,Ja(l)?(t=!0,Ax(e)):t=!1,Wu(e,r),QD(e,l,p),Q_(e,l,p,r),e1(null,e,l,!0,t,r);case 19:return sM(t,e,r);case 22:return nM(t,e,r)}throw Error(de(156,e.tag))};function wM(t,e){return XP(t,e)}function VR(t,e,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(t,e,r,l){return new VR(t,e,r,l)}function Vb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UR(t){if(typeof t=="function")return Vb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sb)return 11;if(t===ib)return 14}return 2}function Hl(t,e){var r=t.alternate;return r===null?(r=Or(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ex(t,e,r,l,p,g){var _=2;if(l=t,typeof t=="function")Vb(t)&&(_=1);else if(typeof t=="string")_=5;else t:switch(t){case Su:return cd(r.children,p,g,e);case rb:_=8,p|=8;break;case w_:return t=Or(12,r,e,p|2),t.elementType=w_,t.lanes=g,t;case C_:return t=Or(13,r,e,p),t.elementType=C_,t.lanes=g,t;case A_:return t=Or(19,r,e,p),t.elementType=A_,t.lanes=g,t;case BP:return c2(r,p,g,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MP:_=10;break t;case kP:_=9;break t;case sb:_=11;break t;case ib:_=14;break t;case Pl:_=16,l=null;break t}throw Error(de(130,t==null?t:typeof t,""))}return e=Or(_,r,e,p),e.elementType=t,e.type=l,e.lanes=g,e}function cd(t,e,r,l){return t=Or(7,t,l,e),t.lanes=r,t}function c2(t,e,r,l){return t=Or(22,t,l,e),t.elementType=BP,t.lanes=r,t.stateNode={isHidden:!1},t}function Oy(t,e,r){return t=Or(6,t,null,e),t.lanes=r,t}function Vy(t,e,r){return e=Or(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $R(t,e,r,l,p){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=by(0),this.expirationTimes=by(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=by(0),this.identifierPrefix=l,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ub(t,e,r,l,p,g,_,C,i){return t=new $R(t,e,r,C,i),e===1?(e=1,g===!0&&(e|=8)):e=0,g=Or(3,null,null,e),t.current=g,g.stateNode=t,g.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tb(g),t}function GR(t,e,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tu,key:l==null?null:""+l,children:t,containerInfo:e,implementation:r}}function CM(t){if(!t)return Kl;t=t._reactInternals;t:{if(_d(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ja(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var r=t.type;if(Ja(r))return CD(t,r,e)}return e}function AM(t,e,r,l,p,g,_,C,i){return t=Ub(r,l,!0,t,p,g,_,C,i),t.context=CM(null),r=t.current,l=Fa(),p=Wl(r),g=Ri(l,p),g.callback=e??null,Gl(r,g,p),t.current.lanes=p,Sf(t,p,l),tr(t,l),t}function d2(t,e,r,l){var p=e.current,g=Fa(),_=Wl(p);return r=CM(r),e.context===null?e.context=r:e.pendingContext=r,e=Ri(g,_),e.payload={element:t},l=l===void 0?null:l,l!==null&&(e.callback=l),t=Gl(p,e,_),t!==null&&(Ss(t,p,_,g),Xg(t,p,_)),_}function Lx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $b(t,e){GT(t,e),(t=t.alternate)&&GT(t,e)}function qR(){return null}var TM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gb(t){this._internalRoot=t}u2.prototype.render=Gb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));d2(t,e,null,null)};u2.prototype.unmount=Gb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gd(function(){d2(null,t,null,null)}),e[zi]=null}};function u2(t){this._internalRoot=t}u2.prototype.unstable_scheduleHydration=function(t){if(t){var e=nD();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ml.length&&e!==0&&e<Ml[r].priority;r++);Ml.splice(r,0,t),r===0&&aD(t)}};function qb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qT(){}function WR(t,e,r,l,p){if(p){if(typeof l=="function"){var g=l;l=function(){var E=Lx(_);g.call(E)}}var _=AM(e,l,t,0,null,!1,!1,"",qT);return t._reactRootContainer=_,t[zi]=_.current,tf(t.nodeType===8?t.parentNode:t),gd(),_}for(;p=t.lastChild;)t.removeChild(p);if(typeof l=="function"){var C=l;l=function(){var E=Lx(i);C.call(E)}}var i=Ub(t,0,!1,null,null,!1,!1,"",qT);return t._reactRootContainer=i,t[zi]=i.current,tf(t.nodeType===8?t.parentNode:t),gd(function(){d2(e,i,r,l)}),i}function m2(t,e,r,l,p){var g=r._reactRootContainer;if(g){var _=g;if(typeof p=="function"){var C=p;p=function(){var i=Lx(_);C.call(i)}}d2(e,_,t,p)}else _=WR(r,e,t,p,l);return Lx(_)}tD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ah(e.pendingLanes);r!==0&&(db(e,r|1),tr(e,Do()),!(_n&6)&&(pp=Do()+500,ac()))}break;case 13:gd(function(){var l=ji(t,1);if(l!==null){var p=Fa();Ss(l,t,1,p)}}),$b(t,1)}};ub=function(t){if(t.tag===13){var e=ji(t,134217728);if(e!==null){var r=Fa();Ss(e,t,134217728,r)}$b(t,134217728)}};eD=function(t){if(t.tag===13){var e=Wl(t),r=ji(t,e);if(r!==null){var l=Fa();Ss(r,t,e,l)}$b(t,e)}};nD=function(){return On};oD=function(t,e){var r=On;try{return On=t,e()}finally{On=r}};I_=function(t,e,r){switch(e){case"input":if(E_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var l=r[e];if(l!==t&&l.form===t.form){var p=o2(l);if(!p)throw Error(de(90));IP(l),E_(l,p)}}}break;case"textarea":RP(t,r);break;case"select":e=r.value,e!=null&&Uu(t,!!r.multiple,e,!1)}};$P=zb;GP=gd;var HR={usingClientEntryPoint:!1,Events:[Pf,Mu,o2,VP,UP,zb]},gh={findFiberByHostInstance:Jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZR={bundleType:gh.bundleType,version:gh.version,rendererPackageName:gh.rendererPackageName,rendererConfig:gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HP(t),t===null?null:t.stateNode},findFiberByHostInstance:gh.findFiberByHostInstance||qR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{Jx=Sg.inject(ZR),ni=Sg}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;yr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(e))throw Error(de(200));return GR(t,e,null,r)};yr.createRoot=function(t,e){if(!qb(t))throw Error(de(299));var r=!1,l="",p=TM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onRecoverableError!==void 0&&(p=e.onRecoverableError)),e=Ub(t,1,!1,null,null,r,!1,l,p),t[zi]=e.current,tf(t.nodeType===8?t.parentNode:t),new Gb(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=HP(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return gd(t)};yr.hydrate=function(t,e,r){if(!p2(e))throw Error(de(200));return m2(null,t,e,!0,r)};yr.hydrateRoot=function(t,e,r){if(!qb(t))throw Error(de(405));var l=r!=null&&r.hydratedSources||null,p=!1,g="",_=TM;if(r!=null&&(r.unstable_strictMode===!0&&(p=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),e=AM(e,null,t,1,r??null,p,!1,g,_),t[zi]=e.current,tf(t),l)for(t=0;t<l.length;t++)r=l[t],p=r._getVersion,p=p(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,p]:e.mutableSourceEagerHydrationData.push(r,p);return new u2(e)};yr.render=function(t,e,r){if(!p2(e))throw Error(de(200));return m2(null,t,e,!1,r)};yr.unmountComponentAtNode=function(t){if(!p2(t))throw Error(de(40));return t._reactRootContainer?(gd(function(){m2(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};yr.unstable_batchedUpdates=zb;yr.unstable_renderSubtreeIntoContainer=function(t,e,r,l){if(!p2(r))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return m2(t,e,r,!1,l)};yr.version="18.3.1-next-f1338f8080-20240426";function SM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SM)}catch(t){console.error(t)}}SM(),SP.exports=yr;var Mf=SP.exports;const EM=Y1(Mf);var PM,WT=Mf;PM=WT.createRoot,WT.hydrateRoot;const XR=1,KR=1e6;let Uy=0;function YR(){return Uy=(Uy+1)%Number.MAX_SAFE_INTEGER,Uy.toString()}const $y=new Map,HT=t=>{if($y.has(t))return;const e=setTimeout(()=>{$y.delete(t),Rh({type:"REMOVE_TOAST",toastId:t})},KR);$y.set(t,e)},QR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,XR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?HT(r):t.toasts.forEach(l=>{HT(l.id)}),{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,open:!1}:l)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},nx=[];let ox={toasts:[]};function Rh(t){ox=QR(ox,t),nx.forEach(e=>{e(ox)})}function JR({...t}){const e=YR(),r=p=>Rh({type:"UPDATE_TOAST",toast:{...p,id:e}}),l=()=>Rh({type:"DISMISS_TOAST",toastId:e});return Rh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:p=>{p||l()}}}),{id:e,dismiss:l,update:r}}function wp(){const[t,e]=q.useState(ox);return q.useEffect(()=>(nx.push(e),()=>{const r=nx.indexOf(e);r>-1&&nx.splice(r,1)}),[t]),{...t,toast:JR,dismiss:r=>Rh({type:"DISMISS_TOAST",toastId:r})}}function ao(t,e,{checkForDefaultPrevented:r=!0}={}){return function(p){if(t==null||t(p),r===!1||!p.defaultPrevented)return e==null?void 0:e(p)}}function tL(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function DM(...t){return e=>t.forEach(r=>tL(r,e))}function Ra(...t){return q.useCallback(DM(...t),t)}function eL(t,e=[]){let r=[];function l(g,_){const C=q.createContext(_),i=r.length;r=[...r,_];function E(F){const{scope:N,children:V,...Q}=F,H=(N==null?void 0:N[t][i])||C,tt=q.useMemo(()=>Q,Object.values(Q));return w.jsx(H.Provider,{value:tt,children:V})}function B(F,N){const V=(N==null?void 0:N[t][i])||C,Q=q.useContext(V);if(Q)return Q;if(_!==void 0)return _;throw new Error(`\`${F}\` must be used within \`${g}\``)}return E.displayName=g+"Provider",[E,B]}const p=()=>{const g=r.map(_=>q.createContext(_));return function(C){const i=(C==null?void 0:C[t])||g;return q.useMemo(()=>({[`__scope${t}`]:{...C,[t]:i}}),[C,i])}};return p.scopeName=t,[l,nL(p,...e)]}function nL(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const l=t.map(p=>({useScope:p(),scopeName:p.scopeName}));return function(g){const _=l.reduce((C,{useScope:i,scopeName:E})=>{const F=i(g)[`__scope${E}`];return{...C,...F}},{});return q.useMemo(()=>({[`__scope${e.scopeName}`]:_}),[_])}};return r.scopeName=e.scopeName,r}var mp=q.forwardRef((t,e)=>{const{children:r,...l}=t,p=q.Children.toArray(r),g=p.find(oL);if(g){const _=g.props.children,C=p.map(i=>i===g?q.Children.count(_)>1?q.Children.only(null):q.isValidElement(_)?_.props.children:null:i);return w.jsx(m1,{...l,ref:e,children:q.isValidElement(_)?q.cloneElement(_,void 0,C):null})}return w.jsx(m1,{...l,ref:e,children:r})});mp.displayName="Slot";var m1=q.forwardRef((t,e)=>{const{children:r,...l}=t;if(q.isValidElement(r)){const p=rL(r);return q.cloneElement(r,{...aL(l,r.props),ref:e?DM(e,p):p})}return q.Children.count(r)>1?q.Children.only(null):null});m1.displayName="SlotClone";var MM=({children:t})=>w.jsx(w.Fragment,{children:t});function oL(t){return q.isValidElement(t)&&t.type===MM}function aL(t,e){const r={...e};for(const l in e){const p=t[l],g=e[l];/^on[A-Z]/.test(l)?p&&g?r[l]=(...C)=>{g(...C),p(...C)}:p&&(r[l]=p):l==="style"?r[l]={...p,...g}:l==="className"&&(r[l]=[p,g].filter(Boolean).join(" "))}return{...t,...r}}function rL(t){var l,p;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(p=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:p.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sL(t){const e=t+"CollectionProvider",[r,l]=eL(e),[p,g]=r(e,{collectionRef:{current:null},itemMap:new Map}),_=V=>{const{scope:Q,children:H}=V,tt=ye.useRef(null),W=ye.useRef(new Map).current;return w.jsx(p,{scope:Q,itemMap:W,collectionRef:tt,children:H})};_.displayName=e;const C=t+"CollectionSlot",i=ye.forwardRef((V,Q)=>{const{scope:H,children:tt}=V,W=g(C,H),$=Ra(Q,W.collectionRef);return w.jsx(mp,{ref:$,children:tt})});i.displayName=C;const E=t+"CollectionItemSlot",B="data-radix-collection-item",F=ye.forwardRef((V,Q)=>{const{scope:H,children:tt,...W}=V,$=ye.useRef(null),Z=Ra(Q,$),dt=g(E,H);return ye.useEffect(()=>(dt.itemMap.set($,{ref:$,...W}),()=>void dt.itemMap.delete($))),w.jsx(mp,{[B]:"",ref:Z,children:tt})});F.displayName=E;function N(V){const Q=g(t+"CollectionConsumer",V);return ye.useCallback(()=>{const tt=Q.collectionRef.current;if(!tt)return[];const W=Array.from(tt.querySelectorAll(`[${B}]`));return Array.from(Q.itemMap.values()).sort((dt,ft)=>W.indexOf(dt.ref.current)-W.indexOf(ft.ref.current))},[Q.collectionRef,Q.itemMap])}return[{Provider:_,Slot:i,ItemSlot:F},N,l]}function iL(t,e){const r=q.createContext(e),l=g=>{const{children:_,...C}=g,i=q.useMemo(()=>C,Object.values(C));return w.jsx(r.Provider,{value:i,children:_})};l.displayName=t+"Provider";function p(g){const _=q.useContext(r);if(_)return _;if(e!==void 0)return e;throw new Error(`\`${g}\` must be used within \`${t}\``)}return[l,p]}function h2(t,e=[]){let r=[];function l(g,_){const C=q.createContext(_),i=r.length;r=[...r,_];const E=F=>{var W;const{scope:N,children:V,...Q}=F,H=((W=N==null?void 0:N[t])==null?void 0:W[i])||C,tt=q.useMemo(()=>Q,Object.values(Q));return w.jsx(H.Provider,{value:tt,children:V})};E.displayName=g+"Provider";function B(F,N){var H;const V=((H=N==null?void 0:N[t])==null?void 0:H[i])||C,Q=q.useContext(V);if(Q)return Q;if(_!==void 0)return _;throw new Error(`\`${F}\` must be used within \`${g}\``)}return[E,B]}const p=()=>{const g=r.map(_=>q.createContext(_));return function(C){const i=(C==null?void 0:C[t])||g;return q.useMemo(()=>({[`__scope${t}`]:{...C,[t]:i}}),[C,i])}};return p.scopeName=t,[l,lL(p,...e)]}function lL(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const l=t.map(p=>({useScope:p(),scopeName:p.scopeName}));return function(g){const _=l.reduce((C,{useScope:i,scopeName:E})=>{const F=i(g)[`__scope${E}`];return{...C,...F}},{});return q.useMemo(()=>({[`__scope${e.scopeName}`]:_}),[_])}};return r.scopeName=e.scopeName,r}var cL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Jn=cL.reduce((t,e)=>{const r=q.forwardRef((l,p)=>{const{asChild:g,..._}=l,C=g?mp:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(C,{..._,ref:p})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function kM(t,e){t&&Mf.flushSync(()=>t.dispatchEvent(e))}function vr(t){const e=q.useRef(t);return q.useEffect(()=>{e.current=t}),q.useMemo(()=>(...r)=>{var l;return(l=e.current)==null?void 0:l.call(e,...r)},[])}function dL(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t);q.useEffect(()=>{const l=p=>{p.key==="Escape"&&r(p)};return e.addEventListener("keydown",l,{capture:!0}),()=>e.removeEventListener("keydown",l,{capture:!0})},[r,e])}var uL="DismissableLayer",h1="dismissableLayer.update",pL="dismissableLayer.pointerDownOutside",mL="dismissableLayer.focusOutside",ZT,BM=q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f2=q.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:_,onDismiss:C,...i}=t,E=q.useContext(BM),[B,F]=q.useState(null),N=(B==null?void 0:B.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,V]=q.useState({}),Q=Ra(e,zt=>F(zt)),H=Array.from(E.layers),[tt]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),W=H.indexOf(tt),$=B?H.indexOf(B):-1,Z=E.layersWithOutsidePointerEventsDisabled.size>0,dt=$>=W,ft=fL(zt=>{const Ft=zt.target,ie=[...E.branches].some(Dt=>Dt.contains(Ft));!dt||ie||(p==null||p(zt),_==null||_(zt),zt.defaultPrevented||C==null||C())},N),St=gL(zt=>{const Ft=zt.target;[...E.branches].some(Dt=>Dt.contains(Ft))||(g==null||g(zt),_==null||_(zt),zt.defaultPrevented||C==null||C())},N);return dL(zt=>{$===E.layers.size-1&&(l==null||l(zt),!zt.defaultPrevented&&C&&(zt.preventDefault(),C()))},N),q.useEffect(()=>{if(B)return r&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(ZT=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(B)),E.layers.add(B),XT(),()=>{r&&E.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=ZT)}},[B,N,r,E]),q.useEffect(()=>()=>{B&&(E.layers.delete(B),E.layersWithOutsidePointerEventsDisabled.delete(B),XT())},[B,E]),q.useEffect(()=>{const zt=()=>V({});return document.addEventListener(h1,zt),()=>document.removeEventListener(h1,zt)},[]),w.jsx(Jn.div,{...i,ref:Q,style:{pointerEvents:Z?dt?"auto":"none":void 0,...t.style},onFocusCapture:ao(t.onFocusCapture,St.onFocusCapture),onBlurCapture:ao(t.onBlurCapture,St.onBlurCapture),onPointerDownCapture:ao(t.onPointerDownCapture,ft.onPointerDownCapture)})});f2.displayName=uL;var hL="DismissableLayerBranch",NM=q.forwardRef((t,e)=>{const r=q.useContext(BM),l=q.useRef(null),p=Ra(e,l);return q.useEffect(()=>{const g=l.current;if(g)return r.branches.add(g),()=>{r.branches.delete(g)}},[r.branches]),w.jsx(Jn.div,{...t,ref:p})});NM.displayName=hL;function fL(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),l=q.useRef(!1),p=q.useRef(()=>{});return q.useEffect(()=>{const g=C=>{if(C.target&&!l.current){let i=function(){IM(pL,r,E,{discrete:!0})};const E={originalEvent:C};C.pointerType==="touch"?(e.removeEventListener("click",p.current),p.current=i,e.addEventListener("click",p.current,{once:!0})):i()}else e.removeEventListener("click",p.current);l.current=!1},_=window.setTimeout(()=>{e.addEventListener("pointerdown",g)},0);return()=>{window.clearTimeout(_),e.removeEventListener("pointerdown",g),e.removeEventListener("click",p.current)}},[e,r]),{onPointerDownCapture:()=>l.current=!0}}function gL(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),l=q.useRef(!1);return q.useEffect(()=>{const p=g=>{g.target&&!l.current&&IM(mL,r,{originalEvent:g},{discrete:!1})};return e.addEventListener("focusin",p),()=>e.removeEventListener("focusin",p)},[e,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function XT(){const t=new CustomEvent(h1);document.dispatchEvent(t)}function IM(t,e,r,{discrete:l}){const p=r.originalEvent.target,g=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&p.addEventListener(t,e,{once:!0}),l?kM(p,g):p.dispatchEvent(g)}var xL=f2,vL=NM,ii=globalThis!=null&&globalThis.document?q.useLayoutEffect:()=>{},yL="Portal",Wb=q.forwardRef((t,e)=>{var C;const{container:r,...l}=t,[p,g]=q.useState(!1);ii(()=>g(!0),[]);const _=r||p&&((C=globalThis==null?void 0:globalThis.document)==null?void 0:C.body);return _?EM.createPortal(w.jsx(Jn.div,{...l,ref:e}),_):null});Wb.displayName=yL;function _L(t,e){return q.useReducer((r,l)=>e[r][l]??r,t)}var Cp=t=>{const{present:e,children:r}=t,l=bL(e),p=typeof r=="function"?r({present:l.isPresent}):q.Children.only(r),g=Ra(l.ref,wL(p));return typeof r=="function"||l.isPresent?q.cloneElement(p,{ref:g}):null};Cp.displayName="Presence";function bL(t){const[e,r]=q.useState(),l=q.useRef({}),p=q.useRef(t),g=q.useRef("none"),_=t?"mounted":"unmounted",[C,i]=_L(_,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return q.useEffect(()=>{const E=Eg(l.current);g.current=C==="mounted"?E:"none"},[C]),ii(()=>{const E=l.current,B=p.current;if(B!==t){const N=g.current,V=Eg(E);t?i("MOUNT"):V==="none"||(E==null?void 0:E.display)==="none"?i("UNMOUNT"):i(B&&N!==V?"ANIMATION_OUT":"UNMOUNT"),p.current=t}},[t,i]),ii(()=>{if(e){let E;const B=e.ownerDocument.defaultView??window,F=V=>{const H=Eg(l.current).includes(V.animationName);if(V.target===e&&H&&(i("ANIMATION_END"),!p.current)){const tt=e.style.animationFillMode;e.style.animationFillMode="forwards",E=B.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=tt)})}},N=V=>{V.target===e&&(g.current=Eg(l.current))};return e.addEventListener("animationstart",N),e.addEventListener("animationcancel",F),e.addEventListener("animationend",F),()=>{B.clearTimeout(E),e.removeEventListener("animationstart",N),e.removeEventListener("animationcancel",F),e.removeEventListener("animationend",F)}}else i("ANIMATION_END")},[e,i]),{isPresent:["mounted","unmountSuspended"].includes(C),ref:q.useCallback(E=>{E&&(l.current=getComputedStyle(E)),r(E)},[])}}function Eg(t){return(t==null?void 0:t.animationName)||"none"}function wL(t){var l,p;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(p=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:p.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function FM({prop:t,defaultProp:e,onChange:r=()=>{}}){const[l,p]=CL({defaultProp:e,onChange:r}),g=t!==void 0,_=g?t:l,C=vr(r),i=q.useCallback(E=>{if(g){const F=typeof E=="function"?E(t):E;F!==t&&C(F)}else p(E)},[g,t,p,C]);return[_,i]}function CL({defaultProp:t,onChange:e}){const r=q.useState(t),[l]=r,p=q.useRef(l),g=vr(e);return q.useEffect(()=>{p.current!==l&&(g(l),p.current=l)},[l,p,g]),r}var AL="VisuallyHidden",g2=q.forwardRef((t,e)=>w.jsx(Jn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));g2.displayName=AL;var TL=g2,Hb="ToastProvider",[Zb,SL,EL]=sL("Toast"),[RM,RW]=h2("Toast",[EL]),[PL,x2]=RM(Hb),LM=t=>{const{__scopeToast:e,label:r="Notification",duration:l=5e3,swipeDirection:p="right",swipeThreshold:g=50,children:_}=t,[C,i]=q.useState(null),[E,B]=q.useState(0),F=q.useRef(!1),N=q.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hb}\`. Expected non-empty \`string\`.`),w.jsx(Zb.Provider,{scope:e,children:w.jsx(PL,{scope:e,label:r,duration:l,swipeDirection:p,swipeThreshold:g,toastCount:E,viewport:C,onViewportChange:i,onToastAdd:q.useCallback(()=>B(V=>V+1),[]),onToastRemove:q.useCallback(()=>B(V=>V-1),[]),isFocusedToastEscapeKeyDownRef:F,isClosePausedRef:N,children:_})})};LM.displayName=Hb;var zM="ToastViewport",DL=["F8"],f1="toast.viewportPause",g1="toast.viewportResume",jM=q.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:l=DL,label:p="Notifications ({hotkey})",...g}=t,_=x2(zM,r),C=SL(r),i=q.useRef(null),E=q.useRef(null),B=q.useRef(null),F=q.useRef(null),N=Ra(e,F,_.onViewportChange),V=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=_.toastCount>0;q.useEffect(()=>{const tt=W=>{var Z;l.length!==0&&l.every(dt=>W[dt]||W.code===dt)&&((Z=F.current)==null||Z.focus())};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[l]),q.useEffect(()=>{const tt=i.current,W=F.current;if(Q&&tt&&W){const $=()=>{if(!_.isClosePausedRef.current){const St=new CustomEvent(f1);W.dispatchEvent(St),_.isClosePausedRef.current=!0}},Z=()=>{if(_.isClosePausedRef.current){const St=new CustomEvent(g1);W.dispatchEvent(St),_.isClosePausedRef.current=!1}},dt=St=>{!tt.contains(St.relatedTarget)&&Z()},ft=()=>{tt.contains(document.activeElement)||Z()};return tt.addEventListener("focusin",$),tt.addEventListener("focusout",dt),tt.addEventListener("pointermove",$),tt.addEventListener("pointerleave",ft),window.addEventListener("blur",$),window.addEventListener("focus",Z),()=>{tt.removeEventListener("focusin",$),tt.removeEventListener("focusout",dt),tt.removeEventListener("pointermove",$),tt.removeEventListener("pointerleave",ft),window.removeEventListener("blur",$),window.removeEventListener("focus",Z)}}},[Q,_.isClosePausedRef]);const H=q.useCallback(({tabbingDirection:tt})=>{const $=C().map(Z=>{const dt=Z.ref.current,ft=[dt,...UL(dt)];return tt==="forwards"?ft:ft.reverse()});return(tt==="forwards"?$.reverse():$).flat()},[C]);return q.useEffect(()=>{const tt=F.current;if(tt){const W=$=>{var ft,St,zt;const Z=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!Z){const Ft=document.activeElement,ie=$.shiftKey;if($.target===tt&&ie){(ft=E.current)==null||ft.focus();return}const Te=H({tabbingDirection:ie?"backwards":"forwards"}),xe=Te.findIndex(ce=>ce===Ft);Gy(Te.slice(xe+1))?$.preventDefault():ie?(St=E.current)==null||St.focus():(zt=B.current)==null||zt.focus()}};return tt.addEventListener("keydown",W),()=>tt.removeEventListener("keydown",W)}},[C,H]),w.jsxs(vL,{ref:i,role:"region","aria-label":p.replace("{hotkey}",V),tabIndex:-1,style:{pointerEvents:Q?void 0:"none"},children:[Q&&w.jsx(x1,{ref:E,onFocusFromOutsideViewport:()=>{const tt=H({tabbingDirection:"forwards"});Gy(tt)}}),w.jsx(Zb.Slot,{scope:r,children:w.jsx(Jn.ol,{tabIndex:-1,...g,ref:N})}),Q&&w.jsx(x1,{ref:B,onFocusFromOutsideViewport:()=>{const tt=H({tabbingDirection:"backwards"});Gy(tt)}})]})});jM.displayName=zM;var OM="ToastFocusProxy",x1=q.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:l,...p}=t,g=x2(OM,r);return w.jsx(g2,{"aria-hidden":!0,tabIndex:0,...p,ref:e,style:{position:"fixed"},onFocus:_=>{var E;const C=_.relatedTarget;!((E=g.viewport)!=null&&E.contains(C))&&l()}})});x1.displayName=OM;var v2="Toast",ML="toast.swipeStart",kL="toast.swipeMove",BL="toast.swipeCancel",NL="toast.swipeEnd",VM=q.forwardRef((t,e)=>{const{forceMount:r,open:l,defaultOpen:p,onOpenChange:g,..._}=t,[C=!0,i]=FM({prop:l,defaultProp:p,onChange:g});return w.jsx(Cp,{present:r||C,children:w.jsx(RL,{open:C,..._,ref:e,onClose:()=>i(!1),onPause:vr(t.onPause),onResume:vr(t.onResume),onSwipeStart:ao(t.onSwipeStart,E=>{E.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ao(t.onSwipeMove,E=>{const{x:B,y:F}=E.detail.delta;E.currentTarget.setAttribute("data-swipe","move"),E.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${B}px`),E.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${F}px`)}),onSwipeCancel:ao(t.onSwipeCancel,E=>{E.currentTarget.setAttribute("data-swipe","cancel"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),E.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ao(t.onSwipeEnd,E=>{const{x:B,y:F}=E.detail.delta;E.currentTarget.setAttribute("data-swipe","end"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),E.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),E.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${B}px`),E.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${F}px`),i(!1)})})})});VM.displayName=v2;var[IL,FL]=RM(v2,{onClose(){}}),RL=q.forwardRef((t,e)=>{const{__scopeToast:r,type:l="foreground",duration:p,open:g,onClose:_,onEscapeKeyDown:C,onPause:i,onResume:E,onSwipeStart:B,onSwipeMove:F,onSwipeCancel:N,onSwipeEnd:V,...Q}=t,H=x2(v2,r),[tt,W]=q.useState(null),$=Ra(e,ce=>W(ce)),Z=q.useRef(null),dt=q.useRef(null),ft=p||H.duration,St=q.useRef(0),zt=q.useRef(ft),Ft=q.useRef(0),{onToastAdd:ie,onToastRemove:Dt}=H,Ie=vr(()=>{var en;(tt==null?void 0:tt.contains(document.activeElement))&&((en=H.viewport)==null||en.focus()),_()}),Te=q.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(Ft.current),St.current=new Date().getTime(),Ft.current=window.setTimeout(Ie,ce))},[Ie]);q.useEffect(()=>{const ce=H.viewport;if(ce){const en=()=>{Te(zt.current),E==null||E()},Fe=()=>{const Be=new Date().getTime()-St.current;zt.current=zt.current-Be,window.clearTimeout(Ft.current),i==null||i()};return ce.addEventListener(f1,Fe),ce.addEventListener(g1,en),()=>{ce.removeEventListener(f1,Fe),ce.removeEventListener(g1,en)}}},[H.viewport,ft,i,E,Te]),q.useEffect(()=>{g&&!H.isClosePausedRef.current&&Te(ft)},[g,ft,H.isClosePausedRef,Te]),q.useEffect(()=>(ie(),()=>Dt()),[ie,Dt]);const xe=q.useMemo(()=>tt?ZM(tt):null,[tt]);return H.viewport?w.jsxs(w.Fragment,{children:[xe&&w.jsx(LL,{__scopeToast:r,role:"status","aria-live":l==="foreground"?"assertive":"polite","aria-atomic":!0,children:xe}),w.jsx(IL,{scope:r,onClose:Ie,children:Mf.createPortal(w.jsx(Zb.ItemSlot,{scope:r,children:w.jsx(xL,{asChild:!0,onEscapeKeyDown:ao(C,()=>{H.isFocusedToastEscapeKeyDownRef.current||Ie(),H.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(Jn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":g?"open":"closed","data-swipe-direction":H.swipeDirection,...Q,ref:$,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ao(t.onKeyDown,ce=>{ce.key==="Escape"&&(C==null||C(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(H.isFocusedToastEscapeKeyDownRef.current=!0,Ie()))}),onPointerDown:ao(t.onPointerDown,ce=>{ce.button===0&&(Z.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:ao(t.onPointerMove,ce=>{if(!Z.current)return;const en=ce.clientX-Z.current.x,Fe=ce.clientY-Z.current.y,Be=!!dt.current,Ot=["left","right"].includes(H.swipeDirection),Zt=["left","up"].includes(H.swipeDirection)?Math.min:Math.max,we=Ot?Zt(0,en):0,fe=Ot?0:Zt(0,Fe),Ce=ce.pointerType==="touch"?10:2,Ze={x:we,y:fe},He={originalEvent:ce,delta:Ze};Be?(dt.current=Ze,Pg(kL,F,He,{discrete:!1})):KT(Ze,H.swipeDirection,Ce)?(dt.current=Ze,Pg(ML,B,He,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(en)>Ce||Math.abs(Fe)>Ce)&&(Z.current=null)}),onPointerUp:ao(t.onPointerUp,ce=>{const en=dt.current,Fe=ce.target;if(Fe.hasPointerCapture(ce.pointerId)&&Fe.releasePointerCapture(ce.pointerId),dt.current=null,Z.current=null,en){const Be=ce.currentTarget,Ot={originalEvent:ce,delta:en};KT(en,H.swipeDirection,H.swipeThreshold)?Pg(NL,V,Ot,{discrete:!0}):Pg(BL,N,Ot,{discrete:!0}),Be.addEventListener("click",Zt=>Zt.preventDefault(),{once:!0})}})})})}),H.viewport)})]}):null}),LL=t=>{const{__scopeToast:e,children:r,...l}=t,p=x2(v2,e),[g,_]=q.useState(!1),[C,i]=q.useState(!1);return OL(()=>_(!0)),q.useEffect(()=>{const E=window.setTimeout(()=>i(!0),1e3);return()=>window.clearTimeout(E)},[]),C?null:w.jsx(Wb,{asChild:!0,children:w.jsx(g2,{...l,children:g&&w.jsxs(w.Fragment,{children:[p.label," ",r]})})})},zL="ToastTitle",UM=q.forwardRef((t,e)=>{const{__scopeToast:r,...l}=t;return w.jsx(Jn.div,{...l,ref:e})});UM.displayName=zL;var jL="ToastDescription",$M=q.forwardRef((t,e)=>{const{__scopeToast:r,...l}=t;return w.jsx(Jn.div,{...l,ref:e})});$M.displayName=jL;var GM="ToastAction",qM=q.forwardRef((t,e)=>{const{altText:r,...l}=t;return r.trim()?w.jsx(HM,{altText:r,asChild:!0,children:w.jsx(Xb,{...l,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GM}\`. Expected non-empty \`string\`.`),null)});qM.displayName=GM;var WM="ToastClose",Xb=q.forwardRef((t,e)=>{const{__scopeToast:r,...l}=t,p=FL(WM,r);return w.jsx(HM,{asChild:!0,children:w.jsx(Jn.button,{type:"button",...l,ref:e,onClick:ao(t.onClick,p.onClose)})})});Xb.displayName=WM;var HM=q.forwardRef((t,e)=>{const{__scopeToast:r,altText:l,...p}=t;return w.jsx(Jn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":l||void 0,...p,ref:e})});function ZM(t){const e=[];return Array.from(t.childNodes).forEach(l=>{if(l.nodeType===l.TEXT_NODE&&l.textContent&&e.push(l.textContent),VL(l)){const p=l.ariaHidden||l.hidden||l.style.display==="none",g=l.dataset.radixToastAnnounceExclude==="";if(!p)if(g){const _=l.dataset.radixToastAnnounceAlt;_&&e.push(_)}else e.push(...ZM(l))}}),e}function Pg(t,e,r,{discrete:l}){const p=r.originalEvent.currentTarget,g=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&p.addEventListener(t,e,{once:!0}),l?kM(p,g):p.dispatchEvent(g)}var KT=(t,e,r=0)=>{const l=Math.abs(t.x),p=Math.abs(t.y),g=l>p;return e==="left"||e==="right"?g&&l>r:!g&&p>r};function OL(t=()=>{}){const e=vr(t);ii(()=>{let r=0,l=0;return r=window.requestAnimationFrame(()=>l=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(l)}},[e])}function VL(t){return t.nodeType===t.ELEMENT_NODE}function UL(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const p=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||p?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Gy(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var $L=LM,XM=jM,KM=VM,YM=UM,QM=$M,JM=qM,tk=Xb;function ek(t){var e,r,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t)){var p=t.length;for(e=0;e<p;e++)t[e]&&(r=ek(t[e]))&&(l&&(l+=" "),l+=r)}else for(r in t)t[r]&&(l&&(l+=" "),l+=r);return l}function nk(){for(var t,e,r=0,l="",p=arguments.length;r<p;r++)(t=arguments[r])&&(e=ek(t))&&(l&&(l+=" "),l+=e);return l}const YT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,QT=nk,Kb=(t,e)=>r=>{var l;if((e==null?void 0:e.variants)==null)return QT(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:p,defaultVariants:g}=e,_=Object.keys(p).map(E=>{const B=r==null?void 0:r[E],F=g==null?void 0:g[E];if(B===null)return null;const N=YT(B)||YT(F);return p[E][N]}),C=r&&Object.entries(r).reduce((E,B)=>{let[F,N]=B;return N===void 0||(E[F]=N),E},{}),i=e==null||(l=e.compoundVariants)===null||l===void 0?void 0:l.reduce((E,B)=>{let{class:F,className:N,...V}=B;return Object.entries(V).every(Q=>{let[H,tt]=Q;return Array.isArray(tt)?tt.includes({...g,...C}[H]):{...g,...C}[H]===tt})?[...E,F,N]:E},[]);return QT(t,_,i,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=(...t)=>t.filter((e,r,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:p="",children:g,iconNode:_,...C},i)=>q.createElement("svg",{ref:i,...qL,width:e,height:e,stroke:t,strokeWidth:l?Number(r)*24/Number(e):r,className:ok("lucide",p),...C},[..._.map(([E,B])=>q.createElement(E,B)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=(t,e)=>{const r=q.forwardRef(({className:l,...p},g)=>q.createElement(WL,{ref:g,iconNode:e,className:ok(`lucide-${GL(t)}`,l),...p}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ln("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ln("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ln("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=ln("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ln("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ln("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=ln("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ln("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ln("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ln("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ln("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=ln("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=ln("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ln("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ln("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ln("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=ln("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=ln("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=ln("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=ln("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=ln("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=ln("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=ln("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ln("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ln("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ln("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=ln("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ln("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ln("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ln("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=ln("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=ln("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ln("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=ln("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=ln("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ln("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ew="-",mz=t=>{const e=fz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=t;return{getClassGroupId:_=>{const C=_.split(ew);return C[0]===""&&C.length!==1&&C.shift(),mk(C,e)||hz(_)},getConflictingClassGroupIds:(_,C)=>{const i=r[_]||[];return C&&l[_]?[...i,...l[_]]:i}}},mk=(t,e)=>{var _;if(t.length===0)return e.classGroupId;const r=t[0],l=e.nextPart.get(r),p=l?mk(t.slice(1),l):void 0;if(p)return p;if(e.validators.length===0)return;const g=t.join(ew);return(_=e.validators.find(({validator:C})=>C(g)))==null?void 0:_.classGroupId},JT=/^\[(.+)\]$/,hz=t=>{if(JT.test(t)){const e=JT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},fz=t=>{const{theme:e,prefix:r}=t,l={nextPart:new Map,validators:[]};return xz(Object.entries(t.classGroups),r).forEach(([g,_])=>{v1(_,l,g,e)}),l},v1=(t,e,r,l)=>{t.forEach(p=>{if(typeof p=="string"){const g=p===""?e:tS(e,p);g.classGroupId=r;return}if(typeof p=="function"){if(gz(p)){v1(p(l),e,r,l);return}e.validators.push({validator:p,classGroupId:r});return}Object.entries(p).forEach(([g,_])=>{v1(_,tS(e,g),r,l)})})},tS=(t,e)=>{let r=t;return e.split(ew).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},gz=t=>t.isThemeGetter,xz=(t,e)=>e?t.map(([r,l])=>{const p=l.map(g=>typeof g=="string"?e+g:typeof g=="object"?Object.fromEntries(Object.entries(g).map(([_,C])=>[e+_,C])):g);return[r,p]}):t,vz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,l=new Map;const p=(g,_)=>{r.set(g,_),e++,e>t&&(e=0,l=r,r=new Map)};return{get(g){let _=r.get(g);if(_!==void 0)return _;if((_=l.get(g))!==void 0)return p(g,_),_},set(g,_){r.has(g)?r.set(g,_):p(g,_)}}},hk="!",yz=t=>{const{separator:e,experimentalParseClassName:r}=t,l=e.length===1,p=e[0],g=e.length,_=C=>{const i=[];let E=0,B=0,F;for(let tt=0;tt<C.length;tt++){let W=C[tt];if(E===0){if(W===p&&(l||C.slice(tt,tt+g)===e)){i.push(C.slice(B,tt)),B=tt+g;continue}if(W==="/"){F=tt;continue}}W==="["?E++:W==="]"&&E--}const N=i.length===0?C:C.substring(B),V=N.startsWith(hk),Q=V?N.substring(1):N,H=F&&F>B?F-B:void 0;return{modifiers:i,hasImportantModifier:V,baseClassName:Q,maybePostfixModifierPosition:H}};return r?C=>r({className:C,parseClassName:_}):_},_z=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(l=>{l[0]==="["?(e.push(...r.sort(),l),r=[]):r.push(l)}),e.push(...r.sort()),e},bz=t=>({cache:vz(t.cacheSize),parseClassName:yz(t),...mz(t)}),wz=/\s+/,Cz=(t,e)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:p}=e,g=[],_=t.trim().split(wz);let C="";for(let i=_.length-1;i>=0;i-=1){const E=_[i],{modifiers:B,hasImportantModifier:F,baseClassName:N,maybePostfixModifierPosition:V}=r(E);let Q=!!V,H=l(Q?N.substring(0,V):N);if(!H){if(!Q){C=E+(C.length>0?" "+C:C);continue}if(H=l(N),!H){C=E+(C.length>0?" "+C:C);continue}Q=!1}const tt=_z(B).join(":"),W=F?tt+hk:tt,$=W+H;if(g.includes($))continue;g.push($);const Z=p(H,Q);for(let dt=0;dt<Z.length;++dt){const ft=Z[dt];g.push(W+ft)}C=E+(C.length>0?" "+C:C)}return C};function Az(){let t=0,e,r,l="";for(;t<arguments.length;)(e=arguments[t++])&&(r=fk(e))&&(l&&(l+=" "),l+=r);return l}const fk=t=>{if(typeof t=="string")return t;let e,r="";for(let l=0;l<t.length;l++)t[l]&&(e=fk(t[l]))&&(r&&(r+=" "),r+=e);return r};function Tz(t,...e){let r,l,p,g=_;function _(i){const E=e.reduce((B,F)=>F(B),t());return r=bz(E),l=r.cache.get,p=r.cache.set,g=C,C(i)}function C(i){const E=l(i);if(E)return E;const B=Cz(i,r);return p(i,B),B}return function(){return g(Az.apply(null,arguments))}}const Kn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},gk=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sz=/^\d+\/\d+$/,Ez=new Set(["px","full","screen"]),Pz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mi=t=>Zu(t)||Ez.has(t)||Sz.test(t),wl=t=>Ap(t,"length",Oz),Zu=t=>!!t&&!Number.isNaN(Number(t)),qy=t=>Ap(t,"number",Zu),xh=t=>!!t&&Number.isInteger(Number(t)),Nz=t=>t.endsWith("%")&&Zu(t.slice(0,-1)),an=t=>gk.test(t),Cl=t=>Pz.test(t),Iz=new Set(["length","size","percentage"]),Fz=t=>Ap(t,Iz,xk),Rz=t=>Ap(t,"position",xk),Lz=new Set(["image","url"]),zz=t=>Ap(t,Lz,Uz),jz=t=>Ap(t,"",Vz),vh=()=>!0,Ap=(t,e,r)=>{const l=gk.exec(t);return l?l[1]?typeof e=="string"?l[1]===e:e.has(l[1]):r(l[2]):!1},Oz=t=>Dz.test(t)&&!Mz.test(t),xk=()=>!1,Vz=t=>kz.test(t),Uz=t=>Bz.test(t),$z=()=>{const t=Kn("colors"),e=Kn("spacing"),r=Kn("blur"),l=Kn("brightness"),p=Kn("borderColor"),g=Kn("borderRadius"),_=Kn("borderSpacing"),C=Kn("borderWidth"),i=Kn("contrast"),E=Kn("grayscale"),B=Kn("hueRotate"),F=Kn("invert"),N=Kn("gap"),V=Kn("gradientColorStops"),Q=Kn("gradientColorStopPositions"),H=Kn("inset"),tt=Kn("margin"),W=Kn("opacity"),$=Kn("padding"),Z=Kn("saturate"),dt=Kn("scale"),ft=Kn("sepia"),St=Kn("skew"),zt=Kn("space"),Ft=Kn("translate"),ie=()=>["auto","contain","none"],Dt=()=>["auto","hidden","clip","visible","scroll"],Ie=()=>["auto",an,e],Te=()=>[an,e],xe=()=>["",Mi,wl],ce=()=>["auto",Zu,an],en=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Fe=()=>["solid","dashed","dotted","double","none"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ot=()=>["start","end","center","between","around","evenly","stretch"],Zt=()=>["","0",an],we=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Zu,an];return{cacheSize:500,separator:":",theme:{colors:[vh],spacing:[Mi,wl],blur:["none","",Cl,an],brightness:fe(),borderColor:[t],borderRadius:["none","","full",Cl,an],borderSpacing:Te(),borderWidth:xe(),contrast:fe(),grayscale:Zt(),hueRotate:fe(),invert:Zt(),gap:Te(),gradientColorStops:[t],gradientColorStopPositions:[Nz,wl],inset:Ie(),margin:Ie(),opacity:fe(),padding:Te(),saturate:fe(),scale:fe(),sepia:Zt(),skew:fe(),space:Te(),translate:Te()},classGroups:{aspect:[{aspect:["auto","square","video",an]}],container:["container"],columns:[{columns:[Cl]}],"break-after":[{"break-after":we()}],"break-before":[{"break-before":we()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...en(),an]}],overflow:[{overflow:Dt()}],"overflow-x":[{"overflow-x":Dt()}],"overflow-y":[{"overflow-y":Dt()}],overscroll:[{overscroll:ie()}],"overscroll-x":[{"overscroll-x":ie()}],"overscroll-y":[{"overscroll-y":ie()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[H]}],"inset-x":[{"inset-x":[H]}],"inset-y":[{"inset-y":[H]}],start:[{start:[H]}],end:[{end:[H]}],top:[{top:[H]}],right:[{right:[H]}],bottom:[{bottom:[H]}],left:[{left:[H]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xh,an]}],basis:[{basis:Ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",an]}],grow:[{grow:Zt()}],shrink:[{shrink:Zt()}],order:[{order:["first","last","none",xh,an]}],"grid-cols":[{"grid-cols":[vh]}],"col-start-end":[{col:["auto",{span:["full",xh,an]},an]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[vh]}],"row-start-end":[{row:["auto",{span:[xh,an]},an]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",an]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",an]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...Ot()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ot(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ot(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[tt]}],mx:[{mx:[tt]}],my:[{my:[tt]}],ms:[{ms:[tt]}],me:[{me:[tt]}],mt:[{mt:[tt]}],mr:[{mr:[tt]}],mb:[{mb:[tt]}],ml:[{ml:[tt]}],"space-x":[{"space-x":[zt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[zt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",an,e]}],"min-w":[{"min-w":[an,e,"min","max","fit"]}],"max-w":[{"max-w":[an,e,"none","full","min","max","fit","prose",{screen:[Cl]},Cl]}],h:[{h:[an,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[an,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cl,wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qy]}],"font-family":[{font:[vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",an]}],"line-clamp":[{"line-clamp":["none",Zu,qy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mi,an]}],"list-image":[{"list-image":["none",an]}],"list-style-type":[{list:["none","disc","decimal",an]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[W]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mi,wl]}],"underline-offset":[{"underline-offset":["auto",Mi,an]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",an]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",an]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[W]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...en(),Rz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[Q]}],"gradient-via-pos":[{via:[Q]}],"gradient-to-pos":[{to:[Q]}],"gradient-from":[{from:[V]}],"gradient-via":[{via:[V]}],"gradient-to":[{to:[V]}],rounded:[{rounded:[g]}],"rounded-s":[{"rounded-s":[g]}],"rounded-e":[{"rounded-e":[g]}],"rounded-t":[{"rounded-t":[g]}],"rounded-r":[{"rounded-r":[g]}],"rounded-b":[{"rounded-b":[g]}],"rounded-l":[{"rounded-l":[g]}],"rounded-ss":[{"rounded-ss":[g]}],"rounded-se":[{"rounded-se":[g]}],"rounded-ee":[{"rounded-ee":[g]}],"rounded-es":[{"rounded-es":[g]}],"rounded-tl":[{"rounded-tl":[g]}],"rounded-tr":[{"rounded-tr":[g]}],"rounded-br":[{"rounded-br":[g]}],"rounded-bl":[{"rounded-bl":[g]}],"border-w":[{border:[C]}],"border-w-x":[{"border-x":[C]}],"border-w-y":[{"border-y":[C]}],"border-w-s":[{"border-s":[C]}],"border-w-e":[{"border-e":[C]}],"border-w-t":[{"border-t":[C]}],"border-w-r":[{"border-r":[C]}],"border-w-b":[{"border-b":[C]}],"border-w-l":[{"border-l":[C]}],"border-opacity":[{"border-opacity":[W]}],"border-style":[{border:[...Fe(),"hidden"]}],"divide-x":[{"divide-x":[C]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[C]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[W]}],"divide-style":[{divide:Fe()}],"border-color":[{border:[p]}],"border-color-x":[{"border-x":[p]}],"border-color-y":[{"border-y":[p]}],"border-color-s":[{"border-s":[p]}],"border-color-e":[{"border-e":[p]}],"border-color-t":[{"border-t":[p]}],"border-color-r":[{"border-r":[p]}],"border-color-b":[{"border-b":[p]}],"border-color-l":[{"border-l":[p]}],"divide-color":[{divide:[p]}],"outline-style":[{outline:["",...Fe()]}],"outline-offset":[{"outline-offset":[Mi,an]}],"outline-w":[{outline:[Mi,wl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[W]}],"ring-offset-w":[{"ring-offset":[Mi,wl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cl,jz]}],"shadow-color":[{shadow:[vh]}],opacity:[{opacity:[W]}],"mix-blend":[{"mix-blend":[...Be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Be()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",Cl,an]}],grayscale:[{grayscale:[E]}],"hue-rotate":[{"hue-rotate":[B]}],invert:[{invert:[F]}],saturate:[{saturate:[Z]}],sepia:[{sepia:[ft]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[E]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[B]}],"backdrop-invert":[{"backdrop-invert":[F]}],"backdrop-opacity":[{"backdrop-opacity":[W]}],"backdrop-saturate":[{"backdrop-saturate":[Z]}],"backdrop-sepia":[{"backdrop-sepia":[ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[_]}],"border-spacing-x":[{"border-spacing-x":[_]}],"border-spacing-y":[{"border-spacing-y":[_]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",an]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",an]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",an]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[dt]}],"scale-x":[{"scale-x":[dt]}],"scale-y":[{"scale-y":[dt]}],rotate:[{rotate:[xh,an]}],"translate-x":[{"translate-x":[Ft]}],"translate-y":[{"translate-y":[Ft]}],"skew-x":[{"skew-x":[St]}],"skew-y":[{"skew-y":[St]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",an]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",an]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Te()}],"scroll-mx":[{"scroll-mx":Te()}],"scroll-my":[{"scroll-my":Te()}],"scroll-ms":[{"scroll-ms":Te()}],"scroll-me":[{"scroll-me":Te()}],"scroll-mt":[{"scroll-mt":Te()}],"scroll-mr":[{"scroll-mr":Te()}],"scroll-mb":[{"scroll-mb":Te()}],"scroll-ml":[{"scroll-ml":Te()}],"scroll-p":[{"scroll-p":Te()}],"scroll-px":[{"scroll-px":Te()}],"scroll-py":[{"scroll-py":Te()}],"scroll-ps":[{"scroll-ps":Te()}],"scroll-pe":[{"scroll-pe":Te()}],"scroll-pt":[{"scroll-pt":Te()}],"scroll-pr":[{"scroll-pr":Te()}],"scroll-pb":[{"scroll-pb":Te()}],"scroll-pl":[{"scroll-pl":Te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",an]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mi,wl,qy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gz=Tz($z);function Hn(...t){return Gz(nk(t))}const qz=$L,vk=q.forwardRef(({className:t,...e},r)=>w.jsx(XM,{"data-lov-id":"src/components/ui/toast.tsx:14:2","data-lov-name":"ToastPrimitives.Viewport","data-component-path":"src/components/ui/toast.tsx","data-component-line":"14","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Viewport","data-component-content":"%7B%7D",ref:r,className:Hn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vk.displayName=XM.displayName;const Wz=Kb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yk=q.forwardRef(({className:t,variant:e,...r},l)=>w.jsx(KM,{"data-lov-id":"src/components/ui/toast.tsx:47:4","data-lov-name":"ToastPrimitives.Root","data-component-path":"src/components/ui/toast.tsx","data-component-line":"47","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Root","data-component-content":"%7B%7D",ref:l,className:Hn(Wz({variant:e}),t),...r}));yk.displayName=KM.displayName;const Hz=q.forwardRef(({className:t,...e},r)=>w.jsx(JM,{"data-lov-id":"src/components/ui/toast.tsx:60:2","data-lov-name":"ToastPrimitives.Action","data-component-path":"src/components/ui/toast.tsx","data-component-line":"60","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Action","data-component-content":"%7B%7D",ref:r,className:Hn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Hz.displayName=JM.displayName;const _k=q.forwardRef(({className:t,...e},r)=>w.jsx(tk,{"data-lov-id":"src/components/ui/toast.tsx:75:2","data-lov-name":"ToastPrimitives.Close","data-component-path":"src/components/ui/toast.tsx","data-component-line":"75","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Close","data-component-content":"%7B%7D",ref:r,className:Hn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(hp,{"data-lov-id":"src/components/ui/toast.tsx:84:4","data-lov-name":"X","data-component-path":"src/components/ui/toast.tsx","data-component-line":"84","data-component-file":"toast.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"})}));_k.displayName=tk.displayName;const bk=q.forwardRef(({className:t,...e},r)=>w.jsx(YM,{"data-lov-id":"src/components/ui/toast.tsx:93:2","data-lov-name":"ToastPrimitives.Title","data-component-path":"src/components/ui/toast.tsx","data-component-line":"93","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Title","data-component-content":"%7B%7D",ref:r,className:Hn("text-sm font-semibold",t),...e}));bk.displayName=YM.displayName;const wk=q.forwardRef(({className:t,...e},r)=>w.jsx(QM,{"data-lov-id":"src/components/ui/toast.tsx:105:2","data-lov-name":"ToastPrimitives.Description","data-component-path":"src/components/ui/toast.tsx","data-component-line":"105","data-component-file":"toast.tsx","data-component-name":"ToastPrimitives.Description","data-component-content":"%7B%7D",ref:r,className:Hn("text-sm opacity-90",t),...e}));wk.displayName=QM.displayName;function Zz(){const{toasts:t}=wp();return w.jsxs(qz,{"data-lov-id":"src/components/ui/toaster.tsx:15:4","data-lov-name":"ToastProvider","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"15","data-component-file":"toaster.tsx","data-component-name":"ToastProvider","data-component-content":"%7B%7D",children:[t.map(function({id:e,title:r,description:l,action:p,...g}){return w.jsxs(yk,{"data-lov-id":"src/components/ui/toaster.tsx:18:10","data-lov-name":"Toast","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"18","data-component-file":"toaster.tsx","data-component-name":"Toast","data-component-content":"%7B%7D",...g,children:[w.jsxs("div",{"data-lov-id":"src/components/ui/toaster.tsx:19:12","data-lov-name":"div","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"19","data-component-file":"toaster.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20gap-1%22%7D",className:"grid gap-1",children:[r&&w.jsx(bk,{"data-lov-id":"src/components/ui/toaster.tsx:20:24","data-lov-name":"ToastTitle","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"20","data-component-file":"toaster.tsx","data-component-name":"ToastTitle","data-component-content":"%7B%7D",children:r}),l&&w.jsx(wk,{"data-lov-id":"src/components/ui/toaster.tsx:22:16","data-lov-name":"ToastDescription","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"22","data-component-file":"toaster.tsx","data-component-name":"ToastDescription","data-component-content":"%7B%7D",children:l})]}),p,w.jsx(_k,{"data-lov-id":"src/components/ui/toaster.tsx:26:12","data-lov-name":"ToastClose","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"26","data-component-file":"toaster.tsx","data-component-name":"ToastClose","data-component-content":"%7B%7D"})]},e)}),w.jsx(vk,{"data-lov-id":"src/components/ui/toaster.tsx:30:6","data-lov-name":"ToastViewport","data-component-path":"src/components/ui/toaster.tsx","data-component-line":"30","data-component-file":"toaster.tsx","data-component-name":"ToastViewport","data-component-content":"%7B%7D"})]})}var eS=["light","dark"],Xz="(prefers-color-scheme: dark)",Kz=q.createContext(void 0),Yz={setTheme:t=>{},themes:[]},Qz=()=>{var t;return(t=q.useContext(Kz))!=null?t:Yz};q.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:l,enableColorScheme:p,defaultTheme:g,value:_,attrs:C,nonce:i})=>{let E=g==="system",B=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${C.map(Q=>`'${Q}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,F=p?eS.includes(g)&&g?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${g}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",N=(Q,H=!1,tt=!0)=>{let W=_?_[Q]:Q,$=H?Q+"|| ''":`'${W}'`,Z="";return p&&tt&&!H&&eS.includes(Q)&&(Z+=`d.style.colorScheme = '${Q}';`),r==="class"?H||W?Z+=`c.add(${$})`:Z+="null":W&&(Z+=`d[s](n,${$})`),Z},V=t?`!function(){${B}${N(t)}}()`:l?`!function(){try{${B}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${E})){var t='${Xz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${N("dark")}}else{${N("light")}}}else if(e){${_?`var x=${JSON.stringify(_)};`:""}${N(_?"x[e]":"e",!0)}}${E?"":"else{"+N(g,!1,!1)+"}"}${F}}catch(e){}}()`:`!function(){try{${B}var e=localStorage.getItem('${e}');if(e){${_?`var x=${JSON.stringify(_)};`:""}${N(_?"x[e]":"e",!0)}}else{${N(g,!1,!1)};}${F}}catch(t){}}();`;return q.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:V}})});var Jz=t=>{switch(t){case"success":return n6;case"info":return a6;case"warning":return o6;case"error":return r6;default:return null}},t6=Array(12).fill(0),e6=({visible:t})=>ye.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ye.createElement("div",{className:"sonner-spinner"},t6.map((e,r)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),n6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),r6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),s6=()=>{let[t,e]=ye.useState(document.hidden);return ye.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},y1=1,i6=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...l}=t,p=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:y1++,g=this.toasts.find(C=>C.id===p),_=t.dismissible===void 0?!0:t.dismissible;return g?this.toasts=this.toasts.map(C=>C.id===p?(this.publish({...C,...t,id:p,title:r}),{...C,...t,id:p,dismissible:_,title:r}):C):this.addToast({title:r,...l,dismissible:_,id:p}),p},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let l=t instanceof Promise?t:t(),p=r!==void 0;return l.then(async g=>{if(c6(g)&&!g.ok){p=!1;let _=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,C=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description;this.create({id:r,type:"error",message:_,description:C})}else if(e.success!==void 0){p=!1;let _=typeof e.success=="function"?await e.success(g):e.success,C=typeof e.description=="function"?await e.description(g):e.description;this.create({id:r,type:"success",message:_,description:C})}}).catch(async g=>{if(e.error!==void 0){p=!1;let _=typeof e.error=="function"?await e.error(g):e.error,C=typeof e.description=="function"?await e.description(g):e.description;this.create({id:r,type:"error",message:_,description:C})}}).finally(()=>{var g;p&&(this.dismiss(r),r=void 0),(g=e.finally)==null||g.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||y1++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},ur=new i6,l6=(t,e)=>{let r=(e==null?void 0:e.id)||y1++;return ur.addToast({title:t,...e,id:r}),r},c6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",d6=l6,u6=()=>ur.toasts;Object.assign(d6,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:u6});function p6(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",e==="top"&&r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}p6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dg(t){return t.label!==void 0}var m6=3,h6="32px",f6=4e3,g6=356,x6=14,v6=20,y6=200;function _6(...t){return t.filter(Boolean).join(" ")}var b6=t=>{var e,r,l,p,g,_,C,i,E,B;let{invert:F,toast:N,unstyled:V,interacting:Q,setHeights:H,visibleToasts:tt,heights:W,index:$,toasts:Z,expanded:dt,removeToast:ft,defaultRichColors:St,closeButton:zt,style:Ft,cancelButtonStyle:ie,actionButtonStyle:Dt,className:Ie="",descriptionClassName:Te="",duration:xe,position:ce,gap:en,loadingIcon:Fe,expandByDefault:Be,classNames:Ot,icons:Zt,closeButtonAriaLabel:we="Close toast",pauseWhenPageIsHidden:fe,cn:Ce}=t,[Ze,He]=ye.useState(!1),[to,cn]=ye.useState(!1),[yo,Mo]=ye.useState(!1),[Sa,qo]=ye.useState(!1),[nr,qe]=ye.useState(0),[ca,Eo]=ye.useState(0),br=ye.useRef(null),gn=ye.useRef(null),Wo=$===0,Bs=$+1<=tt,Rn=N.type,_o=N.dismissible!==!1,ui=N.className||"",Ns=N.descriptionClassName||"",wr=ye.useMemo(()=>W.findIndex(Oe=>Oe.toastId===N.id)||0,[W,N.id]),Cr=ye.useMemo(()=>{var Oe;return(Oe=N.closeButton)!=null?Oe:zt},[N.closeButton,zt]),Wr=ye.useMemo(()=>N.duration||xe||f6,[N.duration,xe]),Is=ye.useRef(0),or=ye.useRef(0),na=ye.useRef(0),oa=ye.useRef(null),[Fs,Hr]=ce.split("-"),Zr=ye.useMemo(()=>W.reduce((Oe,bn,ct)=>ct>=wr?Oe:Oe+bn.height,0),[W,wr]),Rs=s6(),Xr=N.invert||F,ja=Rn==="loading";or.current=ye.useMemo(()=>wr*en+Zr,[wr,Zr]),ye.useEffect(()=>{He(!0)},[]),ye.useLayoutEffect(()=>{if(!Ze)return;let Oe=gn.current,bn=Oe.style.height;Oe.style.height="auto";let ct=Oe.getBoundingClientRect().height;Oe.style.height=bn,Eo(ct),H(X=>X.find(K=>K.toastId===N.id)?X.map(K=>K.toastId===N.id?{...K,height:ct}:K):[{toastId:N.id,height:ct,position:N.position},...X])},[Ze,N.title,N.description,H,N.id]);let Ho=ye.useCallback(()=>{cn(!0),qe(or.current),H(Oe=>Oe.filter(bn=>bn.toastId!==N.id)),setTimeout(()=>{ft(N)},y6)},[N,ft,H,or]);ye.useEffect(()=>{if(N.promise&&Rn==="loading"||N.duration===1/0||N.type==="loading")return;let Oe,bn=Wr;return dt||Q||fe&&Rs?(()=>{if(na.current<Is.current){let ct=new Date().getTime()-Is.current;bn=bn-ct}na.current=new Date().getTime()})():bn!==1/0&&(Is.current=new Date().getTime(),Oe=setTimeout(()=>{var ct;(ct=N.onAutoClose)==null||ct.call(N,N),Ho()},bn)),()=>clearTimeout(Oe)},[dt,Q,Be,N,Wr,Ho,N.promise,Rn,fe,Rs]),ye.useEffect(()=>{let Oe=gn.current;if(Oe){let bn=Oe.getBoundingClientRect().height;return Eo(bn),H(ct=>[{toastId:N.id,height:bn,position:N.position},...ct]),()=>H(ct=>ct.filter(X=>X.toastId!==N.id))}},[H,N.id]),ye.useEffect(()=>{N.delete&&Ho()},[Ho,N.delete]);function Kr(){return Zt!=null&&Zt.loading?ye.createElement("div",{className:"sonner-loader","data-visible":Rn==="loading"},Zt.loading):Fe?ye.createElement("div",{className:"sonner-loader","data-visible":Rn==="loading"},Fe):ye.createElement(e6,{visible:Rn==="loading"})}return ye.createElement("li",{"aria-live":N.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gn,className:Ce(Ie,ui,Ot==null?void 0:Ot.toast,(e=N==null?void 0:N.classNames)==null?void 0:e.toast,Ot==null?void 0:Ot.default,Ot==null?void 0:Ot[Rn],(r=N==null?void 0:N.classNames)==null?void 0:r[Rn]),"data-sonner-toast":"","data-rich-colors":(l=N.richColors)!=null?l:St,"data-styled":!(N.jsx||N.unstyled||V),"data-mounted":Ze,"data-promise":!!N.promise,"data-removed":to,"data-visible":Bs,"data-y-position":Fs,"data-x-position":Hr,"data-index":$,"data-front":Wo,"data-swiping":yo,"data-dismissible":_o,"data-type":Rn,"data-invert":Xr,"data-swipe-out":Sa,"data-expanded":!!(dt||Be&&Ze),style:{"--index":$,"--toasts-before":$,"--z-index":Z.length-$,"--offset":`${to?nr:or.current}px`,"--initial-height":Be?"auto":`${ca}px`,...Ft,...N.style},onPointerDown:Oe=>{ja||!_o||(br.current=new Date,qe(or.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Mo(!0),oa.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,bn,ct,X;if(Sa||!_o)return;oa.current=null;let K=Number(((Oe=gn.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),pt=new Date().getTime()-((bn=br.current)==null?void 0:bn.getTime()),vt=Math.abs(K)/pt;if(Math.abs(K)>=v6||vt>.11){qe(or.current),(ct=N.onDismiss)==null||ct.call(N,N),Ho(),qo(!0);return}(X=gn.current)==null||X.style.setProperty("--swipe-amount","0px"),Mo(!1)},onPointerMove:Oe=>{var bn;if(!oa.current||!_o)return;let ct=Oe.clientY-oa.current.y,X=Oe.clientX-oa.current.x,K=(Fs==="top"?Math.min:Math.max)(0,ct),pt=Oe.pointerType==="touch"?10:2;Math.abs(K)>pt?(bn=gn.current)==null||bn.style.setProperty("--swipe-amount",`${ct}px`):Math.abs(X)>pt&&(oa.current=null)}},Cr&&!N.jsx?ye.createElement("button",{"aria-label":we,"data-disabled":ja,"data-close-button":!0,onClick:ja||!_o?()=>{}:()=>{var Oe;Ho(),(Oe=N.onDismiss)==null||Oe.call(N,N)},className:Ce(Ot==null?void 0:Ot.closeButton,(p=N==null?void 0:N.classNames)==null?void 0:p.closeButton)},ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,N.jsx||ye.isValidElement(N.title)?N.jsx||N.title:ye.createElement(ye.Fragment,null,Rn||N.icon||N.promise?ye.createElement("div",{"data-icon":"",className:Ce(Ot==null?void 0:Ot.icon,(g=N==null?void 0:N.classNames)==null?void 0:g.icon)},N.promise||N.type==="loading"&&!N.icon?N.icon||Kr():null,N.type!=="loading"?N.icon||(Zt==null?void 0:Zt[Rn])||Jz(Rn):null):null,ye.createElement("div",{"data-content":"",className:Ce(Ot==null?void 0:Ot.content,(_=N==null?void 0:N.classNames)==null?void 0:_.content)},ye.createElement("div",{"data-title":"",className:Ce(Ot==null?void 0:Ot.title,(C=N==null?void 0:N.classNames)==null?void 0:C.title)},N.title),N.description?ye.createElement("div",{"data-description":"",className:Ce(Te,Ns,Ot==null?void 0:Ot.description,(i=N==null?void 0:N.classNames)==null?void 0:i.description)},N.description):null),ye.isValidElement(N.cancel)?N.cancel:N.cancel&&Dg(N.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:N.cancelButtonStyle||ie,onClick:Oe=>{var bn,ct;Dg(N.cancel)&&_o&&((ct=(bn=N.cancel).onClick)==null||ct.call(bn,Oe),Ho())},className:Ce(Ot==null?void 0:Ot.cancelButton,(E=N==null?void 0:N.classNames)==null?void 0:E.cancelButton)},N.cancel.label):null,ye.isValidElement(N.action)?N.action:N.action&&Dg(N.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:N.actionButtonStyle||Dt,onClick:Oe=>{var bn,ct;Dg(N.action)&&(Oe.defaultPrevented||((ct=(bn=N.action).onClick)==null||ct.call(bn,Oe),Ho()))},className:Ce(Ot==null?void 0:Ot.actionButton,(B=N==null?void 0:N.classNames)==null?void 0:B.actionButton)},N.action.label):null))};function nS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var w6=t=>{let{invert:e,position:r="bottom-right",hotkey:l=["altKey","KeyT"],expand:p,closeButton:g,className:_,offset:C,theme:i="light",richColors:E,duration:B,style:F,visibleToasts:N=m6,toastOptions:V,dir:Q=nS(),gap:H=x6,loadingIcon:tt,icons:W,containerAriaLabel:$="Notifications",pauseWhenPageIsHidden:Z,cn:dt=_6}=t,[ft,St]=ye.useState([]),zt=ye.useMemo(()=>Array.from(new Set([r].concat(ft.filter(fe=>fe.position).map(fe=>fe.position)))),[ft,r]),[Ft,ie]=ye.useState([]),[Dt,Ie]=ye.useState(!1),[Te,xe]=ye.useState(!1),[ce,en]=ye.useState(i!=="system"?i:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Fe=ye.useRef(null),Be=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ot=ye.useRef(null),Zt=ye.useRef(!1),we=ye.useCallback(fe=>{var Ce;(Ce=ft.find(Ze=>Ze.id===fe.id))!=null&&Ce.delete||ur.dismiss(fe.id),St(Ze=>Ze.filter(({id:He})=>He!==fe.id))},[ft]);return ye.useEffect(()=>ur.subscribe(fe=>{if(fe.dismiss){St(Ce=>Ce.map(Ze=>Ze.id===fe.id?{...Ze,delete:!0}:Ze));return}setTimeout(()=>{EM.flushSync(()=>{St(Ce=>{let Ze=Ce.findIndex(He=>He.id===fe.id);return Ze!==-1?[...Ce.slice(0,Ze),{...Ce[Ze],...fe},...Ce.slice(Ze+1)]:[fe,...Ce]})})})}),[]),ye.useEffect(()=>{if(i!=="system"){en(i);return}i==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?en("dark"):en("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:fe})=>{en(fe?"dark":"light")})},[i]),ye.useEffect(()=>{ft.length<=1&&Ie(!1)},[ft]),ye.useEffect(()=>{let fe=Ce=>{var Ze,He;l.every(to=>Ce[to]||Ce.code===to)&&(Ie(!0),(Ze=Fe.current)==null||Ze.focus()),Ce.code==="Escape"&&(document.activeElement===Fe.current||(He=Fe.current)!=null&&He.contains(document.activeElement))&&Ie(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[l]),ye.useEffect(()=>{if(Fe.current)return()=>{Ot.current&&(Ot.current.focus({preventScroll:!0}),Ot.current=null,Zt.current=!1)}},[Fe.current]),ft.length?ye.createElement("section",{"aria-label":`${$} ${Be}`,tabIndex:-1},zt.map((fe,Ce)=>{var Ze;let[He,to]=fe.split("-");return ye.createElement("ol",{key:fe,dir:Q==="auto"?nS():Q,tabIndex:-1,ref:Fe,className:_,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":He,"data-x-position":to,style:{"--front-toast-height":`${((Ze=Ft[0])==null?void 0:Ze.height)||0}px`,"--offset":typeof C=="number"?`${C}px`:C||h6,"--width":`${g6}px`,"--gap":`${H}px`,...F},onBlur:cn=>{Zt.current&&!cn.currentTarget.contains(cn.relatedTarget)&&(Zt.current=!1,Ot.current&&(Ot.current.focus({preventScroll:!0}),Ot.current=null))},onFocus:cn=>{cn.target instanceof HTMLElement&&cn.target.dataset.dismissible==="false"||Zt.current||(Zt.current=!0,Ot.current=cn.relatedTarget)},onMouseEnter:()=>Ie(!0),onMouseMove:()=>Ie(!0),onMouseLeave:()=>{Te||Ie(!1)},onPointerDown:cn=>{cn.target instanceof HTMLElement&&cn.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},ft.filter(cn=>!cn.position&&Ce===0||cn.position===fe).map((cn,yo)=>{var Mo,Sa;return ye.createElement(b6,{key:cn.id,icons:W,index:yo,toast:cn,defaultRichColors:E,duration:(Mo=V==null?void 0:V.duration)!=null?Mo:B,className:V==null?void 0:V.className,descriptionClassName:V==null?void 0:V.descriptionClassName,invert:e,visibleToasts:N,closeButton:(Sa=V==null?void 0:V.closeButton)!=null?Sa:g,interacting:Te,position:fe,style:V==null?void 0:V.style,unstyled:V==null?void 0:V.unstyled,classNames:V==null?void 0:V.classNames,cancelButtonStyle:V==null?void 0:V.cancelButtonStyle,actionButtonStyle:V==null?void 0:V.actionButtonStyle,removeToast:we,toasts:ft.filter(qo=>qo.position==cn.position),heights:Ft.filter(qo=>qo.position==cn.position),setHeights:ie,expandByDefault:p,gap:H,loadingIcon:tt,expanded:Dt,pauseWhenPageIsHidden:Z,cn:dt})}))})):null};const C6=({...t})=>{const{theme:e="system"}=Qz();return w.jsx(w6,{"data-lov-id":"src/components/ui/sonner.tsx:10:4","data-lov-name":"Sonner","data-component-path":"src/components/ui/sonner.tsx","data-component-line":"10","data-component-file":"sonner.tsx","data-component-name":"Sonner","data-component-content":"%7B%22className%22%3A%22toaster%20group%22%7D",theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var A6=AP.useId||(()=>{}),T6=0;function Wy(t){const[e,r]=q.useState(A6());return ii(()=>{t||r(l=>l??String(T6++))},[t]),t||(e?`radix-${e}`:"")}const S6=["top","right","bottom","left"],Yl=Math.min,mr=Math.max,zx=Math.round,Mg=Math.floor,Ql=t=>({x:t,y:t}),E6={left:"right",right:"left",bottom:"top",top:"bottom"},P6={start:"end",end:"start"};function _1(t,e,r){return mr(t,Yl(e,r))}function Vi(t,e){return typeof t=="function"?t(e):t}function Ui(t){return t.split("-")[0]}function Tp(t){return t.split("-")[1]}function nw(t){return t==="x"?"y":"x"}function ow(t){return t==="y"?"height":"width"}function Jl(t){return["top","bottom"].includes(Ui(t))?"y":"x"}function aw(t){return nw(Jl(t))}function D6(t,e,r){r===void 0&&(r=!1);const l=Tp(t),p=aw(t),g=ow(p);let _=p==="x"?l===(r?"end":"start")?"right":"left":l==="start"?"bottom":"top";return e.reference[g]>e.floating[g]&&(_=jx(_)),[_,jx(_)]}function M6(t){const e=jx(t);return[b1(t),e,b1(e)]}function b1(t){return t.replace(/start|end/g,e=>P6[e])}function k6(t,e,r){const l=["left","right"],p=["right","left"],g=["top","bottom"],_=["bottom","top"];switch(t){case"top":case"bottom":return r?e?p:l:e?l:p;case"left":case"right":return e?g:_;default:return[]}}function B6(t,e,r,l){const p=Tp(t);let g=k6(Ui(t),r==="start",l);return p&&(g=g.map(_=>_+"-"+p),e&&(g=g.concat(g.map(b1)))),g}function jx(t){return t.replace(/left|right|bottom|top/g,e=>E6[e])}function N6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ck(t){return typeof t!="number"?N6(t):{top:t,right:t,bottom:t,left:t}}function Ox(t){const{x:e,y:r,width:l,height:p}=t;return{width:l,height:p,top:r,left:e,right:e+l,bottom:r+p,x:e,y:r}}function oS(t,e,r){let{reference:l,floating:p}=t;const g=Jl(e),_=aw(e),C=ow(_),i=Ui(e),E=g==="y",B=l.x+l.width/2-p.width/2,F=l.y+l.height/2-p.height/2,N=l[C]/2-p[C]/2;let V;switch(i){case"top":V={x:B,y:l.y-p.height};break;case"bottom":V={x:B,y:l.y+l.height};break;case"right":V={x:l.x+l.width,y:F};break;case"left":V={x:l.x-p.width,y:F};break;default:V={x:l.x,y:l.y}}switch(Tp(e)){case"start":V[_]-=N*(r&&E?-1:1);break;case"end":V[_]+=N*(r&&E?-1:1);break}return V}const I6=async(t,e,r)=>{const{placement:l="bottom",strategy:p="absolute",middleware:g=[],platform:_}=r,C=g.filter(Boolean),i=await(_.isRTL==null?void 0:_.isRTL(e));let E=await _.getElementRects({reference:t,floating:e,strategy:p}),{x:B,y:F}=oS(E,l,i),N=l,V={},Q=0;for(let H=0;H<C.length;H++){const{name:tt,fn:W}=C[H],{x:$,y:Z,data:dt,reset:ft}=await W({x:B,y:F,initialPlacement:l,placement:N,strategy:p,middlewareData:V,rects:E,platform:_,elements:{reference:t,floating:e}});B=$??B,F=Z??F,V={...V,[tt]:{...V[tt],...dt}},ft&&Q<=50&&(Q++,typeof ft=="object"&&(ft.placement&&(N=ft.placement),ft.rects&&(E=ft.rects===!0?await _.getElementRects({reference:t,floating:e,strategy:p}):ft.rects),{x:B,y:F}=oS(E,N,i)),H=-1)}return{x:B,y:F,placement:N,strategy:p,middlewareData:V}};async function df(t,e){var r;e===void 0&&(e={});const{x:l,y:p,platform:g,rects:_,elements:C,strategy:i}=t,{boundary:E="clippingAncestors",rootBoundary:B="viewport",elementContext:F="floating",altBoundary:N=!1,padding:V=0}=Vi(e,t),Q=Ck(V),tt=C[N?F==="floating"?"reference":"floating":F],W=Ox(await g.getClippingRect({element:(r=await(g.isElement==null?void 0:g.isElement(tt)))==null||r?tt:tt.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(C.floating)),boundary:E,rootBoundary:B,strategy:i})),$=F==="floating"?{x:l,y:p,width:_.floating.width,height:_.floating.height}:_.reference,Z=await(g.getOffsetParent==null?void 0:g.getOffsetParent(C.floating)),dt=await(g.isElement==null?void 0:g.isElement(Z))?await(g.getScale==null?void 0:g.getScale(Z))||{x:1,y:1}:{x:1,y:1},ft=Ox(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:C,rect:$,offsetParent:Z,strategy:i}):$);return{top:(W.top-ft.top+Q.top)/dt.y,bottom:(ft.bottom-W.bottom+Q.bottom)/dt.y,left:(W.left-ft.left+Q.left)/dt.x,right:(ft.right-W.right+Q.right)/dt.x}}const F6=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:l,placement:p,rects:g,platform:_,elements:C,middlewareData:i}=e,{element:E,padding:B=0}=Vi(t,e)||{};if(E==null)return{};const F=Ck(B),N={x:r,y:l},V=aw(p),Q=ow(V),H=await _.getDimensions(E),tt=V==="y",W=tt?"top":"left",$=tt?"bottom":"right",Z=tt?"clientHeight":"clientWidth",dt=g.reference[Q]+g.reference[V]-N[V]-g.floating[Q],ft=N[V]-g.reference[V],St=await(_.getOffsetParent==null?void 0:_.getOffsetParent(E));let zt=St?St[Z]:0;(!zt||!await(_.isElement==null?void 0:_.isElement(St)))&&(zt=C.floating[Z]||g.floating[Q]);const Ft=dt/2-ft/2,ie=zt/2-H[Q]/2-1,Dt=Yl(F[W],ie),Ie=Yl(F[$],ie),Te=Dt,xe=zt-H[Q]-Ie,ce=zt/2-H[Q]/2+Ft,en=_1(Te,ce,xe),Fe=!i.arrow&&Tp(p)!=null&&ce!==en&&g.reference[Q]/2-(ce<Te?Dt:Ie)-H[Q]/2<0,Be=Fe?ce<Te?ce-Te:ce-xe:0;return{[V]:N[V]+Be,data:{[V]:en,centerOffset:ce-en-Be,...Fe&&{alignmentOffset:Be}},reset:Fe}}}),R6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,l;const{placement:p,middlewareData:g,rects:_,initialPlacement:C,platform:i,elements:E}=e,{mainAxis:B=!0,crossAxis:F=!0,fallbackPlacements:N,fallbackStrategy:V="bestFit",fallbackAxisSideDirection:Q="none",flipAlignment:H=!0,...tt}=Vi(t,e);if((r=g.arrow)!=null&&r.alignmentOffset)return{};const W=Ui(p),$=Jl(C),Z=Ui(C)===C,dt=await(i.isRTL==null?void 0:i.isRTL(E.floating)),ft=N||(Z||!H?[jx(C)]:M6(C)),St=Q!=="none";!N&&St&&ft.push(...B6(C,H,Q,dt));const zt=[C,...ft],Ft=await df(e,tt),ie=[];let Dt=((l=g.flip)==null?void 0:l.overflows)||[];if(B&&ie.push(Ft[W]),F){const ce=D6(p,_,dt);ie.push(Ft[ce[0]],Ft[ce[1]])}if(Dt=[...Dt,{placement:p,overflows:ie}],!ie.every(ce=>ce<=0)){var Ie,Te;const ce=(((Ie=g.flip)==null?void 0:Ie.index)||0)+1,en=zt[ce];if(en)return{data:{index:ce,overflows:Dt},reset:{placement:en}};let Fe=(Te=Dt.filter(Be=>Be.overflows[0]<=0).sort((Be,Ot)=>Be.overflows[1]-Ot.overflows[1])[0])==null?void 0:Te.placement;if(!Fe)switch(V){case"bestFit":{var xe;const Be=(xe=Dt.filter(Ot=>{if(St){const Zt=Jl(Ot.placement);return Zt===$||Zt==="y"}return!0}).map(Ot=>[Ot.placement,Ot.overflows.filter(Zt=>Zt>0).reduce((Zt,we)=>Zt+we,0)]).sort((Ot,Zt)=>Ot[1]-Zt[1])[0])==null?void 0:xe[0];Be&&(Fe=Be);break}case"initialPlacement":Fe=C;break}if(p!==Fe)return{reset:{placement:Fe}}}return{}}}};function aS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rS(t){return S6.some(e=>t[e]>=0)}const L6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:l="referenceHidden",...p}=Vi(t,e);switch(l){case"referenceHidden":{const g=await df(e,{...p,elementContext:"reference"}),_=aS(g,r.reference);return{data:{referenceHiddenOffsets:_,referenceHidden:rS(_)}}}case"escaped":{const g=await df(e,{...p,altBoundary:!0}),_=aS(g,r.floating);return{data:{escapedOffsets:_,escaped:rS(_)}}}default:return{}}}}};async function z6(t,e){const{placement:r,platform:l,elements:p}=t,g=await(l.isRTL==null?void 0:l.isRTL(p.floating)),_=Ui(r),C=Tp(r),i=Jl(r)==="y",E=["left","top"].includes(_)?-1:1,B=g&&i?-1:1,F=Vi(e,t);let{mainAxis:N,crossAxis:V,alignmentAxis:Q}=typeof F=="number"?{mainAxis:F,crossAxis:0,alignmentAxis:null}:{mainAxis:F.mainAxis||0,crossAxis:F.crossAxis||0,alignmentAxis:F.alignmentAxis};return C&&typeof Q=="number"&&(V=C==="end"?Q*-1:Q),i?{x:V*B,y:N*E}:{x:N*E,y:V*B}}const j6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,l;const{x:p,y:g,placement:_,middlewareData:C}=e,i=await z6(e,t);return _===((r=C.offset)==null?void 0:r.placement)&&(l=C.arrow)!=null&&l.alignmentOffset?{}:{x:p+i.x,y:g+i.y,data:{...i,placement:_}}}}},O6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:l,placement:p}=e,{mainAxis:g=!0,crossAxis:_=!1,limiter:C={fn:tt=>{let{x:W,y:$}=tt;return{x:W,y:$}}},...i}=Vi(t,e),E={x:r,y:l},B=await df(e,i),F=Jl(Ui(p)),N=nw(F);let V=E[N],Q=E[F];if(g){const tt=N==="y"?"top":"left",W=N==="y"?"bottom":"right",$=V+B[tt],Z=V-B[W];V=_1($,V,Z)}if(_){const tt=F==="y"?"top":"left",W=F==="y"?"bottom":"right",$=Q+B[tt],Z=Q-B[W];Q=_1($,Q,Z)}const H=C.fn({...e,[N]:V,[F]:Q});return{...H,data:{x:H.x-r,y:H.y-l,enabled:{[N]:g,[F]:_}}}}}},V6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:l,placement:p,rects:g,middlewareData:_}=e,{offset:C=0,mainAxis:i=!0,crossAxis:E=!0}=Vi(t,e),B={x:r,y:l},F=Jl(p),N=nw(F);let V=B[N],Q=B[F];const H=Vi(C,e),tt=typeof H=="number"?{mainAxis:H,crossAxis:0}:{mainAxis:0,crossAxis:0,...H};if(i){const Z=N==="y"?"height":"width",dt=g.reference[N]-g.floating[Z]+tt.mainAxis,ft=g.reference[N]+g.reference[Z]-tt.mainAxis;V<dt?V=dt:V>ft&&(V=ft)}if(E){var W,$;const Z=N==="y"?"width":"height",dt=["top","left"].includes(Ui(p)),ft=g.reference[F]-g.floating[Z]+(dt&&((W=_.offset)==null?void 0:W[F])||0)+(dt?0:tt.crossAxis),St=g.reference[F]+g.reference[Z]+(dt?0:(($=_.offset)==null?void 0:$[F])||0)-(dt?tt.crossAxis:0);Q<ft?Q=ft:Q>St&&(Q=St)}return{[N]:V,[F]:Q}}}},U6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,l;const{placement:p,rects:g,platform:_,elements:C}=e,{apply:i=()=>{},...E}=Vi(t,e),B=await df(e,E),F=Ui(p),N=Tp(p),V=Jl(p)==="y",{width:Q,height:H}=g.floating;let tt,W;F==="top"||F==="bottom"?(tt=F,W=N===(await(_.isRTL==null?void 0:_.isRTL(C.floating))?"start":"end")?"left":"right"):(W=F,tt=N==="end"?"top":"bottom");const $=H-B.top-B.bottom,Z=Q-B.left-B.right,dt=Yl(H-B[tt],$),ft=Yl(Q-B[W],Z),St=!e.middlewareData.shift;let zt=dt,Ft=ft;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(Ft=Z),(l=e.middlewareData.shift)!=null&&l.enabled.y&&(zt=$),St&&!N){const Dt=mr(B.left,0),Ie=mr(B.right,0),Te=mr(B.top,0),xe=mr(B.bottom,0);V?Ft=Q-2*(Dt!==0||Ie!==0?Dt+Ie:mr(B.left,B.right)):zt=H-2*(Te!==0||xe!==0?Te+xe:mr(B.top,B.bottom))}await i({...e,availableWidth:Ft,availableHeight:zt});const ie=await _.getDimensions(C.floating);return Q!==ie.width||H!==ie.height?{reset:{rects:!0}}:{}}}};function _2(){return typeof window<"u"}function Sp(t){return Ak(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function di(t){var e;return(e=(Ak(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ak(t){return _2()?t instanceof Node||t instanceof gr(t).Node:!1}function Ps(t){return _2()?t instanceof Element||t instanceof gr(t).Element:!1}function li(t){return _2()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function sS(t){return!_2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}function kf(t){const{overflow:e,overflowX:r,overflowY:l,display:p}=Ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+l+r)&&!["inline","contents"].includes(p)}function $6(t){return["table","td","th"].includes(Sp(t))}function b2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rw(t){const e=sw(),r=Ps(t)?Ds(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(l=>(r.willChange||"").includes(l))||["paint","layout","strict","content"].some(l=>(r.contain||"").includes(l))}function G6(t){let e=tc(t);for(;li(e)&&!fp(e);){if(rw(e))return e;if(b2(e))return null;e=tc(e)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fp(t){return["html","body","#document"].includes(Sp(t))}function Ds(t){return gr(t).getComputedStyle(t)}function w2(t){return Ps(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tc(t){if(Sp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sS(t)&&t.host||di(t);return sS(e)?e.host:e}function Tk(t){const e=tc(t);return fp(e)?t.ownerDocument?t.ownerDocument.body:t.body:li(e)&&kf(e)?e:Tk(e)}function uf(t,e,r){var l;e===void 0&&(e=[]),r===void 0&&(r=!0);const p=Tk(t),g=p===((l=t.ownerDocument)==null?void 0:l.body),_=gr(p);if(g){const C=w1(_);return e.concat(_,_.visualViewport||[],kf(p)?p:[],C&&r?uf(C):[])}return e.concat(p,uf(p,[],r))}function w1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sk(t){const e=Ds(t);let r=parseFloat(e.width)||0,l=parseFloat(e.height)||0;const p=li(t),g=p?t.offsetWidth:r,_=p?t.offsetHeight:l,C=zx(r)!==g||zx(l)!==_;return C&&(r=g,l=_),{width:r,height:l,$:C}}function iw(t){return Ps(t)?t:t.contextElement}function Xu(t){const e=iw(t);if(!li(e))return Ql(1);const r=e.getBoundingClientRect(),{width:l,height:p,$:g}=Sk(e);let _=(g?zx(r.width):r.width)/l,C=(g?zx(r.height):r.height)/p;return(!_||!Number.isFinite(_))&&(_=1),(!C||!Number.isFinite(C))&&(C=1),{x:_,y:C}}const q6=Ql(0);function Ek(t){const e=gr(t);return!sw()||!e.visualViewport?q6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W6(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==gr(t)?!1:e}function xd(t,e,r,l){e===void 0&&(e=!1),r===void 0&&(r=!1);const p=t.getBoundingClientRect(),g=iw(t);let _=Ql(1);e&&(l?Ps(l)&&(_=Xu(l)):_=Xu(t));const C=W6(g,r,l)?Ek(g):Ql(0);let i=(p.left+C.x)/_.x,E=(p.top+C.y)/_.y,B=p.width/_.x,F=p.height/_.y;if(g){const N=gr(g),V=l&&Ps(l)?gr(l):l;let Q=N,H=w1(Q);for(;H&&l&&V!==Q;){const tt=Xu(H),W=H.getBoundingClientRect(),$=Ds(H),Z=W.left+(H.clientLeft+parseFloat($.paddingLeft))*tt.x,dt=W.top+(H.clientTop+parseFloat($.paddingTop))*tt.y;i*=tt.x,E*=tt.y,B*=tt.x,F*=tt.y,i+=Z,E+=dt,Q=gr(H),H=w1(Q)}}return Ox({width:B,height:F,x:i,y:E})}function H6(t){let{elements:e,rect:r,offsetParent:l,strategy:p}=t;const g=p==="fixed",_=di(l),C=e?b2(e.floating):!1;if(l===_||C&&g)return r;let i={scrollLeft:0,scrollTop:0},E=Ql(1);const B=Ql(0),F=li(l);if((F||!F&&!g)&&((Sp(l)!=="body"||kf(_))&&(i=w2(l)),li(l))){const N=xd(l);E=Xu(l),B.x=N.x+l.clientLeft,B.y=N.y+l.clientTop}return{width:r.width*E.x,height:r.height*E.y,x:r.x*E.x-i.scrollLeft*E.x+B.x,y:r.y*E.y-i.scrollTop*E.y+B.y}}function Z6(t){return Array.from(t.getClientRects())}function C1(t,e){const r=w2(t).scrollLeft;return e?e.left+r:xd(di(t)).left+r}function X6(t){const e=di(t),r=w2(t),l=t.ownerDocument.body,p=mr(e.scrollWidth,e.clientWidth,l.scrollWidth,l.clientWidth),g=mr(e.scrollHeight,e.clientHeight,l.scrollHeight,l.clientHeight);let _=-r.scrollLeft+C1(t);const C=-r.scrollTop;return Ds(l).direction==="rtl"&&(_+=mr(e.clientWidth,l.clientWidth)-p),{width:p,height:g,x:_,y:C}}function K6(t,e){const r=gr(t),l=di(t),p=r.visualViewport;let g=l.clientWidth,_=l.clientHeight,C=0,i=0;if(p){g=p.width,_=p.height;const E=sw();(!E||E&&e==="fixed")&&(C=p.offsetLeft,i=p.offsetTop)}return{width:g,height:_,x:C,y:i}}function Y6(t,e){const r=xd(t,!0,e==="fixed"),l=r.top+t.clientTop,p=r.left+t.clientLeft,g=li(t)?Xu(t):Ql(1),_=t.clientWidth*g.x,C=t.clientHeight*g.y,i=p*g.x,E=l*g.y;return{width:_,height:C,x:i,y:E}}function iS(t,e,r){let l;if(e==="viewport")l=K6(t,r);else if(e==="document")l=X6(di(t));else if(Ps(e))l=Y6(e,r);else{const p=Ek(t);l={...e,x:e.x-p.x,y:e.y-p.y}}return Ox(l)}function Pk(t,e){const r=tc(t);return r===e||!Ps(r)||fp(r)?!1:Ds(r).position==="fixed"||Pk(r,e)}function Q6(t,e){const r=e.get(t);if(r)return r;let l=uf(t,[],!1).filter(C=>Ps(C)&&Sp(C)!=="body"),p=null;const g=Ds(t).position==="fixed";let _=g?tc(t):t;for(;Ps(_)&&!fp(_);){const C=Ds(_),i=rw(_);!i&&C.position==="fixed"&&(p=null),(g?!i&&!p:!i&&C.position==="static"&&!!p&&["absolute","fixed"].includes(p.position)||kf(_)&&!i&&Pk(t,_))?l=l.filter(B=>B!==_):p=C,_=tc(_)}return e.set(t,l),l}function J6(t){let{element:e,boundary:r,rootBoundary:l,strategy:p}=t;const _=[...r==="clippingAncestors"?b2(e)?[]:Q6(e,this._c):[].concat(r),l],C=_[0],i=_.reduce((E,B)=>{const F=iS(e,B,p);return E.top=mr(F.top,E.top),E.right=Yl(F.right,E.right),E.bottom=Yl(F.bottom,E.bottom),E.left=mr(F.left,E.left),E},iS(e,C,p));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}}function tj(t){const{width:e,height:r}=Sk(t);return{width:e,height:r}}function ej(t,e,r){const l=li(e),p=di(e),g=r==="fixed",_=xd(t,!0,g,e);let C={scrollLeft:0,scrollTop:0};const i=Ql(0);if(l||!l&&!g)if((Sp(e)!=="body"||kf(p))&&(C=w2(e)),l){const V=xd(e,!0,g,e);i.x=V.x+e.clientLeft,i.y=V.y+e.clientTop}else p&&(i.x=C1(p));let E=0,B=0;if(p&&!l&&!g){const V=p.getBoundingClientRect();B=V.top+C.scrollTop,E=V.left+C.scrollLeft-C1(p,V)}const F=_.left+C.scrollLeft-i.x-E,N=_.top+C.scrollTop-i.y-B;return{x:F,y:N,width:_.width,height:_.height}}function Hy(t){return Ds(t).position==="static"}function lS(t,e){if(!li(t)||Ds(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return di(t)===r&&(r=r.ownerDocument.body),r}function Dk(t,e){const r=gr(t);if(b2(t))return r;if(!li(t)){let p=tc(t);for(;p&&!fp(p);){if(Ps(p)&&!Hy(p))return p;p=tc(p)}return r}let l=lS(t,e);for(;l&&$6(l)&&Hy(l);)l=lS(l,e);return l&&fp(l)&&Hy(l)&&!rw(l)?r:l||G6(t)||r}const nj=async function(t){const e=this.getOffsetParent||Dk,r=this.getDimensions,l=await r(t.floating);return{reference:ej(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function oj(t){return Ds(t).direction==="rtl"}const aj={convertOffsetParentRelativeRectToViewportRelativeRect:H6,getDocumentElement:di,getClippingRect:J6,getOffsetParent:Dk,getElementRects:nj,getClientRects:Z6,getDimensions:tj,getScale:Xu,isElement:Ps,isRTL:oj};function rj(t,e){let r=null,l;const p=di(t);function g(){var C;clearTimeout(l),(C=r)==null||C.disconnect(),r=null}function _(C,i){C===void 0&&(C=!1),i===void 0&&(i=1),g();const{left:E,top:B,width:F,height:N}=t.getBoundingClientRect();if(C||e(),!F||!N)return;const V=Mg(B),Q=Mg(p.clientWidth-(E+F)),H=Mg(p.clientHeight-(B+N)),tt=Mg(E),$={rootMargin:-V+"px "+-Q+"px "+-H+"px "+-tt+"px",threshold:mr(0,Yl(1,i))||1};let Z=!0;function dt(ft){const St=ft[0].intersectionRatio;if(St!==i){if(!Z)return _();St?_(!1,St):l=setTimeout(()=>{_(!1,1e-7)},1e3)}Z=!1}try{r=new IntersectionObserver(dt,{...$,root:p.ownerDocument})}catch{r=new IntersectionObserver(dt,$)}r.observe(t)}return _(!0),g}function sj(t,e,r,l){l===void 0&&(l={});const{ancestorScroll:p=!0,ancestorResize:g=!0,elementResize:_=typeof ResizeObserver=="function",layoutShift:C=typeof IntersectionObserver=="function",animationFrame:i=!1}=l,E=iw(t),B=p||g?[...E?uf(E):[],...uf(e)]:[];B.forEach(W=>{p&&W.addEventListener("scroll",r,{passive:!0}),g&&W.addEventListener("resize",r)});const F=E&&C?rj(E,r):null;let N=-1,V=null;_&&(V=new ResizeObserver(W=>{let[$]=W;$&&$.target===E&&V&&(V.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var Z;(Z=V)==null||Z.observe(e)})),r()}),E&&!i&&V.observe(E),V.observe(e));let Q,H=i?xd(t):null;i&&tt();function tt(){const W=xd(t);H&&(W.x!==H.x||W.y!==H.y||W.width!==H.width||W.height!==H.height)&&r(),H=W,Q=requestAnimationFrame(tt)}return r(),()=>{var W;B.forEach($=>{p&&$.removeEventListener("scroll",r),g&&$.removeEventListener("resize",r)}),F==null||F(),(W=V)==null||W.disconnect(),V=null,i&&cancelAnimationFrame(Q)}}const ij=j6,lj=O6,cj=R6,dj=U6,uj=L6,cS=F6,pj=V6,mj=(t,e,r)=>{const l=new Map,p={platform:aj,...r},g={...p.platform,_c:l};return I6(t,e,{...p,platform:g})};var rx=typeof document<"u"?q.useLayoutEffect:q.useEffect;function Vx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,l,p;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(l=r;l--!==0;)if(!Vx(t[l],e[l]))return!1;return!0}if(p=Object.keys(t),r=p.length,r!==Object.keys(e).length)return!1;for(l=r;l--!==0;)if(!{}.hasOwnProperty.call(e,p[l]))return!1;for(l=r;l--!==0;){const g=p[l];if(!(g==="_owner"&&t.$$typeof)&&!Vx(t[g],e[g]))return!1}return!0}return t!==t&&e!==e}function Mk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dS(t,e){const r=Mk(t);return Math.round(e*r)/r}function Zy(t){const e=q.useRef(t);return rx(()=>{e.current=t}),e}function hj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:l=[],platform:p,elements:{reference:g,floating:_}={},transform:C=!0,whileElementsMounted:i,open:E}=t,[B,F]=q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,V]=q.useState(l);Vx(N,l)||V(l);const[Q,H]=q.useState(null),[tt,W]=q.useState(null),$=q.useCallback(Ot=>{Ot!==St.current&&(St.current=Ot,H(Ot))},[]),Z=q.useCallback(Ot=>{Ot!==zt.current&&(zt.current=Ot,W(Ot))},[]),dt=g||Q,ft=_||tt,St=q.useRef(null),zt=q.useRef(null),Ft=q.useRef(B),ie=i!=null,Dt=Zy(i),Ie=Zy(p),Te=Zy(E),xe=q.useCallback(()=>{if(!St.current||!zt.current)return;const Ot={placement:e,strategy:r,middleware:N};Ie.current&&(Ot.platform=Ie.current),mj(St.current,zt.current,Ot).then(Zt=>{const we={...Zt,isPositioned:Te.current!==!1};ce.current&&!Vx(Ft.current,we)&&(Ft.current=we,Mf.flushSync(()=>{F(we)}))})},[N,e,r,Ie,Te]);rx(()=>{E===!1&&Ft.current.isPositioned&&(Ft.current.isPositioned=!1,F(Ot=>({...Ot,isPositioned:!1})))},[E]);const ce=q.useRef(!1);rx(()=>(ce.current=!0,()=>{ce.current=!1}),[]),rx(()=>{if(dt&&(St.current=dt),ft&&(zt.current=ft),dt&&ft){if(Dt.current)return Dt.current(dt,ft,xe);xe()}},[dt,ft,xe,Dt,ie]);const en=q.useMemo(()=>({reference:St,floating:zt,setReference:$,setFloating:Z}),[$,Z]),Fe=q.useMemo(()=>({reference:dt,floating:ft}),[dt,ft]),Be=q.useMemo(()=>{const Ot={position:r,left:0,top:0};if(!Fe.floating)return Ot;const Zt=dS(Fe.floating,B.x),we=dS(Fe.floating,B.y);return C?{...Ot,transform:"translate("+Zt+"px, "+we+"px)",...Mk(Fe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Zt,top:we}},[r,C,Fe.floating,B.x,B.y]);return q.useMemo(()=>({...B,update:xe,refs:en,elements:Fe,floatingStyles:Be}),[B,xe,en,Fe,Be])}const fj=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:l,padding:p}=typeof t=="function"?t(r):t;return l&&e(l)?l.current!=null?cS({element:l.current,padding:p}).fn(r):{}:l?cS({element:l,padding:p}).fn(r):{}}}},gj=(t,e)=>({...ij(t),options:[t,e]}),xj=(t,e)=>({...lj(t),options:[t,e]}),vj=(t,e)=>({...pj(t),options:[t,e]}),yj=(t,e)=>({...cj(t),options:[t,e]}),_j=(t,e)=>({...dj(t),options:[t,e]}),bj=(t,e)=>({...uj(t),options:[t,e]}),wj=(t,e)=>({...fj(t),options:[t,e]});var Cj="Arrow",kk=q.forwardRef((t,e)=>{const{children:r,width:l=10,height:p=5,...g}=t;return w.jsx(Jn.svg,{...g,ref:e,width:l,height:p,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});kk.displayName=Cj;var Aj=kk;function Tj(t,e=[]){let r=[];function l(g,_){const C=q.createContext(_),i=r.length;r=[...r,_];function E(F){const{scope:N,children:V,...Q}=F,H=(N==null?void 0:N[t][i])||C,tt=q.useMemo(()=>Q,Object.values(Q));return w.jsx(H.Provider,{value:tt,children:V})}function B(F,N){const V=(N==null?void 0:N[t][i])||C,Q=q.useContext(V);if(Q)return Q;if(_!==void 0)return _;throw new Error(`\`${F}\` must be used within \`${g}\``)}return E.displayName=g+"Provider",[E,B]}const p=()=>{const g=r.map(_=>q.createContext(_));return function(C){const i=(C==null?void 0:C[t])||g;return q.useMemo(()=>({[`__scope${t}`]:{...C,[t]:i}}),[C,i])}};return p.scopeName=t,[l,Sj(p,...e)]}function Sj(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const l=t.map(p=>({useScope:p(),scopeName:p.scopeName}));return function(g){const _=l.reduce((C,{useScope:i,scopeName:E})=>{const F=i(g)[`__scope${E}`];return{...C,...F}},{});return q.useMemo(()=>({[`__scope${e.scopeName}`]:_}),[_])}};return r.scopeName=e.scopeName,r}function Ej(t){const[e,r]=q.useState(void 0);return ii(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(p=>{if(!Array.isArray(p)||!p.length)return;const g=p[0];let _,C;if("borderBoxSize"in g){const i=g.borderBoxSize,E=Array.isArray(i)?i[0]:i;_=E.inlineSize,C=E.blockSize}else _=t.offsetWidth,C=t.offsetHeight;r({width:_,height:C})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else r(void 0)},[t]),e}var Bk="Popper",[Nk,Ik]=Tj(Bk),[LW,Fk]=Nk(Bk),Rk="PopperAnchor",Lk=q.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:l,...p}=t,g=Fk(Rk,r),_=q.useRef(null),C=Ra(e,_);return q.useEffect(()=>{g.onAnchorChange((l==null?void 0:l.current)||_.current)}),l?null:w.jsx(Jn.div,{...p,ref:C})});Lk.displayName=Rk;var lw="PopperContent",[Pj,Dj]=Nk(lw),zk=q.forwardRef((t,e)=>{var yo,Mo,Sa,qo,nr,qe;const{__scopePopper:r,side:l="bottom",sideOffset:p=0,align:g="center",alignOffset:_=0,arrowPadding:C=0,avoidCollisions:i=!0,collisionBoundary:E=[],collisionPadding:B=0,sticky:F="partial",hideWhenDetached:N=!1,updatePositionStrategy:V="optimized",onPlaced:Q,...H}=t,tt=Fk(lw,r),[W,$]=q.useState(null),Z=Ra(e,ca=>$(ca)),[dt,ft]=q.useState(null),St=Ej(dt),zt=(St==null?void 0:St.width)??0,Ft=(St==null?void 0:St.height)??0,ie=l+(g!=="center"?"-"+g:""),Dt=typeof B=="number"?B:{top:0,right:0,bottom:0,left:0,...B},Ie=Array.isArray(E)?E:[E],Te=Ie.length>0,xe={padding:Dt,boundary:Ie.filter(kj),altBoundary:Te},{refs:ce,floatingStyles:en,placement:Fe,isPositioned:Be,middlewareData:Ot}=hj({strategy:"fixed",placement:ie,whileElementsMounted:(...ca)=>sj(...ca,{animationFrame:V==="always"}),elements:{reference:tt.anchor},middleware:[gj({mainAxis:p+Ft,alignmentAxis:_}),i&&xj({mainAxis:!0,crossAxis:!1,limiter:F==="partial"?vj():void 0,...xe}),i&&yj({...xe}),_j({...xe,apply:({elements:ca,rects:Eo,availableWidth:br,availableHeight:gn})=>{const{width:Wo,height:Bs}=Eo.reference,Rn=ca.floating.style;Rn.setProperty("--radix-popper-available-width",`${br}px`),Rn.setProperty("--radix-popper-available-height",`${gn}px`),Rn.setProperty("--radix-popper-anchor-width",`${Wo}px`),Rn.setProperty("--radix-popper-anchor-height",`${Bs}px`)}}),dt&&wj({element:dt,padding:C}),Bj({arrowWidth:zt,arrowHeight:Ft}),N&&bj({strategy:"referenceHidden",...xe})]}),[Zt,we]=Vk(Fe),fe=vr(Q);ii(()=>{Be&&(fe==null||fe())},[Be,fe]);const Ce=(yo=Ot.arrow)==null?void 0:yo.x,Ze=(Mo=Ot.arrow)==null?void 0:Mo.y,He=((Sa=Ot.arrow)==null?void 0:Sa.centerOffset)!==0,[to,cn]=q.useState();return ii(()=>{W&&cn(window.getComputedStyle(W).zIndex)},[W]),w.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...en,transform:Be?en.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:to,"--radix-popper-transform-origin":[(qo=Ot.transformOrigin)==null?void 0:qo.x,(nr=Ot.transformOrigin)==null?void 0:nr.y].join(" "),...((qe=Ot.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(Pj,{scope:r,placedSide:Zt,onArrowChange:ft,arrowX:Ce,arrowY:Ze,shouldHideArrow:He,children:w.jsx(Jn.div,{"data-side":Zt,"data-align":we,...H,ref:Z,style:{...H.style,animation:Be?void 0:"none"}})})})});zk.displayName=lw;var jk="PopperArrow",Mj={top:"bottom",right:"left",bottom:"top",left:"right"},Ok=q.forwardRef(function(e,r){const{__scopePopper:l,...p}=e,g=Dj(jk,l),_=Mj[g.placedSide];return w.jsx("span",{ref:g.onArrowChange,style:{position:"absolute",left:g.arrowX,top:g.arrowY,[_]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[g.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[g.placedSide],visibility:g.shouldHideArrow?"hidden":void 0},children:w.jsx(Aj,{...p,ref:r,style:{...p.style,display:"block"}})})});Ok.displayName=jk;function kj(t){return t!==null}var Bj=t=>({name:"transformOrigin",options:t,fn(e){var tt,W,$;const{placement:r,rects:l,middlewareData:p}=e,_=((tt=p.arrow)==null?void 0:tt.centerOffset)!==0,C=_?0:t.arrowWidth,i=_?0:t.arrowHeight,[E,B]=Vk(r),F={start:"0%",center:"50%",end:"100%"}[B],N=(((W=p.arrow)==null?void 0:W.x)??0)+C/2,V=((($=p.arrow)==null?void 0:$.y)??0)+i/2;let Q="",H="";return E==="bottom"?(Q=_?F:`${N}px`,H=`${-i}px`):E==="top"?(Q=_?F:`${N}px`,H=`${l.floating.height+i}px`):E==="right"?(Q=`${-i}px`,H=_?F:`${V}px`):E==="left"&&(Q=`${l.floating.width+i}px`,H=_?F:`${V}px`),{data:{x:Q,y:H}}}});function Vk(t){const[e,r="center"]=t.split("-");return[e,r]}var Nj=Lk,Ij=zk,Fj=Ok,[C2,zW]=h2("Tooltip",[Ik]),cw=Ik(),Uk="TooltipProvider",Rj=700,uS="tooltip.open",[Lj,$k]=C2(Uk),Gk=t=>{const{__scopeTooltip:e,delayDuration:r=Rj,skipDelayDuration:l=300,disableHoverableContent:p=!1,children:g}=t,[_,C]=q.useState(!0),i=q.useRef(!1),E=q.useRef(0);return q.useEffect(()=>{const B=E.current;return()=>window.clearTimeout(B)},[]),w.jsx(Lj,{scope:e,isOpenDelayed:_,delayDuration:r,onOpen:q.useCallback(()=>{window.clearTimeout(E.current),C(!1)},[]),onClose:q.useCallback(()=>{window.clearTimeout(E.current),E.current=window.setTimeout(()=>C(!0),l)},[l]),isPointerInTransitRef:i,onPointerInTransitChange:q.useCallback(B=>{i.current=B},[]),disableHoverableContent:p,children:g})};Gk.displayName=Uk;var qk="Tooltip",[jW,A2]=C2(qk),A1="TooltipTrigger",zj=q.forwardRef((t,e)=>{const{__scopeTooltip:r,...l}=t,p=A2(A1,r),g=$k(A1,r),_=cw(r),C=q.useRef(null),i=Ra(e,C,p.onTriggerChange),E=q.useRef(!1),B=q.useRef(!1),F=q.useCallback(()=>E.current=!1,[]);return q.useEffect(()=>()=>document.removeEventListener("pointerup",F),[F]),w.jsx(Nj,{asChild:!0,..._,children:w.jsx(Jn.button,{"aria-describedby":p.open?p.contentId:void 0,"data-state":p.stateAttribute,...l,ref:i,onPointerMove:ao(t.onPointerMove,N=>{N.pointerType!=="touch"&&!B.current&&!g.isPointerInTransitRef.current&&(p.onTriggerEnter(),B.current=!0)}),onPointerLeave:ao(t.onPointerLeave,()=>{p.onTriggerLeave(),B.current=!1}),onPointerDown:ao(t.onPointerDown,()=>{E.current=!0,document.addEventListener("pointerup",F,{once:!0})}),onFocus:ao(t.onFocus,()=>{E.current||p.onOpen()}),onBlur:ao(t.onBlur,p.onClose),onClick:ao(t.onClick,p.onClose)})})});zj.displayName=A1;var jj="TooltipPortal",[OW,Oj]=C2(jj,{forceMount:void 0}),gp="TooltipContent",Wk=q.forwardRef((t,e)=>{const r=Oj(gp,t.__scopeTooltip),{forceMount:l=r.forceMount,side:p="top",...g}=t,_=A2(gp,t.__scopeTooltip);return w.jsx(Cp,{present:l||_.open,children:_.disableHoverableContent?w.jsx(Hk,{side:p,...g,ref:e}):w.jsx(Vj,{side:p,...g,ref:e})})}),Vj=q.forwardRef((t,e)=>{const r=A2(gp,t.__scopeTooltip),l=$k(gp,t.__scopeTooltip),p=q.useRef(null),g=Ra(e,p),[_,C]=q.useState(null),{trigger:i,onClose:E}=r,B=p.current,{onPointerInTransitChange:F}=l,N=q.useCallback(()=>{C(null),F(!1)},[F]),V=q.useCallback((Q,H)=>{const tt=Q.currentTarget,W={x:Q.clientX,y:Q.clientY},$=qj(W,tt.getBoundingClientRect()),Z=Wj(W,$),dt=Hj(H.getBoundingClientRect()),ft=Xj([...Z,...dt]);C(ft),F(!0)},[F]);return q.useEffect(()=>()=>N(),[N]),q.useEffect(()=>{if(i&&B){const Q=tt=>V(tt,B),H=tt=>V(tt,i);return i.addEventListener("pointerleave",Q),B.addEventListener("pointerleave",H),()=>{i.removeEventListener("pointerleave",Q),B.removeEventListener("pointerleave",H)}}},[i,B,V,N]),q.useEffect(()=>{if(_){const Q=H=>{const tt=H.target,W={x:H.clientX,y:H.clientY},$=(i==null?void 0:i.contains(tt))||(B==null?void 0:B.contains(tt)),Z=!Zj(W,_);$?N():Z&&(N(),E())};return document.addEventListener("pointermove",Q),()=>document.removeEventListener("pointermove",Q)}},[i,B,_,E,N]),w.jsx(Hk,{...t,ref:g})}),[Uj,$j]=C2(qk,{isInside:!1}),Hk=q.forwardRef((t,e)=>{const{__scopeTooltip:r,children:l,"aria-label":p,onEscapeKeyDown:g,onPointerDownOutside:_,...C}=t,i=A2(gp,r),E=cw(r),{onClose:B}=i;return q.useEffect(()=>(document.addEventListener(uS,B),()=>document.removeEventListener(uS,B)),[B]),q.useEffect(()=>{if(i.trigger){const F=N=>{const V=N.target;V!=null&&V.contains(i.trigger)&&B()};return window.addEventListener("scroll",F,{capture:!0}),()=>window.removeEventListener("scroll",F,{capture:!0})}},[i.trigger,B]),w.jsx(f2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:g,onPointerDownOutside:_,onFocusOutside:F=>F.preventDefault(),onDismiss:B,children:w.jsxs(Ij,{"data-state":i.stateAttribute,...E,...C,ref:e,style:{...C.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(MM,{children:l}),w.jsx(Uj,{scope:r,isInside:!0,children:w.jsx(TL,{id:i.contentId,role:"tooltip",children:p||l})})]})})});Wk.displayName=gp;var Zk="TooltipArrow",Gj=q.forwardRef((t,e)=>{const{__scopeTooltip:r,...l}=t,p=cw(r);return $j(Zk,r).isInside?null:w.jsx(Fj,{...p,...l,ref:e})});Gj.displayName=Zk;function qj(t,e){const r=Math.abs(e.top-t.y),l=Math.abs(e.bottom-t.y),p=Math.abs(e.right-t.x),g=Math.abs(e.left-t.x);switch(Math.min(r,l,p,g)){case g:return"left";case p:return"right";case r:return"top";case l:return"bottom";default:throw new Error("unreachable")}}function Wj(t,e,r=5){const l=[];switch(e){case"top":l.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":l.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":l.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":l.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return l}function Hj(t){const{top:e,right:r,bottom:l,left:p}=t;return[{x:p,y:e},{x:r,y:e},{x:r,y:l},{x:p,y:l}]}function Zj(t,e){const{x:r,y:l}=t;let p=!1;for(let g=0,_=e.length-1;g<e.length;_=g++){const C=e[g].x,i=e[g].y,E=e[_].x,B=e[_].y;i>l!=B>l&&r<(E-C)*(l-i)/(B-i)+C&&(p=!p)}return p}function Xj(t){const e=t.slice();return e.sort((r,l)=>r.x<l.x?-1:r.x>l.x?1:r.y<l.y?-1:r.y>l.y?1:0),Kj(e)}function Kj(t){if(t.length<=1)return t.slice();const e=[];for(let l=0;l<t.length;l++){const p=t[l];for(;e.length>=2;){const g=e[e.length-1],_=e[e.length-2];if((g.x-_.x)*(p.y-_.y)>=(g.y-_.y)*(p.x-_.x))e.pop();else break}e.push(p)}e.pop();const r=[];for(let l=t.length-1;l>=0;l--){const p=t[l];for(;r.length>=2;){const g=r[r.length-1],_=r[r.length-2];if((g.x-_.x)*(p.y-_.y)>=(g.y-_.y)*(p.x-_.x))r.pop();else break}r.push(p)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Yj=Gk,Xk=Wk;const Qj=Yj,Jj=q.forwardRef(({className:t,sideOffset:e=4,...r},l)=>w.jsx(Xk,{"data-lov-id":"src/components/ui/tooltip.tsx:16:2","data-lov-name":"TooltipPrimitive.Content","data-component-path":"src/components/ui/tooltip.tsx","data-component-line":"16","data-component-file":"tooltip.tsx","data-component-name":"TooltipPrimitive.Content","data-component-content":"%7B%7D",ref:l,sideOffset:e,className:Hn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Jj.displayName=Xk.displayName;var T2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S2=typeof window>"u"||"Deno"in globalThis;function _s(){}function tO(t,e){return typeof t=="function"?t(e):t}function eO(t){return typeof t=="number"&&t>=0&&t!==1/0}function nO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pS(t,e){return typeof t=="function"?t(e):t}function oO(t,e){return typeof t=="function"?t(e):t}function mS(t,e){const{type:r="all",exact:l,fetchStatus:p,predicate:g,queryKey:_,stale:C}=t;if(_){if(l){if(e.queryHash!==dw(_,e.options))return!1}else if(!mf(e.queryKey,_))return!1}if(r!=="all"){const i=e.isActive();if(r==="active"&&!i||r==="inactive"&&i)return!1}return!(typeof C=="boolean"&&e.isStale()!==C||p&&p!==e.state.fetchStatus||g&&!g(e))}function hS(t,e){const{exact:r,status:l,predicate:p,mutationKey:g}=t;if(g){if(!e.options.mutationKey)return!1;if(r){if(pf(e.options.mutationKey)!==pf(g))return!1}else if(!mf(e.options.mutationKey,g))return!1}return!(l&&e.state.status!==l||p&&!p(e))}function dw(t,e){return((e==null?void 0:e.queryKeyHashFn)||pf)(t)}function pf(t){return JSON.stringify(t,(e,r)=>T1(r)?Object.keys(r).sort().reduce((l,p)=>(l[p]=r[p],l),{}):r)}function mf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!mf(t[r],e[r])):!1}function Kk(t,e){if(t===e)return t;const r=fS(t)&&fS(e);if(r||T1(t)&&T1(e)){const l=r?t:Object.keys(t),p=l.length,g=r?e:Object.keys(e),_=g.length,C=r?[]:{};let i=0;for(let E=0;E<_;E++){const B=r?E:g[E];(!r&&l.includes(B)||r)&&t[B]===void 0&&e[B]===void 0?(C[B]=void 0,i++):(C[B]=Kk(t[B],e[B]),C[B]===t[B]&&t[B]!==void 0&&i++)}return p===_&&i===p?t:C}return e}function fS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function T1(t){if(!gS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!gS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gS(t){return Object.prototype.toString.call(t)==="[object Object]"}function aO(t){return new Promise(e=>{setTimeout(e,t)})}function rO(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Kk(t,e):e}function sO(t,e,r=0){const l=[...t,e];return r&&l.length>r?l.slice(1):l}function iO(t,e,r=0){const l=[e,...t];return r&&l.length>r?l.slice(0,-1):l}var uw=Symbol();function Yk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ad,Bl,Yu,sP,lO=(sP=class extends T2{constructor(){super();Fn(this,ad);Fn(this,Bl);Fn(this,Yu);rn(this,Yu,e=>{if(!S2&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){oe(this,Bl)||this.setEventListener(oe(this,Yu))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Bl))==null||e.call(this),rn(this,Bl,void 0))}setEventListener(e){var r;rn(this,Yu,e),(r=oe(this,Bl))==null||r.call(this),rn(this,Bl,e(l=>{typeof l=="boolean"?this.setFocused(l):this.onFocus()}))}setFocused(e){oe(this,ad)!==e&&(rn(this,ad,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof oe(this,ad)=="boolean"?oe(this,ad):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ad=new WeakMap,Bl=new WeakMap,Yu=new WeakMap,sP),Qk=new lO,Qu,Nl,Ju,iP,cO=(iP=class extends T2{constructor(){super();Fn(this,Qu,!0);Fn(this,Nl);Fn(this,Ju);rn(this,Ju,e=>{if(!S2&&window.addEventListener){const r=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",l)}}})}onSubscribe(){oe(this,Nl)||this.setEventListener(oe(this,Ju))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Nl))==null||e.call(this),rn(this,Nl,void 0))}setEventListener(e){var r;rn(this,Ju,e),(r=oe(this,Nl))==null||r.call(this),rn(this,Nl,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Qu)!==e&&(rn(this,Qu,e),this.listeners.forEach(l=>{l(e)}))}isOnline(){return oe(this,Qu)}},Qu=new WeakMap,Nl=new WeakMap,Ju=new WeakMap,iP),Ux=new cO;function dO(){let t,e;const r=new Promise((p,g)=>{t=p,e=g});r.status="pending",r.catch(()=>{});function l(p){Object.assign(r,p),delete r.resolve,delete r.reject}return r.resolve=p=>{l({status:"fulfilled",value:p}),t(p)},r.reject=p=>{l({status:"rejected",reason:p}),e(p)},r}function uO(t){return Math.min(1e3*2**t,3e4)}function Jk(t){return(t??"online")==="online"?Ux.isOnline():!0}var t5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xy(t){return t instanceof t5}function e5(t){let e=!1,r=0,l=!1,p;const g=dO(),_=H=>{var tt;l||(N(new t5(H)),(tt=t.abort)==null||tt.call(t))},C=()=>{e=!0},i=()=>{e=!1},E=()=>Qk.isFocused()&&(t.networkMode==="always"||Ux.isOnline())&&t.canRun(),B=()=>Jk(t.networkMode)&&t.canRun(),F=H=>{var tt;l||(l=!0,(tt=t.onSuccess)==null||tt.call(t,H),p==null||p(),g.resolve(H))},N=H=>{var tt;l||(l=!0,(tt=t.onError)==null||tt.call(t,H),p==null||p(),g.reject(H))},V=()=>new Promise(H=>{var tt;p=W=>{(l||E())&&H(W)},(tt=t.onPause)==null||tt.call(t)}).then(()=>{var H;p=void 0,l||(H=t.onContinue)==null||H.call(t)}),Q=()=>{if(l)return;let H;const tt=r===0?t.initialPromise:void 0;try{H=tt??t.fn()}catch(W){H=Promise.reject(W)}Promise.resolve(H).then(F).catch(W=>{var St;if(l)return;const $=t.retry??(S2?0:3),Z=t.retryDelay??uO,dt=typeof Z=="function"?Z(r,W):Z,ft=$===!0||typeof $=="number"&&r<$||typeof $=="function"&&$(r,W);if(e||!ft){N(W);return}r++,(St=t.onFail)==null||St.call(t,r,W),aO(dt).then(()=>E()?void 0:V()).then(()=>{e?N(W):Q()})})};return{promise:g,cancel:_,continue:()=>(p==null||p(),g),cancelRetry:C,continueRetry:i,canStart:B,start:()=>(B()?Q():V().then(Q),g)}}function pO(){let t=[],e=0,r=C=>{C()},l=C=>{C()},p=C=>setTimeout(C,0);const g=C=>{e?t.push(C):p(()=>{r(C)})},_=()=>{const C=t;t=[],C.length&&p(()=>{l(()=>{C.forEach(i=>{r(i)})})})};return{batch:C=>{let i;e++;try{i=C()}finally{e--,e||_()}return i},batchCalls:C=>(...i)=>{g(()=>{C(...i)})},schedule:g,setNotifyFunction:C=>{r=C},setBatchNotifyFunction:C=>{l=C},setScheduler:C=>{p=C}}}var Na=pO(),rd,lP,n5=(lP=class{constructor(){Fn(this,rd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eO(this.gcTime)&&rn(this,rd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(S2?1/0:5*60*1e3))}clearGcTimeout(){oe(this,rd)&&(clearTimeout(oe(this,rd)),rn(this,rd,void 0))}},rd=new WeakMap,lP),tp,ep,Lr,ba,Cf,sd,bs,ki,cP,mO=(cP=class extends n5{constructor(e){super();Fn(this,bs);Fn(this,tp);Fn(this,ep);Fn(this,Lr);Fn(this,ba);Fn(this,Cf);Fn(this,sd);rn(this,sd,!1),rn(this,Cf,e.defaultOptions),this.setOptions(e.options),this.observers=[],rn(this,Lr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,rn(this,tp,fO(this.options)),this.state=e.state??oe(this,tp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,ba))==null?void 0:e.promise}setOptions(e){this.options={...oe(this,Cf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Lr).remove(this)}setData(e,r){const l=rO(this.state.data,e,this.options);return va(this,bs,ki).call(this,{data:l,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),l}setState(e,r){va(this,bs,ki).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var l,p;const r=(l=oe(this,ba))==null?void 0:l.promise;return(p=oe(this,ba))==null||p.cancel(e),r?r.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,tp))}isActive(){return this.observers.some(e=>oO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!nO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(l=>l.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=oe(this,ba))==null||r.continue()}onOnline(){var r;const e=this.observers.find(l=>l.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=oe(this,ba))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,Lr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(oe(this,ba)&&(oe(this,sd)?oe(this,ba).cancel({revert:!0}):oe(this,ba).cancelRetry()),this.scheduleGc()),oe(this,Lr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||va(this,bs,ki).call(this,{type:"invalidate"})}fetch(e,r){var i,E,B;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,ba))return oe(this,ba).continueRetry(),oe(this,ba).promise}if(e&&this.setOptions(e),!this.options.queryFn){const F=this.observers.find(N=>N.options.queryFn);F&&this.setOptions(F.options)}const l=new AbortController,p=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(rn(this,sd,!0),l.signal)})},g=()=>{const F=Yk(this.options,r),N={queryKey:this.queryKey,meta:this.meta};return p(N),rn(this,sd,!1),this.options.persister?this.options.persister(F,N,this):F(N)},_={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:g};p(_),(i=this.options.behavior)==null||i.onFetch(_,this),rn(this,ep,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=_.fetchOptions)==null?void 0:E.meta))&&va(this,bs,ki).call(this,{type:"fetch",meta:(B=_.fetchOptions)==null?void 0:B.meta});const C=F=>{var N,V,Q,H;Xy(F)&&F.silent||va(this,bs,ki).call(this,{type:"error",error:F}),Xy(F)||((V=(N=oe(this,Lr).config).onError)==null||V.call(N,F,this),(H=(Q=oe(this,Lr).config).onSettled)==null||H.call(Q,this.state.data,F,this)),this.scheduleGc()};return rn(this,ba,e5({initialPromise:r==null?void 0:r.initialPromise,fn:_.fetchFn,abort:l.abort.bind(l),onSuccess:F=>{var N,V,Q,H;if(F===void 0){C(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(F)}catch(tt){C(tt);return}(V=(N=oe(this,Lr).config).onSuccess)==null||V.call(N,F,this),(H=(Q=oe(this,Lr).config).onSettled)==null||H.call(Q,F,this.state.error,this),this.scheduleGc()},onError:C,onFail:(F,N)=>{va(this,bs,ki).call(this,{type:"failed",failureCount:F,error:N})},onPause:()=>{va(this,bs,ki).call(this,{type:"pause"})},onContinue:()=>{va(this,bs,ki).call(this,{type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0})),oe(this,ba).start()}},tp=new WeakMap,ep=new WeakMap,Lr=new WeakMap,ba=new WeakMap,Cf=new WeakMap,sd=new WeakMap,bs=new WeakSet,ki=function(e){const r=l=>{switch(e.type){case"failed":return{...l,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...hO(l.data,this.options),fetchMeta:e.meta??null};case"success":return{...l,data:e.data,dataUpdateCount:l.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const p=e.error;return Xy(p)&&p.revert&&oe(this,ep)?{...oe(this,ep),fetchStatus:"idle"}:{...l,error:p,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:p,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...e.state}}};this.state=r(this.state),Na.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),oe(this,Lr).notify({query:this,type:"updated",action:e})})},cP);function hO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,l=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ys,dP,gO=(dP=class extends T2{constructor(e={}){super();Fn(this,Ys);this.config=e,rn(this,Ys,new Map)}build(e,r,l){const p=r.queryKey,g=r.queryHash??dw(p,r);let _=this.get(g);return _||(_=new mO({cache:this,queryKey:p,queryHash:g,options:e.defaultQueryOptions(r),state:l,defaultOptions:e.getQueryDefaults(p)}),this.add(_)),_}add(e){oe(this,Ys).has(e.queryHash)||(oe(this,Ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=oe(this,Ys).get(e.queryHash);r&&(e.destroy(),r===e&&oe(this,Ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Na.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Ys).get(e)}getAll(){return[...oe(this,Ys).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(l=>mS(r,l))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(l=>mS(e,l)):r}notify(e){Na.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Na.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Na.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ys=new WeakMap,dP),Qs,ka,id,Js,Al,uP,xO=(uP=class extends n5{constructor(e){super();Fn(this,Js);Fn(this,Qs);Fn(this,ka);Fn(this,id);this.mutationId=e.mutationId,rn(this,ka,e.mutationCache),rn(this,Qs,[]),this.state=e.state||vO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Qs).includes(e)||(oe(this,Qs).push(e),this.clearGcTimeout(),oe(this,ka).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){rn(this,Qs,oe(this,Qs).filter(r=>r!==e)),this.scheduleGc(),oe(this,ka).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Qs).length||(this.state.status==="pending"?this.scheduleGc():oe(this,ka).remove(this))}continue(){var e;return((e=oe(this,id))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var p,g,_,C,i,E,B,F,N,V,Q,H,tt,W,$,Z,dt,ft,St,zt;rn(this,id,e5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Ft,ie)=>{va(this,Js,Al).call(this,{type:"failed",failureCount:Ft,error:ie})},onPause:()=>{va(this,Js,Al).call(this,{type:"pause"})},onContinue:()=>{va(this,Js,Al).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,ka).canRun(this)}));const r=this.state.status==="pending",l=!oe(this,id).canStart();try{if(!r){va(this,Js,Al).call(this,{type:"pending",variables:e,isPaused:l}),await((g=(p=oe(this,ka).config).onMutate)==null?void 0:g.call(p,e,this));const ie=await((C=(_=this.options).onMutate)==null?void 0:C.call(_,e));ie!==this.state.context&&va(this,Js,Al).call(this,{type:"pending",context:ie,variables:e,isPaused:l})}const Ft=await oe(this,id).start();return await((E=(i=oe(this,ka).config).onSuccess)==null?void 0:E.call(i,Ft,e,this.state.context,this)),await((F=(B=this.options).onSuccess)==null?void 0:F.call(B,Ft,e,this.state.context)),await((V=(N=oe(this,ka).config).onSettled)==null?void 0:V.call(N,Ft,null,this.state.variables,this.state.context,this)),await((H=(Q=this.options).onSettled)==null?void 0:H.call(Q,Ft,null,e,this.state.context)),va(this,Js,Al).call(this,{type:"success",data:Ft}),Ft}catch(Ft){try{throw await((W=(tt=oe(this,ka).config).onError)==null?void 0:W.call(tt,Ft,e,this.state.context,this)),await((Z=($=this.options).onError)==null?void 0:Z.call($,Ft,e,this.state.context)),await((ft=(dt=oe(this,ka).config).onSettled)==null?void 0:ft.call(dt,void 0,Ft,this.state.variables,this.state.context,this)),await((zt=(St=this.options).onSettled)==null?void 0:zt.call(St,void 0,Ft,e,this.state.context)),Ft}finally{va(this,Js,Al).call(this,{type:"error",error:Ft})}}finally{oe(this,ka).runNext(this)}}},Qs=new WeakMap,ka=new WeakMap,id=new WeakMap,Js=new WeakSet,Al=function(e){const r=l=>{switch(e.type){case"failed":return{...l,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...l,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:e.error,failureCount:l.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Na.batch(()=>{oe(this,Qs).forEach(l=>{l.onMutationUpdate(e)}),oe(this,ka).notify({mutation:this,type:"updated",action:e})})},uP);function vO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,Af,pP,yO=(pP=class extends T2{constructor(e={}){super();Fn(this,dr);Fn(this,Af);this.config=e,rn(this,dr,new Map),rn(this,Af,Date.now())}build(e,r,l){const p=new xO({mutationCache:this,mutationId:++cg(this,Af)._,options:e.defaultMutationOptions(r),state:l});return this.add(p),p}add(e){const r=kg(e),l=oe(this,dr).get(r)??[];l.push(e),oe(this,dr).set(r,l),this.notify({type:"added",mutation:e})}remove(e){var l;const r=kg(e);if(oe(this,dr).has(r)){const p=(l=oe(this,dr).get(r))==null?void 0:l.filter(g=>g!==e);p&&(p.length===0?oe(this,dr).delete(r):oe(this,dr).set(r,p))}this.notify({type:"removed",mutation:e})}canRun(e){var l;const r=(l=oe(this,dr).get(kg(e)))==null?void 0:l.find(p=>p.state.status==="pending");return!r||r===e}runNext(e){var l;const r=(l=oe(this,dr).get(kg(e)))==null?void 0:l.find(p=>p!==e&&p.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Na.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...oe(this,dr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(l=>hS(r,l))}findAll(e={}){return this.getAll().filter(r=>hS(e,r))}notify(e){Na.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Na.batch(()=>Promise.all(e.map(r=>r.continue().catch(_s))))}},dr=new WeakMap,Af=new WeakMap,pP);function kg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function xS(t){return{onFetch:(e,r)=>{var B,F,N,V,Q;const l=e.options,p=(N=(F=(B=e.fetchOptions)==null?void 0:B.meta)==null?void 0:F.fetchMore)==null?void 0:N.direction,g=((V=e.state.data)==null?void 0:V.pages)||[],_=((Q=e.state.data)==null?void 0:Q.pageParams)||[];let C={pages:[],pageParams:[]},i=0;const E=async()=>{let H=!1;const tt=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(e.signal.aborted?H=!0:e.signal.addEventListener("abort",()=>{H=!0}),e.signal)})},W=Yk(e.options,e.fetchOptions),$=async(Z,dt,ft)=>{if(H)return Promise.reject();if(dt==null&&Z.pages.length)return Promise.resolve(Z);const St={queryKey:e.queryKey,pageParam:dt,direction:ft?"backward":"forward",meta:e.options.meta};tt(St);const zt=await W(St),{maxPages:Ft}=e.options,ie=ft?iO:sO;return{pages:ie(Z.pages,zt,Ft),pageParams:ie(Z.pageParams,dt,Ft)}};if(p&&g.length){const Z=p==="backward",dt=Z?_O:vS,ft={pages:g,pageParams:_},St=dt(l,ft);C=await $(ft,St,Z)}else{const Z=t??g.length;do{const dt=i===0?_[0]??l.initialPageParam:vS(l,C);if(i>0&&dt==null)break;C=await $(C,dt),i++}while(i<Z)}return C};e.options.persister?e.fetchFn=()=>{var H,tt;return(tt=(H=e.options).persister)==null?void 0:tt.call(H,E,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=E}}}function vS(t,{pages:e,pageParams:r}){const l=e.length-1;return e.length>0?t.getNextPageParam(e[l],e,r[l],r):void 0}function _O(t,{pages:e,pageParams:r}){var l;return e.length>0?(l=t.getPreviousPageParam)==null?void 0:l.call(t,e[0],e,r[0],r):void 0}var Co,Il,Fl,np,op,Rl,ap,rp,mP,bO=(mP=class{constructor(t={}){Fn(this,Co);Fn(this,Il);Fn(this,Fl);Fn(this,np);Fn(this,op);Fn(this,Rl);Fn(this,ap);Fn(this,rp);rn(this,Co,t.queryCache||new gO),rn(this,Il,t.mutationCache||new yO),rn(this,Fl,t.defaultOptions||{}),rn(this,np,new Map),rn(this,op,new Map),rn(this,Rl,0)}mount(){cg(this,Rl)._++,oe(this,Rl)===1&&(rn(this,ap,Qk.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Co).onFocus())})),rn(this,rp,Ux.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Co).onOnline())})))}unmount(){var t,e;cg(this,Rl)._--,oe(this,Rl)===0&&((t=oe(this,ap))==null||t.call(this),rn(this,ap,void 0),(e=oe(this,rp))==null||e.call(this),rn(this,rp,void 0))}isFetching(t){return oe(this,Co).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,Il).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=oe(this,Co).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),l=oe(this,Co).build(this,r);return t.revalidateIfStale&&l.isStaleByTime(pS(r.staleTime,l))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return oe(this,Co).findAll(t).map(({queryKey:e,state:r})=>{const l=r.data;return[e,l]})}setQueryData(t,e,r){const l=this.defaultQueryOptions({queryKey:t}),p=oe(this,Co).get(l.queryHash),g=p==null?void 0:p.state.data,_=tO(e,g);if(_!==void 0)return oe(this,Co).build(this,l).setData(_,{...r,manual:!0})}setQueriesData(t,e,r){return Na.batch(()=>oe(this,Co).findAll(t).map(({queryKey:l})=>[l,this.setQueryData(l,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=oe(this,Co).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=oe(this,Co);Na.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=oe(this,Co),l={type:"active",...t};return Na.batch(()=>(r.findAll(t).forEach(p=>{p.reset()}),this.refetchQueries(l,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},l=Na.batch(()=>oe(this,Co).findAll(t).map(p=>p.cancel(r)));return Promise.all(l).then(_s).catch(_s)}invalidateQueries(t={},e={}){return Na.batch(()=>{if(oe(this,Co).findAll(t).forEach(l=>{l.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},l=Na.batch(()=>oe(this,Co).findAll(t).filter(p=>!p.isDisabled()).map(p=>{let g=p.fetch(void 0,r);return r.throwOnError||(g=g.catch(_s)),p.state.fetchStatus==="paused"?Promise.resolve():g}));return Promise.all(l).then(_s)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=oe(this,Co).build(this,e);return r.isStaleByTime(pS(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_s).catch(_s)}fetchInfiniteQuery(t){return t.behavior=xS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_s).catch(_s)}ensureInfiniteQueryData(t){return t.behavior=xS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ux.isOnline()?oe(this,Il).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Co)}getMutationCache(){return oe(this,Il)}getDefaultOptions(){return oe(this,Fl)}setDefaultOptions(t){rn(this,Fl,t)}setQueryDefaults(t,e){oe(this,np).set(pf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,np).values()];let r={};return e.forEach(l=>{mf(t,l.queryKey)&&(r={...r,...l.defaultOptions})}),r}setMutationDefaults(t,e){oe(this,op).set(pf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,op).values()];let r={};return e.forEach(l=>{mf(t,l.mutationKey)&&(r={...r,...l.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,Fl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,Fl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,Co).clear(),oe(this,Il).clear()}},Co=new WeakMap,Il=new WeakMap,Fl=new WeakMap,np=new WeakMap,op=new WeakMap,Rl=new WeakMap,ap=new WeakMap,rp=new WeakMap,mP),wO=q.createContext(void 0),CO=({client:t,children:e})=>(q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(wO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},hf.apply(this,arguments)}var jl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jl||(jl={}));const yS="popstate";function AO(t){t===void 0&&(t={});function e(l,p){let{pathname:g,search:_,hash:C}=l.location;return S1("",{pathname:g,search:_,hash:C},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function r(l,p){return typeof p=="string"?p:$x(p)}return SO(e,r,null,t)}function zo(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TO(){return Math.random().toString(36).substr(2,8)}function _S(t,e){return{usr:t.state,key:t.key,idx:e}}function S1(t,e,r,l){return r===void 0&&(r=null),hf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ep(e):e,{state:r,key:e&&e.key||l||TO()})}function $x(t){let{pathname:e="/",search:r="",hash:l=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(e+=l.charAt(0)==="#"?l:"#"+l),e}function Ep(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let l=t.indexOf("?");l>=0&&(e.search=t.substr(l),t=t.substr(0,l)),t&&(e.pathname=t)}return e}function SO(t,e,r,l){l===void 0&&(l={});let{window:p=document.defaultView,v5Compat:g=!1}=l,_=p.history,C=jl.Pop,i=null,E=B();E==null&&(E=0,_.replaceState(hf({},_.state,{idx:E}),""));function B(){return(_.state||{idx:null}).idx}function F(){C=jl.Pop;let tt=B(),W=tt==null?null:tt-E;E=tt,i&&i({action:C,location:H.location,delta:W})}function N(tt,W){C=jl.Push;let $=S1(H.location,tt,W);E=B()+1;let Z=_S($,E),dt=H.createHref($);try{_.pushState(Z,"",dt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;p.location.assign(dt)}g&&i&&i({action:C,location:H.location,delta:1})}function V(tt,W){C=jl.Replace;let $=S1(H.location,tt,W);E=B();let Z=_S($,E),dt=H.createHref($);_.replaceState(Z,"",dt),g&&i&&i({action:C,location:H.location,delta:0})}function Q(tt){let W=p.location.origin!=="null"?p.location.origin:p.location.href,$=typeof tt=="string"?tt:$x(tt);return $=$.replace(/ $/,"%20"),zo(W,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,W)}let H={get action(){return C},get location(){return t(p,_)},listen(tt){if(i)throw new Error("A history only accepts one active listener");return p.addEventListener(yS,F),i=tt,()=>{p.removeEventListener(yS,F),i=null}},createHref(tt){return e(p,tt)},createURL:Q,encodeLocation(tt){let W=Q(tt);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:N,replace:V,go(tt){return _.go(tt)}};return H}var bS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bS||(bS={}));function EO(t,e,r){return r===void 0&&(r="/"),PO(t,e,r,!1)}function PO(t,e,r,l){let p=typeof e=="string"?Ep(e):e,g=pw(p.pathname||"/",r);if(g==null)return null;let _=a5(t);DO(_);let C=null;for(let i=0;C==null&&i<_.length;++i){let E=OO(g);C=zO(_[i],E,l)}return C}function a5(t,e,r,l){e===void 0&&(e=[]),r===void 0&&(r=[]),l===void 0&&(l="");let p=(g,_,C)=>{let i={relativePath:C===void 0?g.path||"":C,caseSensitive:g.caseSensitive===!0,childrenIndex:_,route:g};i.relativePath.startsWith("/")&&(zo(i.relativePath.startsWith(l),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(l.length));let E=Zl([l,i.relativePath]),B=r.concat(i);g.children&&g.children.length>0&&(zo(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),a5(g.children,e,B,E)),!(g.path==null&&!g.index)&&e.push({path:E,score:RO(E,g.index),routesMeta:B})};return t.forEach((g,_)=>{var C;if(g.path===""||!((C=g.path)!=null&&C.includes("?")))p(g,_);else for(let i of r5(g.path))p(g,_,i)}),e}function r5(t){let e=t.split("/");if(e.length===0)return[];let[r,...l]=e,p=r.endsWith("?"),g=r.replace(/\?$/,"");if(l.length===0)return p?[g,""]:[g];let _=r5(l.join("/")),C=[];return C.push(..._.map(i=>i===""?g:[g,i].join("/"))),p&&C.push(..._),C.map(i=>t.startsWith("/")&&i===""?"/":i)}function DO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:LO(e.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const MO=/^:[\w-]+$/,kO=3,BO=2,NO=1,IO=10,FO=-2,wS=t=>t==="*";function RO(t,e){let r=t.split("/"),l=r.length;return r.some(wS)&&(l+=FO),e&&(l+=BO),r.filter(p=>!wS(p)).reduce((p,g)=>p+(MO.test(g)?kO:g===""?NO:IO),l)}function LO(t,e){return t.length===e.length&&t.slice(0,-1).every((l,p)=>l===e[p])?t[t.length-1]-e[e.length-1]:0}function zO(t,e,r){let{routesMeta:l}=t,p={},g="/",_=[];for(let C=0;C<l.length;++C){let i=l[C],E=C===l.length-1,B=g==="/"?e:e.slice(g.length)||"/",F=CS({path:i.relativePath,caseSensitive:i.caseSensitive,end:E},B),N=i.route;if(!F&&E&&r&&!l[l.length-1].route.index&&(F=CS({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},B)),!F)return null;Object.assign(p,F.params),_.push({params:p,pathname:Zl([g,F.pathname]),pathnameBase:GO(Zl([g,F.pathnameBase])),route:N}),F.pathnameBase!=="/"&&(g=Zl([g,F.pathnameBase]))}return _}function CS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,l]=jO(t.path,t.caseSensitive,t.end),p=e.match(r);if(!p)return null;let g=p[0],_=g.replace(/(.)\/+$/,"$1"),C=p.slice(1);return{params:l.reduce((E,B,F)=>{let{paramName:N,isOptional:V}=B;if(N==="*"){let H=C[F]||"";_=g.slice(0,g.length-H.length).replace(/(.)\/+$/,"$1")}const Q=C[F];return V&&!Q?E[N]=void 0:E[N]=(Q||"").replace(/%2F/g,"/"),E},{}),pathname:g,pathnameBase:_,pattern:t}}function jO(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),o5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let l=[],p="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,C,i)=>(l.push({paramName:C,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(l.push({paramName:"*"}),p+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?p+="\\/*$":t!==""&&t!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,e?void 0:"i"),l]}function OO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,l=t.charAt(r);return l&&l!=="/"?null:t.slice(r)||"/"}function VO(t,e){e===void 0&&(e="/");let{pathname:r,search:l="",hash:p=""}=typeof t=="string"?Ep(t):t;return{pathname:r?r.startsWith("/")?r:UO(r,e):e,search:qO(l),hash:WO(p)}}function UO(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(p=>{p===".."?r.length>1&&r.pop():p!=="."&&r.push(p)}),r.length>1?r.join("/"):"/"}function Ky(t,e,r,l){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $O(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function s5(t,e){let r=$O(t);return e?r.map((l,p)=>p===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function i5(t,e,r,l){l===void 0&&(l=!1);let p;typeof t=="string"?p=Ep(t):(p=hf({},t),zo(!p.pathname||!p.pathname.includes("?"),Ky("?","pathname","search",p)),zo(!p.pathname||!p.pathname.includes("#"),Ky("#","pathname","hash",p)),zo(!p.search||!p.search.includes("#"),Ky("#","search","hash",p)));let g=t===""||p.pathname==="",_=g?"/":p.pathname,C;if(_==null)C=r;else{let F=e.length-1;if(!l&&_.startsWith("..")){let N=_.split("/");for(;N[0]==="..";)N.shift(),F-=1;p.pathname=N.join("/")}C=F>=0?e[F]:"/"}let i=VO(p,C),E=_&&_!=="/"&&_.endsWith("/"),B=(g||_===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(E||B)&&(i.pathname+="/"),i}const Zl=t=>t.join("/").replace(/\/\/+/g,"/"),GO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const l5=["post","put","patch","delete"];new Set(l5);const ZO=["get",...l5];new Set(ZO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},ff.apply(this,arguments)}const mw=q.createContext(null),XO=q.createContext(null),bd=q.createContext(null),E2=q.createContext(null),wd=q.createContext({outlet:null,matches:[],isDataRoute:!1}),c5=q.createContext(null);function KO(t,e){let{relative:r}=e===void 0?{}:e;Bf()||zo(!1);let{basename:l,navigator:p}=q.useContext(bd),{hash:g,pathname:_,search:C}=p5(t,{relative:r}),i=_;return l!=="/"&&(i=_==="/"?l:Zl([l,_])),p.createHref({pathname:i,search:C,hash:g})}function Bf(){return q.useContext(E2)!=null}function Nf(){return Bf()||zo(!1),q.useContext(E2).location}function d5(t){q.useContext(bd).static||q.useLayoutEffect(t)}function u5(){let{isDataRoute:t}=q.useContext(wd);return t?c8():YO()}function YO(){Bf()||zo(!1);let t=q.useContext(mw),{basename:e,future:r,navigator:l}=q.useContext(bd),{matches:p}=q.useContext(wd),{pathname:g}=Nf(),_=JSON.stringify(s5(p,r.v7_relativeSplatPath)),C=q.useRef(!1);return d5(()=>{C.current=!0}),q.useCallback(function(E,B){if(B===void 0&&(B={}),!C.current)return;if(typeof E=="number"){l.go(E);return}let F=i5(E,JSON.parse(_),g,B.relative==="path");t==null&&e!=="/"&&(F.pathname=F.pathname==="/"?e:Zl([e,F.pathname])),(B.replace?l.replace:l.push)(F,B.state,B)},[e,l,_,g,t])}function p5(t,e){let{relative:r}=e===void 0?{}:e,{future:l}=q.useContext(bd),{matches:p}=q.useContext(wd),{pathname:g}=Nf(),_=JSON.stringify(s5(p,l.v7_relativeSplatPath));return q.useMemo(()=>i5(t,JSON.parse(_),g,r==="path"),[t,_,g,r])}function QO(t,e){return JO(t,e)}function JO(t,e,r,l){Bf()||zo(!1);let{navigator:p}=q.useContext(bd),{matches:g}=q.useContext(wd),_=g[g.length-1],C=_?_.params:{};_&&_.pathname;let i=_?_.pathnameBase:"/";_&&_.route;let E=Nf(),B;if(e){var F;let tt=typeof e=="string"?Ep(e):e;i==="/"||(F=tt.pathname)!=null&&F.startsWith(i)||zo(!1),B=tt}else B=E;let N=B.pathname||"/",V=N;if(i!=="/"){let tt=i.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(tt.length).join("/")}let Q=EO(t,{pathname:V}),H=a8(Q&&Q.map(tt=>Object.assign({},tt,{params:Object.assign({},C,tt.params),pathname:Zl([i,p.encodeLocation?p.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?i:Zl([i,p.encodeLocation?p.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),g,r,l);return e&&H?q.createElement(E2.Provider,{value:{location:ff({pathname:"/",search:"",hash:"",state:null,key:"default"},B),navigationType:jl.Pop}},H):H}function t8(){let t=l8(),e=HO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,p={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),r?q.createElement("pre",{style:p},r):null,null)}const e8=q.createElement(t8,null);class n8 extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?q.createElement(wd.Provider,{value:this.props.routeContext},q.createElement(c5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o8(t){let{routeContext:e,match:r,children:l}=t,p=q.useContext(mw);return p&&p.static&&p.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=r.route.id),q.createElement(wd.Provider,{value:e},l)}function a8(t,e,r,l){var p;if(e===void 0&&(e=[]),r===void 0&&(r=null),l===void 0&&(l=null),t==null){var g;if(!r)return null;if(r.errors)t=r.matches;else if((g=l)!=null&&g.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let _=t,C=(p=r)==null?void 0:p.errors;if(C!=null){let B=_.findIndex(F=>F.route.id&&(C==null?void 0:C[F.route.id])!==void 0);B>=0||zo(!1),_=_.slice(0,Math.min(_.length,B+1))}let i=!1,E=-1;if(r&&l&&l.v7_partialHydration)for(let B=0;B<_.length;B++){let F=_[B];if((F.route.HydrateFallback||F.route.hydrateFallbackElement)&&(E=B),F.route.id){let{loaderData:N,errors:V}=r,Q=F.route.loader&&N[F.route.id]===void 0&&(!V||V[F.route.id]===void 0);if(F.route.lazy||Q){i=!0,E>=0?_=_.slice(0,E+1):_=[_[0]];break}}}return _.reduceRight((B,F,N)=>{let V,Q=!1,H=null,tt=null;r&&(V=C&&F.route.id?C[F.route.id]:void 0,H=F.route.errorElement||e8,i&&(E<0&&N===0?(Q=!0,tt=null):E===N&&(Q=!0,tt=F.route.hydrateFallbackElement||null)));let W=e.concat(_.slice(0,N+1)),$=()=>{let Z;return V?Z=H:Q?Z=tt:F.route.Component?Z=q.createElement(F.route.Component,null):F.route.element?Z=F.route.element:Z=B,q.createElement(o8,{match:F,routeContext:{outlet:B,matches:W,isDataRoute:r!=null},children:Z})};return r&&(F.route.ErrorBoundary||F.route.errorElement||N===0)?q.createElement(n8,{location:r.location,revalidation:r.revalidation,component:H,error:V,children:$(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):$()},null)}var m5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(m5||{}),Gx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gx||{});function r8(t){let e=q.useContext(mw);return e||zo(!1),e}function s8(t){let e=q.useContext(XO);return e||zo(!1),e}function i8(t){let e=q.useContext(wd);return e||zo(!1),e}function h5(t){let e=i8(),r=e.matches[e.matches.length-1];return r.route.id||zo(!1),r.route.id}function l8(){var t;let e=q.useContext(c5),r=s8(Gx.UseRouteError),l=h5(Gx.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[l]}function c8(){let{router:t}=r8(m5.UseNavigateStable),e=h5(Gx.UseNavigateStable),r=q.useRef(!1);return d5(()=>{r.current=!0}),q.useCallback(function(p,g){g===void 0&&(g={}),r.current&&(typeof p=="number"?t.navigate(p):t.navigate(p,ff({fromRouteId:e},g)))},[t,e])}function Ma(t){zo(!1)}function d8(t){let{basename:e="/",children:r=null,location:l,navigationType:p=jl.Pop,navigator:g,static:_=!1,future:C}=t;Bf()&&zo(!1);let i=e.replace(/^\/*/,"/"),E=q.useMemo(()=>({basename:i,navigator:g,static:_,future:ff({v7_relativeSplatPath:!1},C)}),[i,C,g,_]);typeof l=="string"&&(l=Ep(l));let{pathname:B="/",search:F="",hash:N="",state:V=null,key:Q="default"}=l,H=q.useMemo(()=>{let tt=pw(B,i);return tt==null?null:{location:{pathname:tt,search:F,hash:N,state:V,key:Q},navigationType:p}},[i,B,F,N,V,Q,p]);return H==null?null:q.createElement(bd.Provider,{value:E},q.createElement(E2.Provider,{children:r,value:H}))}function u8(t){let{children:e,location:r}=t;return QO(E1(e),r)}new Promise(()=>{});function E1(t,e){e===void 0&&(e=[]);let r=[];return q.Children.forEach(t,(l,p)=>{if(!q.isValidElement(l))return;let g=[...e,p];if(l.type===q.Fragment){r.push.apply(r,E1(l.props.children,g));return}l.type!==Ma&&zo(!1),!l.props.index||!l.props.children||zo(!1);let _={id:l.props.id||g.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(_.children=E1(l.props.children,g)),r.push(_)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},P1.apply(this,arguments)}function p8(t,e){if(t==null)return{};var r={},l=Object.keys(t),p,g;for(g=0;g<l.length;g++)p=l[g],!(e.indexOf(p)>=0)&&(r[p]=t[p]);return r}function m8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h8(t,e){return t.button===0&&(!e||e==="_self")&&!m8(t)}const f8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g8="6";try{window.__reactRouterVersion=g8}catch{}const x8="startTransition",AS=AP[x8];function v8(t){let{basename:e,children:r,future:l,window:p}=t,g=q.useRef();g.current==null&&(g.current=AO({window:p,v5Compat:!0}));let _=g.current,[C,i]=q.useState({action:_.action,location:_.location}),{v7_startTransition:E}=l||{},B=q.useCallback(F=>{E&&AS?AS(()=>i(F)):i(F)},[i,E]);return q.useLayoutEffect(()=>_.listen(B),[_,B]),q.createElement(d8,{basename:e,children:r,location:C.location,navigationType:C.action,navigator:_,future:l})}const y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=q.forwardRef(function(e,r){let{onClick:l,relative:p,reloadDocument:g,replace:_,state:C,target:i,to:E,preventScrollReset:B,viewTransition:F}=e,N=p8(e,f8),{basename:V}=q.useContext(bd),Q,H=!1;if(typeof E=="string"&&_8.test(E)&&(Q=E,y8))try{let Z=new URL(window.location.href),dt=E.startsWith("//")?new URL(Z.protocol+E):new URL(E),ft=pw(dt.pathname,V);dt.origin===Z.origin&&ft!=null?E=ft+dt.search+dt.hash:H=!0}catch{}let tt=KO(E,{relative:p}),W=b8(E,{replace:_,state:C,target:i,preventScrollReset:B,relative:p,viewTransition:F});function $(Z){l&&l(Z),Z.defaultPrevented||W(Z)}return q.createElement("a",P1({},N,{href:Q||tt,onClick:H||g?l:$,ref:r,target:i}))});var TS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TS||(TS={}));var SS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SS||(SS={}));function b8(t,e){let{target:r,replace:l,state:p,preventScrollReset:g,relative:_,viewTransition:C}=e===void 0?{}:e,i=u5(),E=Nf(),B=p5(t,{relative:_});return q.useCallback(F=>{if(h8(F,r)){F.preventDefault();let N=l!==void 0?l:$x(E)===$x(B);i(t,{replace:N,state:p,preventScrollReset:g,relative:_,viewTransition:C})}},[E,i,B,l,p,r,t,g,_,C])}const w8=Kb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pn=q.forwardRef(({className:t,variant:e,size:r,asChild:l=!1,...p},g)=>{const _=l?mp:"button";return w.jsx(_,{"data-lov-id":"src/components/ui/button.tsx:46:6","data-lov-name":"Comp","data-component-path":"src/components/ui/button.tsx","data-component-line":"46","data-component-file":"button.tsx","data-component-name":"Comp","data-component-content":"%7B%7D",className:Hn(w8({variant:e,size:r,className:t})),ref:g,...p})});pn.displayName="Button";const Gr=()=>{const[t,e]=q.useState(!1),[r,l]=q.useState(!1);return q.useEffect(()=>{const p=()=>{window.scrollY>20?l(!0):l(!1)};return window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),w.jsxs("header",{"data-lov-id":"src/components/Navbar.tsx:27:4","data-lov-name":"header","data-component-path":"src/components/Navbar.tsx","data-component-line":"27","data-component-file":"Navbar.tsx","data-component-name":"header","data-component-content":"%7B%7D",className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-black/90 backdrop-blur-md border-b border-green-500/20 py-2":"bg-transparent py-4"}`,children:[w.jsxs("div",{"data-lov-id":"src/components/Navbar.tsx:34:6","data-lov-name":"div","data-component-path":"src/components/Navbar.tsx","data-component-line":"34","data-component-file":"Navbar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20mx-auto%20flex%20items-center%20justify-between%22%7D",className:"container px-4 md:px-6 mx-auto flex items-center justify-between",children:[w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:35:8","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"35","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-2xl%20font-poppins%20font-bold%20group%22%7D",to:"/",className:"flex items-center gap-2 text-2xl font-poppins font-bold group",children:[w.jsx("div",{"data-lov-id":"src/components/Navbar.tsx:39:10","data-lov-name":"div","data-component-path":"src/components/Navbar.tsx","data-component-line":"39","data-component-file":"Navbar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20rounded-full%20bg-green-500%20flex%20items-center%20justify-center%20overflow-hidden%20group-hover%3Aanimate-pulse-glow%22%7D",className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center overflow-hidden group-hover:animate-pulse-glow",children:w.jsx("div",{"data-lov-id":"src/components/Navbar.tsx:40:12","data-lov-name":"div","data-component-path":"src/components/Navbar.tsx","data-component-line":"40","data-component-file":"Navbar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20bg-black%20rounded-full%22%7D",className:"w-4 h-4 bg-black rounded-full"})}),w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:42:10","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"42","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Retort%20Food%22%2C%22className%22%3A%22bg-gradient-to-r%20from-green-400%20to-green-300%20bg-clip-text%20text-transparent%20group-hover%3Atext-glow%22%7D",className:"bg-gradient-to-r from-green-400 to-green-300 bg-clip-text text-transparent group-hover:text-glow",children:"Retort Food"})]}),w.jsxs("nav",{"data-lov-id":"src/components/Navbar.tsx:46:8","data-lov-name":"nav","data-component-path":"src/components/Navbar.tsx","data-component-line":"46","data-component-file":"Navbar.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22hidden%20md%3Aflex%20items-center%20gap-8%22%7D",className:"hidden md:flex items-center gap-8",children:[w.jsx(C8,{"data-lov-id":"src/components/Navbar.tsx:47:10","data-lov-name":"NavLinks","data-component-path":"src/components/Navbar.tsx","data-component-line":"47","data-component-file":"Navbar.tsx","data-component-name":"NavLinks","data-component-content":"%7B%7D"}),w.jsx(zn,{"data-lov-id":"src/components/Navbar.tsx:48:10","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"48","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",children:w.jsxs(pn,{"data-lov-id":"src/components/Navbar.tsx:49:12","data-lov-name":"Button","data-component-path":"src/components/Navbar.tsx","data-component-line":"49","data-component-file":"Navbar.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Take%20Action%22%2C%22className%22%3A%22btn-futuristic%20text-black%20font-medium%22%7D",size:"lg",className:"btn-futuristic text-black font-medium",children:["Take Action",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:51:14","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"51","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",size:16,className:"ml-1"})]})})]}),w.jsx(pn,{"data-lov-id":"src/components/Navbar.tsx:57:8","data-lov-name":"Button","data-component-path":"src/components/Navbar.tsx","data-component-line":"57","data-component-file":"Navbar.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22md%3Ahidden%20text-green-400%20hover%3Atext-green-300%20hover%3Abg-green-500%2F10%22%7D",variant:"ghost",size:"icon",className:"md:hidden text-green-400 hover:text-green-300 hover:bg-green-500/10",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?w.jsx(hp,{"data-lov-id":"src/components/Navbar.tsx:64:24","data-lov-name":"X","data-component-path":"src/components/Navbar.tsx","data-component-line":"64","data-component-file":"Navbar.tsx","data-component-name":"X","data-component-content":"%7B%7D",size:24}):w.jsx(rz,{"data-lov-id":"src/components/Navbar.tsx:64:42","data-lov-name":"Menu","data-component-path":"src/components/Navbar.tsx","data-component-line":"64","data-component-file":"Navbar.tsx","data-component-name":"Menu","data-component-content":"%7B%7D",size:24})})]}),t&&w.jsx("div",{"data-lov-id":"src/components/Navbar.tsx:70:8","data-lov-name":"div","data-component-path":"src/components/Navbar.tsx","data-component-line":"70","data-component-file":"Navbar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Ahidden%20bg-black%2F95%20backdrop-blur-xl%20border-t%20border-green-500%2F20%20animate-fade-in%22%7D",className:"md:hidden bg-black/95 backdrop-blur-xl border-t border-green-500/20 animate-fade-in",children:w.jsxs("div",{"data-lov-id":"src/components/Navbar.tsx:71:10","data-lov-name":"div","data-component-path":"src/components/Navbar.tsx","data-component-line":"71","data-component-file":"Navbar.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20py-4%20flex%20flex-col%20gap-4%22%7D",className:"container px-4 py-4 flex flex-col gap-4",children:[w.jsx(A8,{"data-lov-id":"src/components/Navbar.tsx:72:12","data-lov-name":"NavLinksMobile","data-component-path":"src/components/Navbar.tsx","data-component-line":"72","data-component-file":"Navbar.tsx","data-component-name":"NavLinksMobile","data-component-content":"%7B%7D",closeMenu:()=>e(!1)}),w.jsx(zn,{"data-lov-id":"src/components/Navbar.tsx:73:12","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"73","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",onClick:()=>e(!1),children:w.jsxs(pn,{"data-lov-id":"src/components/Navbar.tsx:74:14","data-lov-name":"Button","data-component-path":"src/components/Navbar.tsx","data-component-line":"74","data-component-file":"Navbar.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Take%20Action%22%2C%22className%22%3A%22btn-futuristic%20w-full%20text-black%20font-medium%22%7D",size:"lg",className:"btn-futuristic w-full text-black font-medium",children:["Take Action",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:76:16","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"76","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",size:16,className:"ml-1"})]})})]})})]})},C8=()=>w.jsxs(w.Fragment,{children:[w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:88:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"88","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Home%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition-all%20hover%3Atext-glow%20relative%20group%22%7D",to:"/",className:"text-green-100 hover:text-green-400 font-medium transition-all hover:text-glow relative group",children:["Home",w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:93:6","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"93","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-0%20h-0.5%20bg-green-500%20transition-all%20duration-300%20group-hover%3Aw-full%22%7D",className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:95:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"95","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22About%20Us%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition-all%20hover%3Atext-glow%20relative%20group%22%7D",to:"/about",className:"text-green-100 hover:text-green-400 font-medium transition-all hover:text-glow relative group",children:["About Us",w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:100:6","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"100","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-0%20h-0.5%20bg-green-500%20transition-all%20duration-300%20group-hover%3Aw-full%22%7D",className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:102:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"102","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Technology%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition-all%20hover%3Atext-glow%20relative%20group%22%7D",to:"/technology",className:"text-green-100 hover:text-green-400 font-medium transition-all hover:text-glow relative group",children:["Technology",w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:107:6","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"107","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-0%20h-0.5%20bg-green-500%20transition-all%20duration-300%20group-hover%3Aw-full%22%7D",className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:109:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"109","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Get%20Involved%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition-all%20hover%3Atext-glow%20relative%20group%22%7D",to:"/get-involved",className:"text-green-100 hover:text-green-400 font-medium transition-all hover:text-glow relative group",children:["Get Involved",w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:114:6","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"114","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-0%20h-0.5%20bg-green-500%20transition-all%20duration-300%20group-hover%3Aw-full%22%7D",className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:116:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"116","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Contact%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition-all%20hover%3Atext-glow%20relative%20group%22%7D",to:"/contact",className:"text-green-100 hover:text-green-400 font-medium transition-all hover:text-glow relative group",children:["Contact",w.jsx("span",{"data-lov-id":"src/components/Navbar.tsx:121:6","data-lov-name":"span","data-component-path":"src/components/Navbar.tsx","data-component-line":"121","data-component-file":"Navbar.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-0%20h-0.5%20bg-green-500%20transition-all%20duration-300%20group-hover%3Aw-full%22%7D",className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-500 transition-all duration-300 group-hover:w-full"})]})]}),A8=({closeMenu:t})=>w.jsxs(w.Fragment,{children:[w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:128:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"128","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Home%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition%20py-3%20border-b%20border-green-500%2F20%20flex%20justify-between%20items-center%22%7D",to:"/",onClick:t,className:"text-green-100 hover:text-green-400 font-medium transition py-3 border-b border-green-500/20 flex justify-between items-center",children:["Home",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:134:6","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"134","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22opacity-50%22%7D",size:14,className:"opacity-50"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:136:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"136","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22About%20Us%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition%20py-3%20border-b%20border-green-500%2F20%20flex%20justify-between%20items-center%22%7D",to:"/about",onClick:t,className:"text-green-100 hover:text-green-400 font-medium transition py-3 border-b border-green-500/20 flex justify-between items-center",children:["About Us",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:142:6","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"142","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22opacity-50%22%7D",size:14,className:"opacity-50"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:144:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"144","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Technology%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition%20py-3%20border-b%20border-green-500%2F20%20flex%20justify-between%20items-center%22%7D",to:"/technology",onClick:t,className:"text-green-100 hover:text-green-400 font-medium transition py-3 border-b border-green-500/20 flex justify-between items-center",children:["Technology",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:150:6","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"150","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22opacity-50%22%7D",size:14,className:"opacity-50"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:152:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"152","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Get%20Involved%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition%20py-3%20border-b%20border-green-500%2F20%20flex%20justify-between%20items-center%22%7D",to:"/get-involved",onClick:t,className:"text-green-100 hover:text-green-400 font-medium transition py-3 border-b border-green-500/20 flex justify-between items-center",children:["Get Involved",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:158:6","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"158","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22opacity-50%22%7D",size:14,className:"opacity-50"})]}),w.jsxs(zn,{"data-lov-id":"src/components/Navbar.tsx:160:4","data-lov-name":"Link","data-component-path":"src/components/Navbar.tsx","data-component-line":"160","data-component-file":"Navbar.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Contact%22%2C%22className%22%3A%22text-green-100%20hover%3Atext-green-400%20font-medium%20transition%20py-3%20border-b%20border-green-500%2F20%20flex%20justify-between%20items-center%22%7D",to:"/contact",onClick:t,className:"text-green-100 hover:text-green-400 font-medium transition py-3 border-b border-green-500/20 flex justify-between items-center",children:["Contact",w.jsx($o,{"data-lov-id":"src/components/Navbar.tsx:166:6","data-lov-name":"ArrowRight","data-component-path":"src/components/Navbar.tsx","data-component-line":"166","data-component-file":"Navbar.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22opacity-50%22%7D",size:14,className:"opacity-50"})]})]}),hw=q.createContext({});function Pp(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const fw=typeof window<"u",P2=fw?q.useLayoutEffect:q.useEffect,D2=q.createContext(null);function gw(t,e){t.indexOf(e)===-1&&t.push(e)}function xw(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ci=(t,e,r)=>r>e?e:r<t?t:r;let T8=()=>{},qx=()=>{};const $i={},f5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function g5(t){return typeof t=="object"&&t!==null}const x5=t=>/^0[^.\s]+$/u.test(t);function vw(t){let e;return()=>(e===void 0&&(e=t()),e)}const er=t=>t,S8=(t,e)=>r=>e(t(r)),If=(...t)=>t.reduce(S8),xp=(t,e,r)=>{const l=e-t;return l===0?1:(r-t)/l};class yw{constructor(){this.subscriptions=[]}add(e){return gw(this.subscriptions,e),()=>xw(this.subscriptions,e)}notify(e,r,l){const p=this.subscriptions.length;if(p)if(p===1)this.subscriptions[0](e,r,l);else for(let g=0;g<p;g++){const _=this.subscriptions[g];_&&_(e,r,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ai=t=>t*1e3,ri=t=>t/1e3;function _w(t,e){return e?t*(1e3/e):0}const v5=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,E8=1e-7,P8=12;function D8(t,e,r,l,p){let g,_,C=0;do _=e+(r-e)/2,g=v5(_,l,p)-t,g>0?r=_:e=_;while(Math.abs(g)>E8&&++C<P8);return _}function Ff(t,e,r,l){if(t===e&&r===l)return er;const p=g=>D8(g,0,1,t,r);return g=>g===0||g===1?g:v5(p(g),e,l)}const y5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_5=t=>e=>1-t(1-e),b5=Ff(.33,1.53,.69,.99),bw=_5(b5),w5=y5(bw),C5=t=>(t*=2)<1?.5*bw(t):.5*(2-Math.pow(2,-10*(t-1))),ww=t=>1-Math.sin(Math.acos(t)),A5=_5(ww),T5=y5(ww),M8=Ff(.42,0,1,1),k8=Ff(0,0,.58,1),S5=Ff(.42,0,.58,1),B8=t=>Array.isArray(t)&&typeof t[0]!="number",E5=t=>Array.isArray(t)&&typeof t[0]=="number",ES={linear:er,easeIn:M8,easeInOut:S5,easeOut:k8,circIn:ww,circInOut:T5,circOut:A5,backIn:bw,backInOut:w5,backOut:b5,anticipate:C5},N8=t=>typeof t=="string",PS=t=>{if(E5(t)){qx(t.length===4);const[e,r,l,p]=t;return Ff(e,r,l,p)}else if(N8(t))return qx(ES[t]!==void 0),ES[t];return t},Bg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],DS={value:null,addProjectionMetrics:null};function I8(t,e){let r=new Set,l=new Set,p=!1,g=!1;const _=new WeakSet;let C={delta:0,timestamp:0,isProcessing:!1},i=0;function E(F){_.has(F)&&(B.schedule(F),t()),i++,F(C)}const B={schedule:(F,N=!1,V=!1)=>{const H=V&&p?r:l;return N&&_.add(F),H.has(F)||H.add(F),F},cancel:F=>{l.delete(F),_.delete(F)},process:F=>{if(C=F,p){g=!0;return}p=!0,[r,l]=[l,r],r.forEach(E),e&&DS.value&&DS.value.frameloop[e].push(i),i=0,r.clear(),p=!1,g&&(g=!1,B.process(F))}};return B}const F8=40;function P5(t,e){let r=!1,l=!0;const p={delta:0,timestamp:0,isProcessing:!1},g=()=>r=!0,_=Bg.reduce((Z,dt)=>(Z[dt]=I8(g,e?dt:void 0),Z),{}),{setup:C,read:i,resolveKeyframes:E,preUpdate:B,update:F,preRender:N,render:V,postRender:Q}=_,H=()=>{const Z=$i.useManualTiming?p.timestamp:performance.now();r=!1,$i.useManualTiming||(p.delta=l?1e3/60:Math.max(Math.min(Z-p.timestamp,F8),1)),p.timestamp=Z,p.isProcessing=!0,C.process(p),i.process(p),E.process(p),B.process(p),F.process(p),N.process(p),V.process(p),Q.process(p),p.isProcessing=!1,r&&e&&(l=!1,t(H))},tt=()=>{r=!0,l=!0,p.isProcessing||t(H)};return{schedule:Bg.reduce((Z,dt)=>{const ft=_[dt];return Z[dt]=(St,zt=!1,Ft=!1)=>(r||tt(),ft.schedule(St,zt,Ft)),Z},{}),cancel:Z=>{for(let dt=0;dt<Bg.length;dt++)_[Bg[dt]].cancel(Z)},state:p,steps:_}}const{schedule:jn,cancel:Ms,state:Jo,steps:Yy}=P5(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let sx;function R8(){sx=void 0}const Ya={now:()=>(sx===void 0&&Ya.set(Jo.isProcessing||$i.useManualTiming?Jo.timestamp:performance.now()),sx),set:t=>{sx=t,queueMicrotask(R8)}},D5=t=>e=>typeof e=="string"&&e.startsWith(t),Cw=D5("--"),L8=D5("var(--"),Aw=t=>L8(t)?z8.test(t.split("/*")[0].trim()):!1,z8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gf={...Dp,transform:t=>ci(0,1,t)},Ng={...Dp,default:1},jh=t=>Math.round(t*1e5)/1e5,Tw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j8(t){return t==null}const O8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sw=(t,e)=>r=>!!(typeof r=="string"&&O8.test(r)&&r.startsWith(t)||e&&!j8(r)&&Object.prototype.hasOwnProperty.call(r,e)),M5=(t,e,r)=>l=>{if(typeof l!="string")return l;const[p,g,_,C]=l.match(Tw);return{[t]:parseFloat(p),[e]:parseFloat(g),[r]:parseFloat(_),alpha:C!==void 0?parseFloat(C):1}},V8=t=>ci(0,255,t),Qy={...Dp,transform:t=>Math.round(V8(t))},nd={test:Sw("rgb","red"),parse:M5("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:l=1})=>"rgba("+Qy.transform(t)+", "+Qy.transform(e)+", "+Qy.transform(r)+", "+jh(gf.transform(l))+")"};function U8(t){let e="",r="",l="",p="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),l=t.substring(5,7),p=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),l=t.substring(3,4),p=t.substring(4,5),e+=e,r+=r,l+=l,p+=p),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(l,16),alpha:p?parseInt(p,16)/255:1}}const D1={test:Sw("#"),parse:U8,transform:nd.transform},Rf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tl=Rf("deg"),si=Rf("%"),We=Rf("px"),$8=Rf("vh"),G8=Rf("vw"),MS={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},Lu={test:Sw("hsl","hue"),parse:M5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:l=1})=>"hsla("+Math.round(t)+", "+si.transform(jh(e))+", "+si.transform(jh(r))+", "+jh(gf.transform(l))+")"},wa={test:t=>nd.test(t)||D1.test(t)||Lu.test(t),parse:t=>nd.test(t)?nd.parse(t):Lu.test(t)?Lu.parse(t):D1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nd.transform(t):Lu.transform(t)},q8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W8(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Tw))==null?void 0:e.length)||0)+(((r=t.match(q8))==null?void 0:r.length)||0)>0}const k5="number",B5="color",H8="var",Z8="var(",kS="${}",X8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xf(t){const e=t.toString(),r=[],l={color:[],number:[],var:[]},p=[];let g=0;const C=e.replace(X8,i=>(wa.test(i)?(l.color.push(g),p.push(B5),r.push(wa.parse(i))):i.startsWith(Z8)?(l.var.push(g),p.push(H8),r.push(i)):(l.number.push(g),p.push(k5),r.push(parseFloat(i))),++g,kS)).split(kS);return{values:r,split:C,indexes:l,types:p}}function N5(t){return xf(t).values}function I5(t){const{split:e,types:r}=xf(t),l=e.length;return p=>{let g="";for(let _=0;_<l;_++)if(g+=e[_],p[_]!==void 0){const C=r[_];C===k5?g+=jh(p[_]):C===B5?g+=wa.transform(p[_]):g+=p[_]}return g}}const K8=t=>typeof t=="number"?0:t;function Y8(t){const e=N5(t);return I5(t)(e.map(K8))}const ec={test:W8,parse:N5,createTransformer:I5,getAnimatableNone:Y8};function Jy(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Q8({hue:t,saturation:e,lightness:r,alpha:l}){t/=360,e/=100,r/=100;let p=0,g=0,_=0;if(!e)p=g=_=r;else{const C=r<.5?r*(1+e):r+e-r*e,i=2*r-C;p=Jy(i,C,t+1/3),g=Jy(i,C,t),_=Jy(i,C,t-1/3)}return{red:Math.round(p*255),green:Math.round(g*255),blue:Math.round(_*255),alpha:l}}function Wx(t,e){return r=>r>0?e:t}const go=(t,e,r)=>t+(e-t)*r,t_=(t,e,r)=>{const l=t*t,p=r*(e*e-l)+l;return p<0?0:Math.sqrt(p)},J8=[D1,nd,Lu],tV=t=>J8.find(e=>e.test(t));function BS(t){const e=tV(t);if(!e)return!1;let r=e.parse(t);return e===Lu&&(r=Q8(r)),r}const NS=(t,e)=>{const r=BS(t),l=BS(e);if(!r||!l)return Wx(t,e);const p={...r};return g=>(p.red=t_(r.red,l.red,g),p.green=t_(r.green,l.green,g),p.blue=t_(r.blue,l.blue,g),p.alpha=go(r.alpha,l.alpha,g),nd.transform(p))},M1=new Set(["none","hidden"]);function eV(t,e){return M1.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function nV(t,e){return r=>go(t,e,r)}function Ew(t){return typeof t=="number"?nV:typeof t=="string"?Aw(t)?Wx:wa.test(t)?NS:rV:Array.isArray(t)?F5:typeof t=="object"?wa.test(t)?NS:oV:Wx}function F5(t,e){const r=[...t],l=r.length,p=t.map((g,_)=>Ew(g)(g,e[_]));return g=>{for(let _=0;_<l;_++)r[_]=p[_](g);return r}}function oV(t,e){const r={...t,...e},l={};for(const p in r)t[p]!==void 0&&e[p]!==void 0&&(l[p]=Ew(t[p])(t[p],e[p]));return p=>{for(const g in l)r[g]=l[g](p);return r}}function aV(t,e){const r=[],l={color:0,var:0,number:0};for(let p=0;p<e.values.length;p++){const g=e.types[p],_=t.indexes[g][l[g]],C=t.values[_]??0;r[p]=C,l[g]++}return r}const rV=(t,e)=>{const r=ec.createTransformer(e),l=xf(t),p=xf(e);return l.indexes.var.length===p.indexes.var.length&&l.indexes.color.length===p.indexes.color.length&&l.indexes.number.length>=p.indexes.number.length?M1.has(t)&&!p.values.length||M1.has(e)&&!l.values.length?eV(t,e):If(F5(aV(l,p),p.values),r):Wx(t,e)};function R5(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?go(t,e,r):Ew(t)(t,e)}const sV=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>jn.update(e,r),stop:()=>Ms(e),now:()=>Jo.isProcessing?Jo.timestamp:Ya.now()}},L5=(t,e,r=10)=>{let l="";const p=Math.max(Math.round(e/r),2);for(let g=0;g<p;g++)l+=t(g/(p-1))+", ";return`linear(${l.substring(0,l.length-2)})`},Hx=2e4;function Pw(t){let e=0;const r=50;let l=t.next(e);for(;!l.done&&e<Hx;)e+=r,l=t.next(e);return e>=Hx?1/0:e}function iV(t,e=100,r){const l=r({...t,keyframes:[0,e]}),p=Math.min(Pw(l),Hx);return{type:"keyframes",ease:g=>l.next(p*g).value/e,duration:ri(p)}}const lV=5;function z5(t,e,r){const l=Math.max(e-lV,0);return _w(r-t(l),e-l)}const Ao={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},e_=.001;function cV({duration:t=Ao.duration,bounce:e=Ao.bounce,velocity:r=Ao.velocity,mass:l=Ao.mass}){let p,g,_=1-e;_=ci(Ao.minDamping,Ao.maxDamping,_),t=ci(Ao.minDuration,Ao.maxDuration,ri(t)),_<1?(p=E=>{const B=E*_,F=B*t,N=B-r,V=k1(E,_),Q=Math.exp(-F);return e_-N/V*Q},g=E=>{const F=E*_*t,N=F*r+r,V=Math.pow(_,2)*Math.pow(E,2)*t,Q=Math.exp(-F),H=k1(Math.pow(E,2),_);return(-p(E)+e_>0?-1:1)*((N-V)*Q)/H}):(p=E=>{const B=Math.exp(-E*t),F=(E-r)*t+1;return-e_+B*F},g=E=>{const B=Math.exp(-E*t),F=(r-E)*(t*t);return B*F});const C=5/t,i=uV(p,g,C);if(t=ai(t),isNaN(i))return{stiffness:Ao.stiffness,damping:Ao.damping,duration:t};{const E=Math.pow(i,2)*l;return{stiffness:E,damping:_*2*Math.sqrt(l*E),duration:t}}}const dV=12;function uV(t,e,r){let l=r;for(let p=1;p<dV;p++)l=l-t(l)/e(l);return l}function k1(t,e){return t*Math.sqrt(1-e*e)}const pV=["duration","bounce"],mV=["stiffness","damping","mass"];function IS(t,e){return e.some(r=>t[r]!==void 0)}function hV(t){let e={velocity:Ao.velocity,stiffness:Ao.stiffness,damping:Ao.damping,mass:Ao.mass,isResolvedFromDuration:!1,...t};if(!IS(t,mV)&&IS(t,pV))if(t.visualDuration){const r=t.visualDuration,l=2*Math.PI/(r*1.2),p=l*l,g=2*ci(.05,1,1-(t.bounce||0))*Math.sqrt(p);e={...e,mass:Ao.mass,stiffness:p,damping:g}}else{const r=cV(t);e={...e,...r,mass:Ao.mass},e.isResolvedFromDuration=!0}return e}function Zx(t=Ao.visualDuration,e=Ao.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:l,restDelta:p}=r;const g=r.keyframes[0],_=r.keyframes[r.keyframes.length-1],C={done:!1,value:g},{stiffness:i,damping:E,mass:B,duration:F,velocity:N,isResolvedFromDuration:V}=hV({...r,velocity:-ri(r.velocity||0)}),Q=N||0,H=E/(2*Math.sqrt(i*B)),tt=_-g,W=ri(Math.sqrt(i/B)),$=Math.abs(tt)<5;l||(l=$?Ao.restSpeed.granular:Ao.restSpeed.default),p||(p=$?Ao.restDelta.granular:Ao.restDelta.default);let Z;if(H<1){const ft=k1(W,H);Z=St=>{const zt=Math.exp(-H*W*St);return _-zt*((Q+H*W*tt)/ft*Math.sin(ft*St)+tt*Math.cos(ft*St))}}else if(H===1)Z=ft=>_-Math.exp(-W*ft)*(tt+(Q+W*tt)*ft);else{const ft=W*Math.sqrt(H*H-1);Z=St=>{const zt=Math.exp(-H*W*St),Ft=Math.min(ft*St,300);return _-zt*((Q+H*W*tt)*Math.sinh(Ft)+ft*tt*Math.cosh(Ft))/ft}}const dt={calculatedDuration:V&&F||null,next:ft=>{const St=Z(ft);if(V)C.done=ft>=F;else{let zt=ft===0?Q:0;H<1&&(zt=ft===0?ai(Q):z5(Z,ft,St));const Ft=Math.abs(zt)<=l,ie=Math.abs(_-St)<=p;C.done=Ft&&ie}return C.value=C.done?_:St,C},toString:()=>{const ft=Math.min(Pw(dt),Hx),St=L5(zt=>dt.next(ft*zt).value,ft,30);return ft+"ms "+St},toTransition:()=>{}};return dt}Zx.applyToOptions=t=>{const e=iV(t,100,Zx);return t.ease=e.ease,t.duration=ai(e.duration),t.type="keyframes",t};function B1({keyframes:t,velocity:e=0,power:r=.8,timeConstant:l=325,bounceDamping:p=10,bounceStiffness:g=500,modifyTarget:_,min:C,max:i,restDelta:E=.5,restSpeed:B}){const F=t[0],N={done:!1,value:F},V=Ft=>C!==void 0&&Ft<C||i!==void 0&&Ft>i,Q=Ft=>C===void 0?i:i===void 0||Math.abs(C-Ft)<Math.abs(i-Ft)?C:i;let H=r*e;const tt=F+H,W=_===void 0?tt:_(tt);W!==tt&&(H=W-F);const $=Ft=>-H*Math.exp(-Ft/l),Z=Ft=>W+$(Ft),dt=Ft=>{const ie=$(Ft),Dt=Z(Ft);N.done=Math.abs(ie)<=E,N.value=N.done?W:Dt};let ft,St;const zt=Ft=>{V(N.value)&&(ft=Ft,St=Zx({keyframes:[N.value,Q(N.value)],velocity:z5(Z,Ft,N.value),damping:p,stiffness:g,restDelta:E,restSpeed:B}))};return zt(0),{calculatedDuration:null,next:Ft=>{let ie=!1;return!St&&ft===void 0&&(ie=!0,dt(Ft),zt(Ft)),ft!==void 0&&Ft>=ft?St.next(Ft-ft):(!ie&&dt(Ft),N)}}}function fV(t,e,r){const l=[],p=r||$i.mix||R5,g=t.length-1;for(let _=0;_<g;_++){let C=p(t[_],t[_+1]);if(e){const i=Array.isArray(e)?e[_]||er:e;C=If(i,C)}l.push(C)}return l}function Dw(t,e,{clamp:r=!0,ease:l,mixer:p}={}){const g=t.length;if(qx(g===e.length),g===1)return()=>e[0];if(g===2&&e[0]===e[1])return()=>e[1];const _=t[0]===t[1];t[0]>t[g-1]&&(t=[...t].reverse(),e=[...e].reverse());const C=fV(e,l,p),i=C.length,E=B=>{if(_&&B<t[0])return e[0];let F=0;if(i>1)for(;F<t.length-2&&!(B<t[F+1]);F++);const N=xp(t[F],t[F+1],B);return C[F](N)};return r?B=>E(ci(t[0],t[g-1],B)):E}function gV(t,e){const r=t[t.length-1];for(let l=1;l<=e;l++){const p=xp(0,e,l);t.push(go(r,1,p))}}function j5(t){const e=[0];return gV(e,t.length-1),e}function xV(t,e){return t.map(r=>r*e)}function vV(t,e){return t.map(()=>e||S5).splice(0,t.length-1)}function Oh({duration:t=300,keyframes:e,times:r,ease:l="easeInOut"}){const p=B8(l)?l.map(PS):PS(l),g={done:!1,value:e[0]},_=xV(r&&r.length===e.length?r:j5(e),t),C=Dw(_,e,{ease:Array.isArray(p)?p:vV(e,p)});return{calculatedDuration:t,next:i=>(g.value=C(i),g.done=i>=t,g)}}const yV=t=>t!==null;function Mw(t,{repeat:e,repeatType:r="loop"},l,p=1){const g=t.filter(yV),C=p<0||e&&r!=="loop"&&e%2===1?0:g.length-1;return!C||l===void 0?g[C]:l}const _V={decay:B1,inertia:B1,tween:Oh,keyframes:Oh,spring:Zx};function O5(t){typeof t.type=="string"&&(t.type=_V[t.type])}class kw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const bV=t=>t/100;class Bw extends kw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var l,p;if(r){const{motionValue:g}=this.options;g&&g.updatedAt!==Ya.now()&&this.tick(Ya.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(p=(l=this.options).onStop)==null||p.call(l))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;O5(e);const{type:r=Oh,repeat:l=0,repeatDelay:p=0,repeatType:g,velocity:_=0}=e;let{keyframes:C}=e;const i=r||Oh;i!==Oh&&typeof C[0]!="number"&&(this.mixKeyframes=If(bV,R5(C[0],C[1])),C=[0,100]);const E=i({...e,keyframes:C});g==="mirror"&&(this.mirroredGenerator=i({...e,keyframes:[...C].reverse(),velocity:-_})),E.calculatedDuration===null&&(E.calculatedDuration=Pw(E));const{calculatedDuration:B}=E;this.calculatedDuration=B,this.resolvedDuration=B+p,this.totalDuration=this.resolvedDuration*(l+1)-p,this.generator=E}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:l,totalDuration:p,mixKeyframes:g,mirroredGenerator:_,resolvedDuration:C,calculatedDuration:i}=this;if(this.startTime===null)return l.next(0);const{delay:E=0,keyframes:B,repeat:F,repeatType:N,repeatDelay:V,type:Q,onUpdate:H,finalKeyframe:tt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const W=this.currentTime-E*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?W<0:W>p;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let Z=this.currentTime,dt=l;if(F){const Ft=Math.min(this.currentTime,p)/C;let ie=Math.floor(Ft),Dt=Ft%1;!Dt&&Ft>=1&&(Dt=1),Dt===1&&ie--,ie=Math.min(ie,F+1),!!(ie%2)&&(N==="reverse"?(Dt=1-Dt,V&&(Dt-=V/C)):N==="mirror"&&(dt=_)),Z=ci(0,1,Dt)*C}const ft=$?{done:!1,value:B[0]}:dt.next(Z);g&&(ft.value=g(ft.value));let{done:St}=ft;!$&&i!==null&&(St=this.playbackSpeed>=0?this.currentTime>=p:this.currentTime<=0);const zt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&St);return zt&&Q!==B1&&(ft.value=Mw(B,this.options,tt,this.speed)),H&&H(ft.value),zt&&this.finish(),ft}then(e,r){return this.finished.then(e,r)}get duration(){return ri(this.calculatedDuration)}get time(){return ri(this.currentTime)}set time(e){var r;e=ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ya.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ri(this.currentTime))}play(){var p,g;if(this.isStopped)return;const{driver:e=sV,startTime:r}=this.options;this.driver||(this.driver=e(_=>this.tick(_))),(g=(p=this.options).onPlay)==null||g.call(p);const l=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=l):this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime||(this.startTime=r??l),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ya.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function wV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const od=t=>t*180/Math.PI,N1=t=>{const e=od(Math.atan2(t[1],t[0]));return I1(e)},CV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:N1,rotateZ:N1,skewX:t=>od(Math.atan(t[1])),skewY:t=>od(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},I1=t=>(t=t%360,t<0&&(t+=360),t),FS=N1,RS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RS,scaleY:LS,scale:t=>(RS(t)+LS(t))/2,rotateX:t=>I1(od(Math.atan2(t[6],t[5]))),rotateY:t=>I1(od(Math.atan2(-t[2],t[0]))),rotateZ:FS,rotate:FS,skewX:t=>od(Math.atan(t[4])),skewY:t=>od(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function F1(t){return t.includes("scale")?1:0}function R1(t,e){if(!t||t==="none")return F1(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,p;if(r)l=AV,p=r;else{const C=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=CV,p=C}if(!p)return F1(e);const g=l[e],_=p[1].split(",").map(SV);return typeof g=="function"?g(_):_[g]}const TV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return R1(r,e)};function SV(t){return parseFloat(t.trim())}const Mp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kp=new Set(Mp),zS=t=>t===Dp||t===We,EV=new Set(["x","y","z"]),PV=Mp.filter(t=>!EV.has(t));function DV(t){const e=[];return PV.forEach(r=>{const l=t.getValue(r);l!==void 0&&(e.push([r,l.get()]),l.set(r.startsWith("scale")?1:0))}),e}const dd={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>R1(e,"x"),y:(t,{transform:e})=>R1(e,"y")};dd.translateX=dd.x;dd.translateY=dd.y;const ud=new Set;let L1=!1,z1=!1,j1=!1;function V5(){if(z1){const t=Array.from(ud).filter(l=>l.needsMeasurement),e=new Set(t.map(l=>l.element)),r=new Map;e.forEach(l=>{const p=DV(l);p.length&&(r.set(l,p),l.render())}),t.forEach(l=>l.measureInitialState()),e.forEach(l=>{l.render();const p=r.get(l);p&&p.forEach(([g,_])=>{var C;(C=l.getValue(g))==null||C.set(_)})}),t.forEach(l=>l.measureEndState()),t.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}z1=!1,L1=!1,ud.forEach(t=>t.complete(j1)),ud.clear()}function U5(){ud.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(z1=!0)})}function MV(){j1=!0,U5(),V5(),j1=!1}class Nw{constructor(e,r,l,p,g,_=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=l,this.motionValue=p,this.element=g,this.isAsync=_}scheduleResolve(){this.state="scheduled",this.isAsync?(ud.add(this),L1||(L1=!0,jn.read(U5),jn.resolveKeyframes(V5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:l,motionValue:p}=this;if(e[0]===null){const g=p==null?void 0:p.get(),_=e[e.length-1];if(g!==void 0)e[0]=g;else if(l&&r){const C=l.readValue(r,_);C!=null&&(e[0]=C)}e[0]===void 0&&(e[0]=_),p&&g===void 0&&p.set(e[0])}wV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ud.delete(this)}cancel(){this.state==="scheduled"&&(ud.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kV=t=>t.startsWith("--");function BV(t,e,r){kV(e)?t.style.setProperty(e,r):t.style[e]=r}const $5=vw(()=>window.ScrollTimeline!==void 0),NV={};function IV(t,e){const r=vw(t);return()=>NV[e]??r()}const G5=IV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sh=([t,e,r,l])=>`cubic-bezier(${t}, ${e}, ${r}, ${l})`,jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sh([0,.65,.55,1]),circOut:Sh([.55,0,1,.45]),backIn:Sh([.31,.01,.66,-.59]),backOut:Sh([.33,1.53,.69,.99])};function q5(t,e){if(t)return typeof t=="function"?G5()?L5(t,e):"ease-out":E5(t)?Sh(t):Array.isArray(t)?t.map(r=>q5(r,e)||jS.easeOut):jS[t]}function FV(t,e,r,{delay:l=0,duration:p=300,repeat:g=0,repeatType:_="loop",ease:C="easeOut",times:i}={},E=void 0){const B={[e]:r};i&&(B.offset=i);const F=q5(C,p);Array.isArray(F)&&(B.easing=F);const N={delay:l,duration:p,easing:Array.isArray(F)?"linear":F,fill:"both",iterations:g+1,direction:_==="reverse"?"alternate":"normal"};return E&&(N.pseudoElement=E),t.animate(B,N)}function W5(t){return typeof t=="function"&&"applyToOptions"in t}function RV({type:t,...e}){return W5(t)&&G5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LV extends kw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:l,keyframes:p,pseudoElement:g,allowFlatten:_=!1,finalKeyframe:C,onComplete:i}=e;this.isPseudoElement=!!g,this.allowFlatten=_,this.options=e,qx(typeof e.type!="string");const E=RV(e);this.animation=FV(r,l,p,E,g),E.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!g){const B=Mw(p,this.options,C,this.speed);this.updateMotionValue?this.updateMotionValue(B):BV(r,l,B),this.animation.cancel()}i==null||i(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,l;const e=((l=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:l.call(r).duration)||0;return ri(Number(e))}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var l;return this.allowFlatten&&((l=this.animation.effect)==null||l.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&$5()?(this.animation.timeline=e,er):r(this)}}const H5={anticipate:C5,backInOut:w5,circInOut:T5};function zV(t){return t in H5}function jV(t){typeof t.ease=="string"&&zV(t.ease)&&(t.ease=H5[t.ease])}const OS=10;class OV extends LV{constructor(e){jV(e),O5(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:l,onComplete:p,element:g,..._}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const C=new Bw({..._,autoplay:!1}),i=ai(this.finishedTime??this.time);r.setWithVelocity(C.sample(i-OS).value,C.sample(i).value,OS),C.stop()}}const VS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ec.test(t)||t==="0")&&!t.startsWith("url("));function VV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function UV(t,e,r,l){const p=t[0];if(p===null)return!1;if(e==="display"||e==="visibility")return!0;const g=t[t.length-1],_=VS(p,e),C=VS(g,e);return!_||!C?!1:VV(t)||(r==="spring"||W5(r))&&l}function M2(t){return g5(t)&&"offsetHeight"in t}const $V=new Set(["opacity","clipPath","filter","transform"]),GV=vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qV(t){var E;const{motionValue:e,name:r,repeatDelay:l,repeatType:p,damping:g,type:_}=t;if(!M2((E=e==null?void 0:e.owner)==null?void 0:E.current))return!1;const{onUpdate:C,transformTemplate:i}=e.owner.getProps();return GV()&&r&&$V.has(r)&&(r!=="transform"||!i)&&!C&&!l&&p!=="mirror"&&g!==0&&_!=="inertia"}const WV=40;class HV extends kw{constructor({autoplay:e=!0,delay:r=0,type:l="keyframes",repeat:p=0,repeatDelay:g=0,repeatType:_="loop",keyframes:C,name:i,motionValue:E,element:B,...F}){var Q;super(),this.stop=()=>{var H,tt;this._animation&&(this._animation.stop(),(H=this.stopTimeline)==null||H.call(this)),(tt=this.keyframeResolver)==null||tt.cancel()},this.createdAt=Ya.now();const N={autoplay:e,delay:r,type:l,repeat:p,repeatDelay:g,repeatType:_,name:i,motionValue:E,element:B,...F},V=(B==null?void 0:B.KeyframeResolver)||Nw;this.keyframeResolver=new V(C,(H,tt,W)=>this.onKeyframesResolved(H,tt,N,!W),i,E,B),(Q=this.keyframeResolver)==null||Q.scheduleResolve()}onKeyframesResolved(e,r,l,p){this.keyframeResolver=void 0;const{name:g,type:_,velocity:C,delay:i,isHandoff:E,onUpdate:B}=l;this.resolvedAt=Ya.now(),UV(e,g,_,C)||(($i.instantAnimations||!i)&&(B==null||B(Mw(e,l,r))),e[0]=e[e.length-1],l.duration=0,l.repeat=0);const N={startTime:p?this.resolvedAt?this.resolvedAt-this.createdAt>WV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...l,keyframes:e},V=!E&&qV(N)?new OV({...N,element:N.motionValue.owner.current}):new Bw(N);V.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ZV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XV(t){const e=ZV.exec(t);if(!e)return[,];const[,r,l,p]=e;return[`--${r??l}`,p]}function Z5(t,e,r=1){const[l,p]=XV(t);if(!l)return;const g=window.getComputedStyle(e).getPropertyValue(l);if(g){const _=g.trim();return f5(_)?parseFloat(_):_}return Aw(p)?Z5(p,e,r+1):p}function Iw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const X5=new Set(["width","height","top","left","right","bottom",...Mp]),KV={test:t=>t==="auto",parse:t=>t},K5=t=>e=>e.test(t),Y5=[Dp,We,si,Tl,G8,$8,KV],US=t=>Y5.find(K5(t));function YV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||x5(t):!0}const QV=new Set(["brightness","contrast","saturate","opacity"]);function JV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[l]=r.match(Tw)||[];if(!l)return t;const p=r.replace(l,"");let g=QV.has(e)?1:0;return l!==r&&(g*=100),e+"("+g+p+")"}const t9=/\b([a-z-]*)\(.*?\)/gu,O1={...ec,getAnimatableNone:t=>{const e=t.match(t9);return e?e.map(JV).join(" "):t}},$S={...Dp,transform:Math.round},e9={rotate:Tl,rotateX:Tl,rotateY:Tl,rotateZ:Tl,scale:Ng,scaleX:Ng,scaleY:Ng,scaleZ:Ng,skew:Tl,skewX:Tl,skewY:Tl,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:gf,originX:MS,originY:MS,originZ:We},Fw={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...e9,zIndex:$S,fillOpacity:gf,strokeOpacity:gf,numOctaves:$S},n9={...Fw,color:wa,backgroundColor:wa,outlineColor:wa,fill:wa,stroke:wa,borderColor:wa,borderTopColor:wa,borderRightColor:wa,borderBottomColor:wa,borderLeftColor:wa,filter:O1,WebkitFilter:O1},Q5=t=>n9[t];function J5(t,e){let r=Q5(t);return r!==O1&&(r=ec),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const o9=new Set(["auto","none","0"]);function a9(t,e,r){let l=0,p;for(;l<t.length&&!p;){const g=t[l];typeof g=="string"&&!o9.has(g)&&xf(g).values.length&&(p=t[l]),l++}if(p&&r)for(const g of e)t[g]=J5(r,p)}class r9 extends Nw{constructor(e,r,l,p,g){super(e,r,l,p,g,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:l}=this;if(!r||!r.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let E=e[i];if(typeof E=="string"&&(E=E.trim(),Aw(E))){const B=Z5(E,r.current);B!==void 0&&(e[i]=B),i===e.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!X5.has(l)||e.length!==2)return;const[p,g]=e,_=US(p),C=US(g);if(_!==C)if(zS(_)&&zS(C))for(let i=0;i<e.length;i++){const E=e[i];typeof E=="string"&&(e[i]=parseFloat(E))}else dd[l]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,l=[];for(let p=0;p<e.length;p++)(e[p]===null||YV(e[p]))&&l.push(p);l.length&&a9(e,l,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:l}=this;if(!e||!e.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dd[l](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const p=r[r.length-1];p!==void 0&&e.getValue(l,p).jump(p,!1)}measureEndState(){var C;const{element:e,name:r,unresolvedKeyframes:l}=this;if(!e||!e.current)return;const p=e.getValue(r);p&&p.jump(this.measuredOrigin,!1);const g=l.length-1,_=l[g];l[g]=dd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),_!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=_),(C=this.removedTransforms)!=null&&C.length&&this.removedTransforms.forEach(([i,E])=>{e.getValue(i).set(E)}),this.resolveNoneKeyframes()}}function Rw(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const p=document.querySelectorAll(t);return p?Array.from(p):[]}return Array.from(t)}const GS=30,s9=t=>!isNaN(parseFloat(t)),Vh={current:void 0};class i9{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(l,p=!0)=>{var _,C;const g=Ya.now();if(this.updatedAt!==g&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&((_=this.events.change)==null||_.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty();p&&((C=this.events.renderRequest)==null||C.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ya.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=s9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new yw);const l=this.events[e].add(r);return e==="change"?()=>{l(),jn.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,l){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-l}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vh.current&&Vh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ya.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GS)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GS);return _w(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function As(t,e){return new i9(t,e)}const t4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Lw,cancel:VW}=P5(queueMicrotask,!1),vs={x:!1,y:!1};function e4(){return vs.x||vs.y}function l9(t){return t==="x"||t==="y"?vs[t]?null:(vs[t]=!0,()=>{vs[t]=!1}):vs.x||vs.y?null:(vs.x=vs.y=!0,()=>{vs.x=vs.y=!1})}function n4(t,e){const r=Rw(t),l=new AbortController,p={passive:!0,...e,signal:l.signal};return[r,p,()=>l.abort()]}function qS(t){return!(t.pointerType==="touch"||e4())}function c9(t,e,r={}){const[l,p,g]=n4(t,r),_=C=>{if(!qS(C))return;const{target:i}=C,E=e(i,C);if(typeof E!="function"||!i)return;const B=F=>{qS(F)&&(E(F),i.removeEventListener("pointerleave",B))};i.addEventListener("pointerleave",B,p)};return l.forEach(C=>{C.addEventListener("pointerenter",_,p)}),g}const o4=(t,e)=>e?t===e?!0:o4(t,e.parentElement):!1,zw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u9(t){return d9.has(t.tagName)||t.tabIndex!==-1}const ix=new WeakSet;function WS(t){return e=>{e.key==="Enter"&&t(e)}}function n_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p9=(t,e)=>{const r=t.currentTarget;if(!r)return;const l=WS(()=>{if(ix.has(r))return;n_(r,"down");const p=WS(()=>{n_(r,"up")}),g=()=>n_(r,"cancel");r.addEventListener("keyup",p,e),r.addEventListener("blur",g,e)});r.addEventListener("keydown",l,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",l),e)};function HS(t){return zw(t)&&!e4()}function m9(t,e,r={}){const[l,p,g]=n4(t,r),_=C=>{const i=C.currentTarget;if(!HS(C))return;ix.add(i);const E=e(i,C),B=(V,Q)=>{window.removeEventListener("pointerup",F),window.removeEventListener("pointercancel",N),ix.has(i)&&ix.delete(i),HS(V)&&typeof E=="function"&&E(V,{success:Q})},F=V=>{B(V,i===window||i===document||r.useGlobalTarget||o4(i,V.target))},N=V=>{B(V,!1)};window.addEventListener("pointerup",F,p),window.addEventListener("pointercancel",N,p)};return l.forEach(C=>{(r.useGlobalTarget?window:C).addEventListener("pointerdown",_,p),M2(C)&&(C.addEventListener("focus",E=>p9(E,p)),!u9(C)&&!C.hasAttribute("tabindex")&&(C.tabIndex=0))}),g}function a4(t,e){let r;const l=()=>{const{currentTime:p}=e,_=(p===null?0:p.value)/100;r!==_&&t(_),r=_};return jn.preUpdate(l,!0),()=>Ms(l)}function jw(t){return g5(t)&&"ownerSVGElement"in t}function h9(t){return jw(t)&&t.tagName==="svg"}function f9(...t){const e=!Array.isArray(t[0]),r=e?0:-1,l=t[0+r],p=t[1+r],g=t[2+r],_=t[3+r],C=Dw(p,g,_);return e?C(l):C}const Aa=t=>!!(t&&t.getVelocity),g9=[...Y5,wa,ec],x9=t=>g9.find(K5(t)),k2=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class v9 extends q.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const l=r.offsetParent,p=M2(l)&&l.offsetWidth||0,g=this.props.sizeRef.current;g.height=r.offsetHeight||0,g.width=r.offsetWidth||0,g.top=r.offsetTop,g.left=r.offsetLeft,g.right=p-g.width-g.left}return null}componentDidUpdate(){}render(){return this.props.children}}function y9({children:t,isPresent:e,anchorX:r}){const l=q.useId(),p=q.useRef(null),g=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:_}=q.useContext(k2);return q.useInsertionEffect(()=>{const{width:C,height:i,top:E,left:B,right:F}=g.current;if(e||!p.current||!C||!i)return;const N=r==="left"?`left: ${B}`:`right: ${F}`;p.current.dataset.motionPopId=l;const V=document.createElement("style");return _&&(V.nonce=_),document.head.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${i}px !important;
            ${N}px !important;
            top: ${E}px !important;
          }
        `),()=>{document.head.contains(V)&&document.head.removeChild(V)}},[e]),w.jsx(v9,{isPresent:e,childRef:p,sizeRef:g,children:q.cloneElement(t,{ref:p})})}const _9=({children:t,initial:e,isPresent:r,onExitComplete:l,custom:p,presenceAffectsLayout:g,mode:_,anchorX:C})=>{const i=Pp(b9),E=q.useId();let B=!0,F=q.useMemo(()=>(B=!1,{id:E,initial:e,isPresent:r,custom:p,onExitComplete:N=>{i.set(N,!0);for(const V of i.values())if(!V)return;l&&l()},register:N=>(i.set(N,!1),()=>i.delete(N))}),[r,i,l]);return g&&B&&(F={...F}),q.useMemo(()=>{i.forEach((N,V)=>i.set(V,!1))},[r]),q.useEffect(()=>{!r&&!i.size&&l&&l()},[r]),_==="popLayout"&&(t=w.jsx(y9,{isPresent:r,anchorX:C,children:t})),w.jsx(D2.Provider,{value:F,children:t})};function b9(){return new Map}function r4(t=!0){const e=q.useContext(D2);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:l,register:p}=e,g=q.useId();q.useEffect(()=>{if(t)return p(g)},[t]);const _=q.useCallback(()=>t&&l&&l(g),[g,l,t]);return!r&&l?[!1,_]:[!0]}const Ig=t=>t.key||"";function ZS(t){const e=[];return q.Children.forEach(t,r=>{q.isValidElement(r)&&e.push(r)}),e}const Ow=({children:t,custom:e,initial:r=!0,onExitComplete:l,presenceAffectsLayout:p=!0,mode:g="sync",propagate:_=!1,anchorX:C="left"})=>{const[i,E]=r4(_),B=q.useMemo(()=>ZS(t),[t]),F=_&&!i?[]:B.map(Ig),N=q.useRef(!0),V=q.useRef(B),Q=Pp(()=>new Map),[H,tt]=q.useState(B),[W,$]=q.useState(B);P2(()=>{N.current=!1,V.current=B;for(let ft=0;ft<W.length;ft++){const St=Ig(W[ft]);F.includes(St)?Q.delete(St):Q.get(St)!==!0&&Q.set(St,!1)}},[W,F.length,F.join("-")]);const Z=[];if(B!==H){let ft=[...B];for(let St=0;St<W.length;St++){const zt=W[St],Ft=Ig(zt);F.includes(Ft)||(ft.splice(St,0,zt),Z.push(zt))}return g==="wait"&&Z.length&&(ft=Z),$(ZS(ft)),tt(B),null}const{forceRender:dt}=q.useContext(hw);return w.jsx(w.Fragment,{children:W.map(ft=>{const St=Ig(ft),zt=_&&!i?!1:B===W||F.includes(St),Ft=()=>{if(Q.has(St))Q.set(St,!0);else return;let ie=!0;Q.forEach(Dt=>{Dt||(ie=!1)}),ie&&(dt==null||dt(),$(V.current),_&&(E==null||E()),l&&l())};return w.jsx(_9,{isPresent:zt,initial:!N.current||r?void 0:!1,custom:e,presenceAffectsLayout:p,mode:g,onExitComplete:zt?void 0:Ft,anchorX:C,children:ft},St)})})},s4=q.createContext({strict:!1}),XS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vp={};for(const t in XS)vp[t]={isEnabled:e=>XS[t].some(r=>!!e[r])};function w9(t){for(const e in t)vp[e]={...vp[e],...t[e]}}const C9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C9.has(t)}let i4=t=>!Xx(t);function A9(t){t&&(i4=e=>e.startsWith("on")?!Xx(e):t(e))}try{A9(require("@emotion/is-prop-valid").default)}catch{}function T9(t,e,r){const l={};for(const p in t)p==="values"&&typeof t.values=="object"||(i4(p)||r===!0&&Xx(p)||!e&&!Xx(p)||t.draggable&&p.startsWith("onDrag"))&&(l[p]=t[p]);return l}function S9(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...l)=>t(...l);return new Proxy(r,{get:(l,p)=>p==="create"?t:(e.has(p)||e.set(p,t(p)),e.get(p))})}const B2=q.createContext({});function N2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vf(t){return typeof t=="string"||Array.isArray(t)}const Vw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uw=["initial",...Vw];function I2(t){return N2(t.animate)||Uw.some(e=>vf(t[e]))}function l4(t){return!!(I2(t)||t.variants)}function E9(t,e){if(I2(t)){const{initial:r,animate:l}=t;return{initial:r===!1||vf(r)?r:void 0,animate:vf(l)?l:void 0}}return t.inherit!==!1?e:{}}function P9(t){const{initial:e,animate:r}=E9(t,q.useContext(B2));return q.useMemo(()=>({initial:e,animate:r}),[KS(e),KS(r)])}function KS(t){return Array.isArray(t)?t.join(" "):t}const D9=Symbol.for("motionComponentSymbol");function zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function M9(t,e,r){return q.useCallback(l=>{l&&t.onMount&&t.onMount(l),e&&(l?e.mount(l):e.unmount()),r&&(typeof r=="function"?r(l):zu(r)&&(r.current=l))},[e])}const $w=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k9="framerAppearId",c4="data-"+$w(k9),d4=q.createContext({});function B9(t,e,r,l,p){var H,tt;const{visualElement:g}=q.useContext(B2),_=q.useContext(s4),C=q.useContext(D2),i=q.useContext(k2).reducedMotion,E=q.useRef(null);l=l||_.renderer,!E.current&&l&&(E.current=l(t,{visualState:e,parent:g,props:r,presenceContext:C,blockInitialAnimation:C?C.initial===!1:!1,reducedMotionConfig:i}));const B=E.current,F=q.useContext(d4);B&&!B.projection&&p&&(B.type==="html"||B.type==="svg")&&N9(E.current,r,p,F);const N=q.useRef(!1);q.useInsertionEffect(()=>{B&&N.current&&B.update(r,C)});const V=r[c4],Q=q.useRef(!!V&&!((H=window.MotionHandoffIsComplete)!=null&&H.call(window,V))&&((tt=window.MotionHasOptimisedAnimation)==null?void 0:tt.call(window,V)));return P2(()=>{B&&(N.current=!0,window.MotionIsMounted=!0,B.updateFeatures(),Lw.render(B.render),Q.current&&B.animationState&&B.animationState.animateChanges())}),q.useEffect(()=>{B&&(!Q.current&&B.animationState&&B.animationState.animateChanges(),Q.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)==null||W.call(window,V)}),Q.current=!1))}),B}function N9(t,e,r,l){const{layoutId:p,layout:g,drag:_,dragConstraints:C,layoutScroll:i,layoutRoot:E,layoutCrossfade:B}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:u4(t.parent)),t.projection.setOptions({layoutId:p,layout:g,alwaysMeasureLayout:!!_||C&&zu(C),visualElement:t,animationType:typeof g=="string"?g:"both",initialPromotionConfig:l,crossfade:B,layoutScroll:i,layoutRoot:E})}function u4(t){if(t)return t.options.allowProjection!==!1?t.projection:u4(t.parent)}function I9({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:l,Component:p}){t&&w9(t);function g(C,i){let E;const B={...q.useContext(k2),...C,layoutId:F9(C)},{isStatic:F}=B,N=P9(C),V=l(C,F);if(!F&&fw){R9();const Q=L9(B);E=Q.MeasureLayout,N.visualElement=B9(p,V,B,e,Q.ProjectionNode)}return w.jsxs(B2.Provider,{value:N,children:[E&&N.visualElement?w.jsx(E,{visualElement:N.visualElement,...B}):null,r(p,C,M9(V,N.visualElement,i),V,F,N.visualElement)]})}g.displayName=`motion.${typeof p=="string"?p:`create(${p.displayName??p.name??""})`}`;const _=q.forwardRef(g);return _[D9]=p,_}function F9({layoutId:t}){const e=q.useContext(hw).id;return e&&t!==void 0?e+"-"+t:t}function R9(t,e){q.useContext(s4).strict}function L9(t){const{drag:e,layout:r}=vp;if(!e&&!r)return{};const l={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}const yf={};function z9(t){for(const e in t)yf[e]=t[e],Cw(e)&&(yf[e].isCSSVariable=!0)}function p4(t,{layout:e,layoutId:r}){return kp.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!yf[t]||t==="opacity")}const j9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O9=Mp.length;function V9(t,e,r){let l="",p=!0;for(let g=0;g<O9;g++){const _=Mp[g],C=t[_];if(C===void 0)continue;let i=!0;if(typeof C=="number"?i=C===(_.startsWith("scale")?1:0):i=parseFloat(C)===0,!i||r){const E=t4(C,Fw[_]);if(!i){p=!1;const B=j9[_]||_;l+=`${B}(${E}) `}r&&(e[_]=E)}}return l=l.trim(),r?l=r(e,p?"":l):p&&(l="none"),l}function Gw(t,e,r){const{style:l,vars:p,transformOrigin:g}=t;let _=!1,C=!1;for(const i in e){const E=e[i];if(kp.has(i)){_=!0;continue}else if(Cw(i)){p[i]=E;continue}else{const B=t4(E,Fw[i]);i.startsWith("origin")?(C=!0,g[i]=B):l[i]=B}}if(e.transform||(_||r?l.transform=V9(e,t.transform,r):l.transform&&(l.transform="none")),C){const{originX:i="50%",originY:E="50%",originZ:B=0}=g;l.transformOrigin=`${i} ${E} ${B}`}}const qw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m4(t,e,r){for(const l in e)!Aa(e[l])&&!p4(l,r)&&(t[l]=e[l])}function U9({transformTemplate:t},e){return q.useMemo(()=>{const r=qw();return Gw(r,e,t),Object.assign({},r.vars,r.style)},[e])}function $9(t,e){const r=t.style||{},l={};return m4(l,r,t),Object.assign(l,U9(t,e)),l}function G9(t,e){const r={},l=$9(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=l,r}const q9={offset:"stroke-dashoffset",array:"stroke-dasharray"},W9={offset:"strokeDashoffset",array:"strokeDasharray"};function H9(t,e,r=1,l=0,p=!0){t.pathLength=1;const g=p?q9:W9;t[g.offset]=We.transform(-l);const _=We.transform(e),C=We.transform(r);t[g.array]=`${_} ${C}`}function h4(t,{attrX:e,attrY:r,attrScale:l,pathLength:p,pathSpacing:g=1,pathOffset:_=0,...C},i,E,B){if(Gw(t,C,E),i){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:F,style:N}=t;F.transform&&(N.transform=F.transform,delete F.transform),(N.transform||F.transformOrigin)&&(N.transformOrigin=F.transformOrigin??"50% 50%",delete F.transformOrigin),N.transform&&(N.transformBox=(B==null?void 0:B.transformBox)??"fill-box",delete F.transformBox),e!==void 0&&(F.x=e),r!==void 0&&(F.y=r),l!==void 0&&(F.scale=l),p!==void 0&&H9(F,p,g,_,!1)}const f4=()=>({...qw(),attrs:{}}),g4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Z9(t,e,r,l){const p=q.useMemo(()=>{const g=f4();return h4(g,e,g4(l),t.transformTemplate,t.style),{...g.attrs,style:{...g.style}}},[e]);if(t.style){const g={};m4(g,t.style,t),p.style={...g,...p.style}}return p}const X9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ww(t){return typeof t!="string"||t.includes("-")?!1:!!(X9.indexOf(t)>-1||/[A-Z]/u.test(t))}function K9(t=!1){return(r,l,p,{latestValues:g},_)=>{const i=(Ww(r)?Z9:G9)(l,g,_,r),E=T9(l,typeof r=="string",t),B=r!==q.Fragment?{...E,...i,ref:p}:{},{children:F}=l,N=q.useMemo(()=>Aa(F)?F.get():F,[F]);return q.createElement(r,{...B,children:N})}}function YS(t){const e=[{},{}];return t==null||t.values.forEach((r,l)=>{e[0][l]=r.get(),e[1][l]=r.getVelocity()}),e}function Hw(t,e,r,l){if(typeof e=="function"){const[p,g]=YS(l);e=e(r!==void 0?r:t.custom,p,g)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[p,g]=YS(l);e=e(r!==void 0?r:t.custom,p,g)}return e}function lx(t){return Aa(t)?t.get():t}function Y9({scrapeMotionValuesFromProps:t,createRenderState:e},r,l,p){return{latestValues:Q9(r,l,p,t),renderState:e()}}const x4=t=>(e,r)=>{const l=q.useContext(B2),p=q.useContext(D2),g=()=>Y9(t,e,l,p);return r?g():Pp(g)};function Q9(t,e,r,l){const p={},g=l(t,{});for(const N in g)p[N]=lx(g[N]);let{initial:_,animate:C}=t;const i=I2(t),E=l4(t);e&&E&&!i&&t.inherit!==!1&&(_===void 0&&(_=e.initial),C===void 0&&(C=e.animate));let B=r?r.initial===!1:!1;B=B||_===!1;const F=B?C:_;if(F&&typeof F!="boolean"&&!N2(F)){const N=Array.isArray(F)?F:[F];for(let V=0;V<N.length;V++){const Q=Hw(t,N[V]);if(Q){const{transitionEnd:H,transition:tt,...W}=Q;for(const $ in W){let Z=W[$];if(Array.isArray(Z)){const dt=B?Z.length-1:0;Z=Z[dt]}Z!==null&&(p[$]=Z)}for(const $ in H)p[$]=H[$]}}}return p}function Zw(t,e,r){var g;const{style:l}=t,p={};for(const _ in l)(Aa(l[_])||e.style&&Aa(e.style[_])||p4(_,t)||((g=r==null?void 0:r.getValue(_))==null?void 0:g.liveStyle)!==void 0)&&(p[_]=l[_]);return p}const J9={useVisualState:x4({scrapeMotionValuesFromProps:Zw,createRenderState:qw})};function v4(t,e,r){const l=Zw(t,e,r);for(const p in t)if(Aa(t[p])||Aa(e[p])){const g=Mp.indexOf(p)!==-1?"attr"+p.charAt(0).toUpperCase()+p.substring(1):p;l[g]=t[p]}return l}const tU={useVisualState:x4({scrapeMotionValuesFromProps:v4,createRenderState:f4})};function eU(t,e){return function(l,{forwardMotionProps:p}={forwardMotionProps:!1}){const _={...Ww(l)?tU:J9,preloadedFeatures:t,useRender:K9(p),createVisualElement:e,Component:l};return I9(_)}}function _f(t,e,r){const l=t.getProps();return Hw(l,e,r!==void 0?r:l.custom,t)}const V1=t=>Array.isArray(t);function nU(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,As(r))}function oU(t){return V1(t)?t[t.length-1]||0:t}function aU(t,e){const r=_f(t,e);let{transitionEnd:l={},transition:p={},...g}=r||{};g={...g,...l};for(const _ in g){const C=oU(g[_]);nU(t,_,C)}}function rU(t){return!!(Aa(t)&&t.add)}function U1(t,e){const r=t.getValue("willChange");if(rU(r))return r.add(e);if(!r&&$i.WillChange){const l=new $i.WillChange("auto");t.addValue("willChange",l),l.add(e)}}function y4(t){return t.props[c4]}const sU=t=>t!==null;function iU(t,{repeat:e,repeatType:r="loop"},l){const p=t.filter(sU),g=e&&r!=="loop"&&e%2===1?0:p.length-1;return!g||l===void 0?p[g]:l}const lU={type:"spring",stiffness:500,damping:25,restSpeed:10},cU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dU={type:"keyframes",duration:.8},uU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pU=(t,{keyframes:e})=>e.length>2?dU:kp.has(t)?t.startsWith("scale")?cU(e[1]):lU:uU;function mU({when:t,delay:e,delayChildren:r,staggerChildren:l,staggerDirection:p,repeat:g,repeatType:_,repeatDelay:C,from:i,elapsed:E,...B}){return!!Object.keys(B).length}const Xw=(t,e,r,l={},p,g)=>_=>{const C=Iw(l,t)||{},i=C.delay||l.delay||0;let{elapsed:E=0}=l;E=E-ai(i);const B={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...C,delay:-E,onUpdate:N=>{e.set(N),C.onUpdate&&C.onUpdate(N)},onComplete:()=>{_(),C.onComplete&&C.onComplete()},name:t,motionValue:e,element:g?void 0:p};mU(C)||Object.assign(B,pU(t,B)),B.duration&&(B.duration=ai(B.duration)),B.repeatDelay&&(B.repeatDelay=ai(B.repeatDelay)),B.from!==void 0&&(B.keyframes[0]=B.from);let F=!1;if((B.type===!1||B.duration===0&&!B.repeatDelay)&&(B.duration=0,B.delay===0&&(F=!0)),($i.instantAnimations||$i.skipAnimations)&&(F=!0,B.duration=0,B.delay=0),B.allowFlatten=!C.type&&!C.ease,F&&!g&&e.get()!==void 0){const N=iU(B.keyframes,C);if(N!==void 0){jn.update(()=>{B.onUpdate(N),B.onComplete()});return}}return C.isSync?new Bw(B):new HV(B)};function hU({protectedKeys:t,needsAnimating:e},r){const l=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,l}function _4(t,e,{delay:r=0,transitionOverride:l,type:p}={}){let{transition:g=t.getDefaultTransition(),transitionEnd:_,...C}=e;l&&(g=l);const i=[],E=p&&t.animationState&&t.animationState.getState()[p];for(const B in C){const F=t.getValue(B,t.latestValues[B]??null),N=C[B];if(N===void 0||E&&hU(E,B))continue;const V={delay:r,...Iw(g||{},B)},Q=F.get();if(Q!==void 0&&!F.isAnimating&&!Array.isArray(N)&&N===Q&&!V.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const W=y4(t);if(W){const $=window.MotionHandoffAnimation(W,B,jn);$!==null&&(V.startTime=$,H=!0)}}U1(t,B),F.start(Xw(B,F,N,t.shouldReduceMotion&&X5.has(B)?{type:!1}:V,t,H));const tt=F.animation;tt&&i.push(tt)}return _&&Promise.all(i).then(()=>{jn.update(()=>{_&&aU(t,_)})}),i}function $1(t,e,r={}){var i;const l=_f(t,e,r.type==="exit"?(i=t.presenceContext)==null?void 0:i.custom:void 0);let{transition:p=t.getDefaultTransition()||{}}=l||{};r.transitionOverride&&(p=r.transitionOverride);const g=l?()=>Promise.all(_4(t,l,r)):()=>Promise.resolve(),_=t.variantChildren&&t.variantChildren.size?(E=0)=>{const{delayChildren:B=0,staggerChildren:F,staggerDirection:N}=p;return fU(t,e,B+E,F,N,r)}:()=>Promise.resolve(),{when:C}=p;if(C){const[E,B]=C==="beforeChildren"?[g,_]:[_,g];return E().then(()=>B())}else return Promise.all([g(),_(r.delay)])}function fU(t,e,r=0,l=0,p=1,g){const _=[],C=(t.variantChildren.size-1)*l,i=p===1?(E=0)=>E*l:(E=0)=>C-E*l;return Array.from(t.variantChildren).sort(gU).forEach((E,B)=>{E.notify("AnimationStart",e),_.push($1(E,e,{...g,delay:r+i(B)}).then(()=>E.notify("AnimationComplete",e)))}),Promise.all(_)}function gU(t,e){return t.sortNodePosition(e)}function xU(t,e,r={}){t.notify("AnimationStart",e);let l;if(Array.isArray(e)){const p=e.map(g=>$1(t,g,r));l=Promise.all(p)}else if(typeof e=="string")l=$1(t,e,r);else{const p=typeof e=="function"?_f(t,e,r.custom):e;l=Promise.all(_4(t,p,r))}return l.then(()=>{t.notify("AnimationComplete",e)})}function b4(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l++)if(e[l]!==t[l])return!1;return!0}const vU=Uw.length;function w4(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?w4(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<vU;r++){const l=Uw[r],p=t.props[l];(vf(p)||p===!1)&&(e[l]=p)}return e}const yU=[...Vw].reverse(),_U=Vw.length;function bU(t){return e=>Promise.all(e.map(({animation:r,options:l})=>xU(t,r,l)))}function wU(t){let e=bU(t),r=QS(),l=!0;const p=i=>(E,B)=>{var N;const F=_f(t,B,i==="exit"?(N=t.presenceContext)==null?void 0:N.custom:void 0);if(F){const{transition:V,transitionEnd:Q,...H}=F;E={...E,...H,...Q}}return E};function g(i){e=i(t)}function _(i){const{props:E}=t,B=w4(t.parent)||{},F=[],N=new Set;let V={},Q=1/0;for(let tt=0;tt<_U;tt++){const W=yU[tt],$=r[W],Z=E[W]!==void 0?E[W]:B[W],dt=vf(Z),ft=W===i?$.isActive:null;ft===!1&&(Q=tt);let St=Z===B[W]&&Z!==E[W]&&dt;if(St&&l&&t.manuallyAnimateOnMount&&(St=!1),$.protectedKeys={...V},!$.isActive&&ft===null||!Z&&!$.prevProp||N2(Z)||typeof Z=="boolean")continue;const zt=CU($.prevProp,Z);let Ft=zt||W===i&&$.isActive&&!St&&dt||tt>Q&&dt,ie=!1;const Dt=Array.isArray(Z)?Z:[Z];let Ie=Dt.reduce(p(W),{});ft===!1&&(Ie={});const{prevResolvedValues:Te={}}=$,xe={...Te,...Ie},ce=Be=>{Ft=!0,N.has(Be)&&(ie=!0,N.delete(Be)),$.needsAnimating[Be]=!0;const Ot=t.getValue(Be);Ot&&(Ot.liveStyle=!1)};for(const Be in xe){const Ot=Ie[Be],Zt=Te[Be];if(V.hasOwnProperty(Be))continue;let we=!1;V1(Ot)&&V1(Zt)?we=!b4(Ot,Zt):we=Ot!==Zt,we?Ot!=null?ce(Be):N.add(Be):Ot!==void 0&&N.has(Be)?ce(Be):$.protectedKeys[Be]=!0}$.prevProp=Z,$.prevResolvedValues=Ie,$.isActive&&(V={...V,...Ie}),l&&t.blockInitialAnimation&&(Ft=!1),Ft&&(!(St&&zt)||ie)&&F.push(...Dt.map(Be=>({animation:Be,options:{type:W}})))}if(N.size){const tt={};if(typeof E.initial!="boolean"){const W=_f(t,Array.isArray(E.initial)?E.initial[0]:E.initial);W&&W.transition&&(tt.transition=W.transition)}N.forEach(W=>{const $=t.getBaseTarget(W),Z=t.getValue(W);Z&&(Z.liveStyle=!0),tt[W]=$??null}),F.push({animation:tt})}let H=!!F.length;return l&&(E.initial===!1||E.initial===E.animate)&&!t.manuallyAnimateOnMount&&(H=!1),l=!1,H?e(F):Promise.resolve()}function C(i,E){var F;if(r[i].isActive===E)return Promise.resolve();(F=t.variantChildren)==null||F.forEach(N=>{var V;return(V=N.animationState)==null?void 0:V.setActive(i,E)}),r[i].isActive=E;const B=_(i);for(const N in r)r[N].protectedKeys={};return B}return{animateChanges:_,setActive:C,setAnimateFunction:g,getState:()=>r,reset:()=>{r=QS(),l=!0}}}function CU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!b4(e,t):!1}function Zc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QS(){return{animate:Zc(!0),whileInView:Zc(),whileHover:Zc(),whileTap:Zc(),whileDrag:Zc(),whileFocus:Zc(),exit:Zc()}}class rc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AU extends rc{constructor(e){super(e),e.animationState||(e.animationState=wU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let TU=0;class SU extends rc{constructor(){super(...arguments),this.id=TU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===l)return;const p=this.node.animationState.setActive("exit",!e);r&&!e&&p.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const EU={animation:{Feature:AU},exit:{Feature:SU}};function bf(t,e,r,l={passive:!0}){return t.addEventListener(e,r,l),()=>t.removeEventListener(e,r)}function Lf(t){return{point:{x:t.pageX,y:t.pageY}}}const PU=t=>e=>zw(e)&&t(e,Lf(e));function Uh(t,e,r,l){return bf(t,e,PU(r),l)}function C4({top:t,left:e,right:r,bottom:l}){return{x:{min:e,max:r},y:{min:t,max:l}}}function DU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MU(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),l=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:l.y,right:l.x}}const A4=1e-4,kU=1-A4,BU=1+A4,T4=.01,NU=0-T4,IU=0+T4;function Ia(t){return t.max-t.min}function FU(t,e,r){return Math.abs(t-e)<=r}function JS(t,e,r,l=.5){t.origin=l,t.originPoint=go(e.min,e.max,t.origin),t.scale=Ia(r)/Ia(e),t.translate=go(r.min,r.max,t.origin)-t.originPoint,(t.scale>=kU&&t.scale<=BU||isNaN(t.scale))&&(t.scale=1),(t.translate>=NU&&t.translate<=IU||isNaN(t.translate))&&(t.translate=0)}function $h(t,e,r,l){JS(t.x,e.x,r.x,l?l.originX:void 0),JS(t.y,e.y,r.y,l?l.originY:void 0)}function tE(t,e,r){t.min=r.min+e.min,t.max=t.min+Ia(e)}function RU(t,e,r){tE(t.x,e.x,r.x),tE(t.y,e.y,r.y)}function eE(t,e,r){t.min=e.min-r.min,t.max=t.min+Ia(e)}function Gh(t,e,r){eE(t.x,e.x,r.x),eE(t.y,e.y,r.y)}const nE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ju=()=>({x:nE(),y:nE()}),oE=()=>({min:0,max:0}),Po=()=>({x:oE(),y:oE()});function Rr(t){return[t("x"),t("y")]}function o_(t){return t===void 0||t===1}function G1({scale:t,scaleX:e,scaleY:r}){return!o_(t)||!o_(e)||!o_(r)}function Qc(t){return G1(t)||S4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S4(t){return aE(t.x)||aE(t.y)}function aE(t){return t&&t!=="0%"}function Kx(t,e,r){const l=t-r,p=e*l;return r+p}function rE(t,e,r,l,p){return p!==void 0&&(t=Kx(t,p,l)),Kx(t,r,l)+e}function q1(t,e=0,r=1,l,p){t.min=rE(t.min,e,r,l,p),t.max=rE(t.max,e,r,l,p)}function E4(t,{x:e,y:r}){q1(t.x,e.translate,e.scale,e.originPoint),q1(t.y,r.translate,r.scale,r.originPoint)}const sE=.999999999999,iE=1.0000000000001;function LU(t,e,r,l=!1){const p=r.length;if(!p)return;e.x=e.y=1;let g,_;for(let C=0;C<p;C++){g=r[C],_=g.projectionDelta;const{visualElement:i}=g.options;i&&i.props.style&&i.props.style.display==="contents"||(l&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vu(t,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),_&&(e.x*=_.x.scale,e.y*=_.y.scale,E4(t,_)),l&&Qc(g.latestValues)&&Vu(t,g.latestValues))}e.x<iE&&e.x>sE&&(e.x=1),e.y<iE&&e.y>sE&&(e.y=1)}function Ou(t,e){t.min=t.min+e,t.max=t.max+e}function lE(t,e,r,l,p=.5){const g=go(t.min,t.max,p);q1(t,e,r,g,l)}function Vu(t,e){lE(t.x,e.x,e.scaleX,e.scale,e.originX),lE(t.y,e.y,e.scaleY,e.scale,e.originY)}function P4(t,e){return C4(MU(t.getBoundingClientRect(),e))}function zU(t,e,r){const l=P4(t,r),{scroll:p}=e;return p&&(Ou(l.x,p.offset.x),Ou(l.y,p.offset.y)),l}const D4=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function jU(t,e){const r=cE(t.x,e.x),l=cE(t.y,e.y);return Math.sqrt(r**2+l**2)}class M4{constructor(e,r,{transformPagePoint:l,contextWindow:p,dragSnapToOrigin:g=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=r_(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,V=jU(F.offset,{x:0,y:0})>=3;if(!N&&!V)return;const{point:Q}=F,{timestamp:H}=Jo;this.history.push({...Q,timestamp:H});const{onStart:tt,onMove:W}=this.handlers;N||(tt&&tt(this.lastMoveEvent,F),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,F)},this.handlePointerMove=(F,N)=>{this.lastMoveEvent=F,this.lastMoveEventInfo=a_(N,this.transformPagePoint),jn.update(this.updatePoint,!0)},this.handlePointerUp=(F,N)=>{this.end();const{onEnd:V,onSessionEnd:Q,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const tt=r_(F.type==="pointercancel"?this.lastMoveEventInfo:a_(N,this.transformPagePoint),this.history);this.startEvent&&V&&V(F,tt),Q&&Q(F,tt)},!zw(e))return;this.dragSnapToOrigin=g,this.handlers=r,this.transformPagePoint=l,this.contextWindow=p||window;const _=Lf(e),C=a_(_,this.transformPagePoint),{point:i}=C,{timestamp:E}=Jo;this.history=[{...i,timestamp:E}];const{onSessionStart:B}=r;B&&B(e,r_(C,this.history)),this.removeListeners=If(Uh(this.contextWindow,"pointermove",this.handlePointerMove),Uh(this.contextWindow,"pointerup",this.handlePointerUp),Uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function a_(t,e){return e?{point:e(t.point)}:t}function dE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r_({point:t},e){return{point:t,delta:dE(t,k4(e)),offset:dE(t,OU(e)),velocity:VU(e,.1)}}function OU(t){return t[0]}function k4(t){return t[t.length-1]}function VU(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,l=null;const p=k4(t);for(;r>=0&&(l=t[r],!(p.timestamp-l.timestamp>ai(e)));)r--;if(!l)return{x:0,y:0};const g=ri(p.timestamp-l.timestamp);if(g===0)return{x:0,y:0};const _={x:(p.x-l.x)/g,y:(p.y-l.y)/g};return _.x===1/0&&(_.x=0),_.y===1/0&&(_.y=0),_}function UU(t,{min:e,max:r},l){return e!==void 0&&t<e?t=l?go(e,t,l.min):Math.max(t,e):r!==void 0&&t>r&&(t=l?go(r,t,l.max):Math.min(t,r)),t}function uE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function $U(t,{top:e,left:r,bottom:l,right:p}){return{x:uE(t.x,r,p),y:uE(t.y,e,l)}}function pE(t,e){let r=e.min-t.min,l=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,l]=[l,r]),{min:r,max:l}}function GU(t,e){return{x:pE(t.x,e.x),y:pE(t.y,e.y)}}function qU(t,e){let r=.5;const l=Ia(t),p=Ia(e);return p>l?r=xp(e.min,e.max-l,t.min):l>p&&(r=xp(t.min,t.max-p,e.min)),ci(0,1,r)}function WU(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const W1=.35;function HU(t=W1){return t===!1?t=0:t===!0&&(t=W1),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,r){return{min:hE(t,e),max:hE(t,r)}}function hE(t,e){return typeof t=="number"?t:t[e]||0}const ZU=new WeakMap;class XU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Po(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const p=B=>{const{dragSnapToOrigin:F}=this.getProps();F?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Lf(B).point)},g=(B,F)=>{const{drag:N,dragPropagation:V,onDragStart:Q}=this.getProps();if(N&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l9(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(tt=>{let W=this.getAxisMotionValue(tt).get()||0;if(si.test(W)){const{projection:$}=this.visualElement;if($&&$.layout){const Z=$.layout.layoutBox[tt];Z&&(W=Ia(Z)*(parseFloat(W)/100))}}this.originPoint[tt]=W}),Q&&jn.postRender(()=>Q(B,F)),U1(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},_=(B,F)=>{const{dragPropagation:N,dragDirectionLock:V,onDirectionLock:Q,onDrag:H}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:tt}=F;if(V&&this.currentDirection===null){this.currentDirection=KU(tt),this.currentDirection!==null&&Q&&Q(this.currentDirection);return}this.updateAxis("x",F.point,tt),this.updateAxis("y",F.point,tt),this.visualElement.render(),H&&H(B,F)},C=(B,F)=>this.stop(B,F),i=()=>Rr(B=>{var F;return this.getAnimationState(B)==="paused"&&((F=this.getAxisMotionValue(B).animation)==null?void 0:F.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new M4(e,{onSessionStart:p,onStart:g,onMove:_,onSessionEnd:C,resumeAnimation:i},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,contextWindow:D4(this.visualElement)})}stop(e,r){const l=this.isDragging;if(this.cancel(),!l)return;const{velocity:p}=r;this.startAnimation(p);const{onDragEnd:g}=this.getProps();g&&jn.postRender(()=>g(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,l){const{drag:p}=this.getProps();if(!l||!Fg(e,p,this.currentDirection))return;const g=this.getAxisMotionValue(e);let _=this.originPoint[e]+l[e];this.constraints&&this.constraints[e]&&(_=UU(_,this.constraints[e],this.elastic[e])),g.set(_)}resolveConstraints(){var g;const{dragConstraints:e,dragElastic:r}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(g=this.visualElement.projection)==null?void 0:g.layout,p=this.constraints;e&&zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&l?this.constraints=$U(l.layoutBox,e):this.constraints=!1,this.elastic=HU(r),p!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Rr(_=>{this.constraints!==!1&&this.getAxisMotionValue(_)&&(this.constraints[_]=WU(l.layoutBox[_],this.constraints[_]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!zu(e))return!1;const l=e.current,{projection:p}=this.visualElement;if(!p||!p.layout)return!1;const g=zU(l,p.root,this.visualElement.getTransformPagePoint());let _=GU(p.layout.layoutBox,g);if(r){const C=r(DU(_));this.hasMutatedConstraints=!!C,C&&(_=C4(C))}return _}startAnimation(e){const{drag:r,dragMomentum:l,dragElastic:p,dragTransition:g,dragSnapToOrigin:_,onDragTransitionEnd:C}=this.getProps(),i=this.constraints||{},E=Rr(B=>{if(!Fg(B,r,this.currentDirection))return;let F=i&&i[B]||{};_&&(F={min:0,max:0});const N=p?200:1e6,V=p?40:1e7,Q={type:"inertia",velocity:l?e[B]:0,bounceStiffness:N,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...g,...F};return this.startAxisValueAnimation(B,Q)});return Promise.all(E).then(C)}startAxisValueAnimation(e,r){const l=this.getAxisMotionValue(e);return U1(this.visualElement,e),l.start(Xw(e,l,0,r,this.visualElement,!1))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,l=this.visualElement.getProps(),p=l[r];return p||this.visualElement.getValue(e,(l.initial?l.initial[e]:void 0)||0)}snapToCursor(e){Rr(r=>{const{drag:l}=this.getProps();if(!Fg(r,l,this.currentDirection))return;const{projection:p}=this.visualElement,g=this.getAxisMotionValue(r);if(p&&p.layout){const{min:_,max:C}=p.layout.layoutBox[r];g.set(e[r]-go(_,C,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:l}=this.visualElement;if(!zu(r)||!l||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};Rr(_=>{const C=this.getAxisMotionValue(_);if(C&&this.constraints!==!1){const i=C.get();p[_]=qU({min:i,max:i},this.constraints[_])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.current.style.transform=g?g({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),Rr(_=>{if(!Fg(_,e,null))return;const C=this.getAxisMotionValue(_),{min:i,max:E}=this.constraints[_];C.set(go(i,E,p[_]))})}addListeners(){if(!this.visualElement.current)return;ZU.set(this.visualElement,this);const e=this.visualElement.current,r=Uh(e,"pointerdown",i=>{const{drag:E,dragListener:B=!0}=this.getProps();E&&B&&this.start(i)}),l=()=>{const{dragConstraints:i}=this.getProps();zu(i)&&i.current&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,g=p.addEventListener("measure",l);p&&!p.layout&&(p.root&&p.root.updateScroll(),p.updateLayout()),jn.read(l);const _=bf(window,"resize",()=>this.scalePositionWithinConstraints()),C=p.addEventListener("didUpdate",({delta:i,hasLayoutChanged:E})=>{this.isDragging&&E&&(Rr(B=>{const F=this.getAxisMotionValue(B);F&&(this.originPoint[B]+=i[B].translate,F.set(F.get()+i[B].translate))}),this.visualElement.render())});return()=>{_(),r(),g(),C&&C()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:l=!1,dragPropagation:p=!1,dragConstraints:g=!1,dragElastic:_=W1,dragMomentum:C=!0}=e;return{...e,drag:r,dragDirectionLock:l,dragPropagation:p,dragConstraints:g,dragElastic:_,dragMomentum:C}}}function Fg(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function KU(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class YU extends rc{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new XU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const fE=t=>(e,r)=>{t&&jn.postRender(()=>t(e,r))};class QU extends rc{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new M4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:l,onPanEnd:p}=this.node.getProps();return{onSessionStart:fE(e),onStart:fE(r),onMove:l,onEnd:(g,_)=>{delete this.session,p&&jn.postRender(()=>p(g,_))}}}mount(){this.removePointerDownListener=Uh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const r=gE(t,e.target.x),l=gE(t,e.target.y);return`${r}% ${l}%`}},JU={correct:(t,{treeScale:e,projectionDelta:r})=>{const l=t,p=ec.parse(t);if(p.length>5)return l;const g=ec.createTransformer(t),_=typeof p[0]!="number"?1:0,C=r.x.scale*e.x,i=r.y.scale*e.y;p[0+_]/=C,p[1+_]/=i;const E=go(C,i,.5);return typeof p[2+_]=="number"&&(p[2+_]/=E),typeof p[3+_]=="number"&&(p[3+_]/=E),g(p)}};class t$ extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:l,layoutId:p}=this.props,{projection:g}=e;z9(e$),g&&(r.group&&r.group.add(g),l&&l.register&&p&&l.register(g),g.root.didUpdate(),g.addEventListener("animationComplete",()=>{this.safeToRemove()}),g.setOptions({...g.options,onExitComplete:()=>this.safeToRemove()})),cx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:l,drag:p,isPresent:g}=this.props,{projection:_}=l;return _&&(_.isPresent=g,p||e.layoutDependency!==r||r===void 0||e.isPresent!==g?_.willUpdate():this.safeToRemove(),e.isPresent!==g&&(g?_.promote():_.relegate()||jn.postRender(()=>{const C=_.getStack();(!C||!C.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:l}=this.props,{projection:p}=e;p&&(p.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(p),l&&l.deregister&&l.deregister(p))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B4(t){const[e,r]=r4(),l=q.useContext(hw);return w.jsx(t$,{...t,layoutGroup:l,switchLayoutGroup:q.useContext(d4),isPresent:e,safeToRemove:r})}const e$={borderRadius:{...yh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yh,borderTopRightRadius:yh,borderBottomLeftRadius:yh,borderBottomRightRadius:yh,boxShadow:JU};function n$(t,e,r){const l=Aa(t)?t:As(t);return l.start(Xw("",l,e,r)),l.animation}const o$=(t,e)=>t.depth-e.depth;class a${constructor(){this.children=[],this.isDirty=!1}add(e){gw(this.children,e),this.isDirty=!0}remove(e){xw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o$),this.isDirty=!1,this.children.forEach(e)}}function r$(t,e){const r=Ya.now(),l=({timestamp:p})=>{const g=p-r;g>=e&&(Ms(l),t(g-e))};return jn.setup(l,!0),()=>Ms(l)}const N4=["TopLeft","TopRight","BottomLeft","BottomRight"],s$=N4.length,xE=t=>typeof t=="string"?parseFloat(t):t,vE=t=>typeof t=="number"||We.test(t);function i$(t,e,r,l,p,g){p?(t.opacity=go(0,r.opacity??1,l$(l)),t.opacityExit=go(e.opacity??1,0,c$(l))):g&&(t.opacity=go(e.opacity??1,r.opacity??1,l));for(let _=0;_<s$;_++){const C=`border${N4[_]}Radius`;let i=yE(e,C),E=yE(r,C);if(i===void 0&&E===void 0)continue;i||(i=0),E||(E=0),i===0||E===0||vE(i)===vE(E)?(t[C]=Math.max(go(xE(i),xE(E),l),0),(si.test(E)||si.test(i))&&(t[C]+="%")):t[C]=E}(e.rotate||r.rotate)&&(t.rotate=go(e.rotate||0,r.rotate||0,l))}function yE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l$=I4(0,.5,A5),c$=I4(.5,.95,er);function I4(t,e,r){return l=>l<t?0:l>e?1:r(xp(t,e,l))}function _E(t,e){t.min=e.min,t.max=e.max}function Fr(t,e){_E(t.x,e.x),_E(t.y,e.y)}function bE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wE(t,e,r,l,p){return t-=e,t=Kx(t,1/r,l),p!==void 0&&(t=Kx(t,1/p,l)),t}function d$(t,e=0,r=1,l=.5,p,g=t,_=t){if(si.test(e)&&(e=parseFloat(e),e=go(_.min,_.max,e/100)-_.min),typeof e!="number")return;let C=go(g.min,g.max,l);t===g&&(C-=e),t.min=wE(t.min,e,r,C,p),t.max=wE(t.max,e,r,C,p)}function CE(t,e,[r,l,p],g,_){d$(t,e[r],e[l],e[p],e.scale,g,_)}const u$=["x","scaleX","originX"],p$=["y","scaleY","originY"];function AE(t,e,r,l){CE(t.x,e,u$,r?r.x:void 0,l?l.x:void 0),CE(t.y,e,p$,r?r.y:void 0,l?l.y:void 0)}function TE(t){return t.translate===0&&t.scale===1}function F4(t){return TE(t.x)&&TE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function m$(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function EE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function R4(t,e){return EE(t.x,e.x)&&EE(t.y,e.y)}function PE(t){return Ia(t.x)/Ia(t.y)}function DE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class h${constructor(){this.members=[]}add(e){gw(this.members,e),e.scheduleRender()}remove(e){if(xw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(p=>e===p);if(r===0)return!1;let l;for(let p=r;p>=0;p--){const g=this.members[p];if(g.isPresent!==!1){l=g;break}}return l?(this.promote(l),!0):!1}promote(e,r){const l=this.lead;if(e!==l&&(this.prevLead=l,this.lead=e,e.show(),l)){l.instance&&l.scheduleRender(),e.scheduleRender(),e.resumeFrom=l,r&&(e.resumeFrom.preserveOpacity=!0),l.snapshot&&(e.snapshot=l.snapshot,e.snapshot.latestValues=l.animationValues||l.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:p}=e.options;p===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:l}=e;r.onExitComplete&&r.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function f$(t,e,r){let l="";const p=t.x.translate/e.x,g=t.y.translate/e.y,_=(r==null?void 0:r.z)||0;if((p||g||_)&&(l=`translate3d(${p}px, ${g}px, ${_}px) `),(e.x!==1||e.y!==1)&&(l+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:E,rotate:B,rotateX:F,rotateY:N,skewX:V,skewY:Q}=r;E&&(l=`perspective(${E}px) ${l}`),B&&(l+=`rotate(${B}deg) `),F&&(l+=`rotateX(${F}deg) `),N&&(l+=`rotateY(${N}deg) `),V&&(l+=`skewX(${V}deg) `),Q&&(l+=`skewY(${Q}deg) `)}const C=t.x.scale*e.x,i=t.y.scale*e.y;return(C!==1||i!==1)&&(l+=`scale(${C}, ${i})`),l||"none"}const s_=["","X","Y","Z"],g$={visibility:"hidden"},x$=1e3;let v$=0;function i_(t,e,r,l){const{latestValues:p}=e;p[t]&&(r[t]=p[t],e.setStaticValue(t,0),l&&(l[t]=0))}function L4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=y4(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:p,layoutId:g}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",jn,!(p||g))}const{parent:l}=t;l&&!l.hasCheckedOptimisedAppear&&L4(l)}function z4({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:l,resetTransform:p}){return class{constructor(_={},C=e==null?void 0:e()){this.id=v$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(b$),this.nodes.forEach(S$),this.nodes.forEach(E$),this.nodes.forEach(w$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=_,this.root=C?C.root||C:this,this.path=C?[...C.path,C]:[],this.parent=C,this.depth=C?C.depth+1:0;for(let i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new a$)}addEventListener(_,C){return this.eventHandlers.has(_)||this.eventHandlers.set(_,new yw),this.eventHandlers.get(_).add(C)}notifyListeners(_,...C){const i=this.eventHandlers.get(_);i&&i.notify(...C)}hasListeners(_){return this.eventHandlers.has(_)}mount(_){if(this.instance)return;this.isSVG=jw(_)&&!h9(_),this.instance=_;const{layoutId:C,layout:i,visualElement:E}=this.options;if(E&&!E.current&&E.mount(_),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||C)&&(this.isLayoutDirty=!0),t){let B;const F=()=>this.root.updateBlockedByResize=!1;t(_,()=>{this.root.updateBlockedByResize=!0,B&&B(),B=r$(F,250),cx.hasAnimatedSinceResize&&(cx.hasAnimatedSinceResize=!1,this.nodes.forEach(kE))})}C&&this.root.registerSharedNode(C,this),this.options.animate!==!1&&E&&(C||i)&&this.addEventListener("didUpdate",({delta:B,hasLayoutChanged:F,hasRelativeLayoutChanged:N,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Q=this.options.transition||E.getDefaultTransition()||B$,{onLayoutAnimationStart:H,onLayoutAnimationComplete:tt}=E.getProps(),W=!this.targetLayout||!R4(this.targetLayout,V),$=!F&&N;if(this.options.layoutRoot||this.resumeFrom||$||F&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(B,$);const Z={...Iw(Q,"layout"),onPlay:H,onComplete:tt};(E.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else F||kE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const _=this.getStack();_&&_.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P$),this.animationId++)}getTransformTemplate(){const{visualElement:_}=this.options;return _&&_.getProps().transformTemplate}willUpdate(_=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let B=0;B<this.path.length;B++){const F=this.path[B];F.shouldResetTransform=!0,F.updateScroll("snapshot"),F.options.layoutRoot&&F.willUpdate(!1)}const{layoutId:C,layout:i}=this.options;if(C===void 0&&!i)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),_&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ME);return}this.isUpdating||this.nodes.forEach(A$),this.isUpdating=!1,this.nodes.forEach(T$),this.nodes.forEach(y$),this.nodes.forEach(_$),this.clearAllSnapshots();const C=Ya.now();Jo.delta=ci(0,1e3/60,C-Jo.timestamp),Jo.timestamp=C,Jo.isProcessing=!0,Yy.update.process(Jo),Yy.preRender.process(Jo),Yy.render.process(Jo),Jo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C$),this.sharedNodes.forEach(D$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ia(this.snapshot.measuredBox.x)&&!Ia(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let i=0;i<this.path.length;i++)this.path[i].updateScroll();const _=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Po(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:C}=this.options;C&&C.notify("LayoutMeasure",this.layout.layoutBox,_?_.layoutBox:void 0)}updateScroll(_="measure"){let C=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===_&&(C=!1),C&&this.instance){const i=l(this.instance);this.scroll={animationId:this.root.animationId,phase:_,isRoot:i,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:i}}}resetTransform(){if(!p)return;const _=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,C=this.projectionDelta&&!F4(this.projectionDelta),i=this.getTransformTemplate(),E=i?i(this.latestValues,""):void 0,B=E!==this.prevTransformTemplateValue;_&&this.instance&&(C||Qc(this.latestValues)||B)&&(p(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(_=!0){const C=this.measurePageBox();let i=this.removeElementScroll(C);return _&&(i=this.removeTransform(i)),N$(i),{animationId:this.root.animationId,measuredBox:C,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){var E;const{visualElement:_}=this.options;if(!_)return Po();const C=_.measureViewportBox();if(!(((E=this.scroll)==null?void 0:E.wasRoot)||this.path.some(I$))){const{scroll:B}=this.root;B&&(Ou(C.x,B.offset.x),Ou(C.y,B.offset.y))}return C}removeElementScroll(_){var i;const C=Po();if(Fr(C,_),(i=this.scroll)!=null&&i.wasRoot)return C;for(let E=0;E<this.path.length;E++){const B=this.path[E],{scroll:F,options:N}=B;B!==this.root&&F&&N.layoutScroll&&(F.wasRoot&&Fr(C,_),Ou(C.x,F.offset.x),Ou(C.y,F.offset.y))}return C}applyTransform(_,C=!1){const i=Po();Fr(i,_);for(let E=0;E<this.path.length;E++){const B=this.path[E];!C&&B.options.layoutScroll&&B.scroll&&B!==B.root&&Vu(i,{x:-B.scroll.offset.x,y:-B.scroll.offset.y}),Qc(B.latestValues)&&Vu(i,B.latestValues)}return Qc(this.latestValues)&&Vu(i,this.latestValues),i}removeTransform(_){const C=Po();Fr(C,_);for(let i=0;i<this.path.length;i++){const E=this.path[i];if(!E.instance||!Qc(E.latestValues))continue;G1(E.latestValues)&&E.updateSnapshot();const B=Po(),F=E.measurePageBox();Fr(B,F),AE(C,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,B)}return Qc(this.latestValues)&&AE(C,this.latestValues),C}setTargetDelta(_){this.targetDelta=_,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(_){this.options={...this.options,..._,crossfade:_.crossfade!==void 0?_.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(_=!1){var N;const C=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=C.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=C.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=C.isSharedProjectionDirty);const i=!!this.resumingFrom||this!==C;if(!(_||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:B,layoutId:F}=this.options;if(!(!this.layout||!(B||F))){if(this.resolvedRelativeTargetAt=Jo.timestamp,!this.targetDelta&&!this.relativeTarget){const V=this.getClosestProjectingParent();V&&V.layout&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Po(),this.relativeTargetOrigin=Po(),Gh(this.relativeTargetOrigin,this.layout.layoutBox,V.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Po(),this.targetWithTransforms=Po()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),E4(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const V=this.getClosestProjectingParent();V&&!!V.resumingFrom==!!this.resumingFrom&&!V.options.layoutScroll&&V.target&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Po(),this.relativeTargetOrigin=Po(),Gh(this.relativeTargetOrigin,this.target,V.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||G1(this.parent.latestValues)||S4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Q;const _=this.getLead(),C=!!this.resumingFrom||this!==_;let i=!0;if((this.isProjectionDirty||(Q=this.parent)!=null&&Q.isProjectionDirty)&&(i=!1),C&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===Jo.timestamp&&(i=!1),i)return;const{layout:E,layoutId:B}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||B))return;Fr(this.layoutCorrected,this.layout.layoutBox);const F=this.treeScale.x,N=this.treeScale.y;LU(this.layoutCorrected,this.treeScale,this.path,C),_.layout&&!_.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(_.target=_.layout.layoutBox,_.targetWithTransforms=Po());const{target:V}=_;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bE(this.prevProjectionDelta.x,this.projectionDelta.x),bE(this.prevProjectionDelta.y,this.projectionDelta.y)),$h(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==F||this.treeScale.y!==N||!DE(this.projectionDelta.x,this.prevProjectionDelta.x)||!DE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(_=!0){var C;if((C=this.options.visualElement)==null||C.scheduleRender(),_){const i=this.getStack();i&&i.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ju(),this.projectionDelta=ju(),this.projectionDeltaWithTransform=ju()}setAnimationOrigin(_,C=!1){const i=this.snapshot,E=i?i.latestValues:{},B={...this.latestValues},F=ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!C;const N=Po(),V=i?i.source:void 0,Q=this.layout?this.layout.source:void 0,H=V!==Q,tt=this.getStack(),W=!tt||tt.members.length<=1,$=!!(H&&!W&&this.options.crossfade===!0&&!this.path.some(k$));this.animationProgress=0;let Z;this.mixTargetDelta=dt=>{const ft=dt/1e3;BE(F.x,_.x,ft),BE(F.y,_.y,ft),this.setTargetDelta(F),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gh(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M$(this.relativeTarget,this.relativeTargetOrigin,N,ft),Z&&m$(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=Po()),Fr(Z,this.relativeTarget)),H&&(this.animationValues=B,i$(B,E,this.latestValues,ft,$,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ft},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(_){var C,i,E;this.notifyListeners("animationStart"),(C=this.currentAnimation)==null||C.stop(!1),(E=(i=this.resumingFrom)==null?void 0:i.currentAnimation)==null||E.stop(!1),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jn.update(()=>{cx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=As(0)),this.currentAnimation=n$(this.motionValue,[0,1e3],{..._,isSync:!0,onUpdate:B=>{this.mixTargetDelta(B),_.onUpdate&&_.onUpdate(B)},onStop:()=>{},onComplete:()=>{_.onComplete&&_.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const _=this.getStack();_&&_.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x$),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const _=this.getLead();let{targetWithTransforms:C,target:i,layout:E,latestValues:B}=_;if(!(!C||!i||!E)){if(this!==_&&this.layout&&E&&j4(this.options.animationType,this.layout.layoutBox,E.layoutBox)){i=this.target||Po();const F=Ia(this.layout.layoutBox.x);i.x.min=_.target.x.min,i.x.max=i.x.min+F;const N=Ia(this.layout.layoutBox.y);i.y.min=_.target.y.min,i.y.max=i.y.min+N}Fr(C,i),Vu(C,B),$h(this.projectionDeltaWithTransform,this.layoutCorrected,C,B)}}registerSharedNode(_,C){this.sharedNodes.has(_)||this.sharedNodes.set(_,new h$),this.sharedNodes.get(_).add(C);const E=C.options.initialPromotionConfig;C.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(C):void 0})}isLead(){const _=this.getStack();return _?_.lead===this:!0}getLead(){var C;const{layoutId:_}=this.options;return _?((C=this.getStack())==null?void 0:C.lead)||this:this}getPrevLead(){var C;const{layoutId:_}=this.options;return _?(C=this.getStack())==null?void 0:C.prevLead:void 0}getStack(){const{layoutId:_}=this.options;if(_)return this.root.sharedNodes.get(_)}promote({needsReset:_,transition:C,preserveFollowOpacity:i}={}){const E=this.getStack();E&&E.promote(this,i),_&&(this.projectionDelta=void 0,this.needsReset=!0),C&&this.setOptions({transition:C})}relegate(){const _=this.getStack();return _?_.relegate(this):!1}resetSkewAndRotation(){const{visualElement:_}=this.options;if(!_)return;let C=!1;const{latestValues:i}=_;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(C=!0),!C)return;const E={};i.z&&i_("z",_,E,this.animationValues);for(let B=0;B<s_.length;B++)i_(`rotate${s_[B]}`,_,E,this.animationValues),i_(`skew${s_[B]}`,_,E,this.animationValues);_.render();for(const B in E)_.setStaticValue(B,E[B]),this.animationValues&&(this.animationValues[B]=E[B]);_.scheduleRender()}getProjectionStyles(_){if(!this.instance||this.isSVG)return;if(!this.isVisible)return g$;const C={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,C.opacity="",C.pointerEvents=lx(_==null?void 0:_.pointerEvents)||"",C.transform=i?i(this.latestValues,""):"none",C;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=lx(_==null?void 0:_.pointerEvents)||""),this.hasProjected&&!Qc(this.latestValues)&&(V.transform=i?i({},""):"none",this.hasProjected=!1),V}const B=E.animationValues||E.latestValues;this.applyTransformsToTarget(),C.transform=f$(this.projectionDeltaWithTransform,this.treeScale,B),i&&(C.transform=i(B,C.transform));const{x:F,y:N}=this.projectionDelta;C.transformOrigin=`${F.origin*100}% ${N.origin*100}% 0`,E.animationValues?C.opacity=E===this?B.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:B.opacityExit:C.opacity=E===this?B.opacity!==void 0?B.opacity:"":B.opacityExit!==void 0?B.opacityExit:0;for(const V in yf){if(B[V]===void 0)continue;const{correct:Q,applyTo:H,isCSSVariable:tt}=yf[V],W=C.transform==="none"?B[V]:Q(B[V],E);if(H){const $=H.length;for(let Z=0;Z<$;Z++)C[H[Z]]=W}else tt?this.options.visualElement.renderState.vars[V]=W:C[V]=W}return this.options.layoutId&&(C.pointerEvents=E===this?lx(_==null?void 0:_.pointerEvents)||"":"none"),C}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(_=>{var C;return(C=_.currentAnimation)==null?void 0:C.stop(!1)}),this.root.nodes.forEach(ME),this.root.sharedNodes.clear()}}}function y$(t){t.updateLayout()}function _$(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:p}=t.layout,{animationType:g}=t.options,_=e.source!==t.layout.source;g==="size"?Rr(F=>{const N=_?e.measuredBox[F]:e.layoutBox[F],V=Ia(N);N.min=l[F].min,N.max=N.min+V}):j4(g,e.layoutBox,l)&&Rr(F=>{const N=_?e.measuredBox[F]:e.layoutBox[F],V=Ia(l[F]);N.max=N.min+V,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[F].max=t.relativeTarget[F].min+V)});const C=ju();$h(C,l,e.layoutBox);const i=ju();_?$h(i,t.applyTransform(p,!0),e.measuredBox):$h(i,l,e.layoutBox);const E=!F4(C);let B=!1;if(!t.resumeFrom){const F=t.getClosestProjectingParent();if(F&&!F.resumeFrom){const{snapshot:N,layout:V}=F;if(N&&V){const Q=Po();Gh(Q,e.layoutBox,N.layoutBox);const H=Po();Gh(H,l,V.layoutBox),R4(Q,H)||(B=!0),F.options.layoutRoot&&(t.relativeTarget=H,t.relativeTargetOrigin=Q,t.relativeParent=F)}}}t.notifyListeners("didUpdate",{layout:l,snapshot:e,delta:i,layoutDelta:C,hasLayoutChanged:E,hasRelativeLayoutChanged:B})}else if(t.isLead()){const{onExitComplete:l}=t.options;l&&l()}t.options.transition=void 0}function b$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function C$(t){t.clearSnapshot()}function ME(t){t.clearMeasurements()}function A$(t){t.isLayoutDirty=!1}function T$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S$(t){t.resolveTargetDelta()}function E$(t){t.calcProjection()}function P$(t){t.resetSkewAndRotation()}function D$(t){t.removeLeadSnapshot()}function BE(t,e,r){t.translate=go(e.translate,0,r),t.scale=go(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function NE(t,e,r,l){t.min=go(e.min,r.min,l),t.max=go(e.max,r.max,l)}function M$(t,e,r,l){NE(t.x,e.x,r.x,l),NE(t.y,e.y,r.y,l)}function k$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B$={duration:.45,ease:[.4,0,.1,1]},IE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FE=IE("applewebkit/")&&!IE("chrome/")?Math.round:er;function RE(t){t.min=FE(t.min),t.max=FE(t.max)}function N$(t){RE(t.x),RE(t.y)}function j4(t,e,r){return t==="position"||t==="preserve-aspect"&&!FU(PE(e),PE(r),.2)}function I$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const F$=z4({attachResizeListener:(t,e)=>bf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l_={current:void 0},O4=z4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!l_.current){const t=new F$({});t.mount(window),t.setOptions({layoutScroll:!0}),l_.current=t}return l_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),R$={pan:{Feature:QU},drag:{Feature:YU,ProjectionNode:O4,MeasureLayout:B4}};function LE(t,e,r){const{props:l}=t;t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",r==="Start");const p="onHover"+r,g=l[p];g&&jn.postRender(()=>g(e,Lf(e)))}class L$ extends rc{mount(){const{current:e}=this.node;e&&(this.unmount=c9(e,(r,l)=>(LE(this.node,l,"Start"),p=>LE(this.node,p,"End"))))}unmount(){}}class z$ extends rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=If(bf(this.node.current,"focus",()=>this.onFocus()),bf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zE(t,e,r){const{props:l}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&l.whileTap&&t.animationState.setActive("whileTap",r==="Start");const p="onTap"+(r==="End"?"":r),g=l[p];g&&jn.postRender(()=>g(e,Lf(e)))}class j$ extends rc{mount(){const{current:e}=this.node;e&&(this.unmount=m9(e,(r,l)=>(zE(this.node,l,"Start"),(p,{success:g})=>zE(this.node,p,g?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H1=new WeakMap,c_=new WeakMap,O$=t=>{const e=H1.get(t.target);e&&e(t)},V$=t=>{t.forEach(O$)};function U$({root:t,...e}){const r=t||document;c_.has(r)||c_.set(r,{});const l=c_.get(r),p=JSON.stringify(e);return l[p]||(l[p]=new IntersectionObserver(V$,{root:t,...e})),l[p]}function $$(t,e,r){const l=U$(e);return H1.set(t,r),l.observe(t),()=>{H1.delete(t),l.unobserve(t)}}const G$={some:0,all:1};class q$ extends rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:l,amount:p="some",once:g}=e,_={root:r?r.current:void 0,rootMargin:l,threshold:typeof p=="number"?p:G$[p]},C=i=>{const{isIntersecting:E}=i;if(this.isInView===E||(this.isInView=E,g&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:B,onViewportLeave:F}=this.node.getProps(),N=E?B:F;N&&N(i)};return $$(this.node.current,_,C)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(W$(e,r))&&this.startObserver()}unmount(){}}function W$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const H$={inView:{Feature:q$},tap:{Feature:j$},focus:{Feature:z$},hover:{Feature:L$}},Z$={layout:{ProjectionNode:O4,MeasureLayout:B4}},Z1={current:null},V4={current:!1};function X$(){if(V4.current=!0,!!fw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z1.current=t.matches;t.addListener(e),e()}else Z1.current=!1}const K$=new WeakMap;function Y$(t,e,r){for(const l in e){const p=e[l],g=r[l];if(Aa(p))t.addValue(l,p);else if(Aa(g))t.addValue(l,As(p,{owner:t}));else if(g!==p)if(t.hasValue(l)){const _=t.getValue(l);_.liveStyle===!0?_.jump(p):_.hasAnimated||_.set(p)}else{const _=t.getStaticValue(l);t.addValue(l,As(_!==void 0?_:p,{owner:t}))}}for(const l in r)e[l]===void 0&&t.removeValue(l);return e}const jE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q${scrapeMotionValuesFromProps(e,r,l){return{}}constructor({parent:e,props:r,presenceContext:l,reducedMotionConfig:p,blockInitialAnimation:g,visualState:_},C={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=Ya.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,jn.render(this.render,!1,!0))};const{latestValues:i,renderState:E}=_;this.latestValues=i,this.baseTarget={...i},this.initialValues=r.initial?{...i}:{},this.renderState=E,this.parent=e,this.props=r,this.presenceContext=l,this.depth=e?e.depth+1:0,this.reducedMotionConfig=p,this.options=C,this.blockInitialAnimation=!!g,this.isControllingVariants=I2(r),this.isVariantNode=l4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:B,...F}=this.scrapeMotionValuesFromProps(r,{},this);for(const N in F){const V=F[N];i[N]!==void 0&&Aa(V)&&V.set(i[N],!1)}}mount(e){this.current=e,K$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,l)=>this.bindToMotionValue(l,r)),V4.current||X$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Z1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const l=kp.has(e);l&&this.onBindTransform&&this.onBindTransform();const p=r.on("change",C=>{this.latestValues[e]=C,this.props.onUpdate&&jn.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0)}),g=r.on("renderRequest",this.scheduleRender);let _;window.MotionCheckAppearSync&&(_=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{p(),g(),_&&_(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vp){const r=vp[e];if(!r)continue;const{isEnabled:l,Feature:p}=r;if(!this.features[e]&&p&&l(this.props)&&(this.features[e]=new p(this)),this.features[e]){const g=this.features[e];g.isMounted?g.update():(g.mount(),g.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Po()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let l=0;l<jE.length;l++){const p=jE[l];this.propEventSubscriptions[p]&&(this.propEventSubscriptions[p](),delete this.propEventSubscriptions[p]);const g="on"+p,_=e[g];_&&(this.propEventSubscriptions[p]=this.on(p,_))}this.prevMotionValues=Y$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const l=this.values.get(e);r!==l&&(l&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let l=this.values.get(e);return l===void 0&&r!==void 0&&(l=As(r===null?void 0:r,{owner:this}),this.addValue(e,l)),l}readValue(e,r){let l=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return l!=null&&(typeof l=="string"&&(f5(l)||x5(l))?l=parseFloat(l):!x9(l)&&ec.test(r)&&(l=J5(e,r)),this.setBaseTarget(e,Aa(l)?l.get():l)),Aa(l)?l.get():l}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var g;const{initial:r}=this.props;let l;if(typeof r=="string"||typeof r=="object"){const _=Hw(this.props,r,(g=this.presenceContext)==null?void 0:g.custom);_&&(l=_[e])}if(r&&l!==void 0)return l;const p=this.getBaseTargetFromProps(this.props,e);return p!==void 0&&!Aa(p)?p:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new yw),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class U4 extends Q${constructor(){super(...arguments),this.KeyframeResolver=r9}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:l}){delete r[e],delete l[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Aa(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function $4(t,{style:e,vars:r},l,p){Object.assign(t.style,e,p&&p.getProjectionStyles(l));for(const g in r)t.style.setProperty(g,r[g])}function J$(t){return window.getComputedStyle(t)}class tG extends U4{constructor(){super(...arguments),this.type="html",this.renderInstance=$4}readValueFromInstance(e,r){var l;if(kp.has(r))return(l=this.projection)!=null&&l.isProjecting?F1(r):TV(e,r);{const p=J$(e),g=(Cw(r)?p.getPropertyValue(r):p[r])||0;return typeof g=="string"?g.trim():g}}measureInstanceViewportBox(e,{transformPagePoint:r}){return P4(e,r)}build(e,r,l){Gw(e,r,l.transformTemplate)}scrapeMotionValuesFromProps(e,r,l){return Zw(e,r,l)}}const G4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eG(t,e,r,l){$4(t,e,void 0,l);for(const p in e.attrs)t.setAttribute(G4.has(p)?p:$w(p),e.attrs[p])}class nG extends U4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Po}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(kp.has(r)){const l=Q5(r);return l&&l.default||0}return r=G4.has(r)?r:$w(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,l){return v4(e,r,l)}build(e,r,l){h4(e,r,this.isSVGTag,l.transformTemplate,l.style)}renderInstance(e,r,l,p){eG(e,r,l,p)}mount(e){this.isSVGTag=g4(e.tagName),super.mount(e)}}const oG=(t,e)=>Ww(t)?new nG(e):new tG(e,{allowProjection:t!==q.Fragment}),aG=eU({...EU,...H$,...R$,...Z$},oG),ke=S9(aG),dx=new WeakMap;let Sl;function rG(t,e){if(e){const{inlineSize:r,blockSize:l}=e[0];return{width:r,height:l}}else return jw(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function sG({target:t,contentRect:e,borderBoxSize:r}){var l;(l=dx.get(t))==null||l.forEach(p=>{p({target:t,contentSize:e,get size(){return rG(t,r)}})})}function iG(t){t.forEach(sG)}function lG(){typeof ResizeObserver>"u"||(Sl=new ResizeObserver(iG))}function cG(t,e){Sl||lG();const r=Rw(t);return r.forEach(l=>{let p=dx.get(l);p||(p=new Set,dx.set(l,p)),p.add(e),Sl==null||Sl.observe(l)}),()=>{r.forEach(l=>{const p=dx.get(l);p==null||p.delete(e),p!=null&&p.size||Sl==null||Sl.unobserve(l)})}}const ux=new Set;let qh;function dG(){qh=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};ux.forEach(r=>r(e))},window.addEventListener("resize",qh)}function uG(t){return ux.add(t),qh||dG(),()=>{ux.delete(t),!ux.size&&qh&&(qh=void 0)}}function pG(t,e){return typeof t=="function"?uG(t):cG(t,e)}const mG=50,OE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),hG=()=>({time:0,x:OE(),y:OE()}),fG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function VE(t,e,r,l){const p=r[e],{length:g,position:_}=fG[e],C=p.current,i=r.time;p.current=t[`scroll${_}`],p.scrollLength=t[`scroll${g}`]-t[`client${g}`],p.offset.length=0,p.offset[0]=0,p.offset[1]=p.scrollLength,p.progress=xp(0,p.scrollLength,p.current);const E=l-i;p.velocity=E>mG?0:_w(p.current-C,E)}function gG(t,e,r){VE(t,"x",e,r),VE(t,"y",e,r),e.time=r}function xG(t,e){const r={x:0,y:0};let l=t;for(;l&&l!==e;)if(M2(l))r.x+=l.offsetLeft,r.y+=l.offsetTop,l=l.offsetParent;else if(l.tagName==="svg"){const p=l.getBoundingClientRect();l=l.parentElement;const g=l.getBoundingClientRect();r.x+=p.left-g.left,r.y+=p.top-g.top}else if(l instanceof SVGGraphicsElement){const{x:p,y:g}=l.getBBox();r.x+=p,r.y+=g;let _=null,C=l.parentNode;for(;!_;)C.tagName==="svg"&&(_=C),C=l.parentNode;l=_}else break;return r}const X1={start:0,center:.5,end:1};function UE(t,e,r=0){let l=0;if(t in X1&&(t=X1[t]),typeof t=="string"){const p=parseFloat(t);t.endsWith("px")?l=p:t.endsWith("%")?t=p/100:t.endsWith("vw")?l=p/100*document.documentElement.clientWidth:t.endsWith("vh")?l=p/100*document.documentElement.clientHeight:t=p}return typeof t=="number"&&(l=e*t),r+l}const vG=[0,0];function yG(t,e,r,l){let p=Array.isArray(t)?t:vG,g=0,_=0;return typeof t=="number"?p=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?p=t.split(" "):p=[t,X1[t]?t:"0"]),g=UE(p[0],r,l),_=UE(p[1],e),g-_}const _G={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},bG={x:0,y:0};function wG(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function CG(t,e,r){const{offset:l=_G.All}=r,{target:p=t,axis:g="y"}=r,_=g==="y"?"height":"width",C=p!==t?xG(p,t):bG,i=p===t?{width:t.scrollWidth,height:t.scrollHeight}:wG(p),E={width:t.clientWidth,height:t.clientHeight};e[g].offset.length=0;let B=!e[g].interpolate;const F=l.length;for(let N=0;N<F;N++){const V=yG(l[N],E[_],i[_],C[g]);!B&&V!==e[g].interpolatorOffsets[N]&&(B=!0),e[g].offset[N]=V}B&&(e[g].interpolate=Dw(e[g].offset,j5(l),{clamp:!1}),e[g].interpolatorOffsets=[...e[g].offset]),e[g].progress=ci(0,1,e[g].interpolate(e[g].current))}function AG(t,e=t,r){if(r.x.targetOffset=0,r.y.targetOffset=0,e!==t){let l=e;for(;l&&l!==t;)r.x.targetOffset+=l.offsetLeft,r.y.targetOffset+=l.offsetTop,l=l.offsetParent}r.x.targetLength=e===t?e.scrollWidth:e.clientWidth,r.y.targetLength=e===t?e.scrollHeight:e.clientHeight,r.x.containerLength=t.clientWidth,r.y.containerLength=t.clientHeight}function TG(t,e,r,l={}){return{measure:()=>AG(t,l.target,r),update:p=>{gG(t,r,p),(l.offset||l.target)&&CG(t,r,l)},notify:()=>e(r)}}const _h=new WeakMap,$E=new WeakMap,d_=new WeakMap,GE=t=>t===document.scrollingElement?window:t;function q4(t,{container:e=document.scrollingElement,...r}={}){if(!e)return er;let l=d_.get(e);l||(l=new Set,d_.set(e,l));const p=hG(),g=TG(e,t,p,r);if(l.add(g),!_h.has(e)){const C=()=>{for(const N of l)N.measure()},i=()=>{for(const N of l)N.update(Jo.timestamp)},E=()=>{for(const N of l)N.notify()},B=()=>{jn.read(C),jn.read(i),jn.preUpdate(E)};_h.set(e,B);const F=GE(e);window.addEventListener("resize",B,{passive:!0}),e!==document.documentElement&&$E.set(e,pG(e,B)),F.addEventListener("scroll",B,{passive:!0}),B()}const _=_h.get(e);return jn.read(_,!1,!0),()=>{var E;Ms(_);const C=d_.get(e);if(!C||(C.delete(g),C.size))return;const i=_h.get(e);_h.delete(e),i&&(GE(e).removeEventListener("scroll",i),(E=$E.get(e))==null||E(),window.removeEventListener("resize",i))}}const qE=new Map;function SG(t){const e={value:0},r=q4(l=>{e.value=l[t.axis].progress*100},t);return{currentTime:e,cancel:r}}function W4({source:t,container:e,...r}){const{axis:l}=r;t&&(e=t);const p=qE.get(e)??new Map;qE.set(e,p);const g=r.target??"self",_=p.get(g)??{},C=l+(r.offset??[]).join(",");return _[C]||(_[C]=!r.target&&$5()?new ScrollTimeline({source:e,axis:l}):SG({container:e,...r})),_[C]}function EG(t,e){const r=W4(e);return t.attachTimeline({timeline:e.target?void 0:r,observe:l=>(l.pause(),a4(p=>{l.time=l.duration*p},r))})}function PG(t){return t.length===2}function DG(t,e){return PG(t)?q4(r=>{t(r[e.axis].progress,r)},e):a4(t,W4(e))}function MG(t,{axis:e="y",container:r=document.scrollingElement,...l}={}){if(!r)return er;const p={axis:e,container:r,...l};return typeof t=="function"?DG(t,p):EG(t,p)}function WE(t,e){T8(!!(!e||e.current))}const kG=()=>({scrollX:As(0),scrollY:As(0),scrollXProgress:As(0),scrollYProgress:As(0)});function BG({container:t,target:e,layoutEffect:r=!0,...l}={}){const p=Pp(kG);return(r?P2:q.useEffect)(()=>(WE("target",e),WE("container",t),MG((_,{x:C,y:i})=>{p.scrollX.set(C.current),p.scrollXProgress.set(C.progress),p.scrollY.set(i.current),p.scrollYProgress.set(i.progress)},{...l,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(l.offset)]),p}function NG(t){const e=Pp(()=>As(t)),{isStatic:r}=q.useContext(k2);if(r){const[,l]=q.useState(t);q.useEffect(()=>e.on("change",l),[])}return e}function H4(t,e){const r=NG(e()),l=()=>r.set(e());return l(),P2(()=>{const p=()=>jn.preRender(l,!1,!0),g=t.map(_=>_.on("change",p));return()=>{g.forEach(_=>_()),Ms(l)}}),r}function IG(t){Vh.current=[],t();const e=H4(Vh.current,t);return Vh.current=void 0,e}function HE(t,e,r,l){if(typeof t=="function")return IG(t);const p=typeof e=="function"?e:f9(e,r,l);return Array.isArray(t)?ZE(t,p):ZE([t],([g])=>p(g))}function ZE(t,e){const r=Pp(()=>[]);return H4(t,()=>{r.length=0;const l=t.length;for(let p=0;p<l;p++)r[p]=t[p].get();return e(r)})}const FG={some:0,all:1};function RG(t,e,{root:r,margin:l,amount:p="some"}={}){const g=Rw(t),_=new WeakMap,C=E=>{E.forEach(B=>{const F=_.get(B.target);if(B.isIntersecting!==!!F)if(B.isIntersecting){const N=e(B.target,B);typeof N=="function"?_.set(B.target,N):i.unobserve(B.target)}else typeof F=="function"&&(F(B),_.delete(B.target))})},i=new IntersectionObserver(C,{root:r,rootMargin:l,threshold:typeof p=="number"?p:FG[p]});return g.forEach(E=>i.observe(E)),()=>i.disconnect()}function LG(t,{root:e,margin:r,amount:l,once:p=!1,initial:g=!1}={}){const[_,C]=q.useState(g);return q.useEffect(()=>{if(!t.current||p&&_)return;const i=()=>(C(!0),p?void 0:()=>C(!1)),E={root:e&&e.current||void 0,margin:r,amount:l};return RG(t.current,i,E)},[e,t,r,p,l]),_}const zG=()=>{const[t,e]=q.useState(!1);q.useEffect(()=>{e(!0),document.querySelectorAll(".progressive-img").forEach(g=>{g instanceof HTMLImageElement&&g.complete?g.classList.add("loaded"):g.addEventListener("load",function(){this.classList.add("loaded")})})},[]);const r={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,staggerChildren:.3}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8}}};return w.jsxs("section",{"data-lov-id":"src/components/Hero.tsx:47:4","data-lov-name":"section","data-component-path":"src/components/Hero.tsx","data-component-line":"47","data-component-file":"Hero.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22relative%20min-h-%5B95vh%5D%20flex%20items-center%20overflow-hidden%22%7D",className:"relative min-h-[95vh] flex items-center overflow-hidden",children:[w.jsxs("div",{"data-lov-id":"src/components/Hero.tsx:49:6","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"49","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",className:"absolute inset-0 z-0",children:[w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:50:8","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"50","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-r%20from-black%2F90%20to-black%2F60%22%7D",className:"absolute inset-0 bg-gradient-to-r from-black/90 to-black/60"}),w.jsx("img",{"data-lov-id":"src/components/Hero.tsx:51:8","data-lov-name":"img","data-component-path":"src/components/Hero.tsx","data-component-line":"51","data-component-file":"Hero.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%20progressive-img%22%7D",src:"https://images.unsplash.com/photo-1566345984367-8fcb6a34fcf9?q=80&w=2000&auto=format&fit=crop",alt:"Futuristic retort technology",className:"w-full h-full object-cover progressive-img"}),w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:58:8","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"58","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20overflow-hidden%22%7D",className:"absolute inset-0 overflow-hidden",children:Array.from({length:25}).map((p,g)=>w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:60:12","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"60","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20rounded-full%20bg-green-400%2F30%20blur-sm%20animate-float%22%7D",className:"absolute rounded-full bg-green-400/30 blur-sm animate-float",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*10+5}px`,height:`${Math.random()*10+5}px`,animationDuration:`${Math.random()*10+5}s`,animationDelay:`${Math.random()*5}s`}},g))}),w.jsxs("svg",{"data-lov-id":"src/components/Hero.tsx:76:8","data-lov-name":"svg","data-component-path":"src/components/Hero.tsx","data-component-line":"76","data-component-file":"Hero.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20w-full%20h-full%20opacity-20%20text-green-400%20animate-rotate-slow%22%7D",className:"absolute inset-0 w-full h-full opacity-20 text-green-400 animate-rotate-slow",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:77:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"77","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M0,50 L100,50",className:"circuit-line",strokeWidth:"0.2",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:78:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"78","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M50,0 L50,100",className:"circuit-line",strokeWidth:"0.2",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:79:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"79","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M0,25 L100,25",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:80:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"80","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M0,75 L100,75",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:81:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"81","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M25,0 L25,100",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:82:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"82","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M75,0 L75,100",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:85:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"85","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M0,10 L100,90",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"}),w.jsx("path",{"data-lov-id":"src/components/Hero.tsx:86:10","data-lov-name":"path","data-component-path":"src/components/Hero.tsx","data-component-line":"86","data-component-file":"Hero.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22circuit-line%22%7D",d:"M0,90 L100,10",className:"circuit-line",strokeWidth:"0.1",stroke:"currentColor"})]})]}),w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:91:6","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"91","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20tech-data-flow%22%7D",className:"absolute inset-0 tech-data-flow"}),w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:94:6","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"94","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20scan-lines%20pointer-events-none%22%7D",className:"absolute inset-0 scan-lines pointer-events-none"}),w.jsx(ke.div,{"data-lov-id":"src/components/Hero.tsx:96:6","data-lov-name":"motion.div","data-component-path":"src/components/Hero.tsx","data-component-line":"96","data-component-file":"Hero.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%20py-20%22%7D",className:"container px-4 md:px-6 relative z-10 py-20",variants:r,initial:"hidden",animate:t?"visible":"hidden",children:w.jsxs(ke.div,{"data-lov-id":"src/components/Hero.tsx:102:8","data-lov-name":"motion.div","data-component-path":"src/components/Hero.tsx","data-component-line":"102","data-component-file":"Hero.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%22%7D",variants:l,className:"max-w-3xl",children:[w.jsx(ke.div,{"data-lov-id":"src/components/Hero.tsx:103:10","data-lov-name":"motion.div","data-component-path":"src/components/Hero.tsx","data-component-line":"103","data-component-file":"Hero.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mb-4%20inline-block%22%7D",variants:l,className:"mb-4 inline-block",children:w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:107:12","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"107","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22FUTURE%20OF%20FOOD%20PRESERVATION%22%2C%22className%22%3A%22px-4%20py-1%20border%20border-green-500%2F30%20rounded-full%20bg-black%2F50%20backdrop-blur-sm%20text-green-400%20text-sm%22%7D",className:"px-4 py-1 border border-green-500/30 rounded-full bg-black/50 backdrop-blur-sm text-green-400 text-sm",children:"FUTURE OF FOOD PRESERVATION"})}),w.jsxs(ke.h1,{"data-lov-id":"src/components/Hero.tsx:112:10","data-lov-name":"motion.h1","data-component-path":"src/components/Hero.tsx","data-component-line":"112","data-component-file":"Hero.tsx","data-component-name":"motion.h1","data-component-content":"%7B%22className%22%3A%22text-4xl%20md%3Atext-6xl%20lg%3Atext-7xl%20font-bold%20mb-6%20leading-tight%22%7D",variants:l,className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:[w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:116:12","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"116","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22RETORT%20FOOD%22%2C%22className%22%3A%22text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-green-300%20font-poppins%20glitch%22%7D",className:"text-glow text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-300 font-poppins glitch","data-text":"RETORT FOOD",children:"RETORT FOOD"}),w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:122:12","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"122","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Revolutionizing%20Food%20Preservation%22%2C%22className%22%3A%22block%20text-2xl%20md%3Atext-3xl%20lg%3Atext-4xl%20mt-2%20text-green-100%20animate-typewriter%22%7D",className:"block text-2xl md:text-3xl lg:text-4xl mt-2 text-green-100 animate-typewriter",children:"Revolutionizing Food Preservation"})]}),w.jsxs(ke.p,{"data-lov-id":"src/components/Hero.tsx:127:10","data-lov-name":"motion.p","data-component-path":"src/components/Hero.tsx","data-component-line":"127","data-component-file":"Hero.tsx","data-component-name":"motion.p","data-component-content":"%7B%22text%22%3A%22Combining%20cutting-edge%20technology%20with%20environmental%20sustainability%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20to%20extend%20shelf%20life%20up%20to%20without%20refrigeration%20or%20preservatives.%22%2C%22className%22%3A%22text-xl%20md%3Atext-2xl%20text-green-100%2F90%20mb-8%20leading-relaxed%22%7D",variants:l,className:"text-xl md:text-2xl text-green-100/90 mb-8 leading-relaxed",children:["Combining cutting-edge technology with environmental sustainability to extend shelf life up to ",w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:132:39","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"132","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2224%20months%22%2C%22className%22%3A%22text-green-400%20font-bold%20animate-pulse-glow%22%7D",className:"text-green-400 font-bold animate-pulse-glow",children:"24 months"}),"without refrigeration or preservatives."]}),w.jsxs(ke.div,{"data-lov-id":"src/components/Hero.tsx:136:10","data-lov-name":"motion.div","data-component-path":"src/components/Hero.tsx","data-component-line":"136","data-component-file":"Hero.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%22%7D",variants:l,className:"flex flex-col sm:flex-row gap-4",children:[w.jsx(zn,{"data-lov-id":"src/components/Hero.tsx:140:12","data-lov-name":"Link","data-component-path":"src/components/Hero.tsx","data-component-line":"140","data-component-file":"Hero.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/technology",children:w.jsxs(pn,{"data-lov-id":"src/components/Hero.tsx:141:14","data-lov-name":"Button","data-component-path":"src/components/Hero.tsx","data-component-line":"141","data-component-file":"Hero.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Explore%20Our%20Technology%22%2C%22className%22%3A%22btn-futuristic%20text-lg%20group%20animate-ripple%20shadow-xl%20shadow-green-500%2F20%22%7D",size:"lg",className:"btn-futuristic text-lg group animate-ripple shadow-xl shadow-green-500/20",children:["Explore Our Technology",w.jsx($o,{"data-lov-id":"src/components/Hero.tsx:143:16","data-lov-name":"ArrowRight","data-component-path":"src/components/Hero.tsx","data-component-line":"143","data-component-file":"Hero.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-2%20transition-transform%20group-hover%3Atranslate-x-1%22%7D",className:"ml-2 transition-transform group-hover:translate-x-1",size:16})]})}),w.jsx(zn,{"data-lov-id":"src/components/Hero.tsx:146:12","data-lov-name":"Link","data-component-path":"src/components/Hero.tsx","data-component-line":"146","data-component-file":"Hero.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",children:w.jsxs(pn,{"data-lov-id":"src/components/Hero.tsx:147:14","data-lov-name":"Button","data-component-path":"src/components/Hero.tsx","data-component-line":"147","data-component-file":"Hero.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Get%20Started%22%2C%22className%22%3A%22border-green-400%20text-green-400%20hover%3Abg-green-500%2F20%20text-lg%20gap-2%20backdrop-blur-sm%22%7D",size:"lg",variant:"outline",className:"border-green-400 text-green-400 hover:bg-green-500/20 text-lg gap-2 backdrop-blur-sm",children:[w.jsx(y2,{"data-lov-id":"src/components/Hero.tsx:148:16","data-lov-name":"Zap","data-component-path":"src/components/Hero.tsx","data-component-line":"148","data-component-file":"Hero.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22text-green-400%22%7D",size:18,className:"text-green-400"}),"Get Started"]})})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/Hero.tsx:154:10","data-lov-name":"motion.div","data-component-path":"src/components/Hero.tsx","data-component-line":"154","data-component-file":"Hero.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mt-12%20flex%20items-center%20gap-6%22%7D",variants:l,className:"mt-12 flex items-center gap-6",children:[w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:158:12","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"158","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20-space-x-4%22%7D",className:"flex -space-x-4",children:[1,2,3].map(p=>w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:160:16","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"160","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20rounded-full%20border-2%20border-green-500%20bg-green-900%20flex%20items-center%20justify-center%20text-white%20text-xs%20animate-pulse-glow%22%7D",className:"w-10 h-10 rounded-full border-2 border-green-500 bg-green-900 flex items-center justify-center text-white text-xs animate-pulse-glow",style:{animationDelay:`${p*.5}s`},children:p},p))}),w.jsxs("div",{"data-lov-id":"src/components/Hero.tsx:169:12","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"169","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22%C2%B7%20%C2%B7%20Preservatives%22%2C%22className%22%3A%22text-green-100%2F80%22%7D",className:"text-green-100/80",children:[w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:170:14","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"170","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22121%C2%B0C%22%2C%22className%22%3A%22text-green-400%20font-bold%22%7D",className:"text-green-400 font-bold",children:"121C"}),"  ",w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:170:72","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"170","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2215%20PSI%22%2C%22className%22%3A%22text-green-400%20font-bold%22%7D",className:"text-green-400 font-bold",children:"15 PSI"}),"  ",w.jsx("span",{"data-lov-id":"src/components/Hero.tsx:170:131","data-lov-name":"span","data-component-path":"src/components/Hero.tsx","data-component-line":"170","data-component-file":"Hero.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Zero%22%2C%22className%22%3A%22text-green-400%20font-bold%22%7D",className:"text-green-400 font-bold",children:"Zero"})," Preservatives"]})]})]})}),w.jsx("div",{"data-lov-id":"src/components/Hero.tsx:177:6","data-lov-name":"div","data-component-path":"src/components/Hero.tsx","data-component-line":"177","data-component-file":"Hero.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20right-0%20h-20%20bg-gradient-to-t%20from-background%20to-transparent%22%7D",className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-background to-transparent"})]})},Z4=q.forwardRef(({className:t,...e},r)=>w.jsx("div",{"data-lov-id":"src/components/ui/card.tsx:9:2","data-lov-name":"div","data-component-path":"src/components/ui/card.tsx","data-component-line":"9","data-component-file":"card.tsx","data-component-name":"div","data-component-content":"%7B%7D",ref:r,className:Hn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Z4.displayName="Card";const jG=q.forwardRef(({className:t,...e},r)=>w.jsx("div",{"data-lov-id":"src/components/ui/card.tsx:24:2","data-lov-name":"div","data-component-path":"src/components/ui/card.tsx","data-component-line":"24","data-component-file":"card.tsx","data-component-name":"div","data-component-content":"%7B%7D",ref:r,className:Hn("flex flex-col space-y-1.5 p-6",t),...e}));jG.displayName="CardHeader";const OG=q.forwardRef(({className:t,...e},r)=>w.jsx("h3",{"data-lov-id":"src/components/ui/card.tsx:36:2","data-lov-name":"h3","data-component-path":"src/components/ui/card.tsx","data-component-line":"36","data-component-file":"card.tsx","data-component-name":"h3","data-component-content":"%7B%7D",ref:r,className:Hn("text-2xl font-semibold leading-none tracking-tight",t),...e}));OG.displayName="CardTitle";const VG=q.forwardRef(({className:t,...e},r)=>w.jsx("p",{"data-lov-id":"src/components/ui/card.tsx:51:2","data-lov-name":"p","data-component-path":"src/components/ui/card.tsx","data-component-line":"51","data-component-file":"card.tsx","data-component-name":"p","data-component-content":"%7B%7D",ref:r,className:Hn("text-sm text-muted-foreground",t),...e}));VG.displayName="CardDescription";const X4=q.forwardRef(({className:t,...e},r)=>w.jsx("div",{"data-lov-id":"src/components/ui/card.tsx:63:2","data-lov-name":"div","data-component-path":"src/components/ui/card.tsx","data-component-line":"63","data-component-file":"card.tsx","data-component-name":"div","data-component-content":"%7B%7D",ref:r,className:Hn("p-6 pt-0",t),...e}));X4.displayName="CardContent";const UG=q.forwardRef(({className:t,...e},r)=>w.jsx("div",{"data-lov-id":"src/components/ui/card.tsx:71:2","data-lov-name":"div","data-component-path":"src/components/ui/card.tsx","data-component-line":"71","data-component-file":"card.tsx","data-component-name":"div","data-component-content":"%7B%7D",ref:r,className:Hn("flex items-center p-6 pt-0",t),...e}));UG.displayName="CardFooter";const $G=()=>w.jsxs("section",{"data-lov-id":"src/components/Stats.tsx:10:4","data-lov-name":"section","data-component-path":"src/components/Stats.tsx","data-component-line":"10","data-component-file":"Stats.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-20%20container%20px-4%20md%3Apx-6%20relative%22%7D",className:"py-20 container px-4 md:px-6 relative",children:[w.jsx("div",{"data-lov-id":"src/components/Stats.tsx:11:6","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"11","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-b%20from-transparent%20via-green-900%2F10%20to-transparent%20pointer-events-none%22%7D",className:"absolute inset-0 bg-gradient-to-b from-transparent via-green-900/10 to-transparent pointer-events-none"}),w.jsxs(ke.div,{"data-lov-id":"src/components/Stats.tsx:13:6","data-lov-name":"motion.div","data-component-path":"src/components/Stats.tsx","data-component-line":"13","data-component-file":"Stats.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[w.jsx("div",{"data-lov-id":"src/components/Stats.tsx:20:8","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"20","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22GLOBAL%20IMPACT%22%2C%22className%22%3A%22inline-block%20px-4%20py-1%20border%20border-green-500%2F30%20rounded-full%20bg-black%2F50%20backdrop-blur-sm%20text-green-400%20text-sm%20mb-4%22%7D",className:"inline-block px-4 py-1 border border-green-500/30 rounded-full bg-black/50 backdrop-blur-sm text-green-400 text-sm mb-4",children:"GLOBAL IMPACT"}),w.jsx("h2",{"data-lov-id":"src/components/Stats.tsx:23:8","data-lov-name":"h2","data-component-path":"src/components/Stats.tsx","data-component-line":"23","data-component-file":"Stats.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Our%20Global%20Impact%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-2%20text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-green-300%22%7D",className:"text-3xl md:text-5xl font-bold mb-2 text-glow text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-300",children:"Our Global Impact"}),w.jsx("p",{"data-lov-id":"src/components/Stats.tsx:24:8","data-lov-name":"p","data-component-path":"src/components/Stats.tsx","data-component-line":"24","data-component-file":"Stats.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Together%2C%20we're%20making%20real%20progress%20in%20fighting%20hunger%20and%20building%20sustainable%20food%20systems%20worldwide.%22%2C%22className%22%3A%22text-lg%20text-green-100%2F80%20mb-16%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-green-100/80 mb-16 max-w-2xl mx-auto",children:"Together, we're making real progress in fighting hunger and building sustainable food systems worldwide."})]}),w.jsxs("div",{"data-lov-id":"src/components/Stats.tsx:29:6","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"29","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[w.jsx(Rg,{"data-lov-id":"src/components/Stats.tsx:30:8","data-lov-name":"StatCard","data-component-path":"src/components/Stats.tsx","data-component-line":"30","data-component-file":"Stats.tsx","data-component-name":"StatCard","data-component-content":"%7B%7D",number:"2.5M+",label:"People Fed",description:"Nutritious meals provided to those in need",icon:"",delay:0}),w.jsx(Rg,{"data-lov-id":"src/components/Stats.tsx:37:8","data-lov-name":"StatCard","data-component-path":"src/components/Stats.tsx","data-component-line":"37","data-component-file":"Stats.tsx","data-component-name":"StatCard","data-component-content":"%7B%7D",number:"45+",label:"Countries",description:"Global reach across continents",icon:"",delay:.2}),w.jsx(Rg,{"data-lov-id":"src/components/Stats.tsx:44:8","data-lov-name":"StatCard","data-component-path":"src/components/Stats.tsx","data-component-line":"44","data-component-file":"Stats.tsx","data-component-name":"StatCard","data-component-content":"%7B%7D",number:"120+",label:"Partners",description:"Organizations working together",icon:"",delay:.4}),w.jsx(Rg,{"data-lov-id":"src/components/Stats.tsx:51:8","data-lov-name":"StatCard","data-component-path":"src/components/Stats.tsx","data-component-line":"51","data-component-file":"Stats.tsx","data-component-name":"StatCard","data-component-content":"%7B%7D",number:"350+",label:"Projects",description:"Sustainable food initiatives",icon:"",delay:.6})]}),w.jsx(ke.div,{"data-lov-id":"src/components/Stats.tsx:60:6","data-lov-name":"motion.div","data-component-path":"src/components/Stats.tsx","data-component-line":"60","data-component-file":"Stats.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mt-16%20max-w-4xl%20mx-auto%20bg-gradient-to-r%20from-green-900%2F30%20to-green-700%2F20%20border%20border-green-500%2F30%20rounded-xl%20p-6%20backdrop-blur-sm%20neo-glow%22%7D",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.5},viewport:{once:!0},className:"mt-16 max-w-4xl mx-auto bg-gradient-to-r from-green-900/30 to-green-700/20 border border-green-500/30 rounded-xl p-6 backdrop-blur-sm neo-glow",children:w.jsxs("div",{"data-lov-id":"src/components/Stats.tsx:67:8","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"67","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20md%3Aflex-row%20items-center%20gap-6%20justify-between%22%7D",className:"flex flex-col md:flex-row items-center gap-6 justify-between",children:[w.jsxs("div",{"data-lov-id":"src/components/Stats.tsx:68:10","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"68","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20md%3Atext-left%22%7D",className:"text-center md:text-left",children:[w.jsx("h3",{"data-lov-id":"src/components/Stats.tsx:69:12","data-lov-name":"h3","data-component-path":"src/components/Stats.tsx","data-component-line":"69","data-component-file":"Stats.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Join%20Our%20Mission%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-green-100%20mb-2%22%7D",className:"text-2xl font-bold text-green-100 mb-2",children:"Join Our Mission"}),w.jsx("p",{"data-lov-id":"src/components/Stats.tsx:70:12","data-lov-name":"p","data-component-path":"src/components/Stats.tsx","data-component-line":"70","data-component-file":"Stats.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Help%20us%20reduce%20food%20waste%20and%20increase%20food%20security%20globally%22%2C%22className%22%3A%22text-green-100%2F70%22%7D",className:"text-green-100/70",children:"Help us reduce food waste and increase food security globally"})]}),w.jsxs("div",{"data-lov-id":"src/components/Stats.tsx:72:10","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"72","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-4%22%7D",className:"flex gap-4",children:[w.jsxs(zn,{"data-lov-id":"src/components/Stats.tsx:73:12","data-lov-name":"Link","data-component-path":"src/components/Stats.tsx","data-component-line":"73","data-component-file":"Stats.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Partner%20With%20Us%22%2C%22className%22%3A%22btn-futuristic%20text-black%20px-6%20py-3%20rounded-lg%20font-semibold%20flex%20items-center%20gap-2%22%7D",to:"/contact",className:"btn-futuristic text-black px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:["Partner With Us",w.jsx($o,{"data-lov-id":"src/components/Stats.tsx:75:14","data-lov-name":"ArrowRight","data-component-path":"src/components/Stats.tsx","data-component-line":"75","data-component-file":"Stats.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%7D",size:16})]}),w.jsx(zn,{"data-lov-id":"src/components/Stats.tsx:77:12","data-lov-name":"Link","data-component-path":"src/components/Stats.tsx","data-component-line":"77","data-component-file":"Stats.tsx","data-component-name":"Link","data-component-content":"%7B%22text%22%3A%22Learn%20More%22%2C%22className%22%3A%22bg-black%2F30%20hover%3Abg-black%2F50%20text-green-300%20px-6%20py-3%20rounded-lg%20font-semibold%20backdrop-blur-sm%20transition-all%20border%20border-green-500%2F20%20hover%3Aborder-green-500%2F40%22%7D",to:"/community",className:"bg-black/30 hover:bg-black/50 text-green-300 px-6 py-3 rounded-lg font-semibold backdrop-blur-sm transition-all border border-green-500/20 hover:border-green-500/40",children:"Learn More"})]})]})})]}),Rg=({number:t,label:e,description:r,icon:l,delay:p})=>w.jsx(ke.div,{"data-lov-id":"src/components/Stats.tsx:97:4","data-lov-name":"motion.div","data-component-path":"src/components/Stats.tsx","data-component-line":"97","data-component-file":"Stats.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:p},viewport:{once:!0},whileHover:{y:-5,transition:{duration:.2}},children:w.jsx(Z4,{"data-lov-id":"src/components/Stats.tsx:107:6","data-lov-name":"Card","data-component-path":"src/components/Stats.tsx","data-component-line":"107","data-component-file":"Stats.tsx","data-component-name":"Card","data-component-content":"%7B%22className%22%3A%22border-none%20shadow-lg%20hover%3Ashadow-xl%20transition-all%20overflow-hidden%20group%20bg-gradient-to-br%20from-black%2F60%20to-green-900%2F20%20backdrop-blur-sm%20border-glow%22%7D",className:"border-none shadow-lg hover:shadow-xl transition-all overflow-hidden group bg-gradient-to-br from-black/60 to-green-900/20 backdrop-blur-sm border-glow",children:w.jsx(X4,{"data-lov-id":"src/components/Stats.tsx:108:8","data-lov-name":"CardContent","data-component-path":"src/components/Stats.tsx","data-component-line":"108","data-component-file":"Stats.tsx","data-component-name":"CardContent","data-component-content":"%7B%22className%22%3A%22p-8%22%7D",className:"p-8",children:w.jsxs("div",{"data-lov-id":"src/components/Stats.tsx:109:10","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"109","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20text-center%22%7D",className:"flex flex-col items-center text-center",children:[w.jsx("div",{"data-lov-id":"src/components/Stats.tsx:110:12","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"110","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-5xl%20mb-3%20bg-gradient-to-br%20from-green-400%20to-green-300%20p-4%20rounded-full%20animate-pulse-glow%22%7D",className:"text-5xl mb-3 bg-gradient-to-br from-green-400 to-green-300 p-4 rounded-full animate-pulse-glow",children:l}),w.jsx("h3",{"data-lov-id":"src/components/Stats.tsx:111:12","data-lov-name":"h3","data-component-path":"src/components/Stats.tsx","data-component-line":"111","data-component-file":"Stats.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-4xl%20font-bold%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-green-300%20group-hover%3Afrom-green-300%20group-hover%3Ato-green-200%20transition-colors%22%7D",className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-300 group-hover:from-green-300 group-hover:to-green-200 transition-colors",children:t}),w.jsx("p",{"data-lov-id":"src/components/Stats.tsx:114:12","data-lov-name":"p","data-component-path":"src/components/Stats.tsx","data-component-line":"114","data-component-file":"Stats.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xl%20font-medium%20mt-2%20mb-1%20text-green-100%22%7D",className:"text-xl font-medium mt-2 mb-1 text-green-100",children:e}),w.jsx("div",{"data-lov-id":"src/components/Stats.tsx:115:12","data-lov-name":"div","data-component-path":"src/components/Stats.tsx","data-component-line":"115","data-component-file":"Stats.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-1%20w-16%20bg-gradient-to-r%20from-green-500%20to-green-400%20rounded-full%20my-3%20group-hover%3Aw-24%20transition-all%22%7D",className:"h-1 w-16 bg-gradient-to-r from-green-500 to-green-400 rounded-full my-3 group-hover:w-24 transition-all"}),w.jsx("p",{"data-lov-id":"src/components/Stats.tsx:116:12","data-lov-name":"p","data-component-path":"src/components/Stats.tsx","data-component-line":"116","data-component-file":"Stats.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-green-100%2F70%22%7D",className:"text-green-100/70",children:r})]})})})}),GG=()=>w.jsx("section",{"data-lov-id":"src/components/About.tsx:10:4","data-lov-name":"section","data-component-path":"src/components/About.tsx","data-component-line":"10","data-component-file":"About.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20container%20px-4%20md%3Apx-6%22%7D",className:"py-24 container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/components/About.tsx:11:6","data-lov-name":"div","data-component-path":"src/components/About.tsx","data-component-line":"11","data-component-file":"About.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-16%20items-center%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/About.tsx:12:8","data-lov-name":"motion.div","data-component-path":"src/components/About.tsx","data-component-line":"12","data-component-file":"About.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22order-2%20lg%3Aorder-1%22%7D",className:"order-2 lg:order-1",initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[w.jsx("div",{"data-lov-id":"src/components/About.tsx:19:10","data-lov-name":"div","data-component-path":"src/components/About.tsx","data-component-line":"19","data-component-file":"About.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22OUR%20STORY%22%2C%22className%22%3A%22inline-block%20px-4%20py-1%20border%20border-green-500%2F30%20rounded-full%20bg-black%2F50%20backdrop-blur-sm%20text-green-400%20text-sm%20mb-4%22%7D",className:"inline-block px-4 py-1 border border-green-500/30 rounded-full bg-black/50 backdrop-blur-sm text-green-400 text-sm mb-4",children:"OUR STORY"}),w.jsx("h2",{"data-lov-id":"src/components/About.tsx:22:10","data-lov-name":"h2","data-component-path":"src/components/About.tsx","data-component-line":"22","data-component-file":"About.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22About%20Retort%20Food%22%2C%22className%22%3A%22text-3xl%20md%3Atext-4xl%20font-bold%20mb-6%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-green-300%22%7D",className:"text-3xl md:text-4xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-300",children:"About Retort Food"}),w.jsx("p",{"data-lov-id":"src/components/About.tsx:25:10","data-lov-name":"p","data-component-path":"src/components/About.tsx","data-component-line":"25","data-component-file":"About.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Founded%20in%202010%2C%20Retort%20Food%20is%20a%20global%20organization%20dedicated%20to%20ending%20hunger%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20and%20promoting%20sustainable%20food%20systems%20that%20benefit%20both%20people%20and%20our%20planet.%22%2C%22className%22%3A%22text-lg%20mb-6%20text-green-100%2F90%22%7D",className:"text-lg mb-6 text-green-100/90",children:"Founded in 2010, Retort Food is a global organization dedicated to ending hunger and promoting sustainable food systems that benefit both people and our planet."}),w.jsx("p",{"data-lov-id":"src/components/About.tsx:29:10","data-lov-name":"p","data-component-path":"src/components/About.tsx","data-component-line":"29","data-component-file":"About.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22With%20a%20vision%20to%20transform%20food%20preservation%20technology%2C%20our%20team%20has%20pioneered%20innovative%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20retort%20techniques%20that%20extend%20shelf%20life%20while%20maintaining%20nutritional%20integrity.%20This%20breakthrough%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20approach%20helps%20address%20the%20global%20challenges%20of%20food%20waste%20and%20hunger.%22%2C%22className%22%3A%22text-lg%20mb-6%20text-green-100%2F90%22%7D",className:"text-lg mb-6 text-green-100/90",children:"With a vision to transform food preservation technology, our team has pioneered innovative retort techniques that extend shelf life while maintaining nutritional integrity. This breakthrough approach helps address the global challenges of food waste and hunger."}),w.jsx("p",{"data-lov-id":"src/components/About.tsx:34:10","data-lov-name":"p","data-component-path":"src/components/About.tsx","data-component-line":"34","data-component-file":"About.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20multi-platform%20approach%20combines%20immediate%20hunger%20relief%20with%20long-term%20solutions%20that%20empower%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20communities%20to%20build%20resilient%20food%20systems%20for%20generations%20to%20come.%22%2C%22className%22%3A%22text-lg%20mb-8%20text-green-100%2F90%22%7D",className:"text-lg mb-8 text-green-100/90",children:"Our multi-platform approach combines immediate hunger relief with long-term solutions that empower communities to build resilient food systems for generations to come."}),w.jsx(zn,{"data-lov-id":"src/components/About.tsx:38:10","data-lov-name":"Link","data-component-path":"src/components/About.tsx","data-component-line":"38","data-component-file":"About.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/about",children:w.jsxs(pn,{"data-lov-id":"src/components/About.tsx:39:12","data-lov-name":"Button","data-component-path":"src/components/About.tsx","data-component-line":"39","data-component-file":"About.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Learn%20Our%20Story%22%2C%22className%22%3A%22btn-futuristic%20text-black%20gap-2%20flex%20items-center%20group%22%7D",variant:"default",size:"lg",className:"btn-futuristic text-black gap-2 flex items-center group",children:["Learn Our Story",w.jsx($o,{"data-lov-id":"src/components/About.tsx:41:14","data-lov-name":"ArrowRight","data-component-path":"src/components/About.tsx","data-component-line":"41","data-component-file":"About.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22transition-transform%20group-hover%3Atranslate-x-1%22%7D",size:16,className:"transition-transform group-hover:translate-x-1"})]})})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/About.tsx:46:8","data-lov-name":"motion.div","data-component-path":"src/components/About.tsx","data-component-line":"46","data-component-file":"About.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22order-1%20lg%3Aorder-2%20relative%22%7D",className:"order-1 lg:order-2 relative",initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:[w.jsxs("div",{"data-lov-id":"src/components/About.tsx:53:10","data-lov-name":"div","data-component-path":"src/components/About.tsx","data-component-line":"53","data-component-file":"About.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-square%20relative%20z-10%20rounded-2xl%20overflow-hidden%20shadow-xl%20border-glow%20animate-float%22%7D",className:"aspect-square relative z-10 rounded-2xl overflow-hidden shadow-xl border-glow animate-float",children:[w.jsx("img",{"data-lov-id":"src/components/About.tsx:54:12","data-lov-name":"img","data-component-path":"src/components/About.tsx","data-component-line":"54","data-component-file":"About.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%20progressive-img%22%7D",src:"https://images.unsplash.com/photo-1605000797499-95a51c5269ae?q=80&w=1600&auto=format&fit=crop",alt:"Retort Food team members",className:"w-full h-full object-cover progressive-img",loading:"lazy"}),w.jsx("div",{"data-lov-id":"src/components/About.tsx:60:12","data-lov-name":"div","data-component-path":"src/components/About.tsx","data-component-line":"60","data-component-file":"About.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-t%20from-black%20via-transparent%20to-transparent%22%7D",className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),w.jsx("div",{"data-lov-id":"src/components/About.tsx:62:10","data-lov-name":"div","data-component-path":"src/components/About.tsx","data-component-line":"62","data-component-file":"About.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-1%2F2%20left-1%2F2%20-translate-y-1%2F2%20translate-x-%5B10%25%5D%20w-2%2F3%20h-2%2F3%20bg-green-900%2F20%20rounded-2xl%20-z-0%20animate-pulse-glow%20border%20border-green-500%2F30%22%7D",className:"absolute top-1/2 left-1/2 -translate-y-1/2 translate-x-[10%] w-2/3 h-2/3 bg-green-900/20 rounded-2xl -z-0 animate-pulse-glow border border-green-500/30"}),w.jsx("svg",{"data-lov-id":"src/components/About.tsx:65:10","data-lov-name":"svg","data-component-path":"src/components/About.tsx","data-component-line":"65","data-component-file":"About.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20left-0%20w-full%20h-full%20pointer-events-none%22%7D",className:"absolute top-0 left-0 w-full h-full pointer-events-none",width:"100%",height:"100%",viewBox:"0 0 200 200",preserveAspectRatio:"none",children:w.jsx("path",{"data-lov-id":"src/components/About.tsx:66:12","data-lov-name":"path","data-component-path":"src/components/About.tsx","data-component-line":"66","data-component-file":"About.tsx","data-component-name":"path","data-component-content":"%7B%7D",d:"M20,0 L0,20 L0,180 L20,200 L180,200 L200,180 L200,20 L180,0 Z",fill:"none",stroke:"rgba(52, 255, 104, 0.3)",strokeWidth:"1",strokeDasharray:"10,5"})})]})]})}),qG=()=>w.jsxs("section",{"data-lov-id":"src/components/CallToAction.tsx:10:4","data-lov-name":"section","data-component-path":"src/components/CallToAction.tsx","data-component-line":"10","data-component-file":"CallToAction.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-r%20from-green-900%2F50%20to-green-800%2F40%20text-white%20relative%20overflow-hidden%20scan-lines%22%7D",className:"py-24 bg-gradient-to-r from-green-900/50 to-green-800/40 text-white relative overflow-hidden scan-lines",children:[w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:12:6","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"12","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20tech-data-flow%20opacity-30%22%7D",className:"absolute inset-0 tech-data-flow opacity-30"}),[...Array(5)].map((t,e)=>w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:16:8","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"16","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20rounded-full%20border%20border-green-500%2F30%20animate-pulse-glow%22%7D",className:"absolute rounded-full border border-green-500/30 animate-pulse-glow",style:{width:`${100+e*100}px`,height:`${100+e*100}px`,left:`calc(50% - ${50+e*50}px)`,top:`calc(50% - ${50+e*50}px)`,animationDuration:`${3+e}s`,opacity:.1}},e)),w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:30:6","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"30","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:w.jsxs(ke.div,{"data-lov-id":"src/components/CallToAction.tsx:31:8","data-lov-name":"motion.div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"31","data-component-file":"CallToAction.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%20mx-auto%20text-center%22%7D",className:"max-w-3xl mx-auto text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[w.jsx("h2",{"data-lov-id":"src/components/CallToAction.tsx:38:10","data-lov-name":"h2","data-component-path":"src/components/CallToAction.tsx","data-component-line":"38","data-component-file":"CallToAction.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Join%20Us%20in%20Creating%20a%20Hunger-Free%20World%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-6%20text-glow%22%7D",className:"text-3xl md:text-5xl font-bold mb-6 text-glow",children:"Join Us in Creating a Hunger-Free World"}),w.jsx("p",{"data-lov-id":"src/components/CallToAction.tsx:39:10","data-lov-name":"p","data-component-path":"src/components/CallToAction.tsx","data-component-line":"39","data-component-file":"CallToAction.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Whether%20through%20volunteering%2C%20donations%2C%20or%20advocacy%2C%20your%20contribution%20makes%20a%20difference%20in%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20building%20sustainable%20food%20systems%20and%20ensuring%20everyone%20has%20access%20to%20nutritious%20meals.%22%2C%22className%22%3A%22text-lg%20md%3Atext-xl%20mb-10%20text-green-100%2F90%22%7D",className:"text-lg md:text-xl mb-10 text-green-100/90",children:"Whether through volunteering, donations, or advocacy, your contribution makes a difference in building sustainable food systems and ensuring everyone has access to nutritious meals."}),w.jsxs(ke.div,{"data-lov-id":"src/components/CallToAction.tsx:43:10","data-lov-name":"motion.div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"43","data-component-file":"CallToAction.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20justify-center%22%7D",className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.3},viewport:{once:!0},children:[w.jsx(zn,{"data-lov-id":"src/components/CallToAction.tsx:50:12","data-lov-name":"Link","data-component-path":"src/components/CallToAction.tsx","data-component-line":"50","data-component-file":"CallToAction.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/donate",children:w.jsx(pn,{"data-lov-id":"src/components/CallToAction.tsx:51:14","data-lov-name":"Button","data-component-path":"src/components/CallToAction.tsx","data-component-line":"51","data-component-file":"CallToAction.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Donate%20Now%22%2C%22className%22%3A%22btn-futuristic%20text-black%20hover%3Abg-white%2F90%20text-lg%20animate-ripple%22%7D",size:"lg",className:"btn-futuristic text-black hover:bg-white/90 text-lg animate-ripple",children:"Donate Now"})}),w.jsx(zn,{"data-lov-id":"src/components/CallToAction.tsx:55:12","data-lov-name":"Link","data-component-path":"src/components/CallToAction.tsx","data-component-line":"55","data-component-file":"CallToAction.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/get-involved",children:w.jsxs(pn,{"data-lov-id":"src/components/CallToAction.tsx:56:14","data-lov-name":"Button","data-component-path":"src/components/CallToAction.tsx","data-component-line":"56","data-component-file":"CallToAction.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Get%20Involved%22%2C%22className%22%3A%22border-green-400%2F70%20text-green-100%20hover%3Abg-green-400%2F20%20text-lg%20gap-2%20group%22%7D",size:"lg",variant:"outline",className:"border-green-400/70 text-green-100 hover:bg-green-400/20 text-lg gap-2 group",children:["Get Involved",w.jsx($o,{"data-lov-id":"src/components/CallToAction.tsx:58:16","data-lov-name":"ArrowRight","data-component-path":"src/components/CallToAction.tsx","data-component-line":"58","data-component-file":"CallToAction.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22transition-transform%20group-hover%3Atranslate-x-1%22%7D",size:16,className:"transition-transform group-hover:translate-x-1"})]})})]})]})}),w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:66:6","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"66","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20right-0%20h-px%20bg-gradient-to-r%20from-transparent%20via-green-500%2F70%20to-transparent%22%7D",className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-green-500/70 to-transparent"}),w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:67:6","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"67","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-2%20left-0%20right-0%20h-px%20bg-gradient-to-r%20from-transparent%20via-green-500%2F40%20to-transparent%22%7D",className:"absolute bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-green-500/40 to-transparent"}),w.jsx("div",{"data-lov-id":"src/components/CallToAction.tsx:68:6","data-lov-name":"div","data-component-path":"src/components/CallToAction.tsx","data-component-line":"68","data-component-file":"CallToAction.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-4%20left-0%20right-0%20h-px%20bg-gradient-to-r%20from-transparent%20via-green-500%2F20%20to-transparent%22%7D",className:"absolute bottom-4 left-0 right-0 h-px bg-gradient-to-r from-transparent via-green-500/20 to-transparent"})]}),So=q.forwardRef(({className:t,type:e,...r},l)=>w.jsx("input",{"data-lov-id":"src/components/ui/input.tsx:8:6","data-lov-name":"input","data-component-path":"src/components/ui/input.tsx","data-component-line":"8","data-component-file":"input.tsx","data-component-name":"input","data-component-content":"%7B%7D",type:e,className:Hn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...r}));So.displayName="Input";const qr=()=>w.jsx("footer",{"data-lov-id":"src/components/Footer.tsx:10:4","data-lov-name":"footer","data-component-path":"src/components/Footer.tsx","data-component-line":"10","data-component-file":"Footer.tsx","data-component-name":"footer","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%20text-white%22%7D",className:"bg-nourish-900 text-white",children:w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:11:6","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"11","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20py-16%22%7D",className:"container px-4 md:px-6 py-16",children:[w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:12:8","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"12","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-10%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:14:10","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"14","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsxs(zn,{"data-lov-id":"src/components/Footer.tsx:15:12","data-lov-name":"Link","data-component-path":"src/components/Footer.tsx","data-component-line":"15","data-component-file":"Footer.tsx","data-component-name":"Link","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%20text-xl%20font-poppins%20font-bold%20mb-4%22%7D",to:"/",className:"flex items-center gap-1 text-xl font-poppins font-bold mb-4",children:[w.jsx("span",{"data-lov-id":"src/components/Footer.tsx:16:14","data-lov-name":"span","data-component-path":"src/components/Footer.tsx","data-component-line":"16","data-component-file":"Footer.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Nourish%22%2C%22className%22%3A%22text-earth-500%22%7D",className:"text-earth-500",children:"Nourish"}),w.jsx("span",{"data-lov-id":"src/components/Footer.tsx:17:14","data-lov-name":"span","data-component-path":"src/components/Footer.tsx","data-component-line":"17","data-component-file":"Footer.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22The%20World%22%2C%22className%22%3A%22text-white%22%7D",className:"text-white",children:"The World"})]}),w.jsx("p",{"data-lov-id":"src/components/Footer.tsx:19:12","data-lov-name":"p","data-component-path":"src/components/Footer.tsx","data-component-line":"19","data-component-file":"Footer.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Working%20together%20to%20end%20hunger%20and%20promote%20sustainable%20food%20systems%20worldwide.%22%2C%22className%22%3A%22text-white%2F80%20mb-6%22%7D",className:"text-white/80 mb-6",children:"Working together to end hunger and promote sustainable food systems worldwide."}),w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:22:12","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"22","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-4%22%7D",className:"flex space-x-4",children:[w.jsx(Lg,{"data-lov-id":"src/components/Footer.tsx:23:14","data-lov-name":"SocialIcon","data-component-path":"src/components/Footer.tsx","data-component-line":"23","data-component-file":"Footer.tsx","data-component-name":"SocialIcon","data-component-content":"%7B%7D",icon:w.jsx(ez,{"data-lov-id":"src/components/Footer.tsx:23:32","data-lov-name":"Facebook","data-component-path":"src/components/Footer.tsx","data-component-line":"23","data-component-file":"Footer.tsx","data-component-name":"Facebook","data-component-content":"%7B%7D",size:18}),label:"Facebook"}),w.jsx(Lg,{"data-lov-id":"src/components/Footer.tsx:24:14","data-lov-name":"SocialIcon","data-component-path":"src/components/Footer.tsx","data-component-line":"24","data-component-file":"Footer.tsx","data-component-name":"SocialIcon","data-component-content":"%7B%7D",icon:w.jsx(cz,{"data-lov-id":"src/components/Footer.tsx:24:32","data-lov-name":"Twitter","data-component-path":"src/components/Footer.tsx","data-component-line":"24","data-component-file":"Footer.tsx","data-component-name":"Twitter","data-component-content":"%7B%7D",size:18}),label:"Twitter"}),w.jsx(Lg,{"data-lov-id":"src/components/Footer.tsx:25:14","data-lov-name":"SocialIcon","data-component-path":"src/components/Footer.tsx","data-component-line":"25","data-component-file":"Footer.tsx","data-component-name":"SocialIcon","data-component-content":"%7B%7D",icon:w.jsx(nz,{"data-lov-id":"src/components/Footer.tsx:25:32","data-lov-name":"Instagram","data-component-path":"src/components/Footer.tsx","data-component-line":"25","data-component-file":"Footer.tsx","data-component-name":"Instagram","data-component-content":"%7B%7D",size:18}),label:"Instagram"}),w.jsx(Lg,{"data-lov-id":"src/components/Footer.tsx:26:14","data-lov-name":"SocialIcon","data-component-path":"src/components/Footer.tsx","data-component-line":"26","data-component-file":"Footer.tsx","data-component-name":"SocialIcon","data-component-content":"%7B%7D",icon:w.jsx(pz,{"data-lov-id":"src/components/Footer.tsx:26:32","data-lov-name":"Youtube","data-component-path":"src/components/Footer.tsx","data-component-line":"26","data-component-file":"Footer.tsx","data-component-name":"Youtube","data-component-content":"%7B%7D",size:18}),label:"YouTube"})]})]}),w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:31:10","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"31","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/components/Footer.tsx:32:12","data-lov-name":"h3","data-component-path":"src/components/Footer.tsx","data-component-line":"32","data-component-file":"Footer.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Quick%20Links%22%2C%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",className:"text-lg font-semibold mb-4",children:"Quick Links"}),w.jsxs("ul",{"data-lov-id":"src/components/Footer.tsx:33:12","data-lov-name":"ul","data-component-path":"src/components/Footer.tsx","data-component-line":"33","data-component-file":"Footer.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:34:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"34","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22About%20Us%22%7D",to:"/about",children:"About Us"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:35:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"35","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Our%20Initiatives%22%7D",to:"/initiatives",children:"Our Initiatives"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:36:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"36","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Get%20Involved%22%7D",to:"/get-involved",children:"Get Involved"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:37:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"37","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Blog%22%7D",to:"/blog",children:"Blog"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:38:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"38","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Contact%20Us%22%7D",to:"/contact",children:"Contact Us"})]})]}),w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:43:10","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"43","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/components/Footer.tsx:44:12","data-lov-name":"h3","data-component-path":"src/components/Footer.tsx","data-component-line":"44","data-component-file":"Footer.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Resources%22%2C%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",className:"text-lg font-semibold mb-4",children:"Resources"}),w.jsxs("ul",{"data-lov-id":"src/components/Footer.tsx:45:12","data-lov-name":"ul","data-component-path":"src/components/Footer.tsx","data-component-line":"45","data-component-file":"Footer.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:46:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"46","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Annual%20Reports%22%7D",to:"/resources/reports",children:"Annual Reports"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:47:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"47","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Research%22%7D",to:"/resources/research",children:"Research"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:48:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"48","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Press%20Releases%22%7D",to:"/resources/press",children:"Press Releases"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:49:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"49","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22FAQs%22%7D",to:"/resources/faqs",children:"FAQs"}),w.jsx(Xs,{"data-lov-id":"src/components/Footer.tsx:50:14","data-lov-name":"FooterLink","data-component-path":"src/components/Footer.tsx","data-component-line":"50","data-component-file":"Footer.tsx","data-component-name":"FooterLink","data-component-content":"%7B%22text%22%3A%22Privacy%20Policy%22%7D",to:"/privacy-policy",children:"Privacy Policy"})]})]}),w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:55:10","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"55","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/components/Footer.tsx:56:12","data-lov-name":"h3","data-component-path":"src/components/Footer.tsx","data-component-line":"56","data-component-file":"Footer.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Stay%20Updated%22%2C%22className%22%3A%22text-lg%20font-semibold%20mb-4%22%7D",className:"text-lg font-semibold mb-4",children:"Stay Updated"}),w.jsx("p",{"data-lov-id":"src/components/Footer.tsx:57:12","data-lov-name":"p","data-component-path":"src/components/Footer.tsx","data-component-line":"57","data-component-file":"Footer.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Subscribe%20to%20our%20newsletter%20for%20updates%20on%20our%20work%20and%20impact.%22%2C%22className%22%3A%22text-white%2F80%20mb-4%22%7D",className:"text-white/80 mb-4",children:"Subscribe to our newsletter for updates on our work and impact."}),w.jsxs("div",{"data-lov-id":"src/components/Footer.tsx:60:12","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"60","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",className:"flex gap-2",children:[w.jsx(So,{"data-lov-id":"src/components/Footer.tsx:61:14","data-lov-name":"Input","data-component-path":"src/components/Footer.tsx","data-component-line":"61","data-component-file":"Footer.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Your%20email%20address%22%2C%22className%22%3A%22bg-nourish-800%20border-nourish-700%20text-white%20placeholder%3Atext-white%2F50%22%7D",type:"email",placeholder:"Your email address",className:"bg-nourish-800 border-nourish-700 text-white placeholder:text-white/50"}),w.jsx(pn,{"data-lov-id":"src/components/Footer.tsx:66:14","data-lov-name":"Button","data-component-path":"src/components/Footer.tsx","data-component-line":"66","data-component-file":"Footer.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22bg-earth-500%20hover%3Abg-earth-600%22%7D",size:"icon","aria-label":"Subscribe",className:"bg-earth-500 hover:bg-earth-600",children:w.jsx($o,{"data-lov-id":"src/components/Footer.tsx:67:16","data-lov-name":"ArrowRight","data-component-path":"src/components/Footer.tsx","data-component-line":"67","data-component-file":"Footer.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%7D",size:18})})]})]})]}),w.jsx("div",{"data-lov-id":"src/components/Footer.tsx:73:8","data-lov-name":"div","data-component-path":"src/components/Footer.tsx","data-component-line":"73","data-component-file":"Footer.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-nourish-800%20mt-12%20pt-6%20text-center%20text-white%2F60%20text-sm%22%7D",className:"border-t border-nourish-800 mt-12 pt-6 text-center text-white/60 text-sm",children:w.jsxs("p",{"data-lov-id":"src/components/Footer.tsx:74:10","data-lov-name":"p","data-component-path":"src/components/Footer.tsx","data-component-line":"74","data-component-file":"Footer.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22%C2%A9%20Nourish%20The%20World.%20All%20rights%20reserved.%22%7D",children:[" ",new Date().getFullYear()," Nourish The World. All rights reserved."]})})]})}),Xs=({to:t,children:e})=>w.jsx("li",{"data-lov-id":"src/components/Footer.tsx:87:2","data-lov-name":"li","data-component-path":"src/components/Footer.tsx","data-component-line":"87","data-component-file":"Footer.tsx","data-component-name":"li","data-component-content":"%7B%7D",children:w.jsx(zn,{"data-lov-id":"src/components/Footer.tsx:88:4","data-lov-name":"Link","data-component-path":"src/components/Footer.tsx","data-component-line":"88","data-component-file":"Footer.tsx","data-component-name":"Link","data-component-content":"%7B%22className%22%3A%22text-white%2F80%20hover%3Atext-earth-300%20transition%22%7D",to:t,className:"text-white/80 hover:text-earth-300 transition",children:e})}),Lg=({icon:t,label:e})=>w.jsx("a",{"data-lov-id":"src/components/Footer.tsx:100:2","data-lov-name":"a","data-component-path":"src/components/Footer.tsx","data-component-line":"100","data-component-file":"Footer.tsx","data-component-name":"a","data-component-content":"%7B%22className%22%3A%22bg-nourish-800%20hover%3Abg-nourish-700%20p-2%20rounded-full%20transition%22%7D",href:"#","aria-label":e,className:"bg-nourish-800 hover:bg-nourish-700 p-2 rounded-full transition",children:t}),zg=[{id:"shelf-life",title:"Extended Shelf Life",description:"Preserve food for up to 24 months without refrigeration while maintaining quality and taste.",icon:w.jsx(Lh,{"data-lov-id":"src/components/FuturisticFeatures.tsx:11:10","data-lov-name":"Circle","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"11","data-component-file":"FuturisticFeatures.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"pulse",image:"https://images.unsplash.com/photo-1610348725531-843dff563e2c?q=80&w=800&auto=format&fit=crop"},{id:"preservative-free",title:"Preservative-Free",description:"Achieve food safety and stability without chemical additives or artificial preservatives.",icon:w.jsx(QL,{"data-lov-id":"src/components/FuturisticFeatures.tsx:19:10","data-lov-name":"CheckCircle","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"19","data-component-file":"FuturisticFeatures.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"bounce",image:"https://images.unsplash.com/photo-1466637574441-749b8f19452f?q=80&w=800&auto=format&fit=crop"},{id:"nutrient-retention",title:"Nutrient Retention",description:"Our optimized thermal process preserves more vitamins and nutrients compared to conventional methods.",icon:w.jsx(y2,{"data-lov-id":"src/components/FuturisticFeatures.tsx:27:10","data-lov-name":"Zap","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"27","data-component-file":"FuturisticFeatures.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"ping",image:"https://images.unsplash.com/photo-1466551773139-90102875eb72?q=80&w=800&auto=format&fit=crop"},{id:"energy-efficient",title:"Energy Efficient",description:"Advanced heat recovery systems reduce energy consumption and environmental impact.",icon:w.jsx(JL,{"data-lov-id":"src/components/FuturisticFeatures.tsx:35:10","data-lov-name":"Database","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"35","data-component-file":"FuturisticFeatures.tsx","data-component-name":"Database","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"bounce",image:"https://images.unsplash.com/photo-1459664018906-085c36f472af?q=80&w=800&auto=format&fit=crop"},{id:"ready-to-eat",title:"Ready-To-Eat",description:"Products can be consumed immediately or quickly heated, perfect for modern lifestyles.",icon:w.jsx(sz,{"data-lov-id":"src/components/FuturisticFeatures.tsx:43:10","data-lov-name":"Monitor","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"43","data-component-file":"FuturisticFeatures.tsx","data-component-name":"Monitor","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"pulse",image:"https://images.unsplash.com/photo-1565895405138-6c3a1555da6a?q=80&w=800&auto=format&fit=crop"},{id:"packaging-flexibility",title:"Packaging Flexibility",description:"Compatible with various container types from pouches to trays and rigid containers.",icon:w.jsx(ck,{"data-lov-id":"src/components/FuturisticFeatures.tsx:51:10","data-lov-name":"Share","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"51","data-component-file":"FuturisticFeatures.tsx","data-component-name":"Share","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nourish-500%22%7D",className:"w-6 h-6 text-nourish-500"}),animation:"ping",image:"https://images.unsplash.com/photo-1607155282907-9a62f9114d84?q=80&w=800&auto=format&fit=crop"}],WG=()=>{const[t,e]=q.useState(zg[0].id),r=l=>zg.find(p=>p.id===l)||zg[0];return w.jsxs("section",{"data-lov-id":"src/components/FuturisticFeatures.tsx:65:4","data-lov-name":"section","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"65","data-component-file":"FuturisticFeatures.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-background%20to-black%2F95%20text-white%20relative%20overflow-hidden%22%7D",className:"py-24 bg-gradient-to-b from-background to-black/95 text-white relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:67:6","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"67","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20pointer-events-none%22%7D",className:"absolute inset-0 pointer-events-none",children:w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:68:8","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"68","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20opacity-5%22%7D",className:"absolute inset-0 opacity-5",children:w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:69:10","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"69","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20w-full%22%7D",className:"h-full w-full",style:{backgroundImage:"linear-gradient(to right, #4e9f33 1px, transparent 1px), linear-gradient(to bottom, #4e9f33 1px, transparent 1px)",backgroundSize:"40px 40px"}})})}),w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:76:6","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"76","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:[w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:77:8","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"77","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:78:10","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"78","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22SUPERIOR%20BENEFITS%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-4%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-4",children:"SUPERIOR BENEFITS"}),w.jsx("h2",{"data-lov-id":"src/components/FuturisticFeatures.tsx:81:10","data-lov-name":"h2","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"81","data-component-file":"FuturisticFeatures.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Advanced%20Features%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-6%22%7D",className:"text-3xl md:text-5xl font-bold mb-6",children:"Advanced Features"}),w.jsx("p",{"data-lov-id":"src/components/FuturisticFeatures.tsx:82:10","data-lov-name":"p","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"82","data-component-file":"FuturisticFeatures.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20cutting-edge%20retort%20technology%20offers%20unparalleled%20benefits%20for%20food%20preservation%22%2C%22className%22%3A%22text-lg%20text-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Our cutting-edge retort technology offers unparalleled benefits for food preservation"})]}),w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:87:8","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"87","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-3%20gap-8%22%7D",className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:88:10","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"88","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22lg%3Acol-span-2%20order-2%20lg%3Aorder-1%22%7D",className:"lg:col-span-2 order-2 lg:order-1",children:w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:89:12","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"89","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20h-%5B400px%5D%20md%3Ah-%5B500px%5D%20rounded-xl%20overflow-hidden%20border%20border-nourish-500%2F30%22%7D",className:"relative h-[400px] md:h-[500px] rounded-xl overflow-hidden border border-nourish-500/30",children:[w.jsx(Ow,{"data-lov-id":"src/components/FuturisticFeatures.tsx:90:14","data-lov-name":"AnimatePresence","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"90","data-component-file":"FuturisticFeatures.tsx","data-component-name":"AnimatePresence","data-component-content":"%7B%7D",mode:"wait",children:w.jsx(ke.img,{"data-lov-id":"src/components/FuturisticFeatures.tsx:91:16","data-lov-name":"motion.img","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"91","data-component-file":"FuturisticFeatures.tsx","data-component-name":"motion.img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%22%7D",src:r(t).image,alt:r(t).title,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.5}},t)}),w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:104:14","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"104","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-t%20from-black%2F80%20to-transparent%20flex%20flex-col%20justify-end%20p-6%22%7D",className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-6",children:w.jsxs(ke.div,{"data-lov-id":"src/components/FuturisticFeatures.tsx:105:16","data-lov-name":"motion.div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"105","data-component-file":"FuturisticFeatures.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:111:18","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"111","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20mb-3%22%7D",className:"flex items-center mb-3",children:[r(t).icon,w.jsx("h3",{"data-lov-id":"src/components/FuturisticFeatures.tsx:113:20","data-lov-name":"h3","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"113","data-component-file":"FuturisticFeatures.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20ml-2%22%7D",className:"text-2xl font-bold ml-2",children:r(t).title})]}),w.jsx("p",{"data-lov-id":"src/components/FuturisticFeatures.tsx:115:18","data-lov-name":"p","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"115","data-component-file":"FuturisticFeatures.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%20max-w-lg%22%7D",className:"text-white/80 max-w-lg",children:r(t).description})]},t+"-details")}),w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:122:14","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"122","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20left-0%20right-0%20h-16%20bg-gradient-to-b%20from-black%2F40%20to-transparent%22%7D",className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-black/40 to-transparent"}),w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:123:14","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"123","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22FEATURE%20SPOTLIGHT%22%2C%22className%22%3A%22absolute%20top-4%20right-4%20bg-black%2F40%20backdrop-blur-sm%20px-3%20py-1%20rounded-full%20border%20border-nourish-500%2F30%20text-xs%20text-nourish-300%22%7D",className:"absolute top-4 right-4 bg-black/40 backdrop-blur-sm px-3 py-1 rounded-full border border-nourish-500/30 text-xs text-nourish-300",children:"FEATURE SPOTLIGHT"})]})}),w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:129:10","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"129","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22lg%3Acol-span-1%20order-1%20lg%3Aorder-2%22%7D",className:"lg:col-span-1 order-1 lg:order-2",children:w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:130:12","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"130","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-1%20gap-4%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:zg.map((l,p)=>w.jsx(ke.div,{"data-lov-id":"src/components/FuturisticFeatures.tsx:132:16","data-lov-name":"motion.div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"132","data-component-file":"FuturisticFeatures.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",className:`p-4 rounded-lg cursor-pointer transition-all duration-300 ${t===l.id?"bg-nourish-900/50 border border-nourish-500/50":"bg-black/20 hover:bg-black/30 border border-transparent"}`,onClick:()=>e(l.id),whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:145:18","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"145","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",className:"flex items-center",children:[w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:146:20","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"146","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`mr-3 ${t===l.id?"text-nourish-400":"text-gray-400"}`,children:l.icon}),w.jsxs("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:149:20","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"149","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%22%7D",className:"flex-grow",children:[w.jsx("h3",{"data-lov-id":"src/components/FuturisticFeatures.tsx:150:22","data-lov-name":"h3","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"150","data-component-file":"FuturisticFeatures.tsx","data-component-name":"h3","data-component-content":"%7B%7D",className:`font-semibold ${t===l.id?"text-white":"text-gray-300"}`,children:l.title}),w.jsx("div",{"data-lov-id":"src/components/FuturisticFeatures.tsx:153:22","data-lov-name":"div","data-component-path":"src/components/FuturisticFeatures.tsx","data-component-line":"153","data-component-file":"FuturisticFeatures.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`h-0.5 w-12 mt-1 ${t===l.id?"bg-nourish-500":"bg-gray-700"}`})]})]})},l.id))})})]})]})]})},Xc=[{step:"01",title:"Food Preparation",description:"Raw ingredients are prepared according to recipe specifications, maintaining strict quality control.",icon:"",image:"https://images.unsplash.com/photo-1669201275959-c87f91614c28?q=80&w=800&auto=format&fit=crop"},{step:"02",title:"Container Filling",description:"Product is precisely portioned into sterile containers under controlled atmospheric conditions.",icon:"",image:"https://images.unsplash.com/photo-1569165706183-01d4e36fac1c?q=80&w=800&auto=format&fit=crop"},{step:"03",title:"Sealing",description:"Containers are hermetically sealed to prevent contamination and preserve freshness.",icon:"",image:"https://images.unsplash.com/photo-1572635196237-14b3f281503f?q=80&w=800&auto=format&fit=crop"},{step:"04",title:"Retort Processing",description:"Sealed containers undergo precise thermal processing at optimized temperature and pressure.",icon:"",image:"https://images.unsplash.com/photo-1616767640617-31e73ed19a79?q=80&w=800&auto=format&fit=crop"},{step:"05",title:"Cooling",description:"Products are rapidly cooled to prevent overcooking and ensure food quality.",icon:"",image:"https://images.unsplash.com/photo-1534531173927-aeb928d54385?q=80&w=800&auto=format&fit=crop"},{step:"06",title:"Quality Control",description:"Each batch undergoes rigorous testing to ensure safety, sterility and quality standards.",icon:"",image:"https://images.unsplash.com/photo-1555633514-abcee6ab92e1?q=80&w=800&auto=format&fit=crop"}],K4=()=>{const[t,e]=q.useState(0);return w.jsx("section",{"data-lov-id":"src/components/RetortProcess.tsx:54:4","data-lov-name":"section","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"54","data-component-file":"RetortProcess.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-black%2F95%20to-background%22%7D",className:"py-24 bg-gradient-to-b from-black/95 to-background",children:w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:55:6","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"55","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:56:8","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"56","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:57:10","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"57","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22PATENT%20PENDING%20TECHNOLOGY%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-4%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-4",children:"PATENT PENDING TECHNOLOGY"}),w.jsx("h2",{"data-lov-id":"src/components/RetortProcess.tsx:60:10","data-lov-name":"h2","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"60","data-component-file":"RetortProcess.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22The%20Retort%20Process%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-6%20text-white%22%7D",className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"The Retort Process"}),w.jsx("p",{"data-lov-id":"src/components/RetortProcess.tsx:61:10","data-lov-name":"p","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"61","data-component-file":"RetortProcess.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20advanced%20six-stage%20process%20ensures%20optimal%20food%20preservation%20while%20maintaining%20nutritional%20integrity%22%2C%22className%22%3A%22text-lg%20text-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Our advanced six-stage process ensures optimal food preservation while maintaining nutritional integrity"})]}),w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:66:8","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"66","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-12%20gap-8%22%7D",className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:67:10","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"67","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22lg%3Acol-span-5%20order-2%20lg%3Aorder-1%22%7D",className:"lg:col-span-5 order-2 lg:order-1",children:w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:68:12","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"68","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:Xc.map((r,l)=>w.jsx(ke.div,{"data-lov-id":"src/components/RetortProcess.tsx:70:16","data-lov-name":"motion.div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"70","data-component-file":"RetortProcess.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",className:`p-4 rounded-lg cursor-pointer transition-all duration-300 ${t===l?"bg-nourish-900/50 border border-nourish-500/50 shadow-[0_0_15px_rgba(78,159,51,0.3)]":"bg-black/20 hover:bg-black/30"}`,onClick:()=>e(l),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},children:w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:82:18","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"82","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-4%22%7D",className:"flex items-start gap-4",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:83:20","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"83","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-shrink-0%22%7D",className:"flex-shrink-0",children:w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:84:22","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"84","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${t===l?"bg-nourish-500 text-white":"bg-gray-800 text-gray-400"}`,children:r.icon})}),w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:92:20","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"92","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%22%7D",className:"flex-grow",children:[w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:93:22","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"93","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20mb-1%22%7D",className:"flex items-center mb-1",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:94:24","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"94","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22STEP%22%2C%22className%22%3A%22text-xs%20text-nourish-400%20mr-2%22%7D",className:"text-xs text-nourish-400 mr-2",children:"STEP"}),w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:95:24","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"95","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-nourish-400%22%7D",className:"text-sm font-semibold text-nourish-400",children:r.step})]}),w.jsx("h3",{"data-lov-id":"src/components/RetortProcess.tsx:97:22","data-lov-name":"h3","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"97","data-component-file":"RetortProcess.tsx","data-component-name":"h3","data-component-content":"%7B%7D",className:`text-lg font-semibold mb-1 ${t===l?"text-white":"text-gray-300"}`,children:r.title}),w.jsx("p",{"data-lov-id":"src/components/RetortProcess.tsx:100:22","data-lov-name":"p","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"100","data-component-file":"RetortProcess.tsx","data-component-name":"p","data-component-content":"%7B%7D",className:`text-sm ${t===l?"text-gray-300":"text-gray-500"}`,children:r.description})]})]})},l))})}),w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:110:10","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"110","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22lg%3Acol-span-7%20order-1%20lg%3Aorder-2%20relative%22%7D",className:"lg:col-span-7 order-1 lg:order-2 relative",children:[w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:111:12","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"111","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20h-%5B400px%5D%20lg%3Ah-%5B550px%5D%20overflow-hidden%20rounded-xl%20border%20border-nourish-500%2F30%20shadow-%5B0_0_30px_rgba(78%2C159%2C51%2C0.15)%5D%22%7D",className:"relative h-[400px] lg:h-[550px] overflow-hidden rounded-xl border border-nourish-500/30 shadow-[0_0_30px_rgba(78,159,51,0.15)]",children:[w.jsx(ke.img,{"data-lov-id":"src/components/RetortProcess.tsx:112:14","data-lov-name":"motion.img","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"112","data-component-file":"RetortProcess.tsx","data-component-name":"motion.img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%22%7D",src:Xc[t].image,alt:Xc[t].title,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.5}},t),w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:121:14","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"121","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-t%20from-black%2F80%20to-transparent%22%7D",className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:123:14","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"123","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20right-0%20p-6%20text-white%22%7D",className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:124:16","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"124","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20mb-2%22%7D",className:"flex items-center mb-2",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:125:18","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"125","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-500%20w-8%20h-8%20rounded-full%20flex%20items-center%20justify-center%20text-sm%20mr-3%22%7D",className:"bg-nourish-500 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3",children:Xc[t].step}),w.jsx("h3",{"data-lov-id":"src/components/RetortProcess.tsx:128:18","data-lov-name":"h3","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"128","data-component-file":"RetortProcess.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%22%7D",className:"text-xl font-bold",children:Xc[t].title})]}),w.jsx("p",{"data-lov-id":"src/components/RetortProcess.tsx:130:16","data-lov-name":"p","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"130","data-component-file":"RetortProcess.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%20text-sm%22%7D",className:"text-white/80 text-sm",children:Xc[t].description})]}),w.jsxs("div",{"data-lov-id":"src/components/RetortProcess.tsx:134:14","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"134","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-4%20right-4%20bg-black%2F40%20backdrop-blur-sm%20px-3%20py-1%20rounded-full%20border%20border-nourish-500%2F30%20flex%20items-center%20gap-2%22%7D",className:"absolute top-4 right-4 bg-black/40 backdrop-blur-sm px-3 py-1 rounded-full border border-nourish-500/30 flex items-center gap-2",children:[w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:135:16","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"135","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20rounded-full%20bg-nourish-400%20animate-pulse%22%7D",className:"w-2 h-2 rounded-full bg-nourish-400 animate-pulse"}),w.jsx("span",{"data-lov-id":"src/components/RetortProcess.tsx:136:16","data-lov-name":"span","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"136","data-component-file":"RetortProcess.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22PROCESS%20ACTIVE%22%2C%22className%22%3A%22text-xs%20text-nourish-300%22%7D",className:"text-xs text-nourish-300",children:"PROCESS ACTIVE"})]})]}),w.jsx("div",{"data-lov-id":"src/components/RetortProcess.tsx:141:12","data-lov-name":"div","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"141","data-component-file":"RetortProcess.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20mt-6%20gap-2%22%7D",className:"flex justify-center mt-6 gap-2",children:Xc.map((r,l)=>w.jsx("button",{"data-lov-id":"src/components/RetortProcess.tsx:143:16","data-lov-name":"button","data-component-path":"src/components/RetortProcess.tsx","data-component-line":"143","data-component-file":"RetortProcess.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`w-3 h-3 rounded-full transition-all duration-300 ${t===l?"bg-nourish-500 scale-125":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>e(l),"aria-label":`View step ${l+1}`},l))})]})]})]})})},Y4=()=>w.jsxs("section",{"data-lov-id":"src/components/TechSpecs.tsx:8:4","data-lov-name":"section","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"8","data-component-file":"TechSpecs.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-black%2F90%20text-white%20relative%20overflow-hidden%22%7D",className:"py-24 bg-black/90 text-white relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:9:6","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"9","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20opacity-10%22%7D",className:"absolute inset-0 opacity-10",children:w.jsxs("svg",{"data-lov-id":"src/components/TechSpecs.tsx:10:8","data-lov-name":"svg","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"10","data-component-file":"TechSpecs.tsx","data-component-name":"svg","data-component-content":"%7B%7D",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("defs",{"data-lov-id":"src/components/TechSpecs.tsx:11:10","data-lov-name":"defs","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"11","data-component-file":"TechSpecs.tsx","data-component-name":"defs","data-component-content":"%7B%7D",children:w.jsx("pattern",{"data-lov-id":"src/components/TechSpecs.tsx:12:12","data-lov-name":"pattern","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"12","data-component-file":"TechSpecs.tsx","data-component-name":"pattern","data-component-content":"%7B%7D",id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:w.jsx("path",{"data-lov-id":"src/components/TechSpecs.tsx:13:14","data-lov-name":"path","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"13","data-component-file":"TechSpecs.tsx","data-component-name":"path","data-component-content":"%7B%7D",d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),w.jsx("rect",{"data-lov-id":"src/components/TechSpecs.tsx:16:10","data-lov-name":"rect","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"16","data-component-file":"TechSpecs.tsx","data-component-name":"rect","data-component-content":"%7B%7D",width:"100%",height:"100%",fill:"url(#grid)"})]})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:20:6","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"20","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:[w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:21:8","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"21","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-12%22%7D",className:"text-center mb-12",children:[w.jsxs("h2",{"data-lov-id":"src/components/TechSpecs.tsx:22:10","data-lov-name":"h2","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"22","data-component-file":"TechSpecs.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22inline-block%20text-3xl%20md%3Atext-5xl%20font-bold%20relative%22%7D",className:"inline-block text-3xl md:text-5xl font-bold relative",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:23:12","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"23","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Technical%20Specifications%22%2C%22className%22%3A%22bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-nourish-400%20to-nourish-600%22%7D",className:"bg-clip-text text-transparent bg-gradient-to-r from-nourish-400 to-nourish-600",children:"Technical Specifications"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:26:12","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"26","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22v2.5%22%2C%22className%22%3A%22absolute%20-top-6%20-right-6%20text-xs%20border%20border-nourish-500%2F50%20rounded-full%20px-2%20py-1%20bg-black%2F80%22%7D",className:"absolute -top-6 -right-6 text-xs border border-nourish-500/50 rounded-full px-2 py-1 bg-black/80",children:"v2.5"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:30:10","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"30","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-24%20h-1%20bg-nourish-500%20mx-auto%20mt-4%20mb-6%22%7D",className:"w-24 h-1 bg-nourish-500 mx-auto mt-4 mb-6"}),w.jsx("p",{"data-lov-id":"src/components/TechSpecs.tsx:31:10","data-lov-name":"p","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"31","data-component-file":"TechSpecs.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20patented%20retort%20technology%20operates%20with%20precision%20to%20deliver%20optimal%20results%22%2C%22className%22%3A%22text-lg%20text-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Our patented retort technology operates with precision to deliver optimal results"})]}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:36:8","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"36","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-8%20mt-16%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/TechSpecs.tsx:37:10","data-lov-name":"motion.div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"37","data-component-file":"TechSpecs.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F50%20backdrop-blur-sm%20border%20border-nourish-500%2F30%20p-6%20rounded-lg%20relative%20overflow-hidden%20group%22%7D",className:"bg-black/50 backdrop-blur-sm border border-nourish-500/30 p-6 rounded-lg relative overflow-hidden group",whileHover:{y:-5,boxShadow:"0 10px 30px -15px rgba(78, 159, 51, 0.5)"},children:[w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:41:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"41","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-right-4%20-top-4%20w-20%20h-20%20bg-nourish-500%2F10%20rounded-full%20blur-2xl%20group-hover%3Abg-nourish-500%2F20%20transition-all%20duration-700%22%7D",className:"absolute -right-4 -top-4 w-20 h-20 bg-nourish-500/10 rounded-full blur-2xl group-hover:bg-nourish-500/20 transition-all duration-700"}),w.jsxs("h3",{"data-lov-id":"src/components/TechSpecs.tsx:42:12","data-lov-name":"h3","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"42","data-component-file":"TechSpecs.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Temperature%20Control%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-nourish-400%20mb-4%20flex%20items-center%22%7D",className:"text-2xl font-bold text-nourish-400 mb-4 flex items-center",children:[w.jsx(Lh,{"data-lov-id":"src/components/TechSpecs.tsx:43:14","data-lov-name":"Circle","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"43","data-component-file":"TechSpecs.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22mr-2%20w-3%20h-3%20fill-nourish-500%20text-transparent%22%7D",className:"mr-2 w-3 h-3 fill-nourish-500 text-transparent"}),"Temperature Control"]}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:46:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"46","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:47:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"47","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:48:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"48","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Operating%20Temp%22%7D",children:"Operating Temp"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:49:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"49","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22121%C2%B0C%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"121C"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:51:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"51","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:52:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"52","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B85%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[85%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:54:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"54","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:55:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"55","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Precision%22%7D",children:"Precision"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:56:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"56","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22%C2%B10.5%C2%B0C%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"0.5C"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:58:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"58","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:59:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"59","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B95%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[95%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:61:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"61","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:62:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"62","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Heat-up%20Rate%22%7D",children:"Heat-up Rate"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:63:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"63","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%223%C2%B0C%2Fmin%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"3C/min"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:65:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"65","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:66:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"66","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B75%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[75%]"})})]})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/TechSpecs.tsx:71:10","data-lov-name":"motion.div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"71","data-component-file":"TechSpecs.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F50%20backdrop-blur-sm%20border%20border-nourish-500%2F30%20p-6%20rounded-lg%20relative%20overflow-hidden%20group%22%7D",className:"bg-black/50 backdrop-blur-sm border border-nourish-500/30 p-6 rounded-lg relative overflow-hidden group",whileHover:{y:-5,boxShadow:"0 10px 30px -15px rgba(78, 159, 51, 0.5)"},children:[w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:75:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"75","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-right-4%20-top-4%20w-20%20h-20%20bg-nourish-500%2F10%20rounded-full%20blur-2xl%20group-hover%3Abg-nourish-500%2F20%20transition-all%20duration-700%22%7D",className:"absolute -right-4 -top-4 w-20 h-20 bg-nourish-500/10 rounded-full blur-2xl group-hover:bg-nourish-500/20 transition-all duration-700"}),w.jsxs("h3",{"data-lov-id":"src/components/TechSpecs.tsx:76:12","data-lov-name":"h3","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"76","data-component-file":"TechSpecs.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Pressure%20System%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-nourish-400%20mb-4%20flex%20items-center%22%7D",className:"text-2xl font-bold text-nourish-400 mb-4 flex items-center",children:[w.jsx(Lh,{"data-lov-id":"src/components/TechSpecs.tsx:77:14","data-lov-name":"Circle","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"77","data-component-file":"TechSpecs.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22mr-2%20w-3%20h-3%20fill-nourish-500%20text-transparent%22%7D",className:"mr-2 w-3 h-3 fill-nourish-500 text-transparent"}),"Pressure System"]}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:80:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"80","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:81:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"81","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:82:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"82","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Operating%20Pressure%22%7D",children:"Operating Pressure"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:83:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"83","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2215%20PSI%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"15 PSI"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:85:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"85","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:86:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"86","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B80%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[80%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:88:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"88","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:89:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"89","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Max%20Capacity%22%7D",children:"Max Capacity"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:90:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"90","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2230%20PSI%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"30 PSI"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:92:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"92","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:93:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"93","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B60%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[60%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:95:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"95","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:96:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"96","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Stabilization%22%7D",children:"Stabilization"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:97:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"97","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22%C2%B10.2%20PSI%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"0.2 PSI"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:99:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"99","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:100:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"100","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B90%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[90%]"})})]})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/TechSpecs.tsx:105:10","data-lov-name":"motion.div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"105","data-component-file":"TechSpecs.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F50%20backdrop-blur-sm%20border%20border-nourish-500%2F30%20p-6%20rounded-lg%20relative%20overflow-hidden%20group%22%7D",className:"bg-black/50 backdrop-blur-sm border border-nourish-500/30 p-6 rounded-lg relative overflow-hidden group",whileHover:{y:-5,boxShadow:"0 10px 30px -15px rgba(78, 159, 51, 0.5)"},children:[w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:109:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"109","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-right-4%20-top-4%20w-20%20h-20%20bg-nourish-500%2F10%20rounded-full%20blur-2xl%20group-hover%3Abg-nourish-500%2F20%20transition-all%20duration-700%22%7D",className:"absolute -right-4 -top-4 w-20 h-20 bg-nourish-500/10 rounded-full blur-2xl group-hover:bg-nourish-500/20 transition-all duration-700"}),w.jsxs("h3",{"data-lov-id":"src/components/TechSpecs.tsx:110:12","data-lov-name":"h3","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"110","data-component-file":"TechSpecs.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Process%20Duration%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-nourish-400%20mb-4%20flex%20items-center%22%7D",className:"text-2xl font-bold text-nourish-400 mb-4 flex items-center",children:[w.jsx(Lh,{"data-lov-id":"src/components/TechSpecs.tsx:111:14","data-lov-name":"Circle","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"111","data-component-file":"TechSpecs.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22mr-2%20w-3%20h-3%20fill-nourish-500%20text-transparent%22%7D",className:"mr-2 w-3 h-3 fill-nourish-500 text-transparent"}),"Process Duration"]}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:114:12","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"114","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",className:"space-y-3",children:[w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:115:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"115","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:116:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"116","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Standard%20Cycle%22%7D",children:"Standard Cycle"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:117:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"117","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2220-90%20min%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"20-90 min"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:119:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"119","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:120:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"120","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B70%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[70%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:122:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"122","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:123:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"123","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Rapid%20Cycle%22%7D",children:"Rapid Cycle"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:124:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"124","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2215-45%20min%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"15-45 min"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:126:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"126","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:127:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"127","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B85%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[85%]"})}),w.jsxs("div",{"data-lov-id":"src/components/TechSpecs.tsx:129:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"129","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:130:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"130","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Cool%20Down%22%7D",children:"Cool Down"}),w.jsx("span",{"data-lov-id":"src/components/TechSpecs.tsx:131:16","data-lov-name":"span","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"131","data-component-file":"TechSpecs.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%2210-20%20min%22%2C%22className%22%3A%22text-nourish-300%20font-semibold%22%7D",className:"text-nourish-300 font-semibold",children:"10-20 min"})]}),w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:133:14","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"133","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-1.5%20bg-gray-800%20rounded-full%20overflow-hidden%22%7D",className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{"data-lov-id":"src/components/TechSpecs.tsx:134:16","data-lov-name":"div","data-component-path":"src/components/TechSpecs.tsx","data-component-line":"134","data-component-file":"TechSpecs.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%20w-%5B65%25%5D%22%7D",className:"h-full bg-gradient-to-r from-nourish-500 to-nourish-400 w-[65%]"})})]})]})]})]})]}),HG=()=>{const t=q.useRef(null),e=LG(t,{once:!1,amount:.3}),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},l={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8}}},p={hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:100}}};return w.jsx("section",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:38:4","data-lov-name":"section","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"38","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-background%20to-black%2F95%20text-white%22%7D",ref:t,className:"py-24 bg-gradient-to-b from-background to-black/95 text-white",children:w.jsxs(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:39:6","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"39","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",variants:r,initial:"hidden",animate:e?"visible":"hidden",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:45:8","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"45","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%20mx-auto%20text-center%22%7D",variants:l,className:"max-w-3xl mx-auto text-center",children:[w.jsx("h2",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:46:10","data-lov-name":"h2","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"46","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-6%22%7D",className:"text-3xl md:text-5xl font-bold mb-6",children:w.jsx("span",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:47:12","data-lov-name":"span","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"47","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22The%20Environmental%20Impact%22%2C%22className%22%3A%22bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-nourish-400%20to-nourish-500%22%7D",className:"bg-clip-text text-transparent bg-gradient-to-r from-nourish-400 to-nourish-500",children:"The Environmental Impact"})}),w.jsx("p",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:51:10","data-lov-name":"p","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"51","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20retort%20process%20applies%20precise%20temperature%20and%20pressure%20controls%20in%20a%20sealed%20environment%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20creating%20commercial%20sterility%20that%20extends%20shelf%20life%20without%20refrigeration%2C%20reducing%20the%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20global%20carbon%20footprint%20associated%20with%20food%20spoilage%20and%20transport.%22%2C%22className%22%3A%22text-lg%20md%3Atext-xl%20mb-12%20text-gray-300%22%7D",className:"text-lg md:text-xl mb-12 text-gray-300",children:"Our retort process applies precise temperature and pressure controls in a sealed environment, creating commercial sterility that extends shelf life without refrigeration, reducing the global carbon footprint associated with food spoilage and transport."})]}),w.jsxs("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:58:8","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"58","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-8%20max-w-4xl%20mx-auto%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:59:10","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"59","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20backdrop-blur-sm%20bg-black%2F30%20rounded-xl%20p-8%20border%20border-nourish-500%2F30%22%7D",variants:p,className:"flex flex-col items-center backdrop-blur-sm bg-black/30 rounded-xl p-8 border border-nourish-500/30",children:[w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:63:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"63","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%2230%25%22%2C%22className%22%3A%22text-5xl%20md%3Atext-6xl%20font-bold%20mb-4%20bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-nourish-400%20to-nourish-500%22%7D",className:"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-nourish-400 to-nourish-500",children:"30%"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:64:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"64","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Less%20Food%20Waste%22%2C%22className%22%3A%22text-xl%20font-semibold%22%7D",className:"text-xl font-semibold",children:"Less Food Waste"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:65:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"65","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%20h-1.5%20w-16%20rounded-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%22%7D",className:"mt-3 h-1.5 w-16 rounded-full bg-gradient-to-r from-nourish-500 to-nourish-400"}),w.jsx("p",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:66:12","data-lov-name":"p","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"66","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Reduces%20global%20food%20waste%20through%20extended%20preservation%20without%20refrigeration%22%2C%22className%22%3A%22mt-4%20text-center%20text-sm%20text-gray-400%22%7D",className:"mt-4 text-center text-sm text-gray-400",children:"Reduces global food waste through extended preservation without refrigeration"})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:71:10","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"71","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20backdrop-blur-sm%20bg-black%2F30%20rounded-xl%20p-8%20border%20border-nourish-500%2F30%22%7D",variants:p,className:"flex flex-col items-center backdrop-blur-sm bg-black/30 rounded-xl p-8 border border-nourish-500/30",children:[w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:75:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"75","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%2224mo%22%2C%22className%22%3A%22text-5xl%20md%3Atext-6xl%20font-bold%20mb-4%20bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-nourish-400%20to-nourish-500%22%7D",className:"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-nourish-400 to-nourish-500",children:"24mo"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:76:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"76","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Shelf%20Life%22%2C%22className%22%3A%22text-xl%20font-semibold%22%7D",className:"text-xl font-semibold",children:"Shelf Life"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:77:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"77","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%20h-1.5%20w-16%20rounded-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%22%7D",className:"mt-3 h-1.5 w-16 rounded-full bg-gradient-to-r from-nourish-500 to-nourish-400"}),w.jsx("p",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:78:12","data-lov-name":"p","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"78","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Products%20stay%20fresh%20and%20nutritious%20for%20up%20to%2024%20months%20at%20ambient%20temperature%22%2C%22className%22%3A%22mt-4%20text-center%20text-sm%20text-gray-400%22%7D",className:"mt-4 text-center text-sm text-gray-400",children:"Products stay fresh and nutritious for up to 24 months at ambient temperature"})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:83:10","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"83","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20backdrop-blur-sm%20bg-black%2F30%20rounded-xl%20p-8%20border%20border-nourish-500%2F30%22%7D",variants:p,className:"flex flex-col items-center backdrop-blur-sm bg-black/30 rounded-xl p-8 border border-nourish-500/30",children:[w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:87:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"87","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Zero%22%2C%22className%22%3A%22text-5xl%20md%3Atext-6xl%20font-bold%20mb-4%20bg-clip-text%20text-transparent%20bg-gradient-to-r%20from-nourish-400%20to-nourish-500%22%7D",className:"text-5xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-nourish-400 to-nourish-500",children:"Zero"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:88:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"88","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Preservatives%22%2C%22className%22%3A%22text-xl%20font-semibold%22%7D",className:"text-xl font-semibold",children:"Preservatives"}),w.jsx("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:89:12","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"89","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%20h-1.5%20w-16%20rounded-full%20bg-gradient-to-r%20from-nourish-500%20to-nourish-400%22%7D",className:"mt-3 h-1.5 w-16 rounded-full bg-gradient-to-r from-nourish-500 to-nourish-400"}),w.jsx("p",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:90:12","data-lov-name":"p","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"90","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22No%20artificial%20preservatives%20or%20chemicals%20needed%20to%20maintain%20quality%22%2C%22className%22%3A%22mt-4%20text-center%20text-sm%20text-gray-400%22%7D",className:"mt-4 text-center text-sm text-gray-400",children:"No artificial preservatives or chemicals needed to maintain quality"})]})]}),w.jsx(ke.div,{"data-lov-id":"src/components/EnvironmentalImpact.tsx:96:8","data-lov-name":"motion.div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"96","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mt-16%20text-center%22%7D",variants:l,className:"mt-16 text-center",children:w.jsxs("div",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:97:10","data-lov-name":"div","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"97","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20gap-2%20bg-nourish-800%2F50%20border%20border-nourish-500%2F30%20px-4%20py-2%20rounded-lg%22%7D",className:"inline-flex items-center gap-2 bg-nourish-800/50 border border-nourish-500/30 px-4 py-2 rounded-lg",children:[w.jsx("span",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:98:12","data-lov-name":"span","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"98","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22h-2%20w-2%20bg-nourish-400%20rounded-full%20animate-pulse%22%7D",className:"h-2 w-2 bg-nourish-400 rounded-full animate-pulse"}),w.jsx("span",{"data-lov-id":"src/components/EnvironmentalImpact.tsx:99:12","data-lov-name":"span","data-component-path":"src/components/EnvironmentalImpact.tsx","data-component-line":"99","data-component-file":"EnvironmentalImpact.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Reducing%20the%201.3%20billion%20tons%20of%20food%20wasted%20annually%20worldwide%22%2C%22className%22%3A%22text-sm%20text-nourish-300%22%7D",className:"text-sm text-nourish-300",children:"Reducing the 1.3 billion tons of food wasted annually worldwide"})]})})]})})},ZG=()=>{const t=q.useRef(null);return q.useEffect(()=>{const e=()=>{if(!t.current)return;const r=window.scrollY;t.current.style.backgroundPositionY=`${r*.3}px`};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),w.jsx("div",{"data-lov-id":"src/components/ParallaxBackground.tsx:19:4","data-lov-name":"div","data-component-path":"src/components/ParallaxBackground.tsx","data-component-line":"19","data-component-file":"ParallaxBackground.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20z-%5B-1%5D%20pointer-events-none%22%7D",ref:t,className:"fixed inset-0 z-[-1] pointer-events-none",style:{backgroundImage:'url("https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=2000&auto=format&fit=crop")',backgroundSize:"cover",opacity:.07,backgroundBlendMode:"overlay"}})},XG=[{id:1,name:"Consumer App",icon:dk,description:"Access preserved food directly from your mobile device",color:"bg-gradient-to-br from-purple-600/90 to-blue-500/90",link:"/consumer"},{id:2,name:"Global Marketplace",icon:Yb,description:"Trade preserved foods internationally with verified partners",color:"bg-gradient-to-br from-green-600/90 to-emerald-500/90",link:"/marketplace"},{id:3,name:"Retail Solutions",icon:Jb,description:"Stock shelves with long-lasting, quality preserved foods",color:"bg-gradient-to-br from-amber-500/90 to-orange-600/90",link:"/retail"},{id:4,name:"Manufacturing Portal",icon:sk,description:"Access retort technology for your production facilities",color:"bg-gradient-to-br from-blue-600/90 to-cyan-500/90",link:"/manufacturing"},{id:5,name:"Distribution Network",icon:pk,description:"Connect with logistics partners specialized in preserved foods",color:"bg-gradient-to-br from-red-500/90 to-rose-600/90",link:"/distribution"},{id:6,name:"Community Hub",icon:tw,description:"Join food security initiatives and share knowledge",color:"bg-gradient-to-br from-teal-500/90 to-green-500/90",link:"/community"}],KG=()=>w.jsxs("section",{"data-lov-id":"src/components/PlatformSelector.tsx:68:4","data-lov-name":"section","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"68","data-component-file":"PlatformSelector.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-20%20relative%20overflow-hidden%20bg-black%20tech-data-flow%22%7D",className:"py-20 relative overflow-hidden bg-black tech-data-flow",children:[w.jsx("div",{"data-lov-id":"src/components/PlatformSelector.tsx:69:6","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"69","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-b%20from-black%2F80%20via-transparent%20to-black%2F80%20z-0%22%7D",className:"absolute inset-0 bg-gradient-to-b from-black/80 via-transparent to-black/80 z-0"}),w.jsx("div",{"data-lov-id":"src/components/PlatformSelector.tsx:72:6","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"72","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20scan-lines%20pointer-events-none%22%7D",className:"absolute inset-0 scan-lines pointer-events-none"}),w.jsxs("div",{"data-lov-id":"src/components/PlatformSelector.tsx:74:6","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"74","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/PlatformSelector.tsx:75:8","data-lov-name":"motion.div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"75","data-component-file":"PlatformSelector.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[w.jsx("div",{"data-lov-id":"src/components/PlatformSelector.tsx:82:10","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"82","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22MULTI-PLATFORM%20ECOSYSTEM%22%2C%22className%22%3A%22inline-block%20mb-6%20px-4%20py-1.5%20bg-gradient-to-r%20from-green-900%2F30%20to-green-800%2F30%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rounded-full%20text-green-400%20border%20border-green-500%2F30%20backdrop-blur-sm%22%7D",className:`inline-block mb-6 px-4 py-1.5 bg-gradient-to-r from-green-900/30 to-green-800/30 
            rounded-full text-green-400 border border-green-500/30 backdrop-blur-sm`,children:"MULTI-PLATFORM ECOSYSTEM"}),w.jsx("h2",{"data-lov-id":"src/components/PlatformSelector.tsx:86:10","data-lov-name":"h2","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"86","data-component-file":"PlatformSelector.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22One%20Technology%2C%20Multiple%20Platforms%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-4%20text-glow%20text-green-100%22%7D",className:"text-3xl md:text-5xl font-bold mb-4 text-glow text-green-100",children:"One Technology, Multiple Platforms"}),w.jsx("p",{"data-lov-id":"src/components/PlatformSelector.tsx:89:10","data-lov-name":"p","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"89","data-component-file":"PlatformSelector.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20retort%20technology%20powers%20a%20complete%20ecosystem%20of%20platforms%20that%20connect%20across%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20the%20entire%20food%20supply%20chain%2C%20from%20producers%20to%20consumers.%22%2C%22className%22%3A%22text-lg%20text-green-100%2F80%20max-w-3xl%20mx-auto%22%7D",className:"text-lg text-green-100/80 max-w-3xl mx-auto",children:"Our retort technology powers a complete ecosystem of platforms that connect across the entire food supply chain, from producers to consumers."})]}),w.jsx("div",{"data-lov-id":"src/components/PlatformSelector.tsx:95:8","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"95","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-3%20gap-6%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:XG.map((t,e)=>w.jsx(ke.div,{"data-lov-id":"src/components/PlatformSelector.tsx:97:12","data-lov-name":"motion.div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"97","data-component-file":"PlatformSelector.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},whileHover:{y:-8,transition:{duration:.2}},children:w.jsx(zn,{"data-lov-id":"src/components/PlatformSelector.tsx:108:14","data-lov-name":"Link","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"108","data-component-file":"PlatformSelector.tsx","data-component-name":"Link","data-component-content":"%7B%22className%22%3A%22block%22%7D",to:t.link,className:"block",children:w.jsxs("div",{"data-lov-id":"src/components/PlatformSelector.tsx:109:16","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"109","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`${t.color} rounded-2xl p-6 h-full flex flex-col group 
                  transform transition-all duration-300 hover:shadow-2xl backdrop-blur-sm border border-white/10 neo-glow`,children:[w.jsx("div",{"data-lov-id":"src/components/PlatformSelector.tsx:111:18","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"111","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20bg-white%2F20%20rounded-xl%20w-min%20mb-4%20animate-pulse-glow%22%7D",className:"p-3 bg-white/20 rounded-xl w-min mb-4 animate-pulse-glow",children:w.jsx(t.icon,{"data-lov-id":"src/components/PlatformSelector.tsx:112:20","data-lov-name":"platform.icon","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"112","data-component-file":"PlatformSelector.tsx","data-component-name":"platform.icon","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",size:28,className:"text-white"})}),w.jsx("h3",{"data-lov-id":"src/components/PlatformSelector.tsx:114:18","data-lov-name":"h3","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"114","data-component-file":"PlatformSelector.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-2%22%7D",className:"text-xl font-bold text-white mb-2",children:t.name}),w.jsx("p",{"data-lov-id":"src/components/PlatformSelector.tsx:115:18","data-lov-name":"p","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"115","data-component-file":"PlatformSelector.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F90%20mb-4%20flex-grow%22%7D",className:"text-white/90 mb-4 flex-grow",children:t.description}),w.jsxs("div",{"data-lov-id":"src/components/PlatformSelector.tsx:116:18","data-lov-name":"div","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"116","data-component-file":"PlatformSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-white%2F90%20group-hover%3Atext-white%20font-medium%22%7D",className:"flex items-center text-white/90 group-hover:text-white font-medium",children:[w.jsx("span",{"data-lov-id":"src/components/PlatformSelector.tsx:117:20","data-lov-name":"span","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"117","data-component-file":"PlatformSelector.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Explore%22%7D",children:"Explore"}),w.jsx($o,{"data-lov-id":"src/components/PlatformSelector.tsx:118:20","data-lov-name":"ArrowRight","data-component-path":"src/components/PlatformSelector.tsx","data-component-line":"118","data-component-file":"PlatformSelector.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-2%20group-hover%3Atranslate-x-2%20transition-transform%22%7D",size:16,className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})})},t.id))})]})]});var u_="focusScope.autoFocusOnMount",p_="focusScope.autoFocusOnUnmount",XE={bubbles:!1,cancelable:!0},YG="FocusScope",Q4=q.forwardRef((t,e)=>{const{loop:r=!1,trapped:l=!1,onMountAutoFocus:p,onUnmountAutoFocus:g,..._}=t,[C,i]=q.useState(null),E=vr(p),B=vr(g),F=q.useRef(null),N=Ra(e,H=>i(H)),V=q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;q.useEffect(()=>{if(l){let H=function(Z){if(V.paused||!C)return;const dt=Z.target;C.contains(dt)?F.current=dt:El(F.current,{select:!0})},tt=function(Z){if(V.paused||!C)return;const dt=Z.relatedTarget;dt!==null&&(C.contains(dt)||El(F.current,{select:!0}))},W=function(Z){if(document.activeElement===document.body)for(const ft of Z)ft.removedNodes.length>0&&El(C)};document.addEventListener("focusin",H),document.addEventListener("focusout",tt);const $=new MutationObserver(W);return C&&$.observe(C,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",H),document.removeEventListener("focusout",tt),$.disconnect()}}},[l,C,V.paused]),q.useEffect(()=>{if(C){YE.add(V);const H=document.activeElement;if(!C.contains(H)){const W=new CustomEvent(u_,XE);C.addEventListener(u_,E),C.dispatchEvent(W),W.defaultPrevented||(QG(oq(J4(C)),{select:!0}),document.activeElement===H&&El(C))}return()=>{C.removeEventListener(u_,E),setTimeout(()=>{const W=new CustomEvent(p_,XE);C.addEventListener(p_,B),C.dispatchEvent(W),W.defaultPrevented||El(H??document.body,{select:!0}),C.removeEventListener(p_,B),YE.remove(V)},0)}}},[C,E,B,V]);const Q=q.useCallback(H=>{if(!r&&!l||V.paused)return;const tt=H.key==="Tab"&&!H.altKey&&!H.ctrlKey&&!H.metaKey,W=document.activeElement;if(tt&&W){const $=H.currentTarget,[Z,dt]=JG($);Z&&dt?!H.shiftKey&&W===dt?(H.preventDefault(),r&&El(Z,{select:!0})):H.shiftKey&&W===Z&&(H.preventDefault(),r&&El(dt,{select:!0})):W===$&&H.preventDefault()}},[r,l,V.paused]);return w.jsx(Jn.div,{tabIndex:-1,..._,ref:N,onKeyDown:Q})});Q4.displayName=YG;function QG(t,{select:e=!1}={}){const r=document.activeElement;for(const l of t)if(El(l,{select:e}),document.activeElement!==r)return}function JG(t){const e=J4(t),r=KE(e,t),l=KE(e.reverse(),t);return[r,l]}function J4(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const p=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||p?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function KE(t,e){for(const r of t)if(!tq(r,{upTo:e}))return r}function tq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eq(t){return t instanceof HTMLInputElement&&"select"in t}function El(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&eq(t)&&e&&t.select()}}var YE=nq();function nq(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=QE(t,e),t.unshift(e)},remove(e){var r;t=QE(t,e),(r=t[0])==null||r.resume()}}}function QE(t,e){const r=[...t],l=r.indexOf(e);return l!==-1&&r.splice(l,1),r}function oq(t){return t.filter(e=>e.tagName!=="A")}var m_=0;function aq(){q.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??JE()),document.body.insertAdjacentElement("beforeend",t[1]??JE()),m_++,()=>{m_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),m_--}},[])}function JE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ei=function(){return ei=Object.assign||function(e){for(var r,l=1,p=arguments.length;l<p;l++){r=arguments[l];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(e[g]=r[g])}return e},ei.apply(this,arguments)};function tB(t,e){var r={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(r[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,l=Object.getOwnPropertySymbols(t);p<l.length;p++)e.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(t,l[p])&&(r[l[p]]=t[l[p]]);return r}function rq(t,e,r){if(r||arguments.length===2)for(var l=0,p=e.length,g;l<p;l++)(g||!(l in e))&&(g||(g=Array.prototype.slice.call(e,0,l)),g[l]=e[l]);return t.concat(g||Array.prototype.slice.call(e))}var px="right-scroll-bar-position",mx="width-before-scroll-bar",sq="with-scroll-bars-hidden",iq="--removed-body-scroll-bar-size";function h_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lq(t,e){var r=q.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(l){var p=r.value;p!==l&&(r.value=l,r.callback(l,p))}}}})[0];return r.callback=e,r.facade}var cq=typeof window<"u"?q.useLayoutEffect:q.useEffect,tP=new WeakMap;function dq(t,e){var r=lq(null,function(l){return t.forEach(function(p){return h_(p,l)})});return cq(function(){var l=tP.get(r);if(l){var p=new Set(l),g=new Set(t),_=r.current;p.forEach(function(C){g.has(C)||h_(C,null)}),g.forEach(function(C){p.has(C)||h_(C,_)})}tP.set(r,t)},[t]),r}function uq(t){return t}function pq(t,e){e===void 0&&(e=uq);var r=[],l=!1,p={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(g){var _=e(g,l);return r.push(_),function(){r=r.filter(function(C){return C!==_})}},assignSyncMedium:function(g){for(l=!0;r.length;){var _=r;r=[],_.forEach(g)}r={push:function(C){return g(C)},filter:function(){return r}}},assignMedium:function(g){l=!0;var _=[];if(r.length){var C=r;r=[],C.forEach(g),_=r}var i=function(){var B=_;_=[],B.forEach(g)},E=function(){return Promise.resolve().then(i)};E(),r={push:function(B){_.push(B),E()},filter:function(B){return _=_.filter(B),r}}}};return p}function mq(t){t===void 0&&(t={});var e=pq(null);return e.options=ei({async:!0,ssr:!1},t),e}var eB=function(t){var e=t.sideCar,r=tB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=e.read();if(!l)throw new Error("Sidecar medium not found");return q.createElement(l,ei({},r))};eB.isSideCarExport=!0;function hq(t,e){return t.useMedium(e),eB}var nB=mq(),f_=function(){},F2=q.forwardRef(function(t,e){var r=q.useRef(null),l=q.useState({onScrollCapture:f_,onWheelCapture:f_,onTouchMoveCapture:f_}),p=l[0],g=l[1],_=t.forwardProps,C=t.children,i=t.className,E=t.removeScrollBar,B=t.enabled,F=t.shards,N=t.sideCar,V=t.noIsolation,Q=t.inert,H=t.allowPinchZoom,tt=t.as,W=tt===void 0?"div":tt,$=t.gapMode,Z=tB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),dt=N,ft=dq([r,e]),St=ei(ei({},Z),p);return q.createElement(q.Fragment,null,B&&q.createElement(dt,{sideCar:nB,removeScrollBar:E,shards:F,noIsolation:V,inert:Q,setCallbacks:g,allowPinchZoom:!!H,lockRef:r,gapMode:$}),_?q.cloneElement(q.Children.only(C),ei(ei({},St),{ref:ft})):q.createElement(W,ei({},St,{className:i,ref:ft}),C))});F2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};F2.classNames={fullWidth:mx,zeroRight:px};var fq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fq();return e&&t.setAttribute("nonce",e),t}function xq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yq=function(){var t=0,e=null;return{add:function(r){t==0&&(e=gq())&&(xq(e,r),vq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_q=function(){var t=yq();return function(e,r){q.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},oB=function(){var t=_q(),e=function(r){var l=r.styles,p=r.dynamic;return t(l,p),null};return e},bq={left:0,top:0,right:0,gap:0},g_=function(t){return parseInt(t||"",10)||0},wq=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],l=e[t==="padding"?"paddingTop":"marginTop"],p=e[t==="padding"?"paddingRight":"marginRight"];return[g_(r),g_(l),g_(p)]},Cq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bq;var e=wq(t),r=document.documentElement.clientWidth,l=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,l-r+e[2]-e[0])}},Aq=oB(),Ku="data-scroll-locked",Tq=function(t,e,r,l){var p=t.left,g=t.top,_=t.right,C=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(sq,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(C,"px ").concat(l,`;
  }
  body[`).concat(Ku,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(l,";"),r==="margin"&&`
    padding-left: `.concat(p,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(_,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(C,"px ").concat(l,`;
    `),r==="padding"&&"padding-right: ".concat(C,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(px,` {
    right: `).concat(C,"px ").concat(l,`;
  }
  
  .`).concat(mx,` {
    margin-right: `).concat(C,"px ").concat(l,`;
  }
  
  .`).concat(px," .").concat(px,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(mx," .").concat(mx,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(Ku,`] {
    `).concat(iq,": ").concat(C,`px;
  }
`)},eP=function(){var t=parseInt(document.body.getAttribute(Ku)||"0",10);return isFinite(t)?t:0},Sq=function(){q.useEffect(function(){return document.body.setAttribute(Ku,(eP()+1).toString()),function(){var t=eP()-1;t<=0?document.body.removeAttribute(Ku):document.body.setAttribute(Ku,t.toString())}},[])},Eq=function(t){var e=t.noRelative,r=t.noImportant,l=t.gapMode,p=l===void 0?"margin":l;Sq();var g=q.useMemo(function(){return Cq(p)},[p]);return q.createElement(Aq,{styles:Tq(g,!e,p,r?"":"!important")})},K1=!1;if(typeof window<"u")try{var jg=Object.defineProperty({},"passive",{get:function(){return K1=!0,!0}});window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{K1=!1}var bu=K1?{passive:!1}:!1,Pq=function(t){return t.tagName==="TEXTAREA"},aB=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Pq(t)&&r[e]==="visible")},Dq=function(t){return aB(t,"overflowY")},Mq=function(t){return aB(t,"overflowX")},nP=function(t,e){var r=e.ownerDocument,l=e;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var p=rB(t,l);if(p){var g=sB(t,l),_=g[1],C=g[2];if(_>C)return!0}l=l.parentNode}while(l&&l!==r.body);return!1},kq=function(t){var e=t.scrollTop,r=t.scrollHeight,l=t.clientHeight;return[e,r,l]},Bq=function(t){var e=t.scrollLeft,r=t.scrollWidth,l=t.clientWidth;return[e,r,l]},rB=function(t,e){return t==="v"?Dq(e):Mq(e)},sB=function(t,e){return t==="v"?kq(e):Bq(e)},Nq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Iq=function(t,e,r,l,p){var g=Nq(t,window.getComputedStyle(e).direction),_=g*l,C=r.target,i=e.contains(C),E=!1,B=_>0,F=0,N=0;do{var V=sB(t,C),Q=V[0],H=V[1],tt=V[2],W=H-tt-g*Q;(Q||W)&&rB(t,C)&&(F+=W,N+=Q),C instanceof ShadowRoot?C=C.host:C=C.parentNode}while(!i&&C!==document.body||i&&(e.contains(C)||e===C));return(B&&(Math.abs(F)<1||!p)||!B&&(Math.abs(N)<1||!p))&&(E=!0),E},Og=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oP=function(t){return[t.deltaX,t.deltaY]},aP=function(t){return t&&"current"in t?t.current:t},Fq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Lq=0,wu=[];function zq(t){var e=q.useRef([]),r=q.useRef([0,0]),l=q.useRef(),p=q.useState(Lq++)[0],g=q.useState(oB)[0],_=q.useRef(t);q.useEffect(function(){_.current=t},[t]),q.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(p));var H=rq([t.lockRef.current],(t.shards||[]).map(aP),!0).filter(Boolean);return H.forEach(function(tt){return tt.classList.add("allow-interactivity-".concat(p))}),function(){document.body.classList.remove("block-interactivity-".concat(p)),H.forEach(function(tt){return tt.classList.remove("allow-interactivity-".concat(p))})}}},[t.inert,t.lockRef.current,t.shards]);var C=q.useCallback(function(H,tt){if("touches"in H&&H.touches.length===2||H.type==="wheel"&&H.ctrlKey)return!_.current.allowPinchZoom;var W=Og(H),$=r.current,Z="deltaX"in H?H.deltaX:$[0]-W[0],dt="deltaY"in H?H.deltaY:$[1]-W[1],ft,St=H.target,zt=Math.abs(Z)>Math.abs(dt)?"h":"v";if("touches"in H&&zt==="h"&&St.type==="range")return!1;var Ft=nP(zt,St);if(!Ft)return!0;if(Ft?ft=zt:(ft=zt==="v"?"h":"v",Ft=nP(zt,St)),!Ft)return!1;if(!l.current&&"changedTouches"in H&&(Z||dt)&&(l.current=ft),!ft)return!0;var ie=l.current||ft;return Iq(ie,tt,H,ie==="h"?Z:dt,!0)},[]),i=q.useCallback(function(H){var tt=H;if(!(!wu.length||wu[wu.length-1]!==g)){var W="deltaY"in tt?oP(tt):Og(tt),$=e.current.filter(function(ft){return ft.name===tt.type&&(ft.target===tt.target||tt.target===ft.shadowParent)&&Fq(ft.delta,W)})[0];if($&&$.should){tt.cancelable&&tt.preventDefault();return}if(!$){var Z=(_.current.shards||[]).map(aP).filter(Boolean).filter(function(ft){return ft.contains(tt.target)}),dt=Z.length>0?C(tt,Z[0]):!_.current.noIsolation;dt&&tt.cancelable&&tt.preventDefault()}}},[]),E=q.useCallback(function(H,tt,W,$){var Z={name:H,delta:tt,target:W,should:$,shadowParent:jq(W)};e.current.push(Z),setTimeout(function(){e.current=e.current.filter(function(dt){return dt!==Z})},1)},[]),B=q.useCallback(function(H){r.current=Og(H),l.current=void 0},[]),F=q.useCallback(function(H){E(H.type,oP(H),H.target,C(H,t.lockRef.current))},[]),N=q.useCallback(function(H){E(H.type,Og(H),H.target,C(H,t.lockRef.current))},[]);q.useEffect(function(){return wu.push(g),t.setCallbacks({onScrollCapture:F,onWheelCapture:F,onTouchMoveCapture:N}),document.addEventListener("wheel",i,bu),document.addEventListener("touchmove",i,bu),document.addEventListener("touchstart",B,bu),function(){wu=wu.filter(function(H){return H!==g}),document.removeEventListener("wheel",i,bu),document.removeEventListener("touchmove",i,bu),document.removeEventListener("touchstart",B,bu)}},[]);var V=t.removeScrollBar,Q=t.inert;return q.createElement(q.Fragment,null,Q?q.createElement(g,{styles:Rq(p)}):null,V?q.createElement(Eq,{gapMode:t.gapMode}):null)}function jq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Oq=hq(nB,zq);var iB=q.forwardRef(function(t,e){return q.createElement(F2,ei({},t,{ref:e,sideCar:Oq}))});iB.classNames=F2.classNames;var Vq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cu=new WeakMap,Vg=new WeakMap,Ug={},x_=0,lB=function(t){return t&&(t.host||lB(t.parentNode))},Uq=function(t,e){return e.map(function(r){if(t.contains(r))return r;var l=lB(r);return l&&t.contains(l)?l:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},$q=function(t,e,r,l){var p=Uq(e,Array.isArray(t)?t:[t]);Ug[r]||(Ug[r]=new WeakMap);var g=Ug[r],_=[],C=new Set,i=new Set(p),E=function(F){!F||C.has(F)||(C.add(F),E(F.parentNode))};p.forEach(E);var B=function(F){!F||i.has(F)||Array.prototype.forEach.call(F.children,function(N){if(C.has(N))B(N);else try{var V=N.getAttribute(l),Q=V!==null&&V!=="false",H=(Cu.get(N)||0)+1,tt=(g.get(N)||0)+1;Cu.set(N,H),g.set(N,tt),_.push(N),H===1&&Q&&Vg.set(N,!0),tt===1&&N.setAttribute(r,"true"),Q||N.setAttribute(l,"true")}catch(W){console.error("aria-hidden: cannot operate on ",N,W)}})};return B(e),C.clear(),x_++,function(){_.forEach(function(F){var N=Cu.get(F)-1,V=g.get(F)-1;Cu.set(F,N),g.set(F,V),N||(Vg.has(F)||F.removeAttribute(l),Vg.delete(F)),V||F.removeAttribute(r)}),x_--,x_||(Cu=new WeakMap,Cu=new WeakMap,Vg=new WeakMap,Ug={})}},Gq=function(t,e,r){r===void 0&&(r="data-aria-hidden");var l=Array.from(Array.isArray(t)?t:[t]),p=Vq(t);return p?(l.push.apply(l,Array.from(p.querySelectorAll("[aria-live]"))),$q(l,p,r,"aria-hidden")):function(){return null}},Kw="Dialog",[cB,$W]=h2(Kw),[qq,ks]=cB(Kw),dB=t=>{const{__scopeDialog:e,children:r,open:l,defaultOpen:p,onOpenChange:g,modal:_=!0}=t,C=q.useRef(null),i=q.useRef(null),[E=!1,B]=FM({prop:l,defaultProp:p,onChange:g});return w.jsx(qq,{scope:e,triggerRef:C,contentRef:i,contentId:Wy(),titleId:Wy(),descriptionId:Wy(),open:E,onOpenChange:B,onOpenToggle:q.useCallback(()=>B(F=>!F),[B]),modal:_,children:r})};dB.displayName=Kw;var uB="DialogTrigger",Wq=q.forwardRef((t,e)=>{const{__scopeDialog:r,...l}=t,p=ks(uB,r),g=Ra(e,p.triggerRef);return w.jsx(Jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":p.open,"aria-controls":p.contentId,"data-state":Jw(p.open),...l,ref:g,onClick:ao(t.onClick,p.onOpenToggle)})});Wq.displayName=uB;var Yw="DialogPortal",[Hq,pB]=cB(Yw,{forceMount:void 0}),mB=t=>{const{__scopeDialog:e,forceMount:r,children:l,container:p}=t,g=ks(Yw,e);return w.jsx(Hq,{scope:e,forceMount:r,children:q.Children.map(l,_=>w.jsx(Cp,{present:r||g.open,children:w.jsx(Wb,{asChild:!0,container:p,children:_})}))})};mB.displayName=Yw;var Yx="DialogOverlay",hB=q.forwardRef((t,e)=>{const r=pB(Yx,t.__scopeDialog),{forceMount:l=r.forceMount,...p}=t,g=ks(Yx,t.__scopeDialog);return g.modal?w.jsx(Cp,{present:l||g.open,children:w.jsx(Zq,{...p,ref:e})}):null});hB.displayName=Yx;var Zq=q.forwardRef((t,e)=>{const{__scopeDialog:r,...l}=t,p=ks(Yx,r);return w.jsx(iB,{as:mp,allowPinchZoom:!0,shards:[p.contentRef],children:w.jsx(Jn.div,{"data-state":Jw(p.open),...l,ref:e,style:{pointerEvents:"auto",...l.style}})})}),vd="DialogContent",fB=q.forwardRef((t,e)=>{const r=pB(vd,t.__scopeDialog),{forceMount:l=r.forceMount,...p}=t,g=ks(vd,t.__scopeDialog);return w.jsx(Cp,{present:l||g.open,children:g.modal?w.jsx(Xq,{...p,ref:e}):w.jsx(Kq,{...p,ref:e})})});fB.displayName=vd;var Xq=q.forwardRef((t,e)=>{const r=ks(vd,t.__scopeDialog),l=q.useRef(null),p=Ra(e,r.contentRef,l);return q.useEffect(()=>{const g=l.current;if(g)return Gq(g)},[]),w.jsx(gB,{...t,ref:p,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ao(t.onCloseAutoFocus,g=>{var _;g.preventDefault(),(_=r.triggerRef.current)==null||_.focus()}),onPointerDownOutside:ao(t.onPointerDownOutside,g=>{const _=g.detail.originalEvent,C=_.button===0&&_.ctrlKey===!0;(_.button===2||C)&&g.preventDefault()}),onFocusOutside:ao(t.onFocusOutside,g=>g.preventDefault())})}),Kq=q.forwardRef((t,e)=>{const r=ks(vd,t.__scopeDialog),l=q.useRef(!1),p=q.useRef(!1);return w.jsx(gB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:g=>{var _,C;(_=t.onCloseAutoFocus)==null||_.call(t,g),g.defaultPrevented||(l.current||(C=r.triggerRef.current)==null||C.focus(),g.preventDefault()),l.current=!1,p.current=!1},onInteractOutside:g=>{var i,E;(i=t.onInteractOutside)==null||i.call(t,g),g.defaultPrevented||(l.current=!0,g.detail.originalEvent.type==="pointerdown"&&(p.current=!0));const _=g.target;((E=r.triggerRef.current)==null?void 0:E.contains(_))&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&p.current&&g.preventDefault()}})}),gB=q.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:l,onOpenAutoFocus:p,onCloseAutoFocus:g,..._}=t,C=ks(vd,r),i=q.useRef(null),E=Ra(e,i);return aq(),w.jsxs(w.Fragment,{children:[w.jsx(Q4,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:p,onUnmountAutoFocus:g,children:w.jsx(f2,{role:"dialog",id:C.contentId,"aria-describedby":C.descriptionId,"aria-labelledby":C.titleId,"data-state":Jw(C.open),..._,ref:E,onDismiss:()=>C.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(Yq,{titleId:C.titleId}),w.jsx(Jq,{contentRef:i,descriptionId:C.descriptionId})]})]})}),Qw="DialogTitle",xB=q.forwardRef((t,e)=>{const{__scopeDialog:r,...l}=t,p=ks(Qw,r);return w.jsx(Jn.h2,{id:p.titleId,...l,ref:e})});xB.displayName=Qw;var vB="DialogDescription",yB=q.forwardRef((t,e)=>{const{__scopeDialog:r,...l}=t,p=ks(vB,r);return w.jsx(Jn.p,{id:p.descriptionId,...l,ref:e})});yB.displayName=vB;var _B="DialogClose",bB=q.forwardRef((t,e)=>{const{__scopeDialog:r,...l}=t,p=ks(_B,r);return w.jsx(Jn.button,{type:"button",...l,ref:e,onClick:ao(t.onClick,()=>p.onOpenChange(!1))})});bB.displayName=_B;function Jw(t){return t?"open":"closed"}var wB="DialogTitleWarning",[GW,CB]=iL(wB,{contentName:vd,titleName:Qw,docsSlug:"dialog"}),Yq=({titleId:t})=>{const e=CB(wB),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return q.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Qq="DialogDescriptionWarning",Jq=({contentRef:t,descriptionId:e})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CB(Qq).contentName}}.`;return q.useEffect(()=>{var g;const p=(g=t.current)==null?void 0:g.getAttribute("aria-describedby");e&&p&&(document.getElementById(e)||console.warn(l))},[l,t,e]),null},tW=dB,eW=mB,AB=hB,TB=fB,SB=xB,EB=yB,nW=bB;const PB=tW,oW=eW,DB=q.forwardRef(({className:t,...e},r)=>w.jsx(AB,{"data-lov-id":"src/components/ui/dialog.tsx:19:2","data-lov-name":"DialogPrimitive.Overlay","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"19","data-component-file":"dialog.tsx","data-component-name":"DialogPrimitive.Overlay","data-component-content":"%7B%7D",ref:r,className:Hn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));DB.displayName=AB.displayName;const t3=q.forwardRef(({className:t,children:e,...r},l)=>w.jsxs(oW,{"data-lov-id":"src/components/ui/dialog.tsx:34:2","data-lov-name":"DialogPortal","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"34","data-component-file":"dialog.tsx","data-component-name":"DialogPortal","data-component-content":"%7B%7D",children:[w.jsx(DB,{"data-lov-id":"src/components/ui/dialog.tsx:35:4","data-lov-name":"DialogOverlay","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"35","data-component-file":"dialog.tsx","data-component-name":"DialogOverlay","data-component-content":"%7B%7D"}),w.jsxs(TB,{"data-lov-id":"src/components/ui/dialog.tsx:36:4","data-lov-name":"DialogPrimitive.Content","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"36","data-component-file":"dialog.tsx","data-component-name":"DialogPrimitive.Content","data-component-content":"%7B%7D",ref:l,className:Hn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,w.jsxs(nW,{"data-lov-id":"src/components/ui/dialog.tsx:45:6","data-lov-name":"DialogPrimitive.Close","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"45","data-component-file":"dialog.tsx","data-component-name":"DialogPrimitive.Close","data-component-content":"%7B%22className%22%3A%22absolute%20right-4%20top-4%20rounded-sm%20opacity-70%20ring-offset-background%20transition-opacity%20hover%3Aopacity-100%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-ring%20focus%3Aring-offset-2%20disabled%3Apointer-events-none%20data-%5Bstate%3Dopen%5D%3Abg-accent%20data-%5Bstate%3Dopen%5D%3Atext-muted-foreground%22%7D",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w.jsx(hp,{"data-lov-id":"src/components/ui/dialog.tsx:46:8","data-lov-name":"X","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"46","data-component-file":"dialog.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),w.jsx("span",{"data-lov-id":"src/components/ui/dialog.tsx:47:8","data-lov-name":"span","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"47","data-component-file":"dialog.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Close%22%2C%22className%22%3A%22sr-only%22%7D",className:"sr-only",children:"Close"})]})]})]}));t3.displayName=TB.displayName;const e3=({className:t,...e})=>w.jsx("div",{"data-lov-id":"src/components/ui/dialog.tsx:58:2","data-lov-name":"div","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"58","data-component-file":"dialog.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:Hn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});e3.displayName="DialogHeader";const n3=({className:t,...e})=>w.jsx("div",{"data-lov-id":"src/components/ui/dialog.tsx:72:2","data-lov-name":"div","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"72","data-component-file":"dialog.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:Hn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});n3.displayName="DialogFooter";const o3=q.forwardRef(({className:t,...e},r)=>w.jsx(SB,{"data-lov-id":"src/components/ui/dialog.tsx:86:2","data-lov-name":"DialogPrimitive.Title","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"86","data-component-file":"dialog.tsx","data-component-name":"DialogPrimitive.Title","data-component-content":"%7B%7D",ref:r,className:Hn("text-lg font-semibold leading-none tracking-tight",t),...e}));o3.displayName=SB.displayName;const a3=q.forwardRef(({className:t,...e},r)=>w.jsx(EB,{"data-lov-id":"src/components/ui/dialog.tsx:101:2","data-lov-name":"DialogPrimitive.Description","data-component-path":"src/components/ui/dialog.tsx","data-component-line":"101","data-component-file":"dialog.tsx","data-component-name":"DialogPrimitive.Description","data-component-content":"%7B%7D",ref:r,className:Hn("text-sm text-muted-foreground",t),...e}));a3.displayName=EB.displayName;const aW=[{id:1,name:"Retorted Curry",price:5.99,rating:4.8,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?q=80&w=800&auto=format&fit=crop",category:"meal"},{id:2,name:"Gourmet Soup",price:4.49,rating:4.5,image:"https://images.unsplash.com/photo-1547592166-23ac45744acd?q=80&w=800&auto=format&fit=crop",category:"soup"},{id:3,name:"Premium Rice",price:3.99,rating:4.6,image:"https://images.unsplash.com/photo-1536304993881-ff6e9eefa2a6?q=80&w=800&auto=format&fit=crop",category:"grain"},{id:4,name:"Vegetable Medley",price:4.29,rating:4.3,image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?q=80&w=800&auto=format&fit=crop",category:"vegetable"},{id:5,name:"Pasta Sauce",price:3.49,rating:4.4,image:"https://images.unsplash.com/photo-1472476443507-c7a5948772fc?q=80&w=800&auto=format&fit=crop",category:"sauce"},{id:6,name:"Tuna Chunks",price:4.99,rating:4.7,image:"https://images.unsplash.com/photo-1498654077810-12c21d4d6dc3?q=80&w=800&auto=format&fit=crop",category:"seafood"},{id:7,name:"Organic Baby Food",price:5.49,rating:4.9,image:"https://images.unsplash.com/photo-1594614271360-0ed9a570ae15?q=80&w=800&auto=format&fit=crop",category:"baby"},{id:8,name:"Plant-Based Meat",price:6.99,rating:4.2,image:"https://images.unsplash.com/photo-1600850056064-a8b380df8395?q=80&w=800&auto=format&fit=crop",category:"vegetarian"},{id:9,name:"Coconut Milk",price:2.99,rating:4.6,image:"https://images.unsplash.com/photo-1628088062854-d1870b4553da?q=80&w=800&auto=format&fit=crop",category:"dairy"},{id:10,name:"Mushroom Risotto",price:5.49,rating:4.4,image:"https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?q=80&w=800&auto=format&fit=crop",category:"meal"},{id:11,name:"Beef Stew",price:6.49,rating:4.5,image:"https://images.unsplash.com/photo-1515516969-d4008cc6241a?q=80&w=800&auto=format&fit=crop",category:"meal"},{id:12,name:"Lentil Soup",price:3.99,rating:4.3,image:"https://images.unsplash.com/photo-1603133872878-684f208fb84b?q=80&w=800&auto=format&fit=crop",category:"soup"},{id:13,name:"Quinoa Mix",price:4.79,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?q=80&w=800&auto=format&fit=crop",category:"grain"},{id:14,name:"Teriyaki Sauce",price:3.79,rating:4.5,image:"https://images.unsplash.com/photo-1563599175592-c58dc214deff?q=80&w=800&auto=format&fit=crop",category:"sauce"},{id:15,name:"Salmon Fillets",price:8.99,rating:4.8,image:"https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?q=80&w=800&auto=format&fit=crop",category:"seafood"},{id:16,name:"Chicken Curry",price:5.99,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?q=80&w=800&auto=format&fit=crop",category:"meal"},{id:17,name:"Mixed Vegetables",price:3.99,rating:4.2,image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?q=80&w=800&auto=format&fit=crop",category:"vegetable"},{id:18,name:"Fruit Puree",price:4.29,rating:4.7,image:"https://images.unsplash.com/photo-1568909344668-6f14a07b56a0?q=80&w=800&auto=format&fit=crop",category:"baby"},{id:19,name:"Baked Beans",price:2.99,rating:4.3,image:"https://images.unsplash.com/photo-1599020792689-9fde458e7e17?q=80&w=800&auto=format&fit=crop",category:"vegetarian"},{id:20,name:"Tomato Soup",price:3.79,rating:4.5,image:"https://images.unsplash.com/photo-1603133872878-684f208fb84b?q=80&w=800&auto=format&fit=crop",category:"soup"},{id:21,name:"Chili Con Carne",price:5.99,rating:4.6,image:"https://images.unsplash.com/photo-1515516969-d4008cc6241a?q=80&w=800&auto=format&fit=crop",category:"meal"},{id:22,name:"Mashed Potatoes",price:3.59,rating:4.2,image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?q=80&w=800&auto=format&fit=crop",category:"vegetable"},{id:23,name:"Condensed Milk",price:2.79,rating:4.4,image:"https://images.unsplash.com/photo-1628088062854-d1870b4553da?q=80&w=800&auto=format&fit=crop",category:"dairy"},{id:24,name:"Sardines in Oil",price:3.99,rating:4.1,image:"https://images.unsplash.com/photo-1498654077810-12c21d4d6dc3?q=80&w=800&auto=format&fit=crop",category:"seafood"},{id:25,name:"Vegetable Biryani",price:5.49,rating:4.7,image:"https://images.unsplash.com/photo-1536304993881-ff6e9eefa2a6?q=80&w=800&auto=format&fit=crop",category:"meal"}],rW=[{id:"all",name:"All Products"},{id:"meal",name:"Ready Meals"},{id:"soup",name:"Soups"},{id:"sauce",name:"Sauces"},{id:"vegetable",name:"Vegetables"},{id:"grain",name:"Grains"},{id:"seafood",name:"Seafood"},{id:"vegetarian",name:"Vegetarian"},{id:"baby",name:"Baby Food"},{id:"dairy",name:"Dairy"}],sW=()=>{const{toast:t}=wp(),[e,r]=q.useState(""),[l,p]=q.useState("all"),[g,_]=q.useState(aW),[C,i]=q.useState(null),[E,B]=q.useState(!1),[F,N]=q.useState({name:"",email:"",phone:"",address:"",quantity:1}),V=g.filter(Z=>{const dt=Z.name.toLowerCase().includes(e.toLowerCase()),ft=l==="all"||Z.category===l;return dt&&ft}),Q=(Z,dt)=>{_(ft=>ft.map(St=>St.id===Z?{...St,price:dt}:St)),t({title:"Price Updated",description:"The price has been updated successfully.",duration:3e3})},H=(Z,dt)=>{t({title:"Added to Cart",description:`${dt} has been added to your cart.`,duration:3e3})},tt=Z=>{i(Z),B(!0)},W=Z=>{const{name:dt,value:ft}=Z.target;N(St=>({...St,[dt]:ft}))},$=Z=>{Z.preventDefault(),t({title:"Purchase Saved",description:`Your purchase details for ${C==null?void 0:C.name} have been saved. Waiting for developer approval.`,duration:5e3}),B(!1)};return w.jsxs("section",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:122:4","data-lov-name":"section","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"122","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-black%2F40%20to-transparent%22%7D",className:"py-24 bg-gradient-to-b from-black/40 to-transparent",children:[w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:123:6","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"123","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:124:8","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"124","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:125:10","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"125","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22PRESERVED%20FOOD%20CATALOG%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-6%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-6",children:"PRESERVED FOOD CATALOG"}),w.jsx("h2",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:128:10","data-lov-name":"h2","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"128","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Preserved%20Food%20Examples%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20text-white%20mb-6%20text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%22%7D",className:"text-3xl md:text-5xl font-bold text-white mb-6 text-glow text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400",children:"Preserved Food Examples"}),w.jsx("p",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:131:10","data-lov-name":"p","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"131","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Browse%20our%20selection%20of%2025%20preserved%20food%20examples%20with%20retort%20technology%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20offering%20extended%20shelf%20life%20without%20sacrificing%20taste%20or%20nutrition.%22%2C%22className%22%3A%22text-lg%20text-white%2F90%20mb-8%20max-w-3xl%20mx-auto%22%7D",className:"text-lg text-white/90 mb-8 max-w-3xl mx-auto",children:"Browse our selection of 25 preserved food examples with retort technology, offering extended shelf life without sacrificing taste or nutrition."}),w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:137:10","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"137","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20mb-12%20max-w-2xl%20mx-auto%22%7D",className:"flex flex-col sm:flex-row gap-4 mb-12 max-w-2xl mx-auto",children:w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:138:12","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"138","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20flex-grow%22%7D",className:"relative flex-grow",children:[w.jsx(zh,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:139:14","data-lov-name":"Search","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"139","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-cyan-400%22%7D",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-cyan-400",size:18}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:140:14","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"140","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20foods...%22%2C%22className%22%3A%22pl-10%20bg-black%2F50%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-cyan-400%2F50%20w-full%22%7D",type:"text",placeholder:"Search foods...",className:"pl-10 bg-black/50 border-nourish-500/30 text-white placeholder:text-cyan-400/50 w-full",value:e,onChange:Z=>r(Z.target.value)})]})}),w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:150:10","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"150","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20overflow-x-auto%20hide-scrollbar%20flex-nowrap%20sm%3Aflex-wrap%20justify-center%20mb-8%22%7D",className:"flex gap-2 overflow-x-auto hide-scrollbar flex-nowrap sm:flex-wrap justify-center mb-8",children:rW.map(Z=>w.jsx(pn,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:152:14","data-lov-name":"Button","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"152","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Button","data-component-content":"%7B%7D",variant:l===Z.id?"default":"outline",className:`whitespace-nowrap ${l===Z.id?"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white":"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30"}`,onClick:()=>p(Z.id),children:Z.name},Z.id))})]}),w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:169:8","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"169","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-3%20xl%3Agrid-cols-5%20gap-6%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:V.length>0?V.map((Z,dt)=>w.jsxs(ke.div,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:172:14","data-lov-name":"motion.div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"172","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-nourish-500%2F20%20rounded-xl%20overflow-hidden%20hover%3Aborder-nourish-500%2F50%20transition-all%20duration-300%20hover%3Ashadow-%5B0_0_15px_rgba(78%2C159%2C51%2C0.2)%5D%22%7D",className:"bg-black/30 backdrop-blur-sm border border-nourish-500/20 rounded-xl overflow-hidden hover:border-nourish-500/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(78,159,51,0.2)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:dt*.05},children:[w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:179:16","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"179","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-square%20overflow-hidden%22%7D",className:"aspect-square overflow-hidden",children:w.jsx("img",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:180:18","data-lov-name":"img","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"180","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%20transition-transform%20duration-500%20hover%3Ascale-110%22%7D",src:Z.image,alt:Z.name,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:187:16","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"187","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",className:"p-4",children:[w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:188:18","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"188","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%20mb-2%22%7D",className:"flex justify-between items-start mb-2",children:[w.jsx("h3",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:189:20","data-lov-name":"h3","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"189","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-white%20text-lg%22%7D",className:"font-bold text-white text-lg",children:Z.name}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:190:20","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"190","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-yellow-400%22%7D",className:"flex items-center text-yellow-400",children:[w.jsx(uk,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:191:22","data-lov-name":"Star","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"191","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Star","data-component-content":"%7B%7D",size:14,fill:"currentColor"}),w.jsx("span",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:192:22","data-lov-name":"span","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"192","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-1%20text-white%20text-xs%22%7D",className:"ml-1 text-white text-xs",children:Z.rating})]})]}),w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:196:18","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"196","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mt-4%22%7D",className:"flex items-center justify-between mt-4",children:w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:197:20","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"197","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",className:"flex items-center",children:[w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:198:22","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"198","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22w-20%20h-8%20bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",type:"number",value:Z.price,min:"0.01",step:"0.01",onChange:ft=>Q(Z.id,parseFloat(ft.target.value)),className:"w-20 h-8 bg-black/30 border-nourish-500/30 text-white"}),w.jsx("span",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:206:22","data-lov-name":"span","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"206","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22USD%22%2C%22className%22%3A%22ml-2%20text-nourish-400%22%7D",className:"ml-2 text-nourish-400",children:"USD"})]})}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:210:18","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"210","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-2%20mt-4%22%7D",className:"grid grid-cols-2 gap-2 mt-4",children:[w.jsx(pn,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:211:20","data-lov-name":"Button","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"211","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Buy%20Now%22%2C%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%22%7D",size:"sm",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white",onClick:()=>tt(Z),children:"Buy Now"}),w.jsxs(pn,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:218:20","data-lov-name":"Button","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"218","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Cart%22%2C%22className%22%3A%22border-nourish-500%2F30%20text-nourish-400%20hover%3Abg-nourish-900%2F30%22%7D",size:"sm",variant:"outline",className:"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30",onClick:()=>H(Z.id,Z.name),children:[w.jsx(lz,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:224:22","data-lov-name":"ShoppingCart","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"224","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"ShoppingCart","data-component-content":"%7B%22className%22%3A%22mr-1%22%7D",size:16,className:"mr-1"})," Cart"]})]})]})]},Z.id)):w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:231:12","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"231","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22col-span-full%20text-center%20py-16%22%7D",className:"col-span-full text-center py-16",children:[w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:232:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"232","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22%F0%9F%94%8D%22%2C%22className%22%3A%22text-6xl%20mb-4%22%7D",className:"text-6xl mb-4",children:""}),w.jsx("h3",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:233:14","data-lov-name":"h3","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"233","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22No%20foods%20found%22%2C%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-2%22%7D",className:"text-xl font-bold text-white mb-2",children:"No foods found"}),w.jsx("p",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:234:14","data-lov-name":"p","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"234","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Try%20adjusting%20your%20search%20or%20filters%22%2C%22className%22%3A%22text-white%2F80%22%7D",className:"text-white/80",children:"Try adjusting your search or filters"})]})}),w.jsx("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:240:8","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"240","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mt-12%22%7D",className:"text-center mt-12",children:w.jsxs(pn,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:241:10","data-lov-name":"Button","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"241","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22View%20Full%20Catalog%22%2C%22className%22%3A%22border-nourish-500%2F30%20text-nourish-400%20hover%3Abg-nourish-900%2F30%20group%22%7D",variant:"outline",className:"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30 group",children:["View Full Catalog",w.jsx($o,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:246:12","data-lov-name":"ArrowRight","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"246","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-2%20group-hover%3Atranslate-x-1%20transition-transform%22%7D",className:"ml-2 group-hover:translate-x-1 transition-transform",size:16})]})})]}),w.jsx(PB,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:252:6","data-lov-name":"Dialog","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"252","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Dialog","data-component-content":"%7B%7D",open:E,onOpenChange:B,children:w.jsxs(t3,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:253:8","data-lov-name":"DialogContent","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"253","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"DialogContent","data-component-content":"%7B%22className%22%3A%22sm%3Amax-w-%5B425px%5D%20bg-black%2F90%20border-nourish-500%2F30%20text-white%20backdrop-blur-xl%22%7D",className:"sm:max-w-[425px] bg-black/90 border-nourish-500/30 text-white backdrop-blur-xl",children:[w.jsxs(e3,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:254:10","data-lov-name":"DialogHeader","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"254","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"DialogHeader","data-component-content":"%7B%7D",children:[w.jsx(o3,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:255:12","data-lov-name":"DialogTitle","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"255","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"DialogTitle","data-component-content":"%7B%22text%22%3A%22Complete%20Your%20Purchase%22%2C%22className%22%3A%22text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%22%7D",className:"text-glow text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400",children:"Complete Your Purchase"}),w.jsxs(a3,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:256:12","data-lov-name":"DialogDescription","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"256","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"DialogDescription","data-component-content":"%7B%22text%22%3A%22Enter%20your%20details%20to%20purchase%22%2C%22className%22%3A%22text-white%2F70%22%7D",className:"text-white/70",children:["Enter your details to purchase ",C==null?void 0:C.name]})]}),w.jsxs("form",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:260:10","data-lov-name":"form","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"260","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"form","data-component-content":"%7B%7D",onSubmit:$,children:[w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:261:12","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"261","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20gap-4%20py-4%22%7D",className:"grid gap-4 py-4",children:[w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:262:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"262","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-4%20items-center%20gap-4%22%7D",className:"grid grid-cols-4 items-center gap-4",children:[w.jsx("label",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:263:16","data-lov-name":"label","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"263","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Name%22%2C%22className%22%3A%22text-right%20text-white%2F80%22%7D",htmlFor:"name",className:"text-right text-white/80",children:"Name"}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:264:16","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"264","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22col-span-3%20bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"name",name:"name",value:F.name,onChange:W,className:"col-span-3 bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:273:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"273","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-4%20items-center%20gap-4%22%7D",className:"grid grid-cols-4 items-center gap-4",children:[w.jsx("label",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:274:16","data-lov-name":"label","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"274","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Email%22%2C%22className%22%3A%22text-right%20text-white%2F80%22%7D",htmlFor:"email",className:"text-right text-white/80",children:"Email"}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:275:16","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"275","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22col-span-3%20bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"email",name:"email",type:"email",value:F.email,onChange:W,className:"col-span-3 bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:285:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"285","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-4%20items-center%20gap-4%22%7D",className:"grid grid-cols-4 items-center gap-4",children:[w.jsx("label",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:286:16","data-lov-name":"label","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"286","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Phone%22%2C%22className%22%3A%22text-right%20text-white%2F80%22%7D",htmlFor:"phone",className:"text-right text-white/80",children:"Phone"}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:287:16","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"287","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22col-span-3%20bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"phone",name:"phone",value:F.phone,onChange:W,className:"col-span-3 bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:296:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"296","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-4%20items-center%20gap-4%22%7D",className:"grid grid-cols-4 items-center gap-4",children:[w.jsx("label",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:297:16","data-lov-name":"label","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"297","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Address%22%2C%22className%22%3A%22text-right%20text-white%2F80%22%7D",htmlFor:"address",className:"text-right text-white/80",children:"Address"}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:298:16","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"298","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22col-span-3%20bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"address",name:"address",value:F.address,onChange:W,className:"col-span-3 bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:307:14","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"307","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-4%20items-center%20gap-4%22%7D",className:"grid grid-cols-4 items-center gap-4",children:[w.jsx("label",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:308:16","data-lov-name":"label","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"308","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Quantity%22%2C%22className%22%3A%22text-right%20text-white%2F80%22%7D",htmlFor:"quantity",className:"text-right text-white/80",children:"Quantity"}),w.jsx(So,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:309:16","data-lov-name":"Input","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"309","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Input","data-component-content":"%7B%22className%22%3A%22col-span-3%20bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"quantity",name:"quantity",type:"number",min:"1",value:F.quantity,onChange:W,className:"col-span-3 bg-black/50 border-nourish-500/30 text-white",required:!0})]}),C&&w.jsxs("div",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:321:16","data-lov-name":"div","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"321","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F30%20p-3%20rounded-lg%20border%20border-nourish-500%2F20%20flex%20justify-between%22%7D",className:"bg-nourish-900/30 p-3 rounded-lg border border-nourish-500/20 flex justify-between",children:[w.jsx("span",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:322:18","data-lov-name":"span","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"322","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Total%3A%22%7D",children:"Total:"}),w.jsxs("span",{"data-lov-id":"src/components/PreservedFoodExamples.tsx:323:18","data-lov-name":"span","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"323","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22%24%20USD%22%2C%22className%22%3A%22font-bold%22%7D",className:"font-bold",children:["$",(C.price*F.quantity).toFixed(2)," USD"]})]})]}),w.jsx(n3,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:327:12","data-lov-name":"DialogFooter","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"327","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"DialogFooter","data-component-content":"%7B%7D",children:w.jsx(pn,{"data-lov-id":"src/components/PreservedFoodExamples.tsx:328:14","data-lov-name":"Button","data-component-path":"src/components/PreservedFoodExamples.tsx","data-component-line":"328","data-component-file":"PreservedFoodExamples.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Complete%20Purchase%22%2C%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%22%7D",type:"submit",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white",children:"Complete Purchase"})})]})]})})]})},wf=q.forwardRef(({className:t,...e},r)=>w.jsx("textarea",{"data-lov-id":"src/components/ui/textarea.tsx:11:6","data-lov-name":"textarea","data-component-path":"src/components/ui/textarea.tsx","data-component-line":"11","data-component-file":"textarea.tsx","data-component-name":"textarea","data-component-content":"%7B%7D",className:Hn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));wf.displayName="Textarea";var r3="Avatar",[iW,qW]=h2(r3),[lW,MB]=iW(r3),kB=q.forwardRef((t,e)=>{const{__scopeAvatar:r,...l}=t,[p,g]=q.useState("idle");return w.jsx(lW,{scope:r,imageLoadingStatus:p,onImageLoadingStatusChange:g,children:w.jsx(Jn.span,{...l,ref:e})})});kB.displayName=r3;var BB="AvatarImage",NB=q.forwardRef((t,e)=>{const{__scopeAvatar:r,src:l,onLoadingStatusChange:p=()=>{},...g}=t,_=MB(BB,r),C=cW(l,g.referrerPolicy),i=vr(E=>{p(E),_.onImageLoadingStatusChange(E)});return ii(()=>{C!=="idle"&&i(C)},[C,i]),C==="loaded"?w.jsx(Jn.img,{...g,ref:e,src:l}):null});NB.displayName=BB;var IB="AvatarFallback",FB=q.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:l,...p}=t,g=MB(IB,r),[_,C]=q.useState(l===void 0);return q.useEffect(()=>{if(l!==void 0){const i=window.setTimeout(()=>C(!0),l);return()=>window.clearTimeout(i)}},[l]),_&&g.imageLoadingStatus!=="loaded"?w.jsx(Jn.span,{...p,ref:e}):null});FB.displayName=IB;function cW(t,e){const[r,l]=q.useState("idle");return ii(()=>{if(!t){l("error");return}let p=!0;const g=new window.Image,_=C=>()=>{p&&l(C)};return l("loading"),g.onload=_("loaded"),g.onerror=_("error"),g.src=t,e&&(g.referrerPolicy=e),()=>{p=!1}},[t,e]),r}var RB=kB,LB=NB,zB=FB;const jB=q.forwardRef(({className:t,...e},r)=>w.jsx(RB,{"data-lov-id":"src/components/ui/avatar.tsx:10:2","data-lov-name":"AvatarPrimitive.Root","data-component-path":"src/components/ui/avatar.tsx","data-component-line":"10","data-component-file":"avatar.tsx","data-component-name":"AvatarPrimitive.Root","data-component-content":"%7B%7D",ref:r,className:Hn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));jB.displayName=RB.displayName;const OB=q.forwardRef(({className:t,...e},r)=>w.jsx(LB,{"data-lov-id":"src/components/ui/avatar.tsx:25:2","data-lov-name":"AvatarPrimitive.Image","data-component-path":"src/components/ui/avatar.tsx","data-component-line":"25","data-component-file":"avatar.tsx","data-component-name":"AvatarPrimitive.Image","data-component-content":"%7B%7D",ref:r,className:Hn("aspect-square h-full w-full",t),...e}));OB.displayName=LB.displayName;const VB=q.forwardRef(({className:t,...e},r)=>w.jsx(zB,{"data-lov-id":"src/components/ui/avatar.tsx:37:2","data-lov-name":"AvatarPrimitive.Fallback","data-component-path":"src/components/ui/avatar.tsx","data-component-line":"37","data-component-file":"avatar.tsx","data-component-name":"AvatarPrimitive.Fallback","data-component-content":"%7B%7D",ref:r,className:Hn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));VB.displayName=zB.displayName;const dW=()=>{var tt,W;const{toast:t}=wp(),[e,r]=q.useState("global"),[l,p]=q.useState(""),[g,_]=q.useState(!1),[C,i]=q.useState(!1),[E,B]=q.useState({name:"",location:"",foodType:"",quantity:"",description:""}),F=()=>{l.trim()&&(_(!0),setTimeout(()=>{t({title:"Message Sent",description:`Your message has been sent to the ${e} channel.`,duration:3e3}),p(""),_(!1)},1e3))},N=$=>{const{name:Z,value:dt}=$.target;B(ft=>({...ft,[Z]:dt}))},V=$=>{$.preventDefault(),t({title:"Donation Information Saved",description:"Your donation information has been saved and is awaiting approval.",duration:3e3}),i(!1)},Q=[{id:"global",name:"Global Network",icon:Yb,messages:245,users:1248},{id:"producers",name:"Food Producers",icon:sk,messages:124,users:432},{id:"distributors",name:"Distributors",icon:pk,messages:89,users:156},{id:"retailers",name:"Retailers",icon:Jb,messages:176,users:378},{id:"community",name:"Community Hub",icon:tw,messages:312,users:921}],H=[{id:1,user:"Alex Chen",location:"Singapore",message:"Just implemented retort technology in our central kitchen. Looking to connect with others using similar setups in Asia.",time:"2 hours ago",avatar:"https://i.pravatar.cc/40?img=1"},{id:2,user:"Maria Rodriguez",location:"Mexico",message:"I'm researching how retort packaging can help distribute meals to remote villages. Any success stories to share?",time:"5 hours ago",avatar:"https://i.pravatar.cc/40?img=2"},{id:3,user:"Ahmed Hassan",location:"Egypt",message:"Our facility is now processing 5000 meals daily using retort. Game changer for school meal programs here.",time:"Yesterday",avatar:"https://i.pravatar.cc/40?img=3"},{id:4,user:"Sarah Johnson",location:"Canada",message:"Looking for partners interested in developing plant-based retort meals using local ingredients.",time:"2 days ago",avatar:"https://i.pravatar.cc/40?img=4"},{id:5,user:"Muhammad Afnan",location:"India",message:"Excited to announce our technology has now preserved over 10 million meals distributed to food insecure regions.",time:"3 days ago",avatar:"https://i.pravatar.cc/40?img=5"}];return w.jsxs("section",{"data-lov-id":"src/components/CommunicationSystem.tsx:90:4","data-lov-name":"section","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"90","data-component-file":"CommunicationSystem.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-black%2F20%20to-transparent%20relative%20overflow-hidden%22%7D",className:"py-24 bg-gradient-to-b from-black/20 to-transparent relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:92:6","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"92","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20right-0%20w-1%2F2%20h-full%20opacity-10%20pointer-events-none%22%7D",className:"absolute top-0 right-0 w-1/2 h-full opacity-10 pointer-events-none",children:w.jsxs("svg",{"data-lov-id":"src/components/CommunicationSystem.tsx:93:8","data-lov-name":"svg","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"93","data-component-file":"CommunicationSystem.tsx","data-component-name":"svg","data-component-content":"%7B%7D",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[w.jsx("defs",{"data-lov-id":"src/components/CommunicationSystem.tsx:94:10","data-lov-name":"defs","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"94","data-component-file":"CommunicationSystem.tsx","data-component-name":"defs","data-component-content":"%7B%7D",children:w.jsxs("linearGradient",{"data-lov-id":"src/components/CommunicationSystem.tsx:95:12","data-lov-name":"linearGradient","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"95","data-component-file":"CommunicationSystem.tsx","data-component-name":"linearGradient","data-component-content":"%7B%7D",id:"grid-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[w.jsx("stop",{"data-lov-id":"src/components/CommunicationSystem.tsx:96:14","data-lov-name":"stop","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"96","data-component-file":"CommunicationSystem.tsx","data-component-name":"stop","data-component-content":"%7B%7D",offset:"0%",stopColor:"#4e9f33",stopOpacity:"0.5"}),w.jsx("stop",{"data-lov-id":"src/components/CommunicationSystem.tsx:97:14","data-lov-name":"stop","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"97","data-component-file":"CommunicationSystem.tsx","data-component-name":"stop","data-component-content":"%7B%7D",offset:"100%",stopColor:"#33c3f0",stopOpacity:"0.5"})]})}),w.jsx("pattern",{"data-lov-id":"src/components/CommunicationSystem.tsx:100:10","data-lov-name":"pattern","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"100","data-component-file":"CommunicationSystem.tsx","data-component-name":"pattern","data-component-content":"%7B%7D",id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:w.jsx("path",{"data-lov-id":"src/components/CommunicationSystem.tsx:101:12","data-lov-name":"path","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"101","data-component-file":"CommunicationSystem.tsx","data-component-name":"path","data-component-content":"%7B%7D",d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"url(#grid-gradient)",strokeWidth:"0.5"})}),w.jsx("rect",{"data-lov-id":"src/components/CommunicationSystem.tsx:103:10","data-lov-name":"rect","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"103","data-component-file":"CommunicationSystem.tsx","data-component-name":"rect","data-component-content":"%7B%7D",width:"100",height:"100",fill:"url(#grid)"})]})}),w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:107:6","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"107","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:108:8","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"108","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mx-auto%20max-w-5xl%22%7D",className:"mx-auto max-w-5xl",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/CommunicationSystem.tsx:109:10","data-lov-name":"motion.div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"109","data-component-file":"CommunicationSystem.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-12%22%7D",className:"text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:116:12","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"116","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22CONNECTED%20COMMUNITY%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-6%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-6",children:"CONNECTED COMMUNITY"}),w.jsx("h2",{"data-lov-id":"src/components/CommunicationSystem.tsx:119:12","data-lov-name":"h2","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"119","data-component-file":"CommunicationSystem.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Global%20Communication%20System%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20text-white%20mb-6%20text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%22%7D",className:"text-3xl md:text-5xl font-bold text-white mb-6 text-glow text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400",children:"Global Communication System"}),w.jsx("p",{"data-lov-id":"src/components/CommunicationSystem.tsx:122:12","data-lov-name":"p","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"122","data-component-file":"CommunicationSystem.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Connect%20with%20stakeholders%20across%20the%20preserved%20food%20ecosystem%2C%20from%20producers%20to%20distributors%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20retailers%20and%20community%20organizations.%22%2C%22className%22%3A%22text-lg%20text-white%2F90%20mb-8%20max-w-3xl%20mx-auto%22%7D",className:"text-lg text-white/90 mb-8 max-w-3xl mx-auto",children:"Connect with stakeholders across the preserved food ecosystem, from producers to distributors, retailers and community organizations."})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/CommunicationSystem.tsx:128:10","data-lov-name":"motion.div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"128","data-component-file":"CommunicationSystem.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F40%20backdrop-blur-md%20rounded-2xl%20border%20border-nourish-500%2F20%20overflow-hidden%20shadow-xl%22%7D",className:"bg-black/40 backdrop-blur-md rounded-2xl border border-nourish-500/20 overflow-hidden shadow-xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:136:12","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"136","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20overflow-x-auto%20hide-scrollbar%20bg-black%2F50%20border-b%20border-nourish-500%2F20%22%7D",className:"flex overflow-x-auto hide-scrollbar bg-black/50 border-b border-nourish-500/20",children:Q.map($=>w.jsxs("button",{"data-lov-id":"src/components/CommunicationSystem.tsx:138:16","data-lov-name":"button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"138","data-component-file":"CommunicationSystem.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`flex items-center whitespace-nowrap px-5 py-4 transition-colors ${e===$.id?"bg-gradient-to-r from-nourish-600/20 to-cyan-600/10 border-b-2 border-nourish-500":"hover:bg-white/5"}`,onClick:()=>r($.id),children:[w.jsx($.icon,{"data-lov-id":"src/components/CommunicationSystem.tsx:147:18","data-lov-name":"channel.icon","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"147","data-component-file":"CommunicationSystem.tsx","data-component-name":"channel.icon","data-component-content":"%7B%22className%22%3A%22mr-2%20text-nourish-400%22%7D",size:18,className:"mr-2 text-nourish-400"}),w.jsx("span",{"data-lov-id":"src/components/CommunicationSystem.tsx:148:18","data-lov-name":"span","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"148","data-component-file":"CommunicationSystem.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",className:"text-white",children:$.name}),w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:149:18","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"149","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22ml-2%20px-1.5%20py-0.5%20rounded-full%20bg-gradient-to-r%20from-nourish-500%2F20%20to-cyan-500%2F20%20text-nourish-300%20text-xs%22%7D",className:"ml-2 px-1.5 py-0.5 rounded-full bg-gradient-to-r from-nourish-500/20 to-cyan-500/20 text-nourish-300 text-xs",children:$.messages})]},$.id))}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:157:12","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"157","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20h-%5B500px%5D%22%7D",className:"flex flex-col h-[500px]",children:[w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:159:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"159","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%20p-6%20overflow-y-auto%20space-y-4%22%7D",className:"flex-grow p-6 overflow-y-auto space-y-4",children:H.map($=>w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:161:18","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"161","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-4%20p-3%20rounded-lg%20hover%3Abg-white%2F5%20transition-colors%22%7D",className:"flex gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors",children:[w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:165:20","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"165","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-shrink-0%22%7D",className:"flex-shrink-0",children:w.jsxs(jB,{"data-lov-id":"src/components/CommunicationSystem.tsx:166:22","data-lov-name":"Avatar","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"166","data-component-file":"CommunicationSystem.tsx","data-component-name":"Avatar","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20border-2%20border-nourish-500%2F30%22%7D",className:"w-10 h-10 border-2 border-nourish-500/30",children:[w.jsx(OB,{"data-lov-id":"src/components/CommunicationSystem.tsx:167:24","data-lov-name":"AvatarImage","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"167","data-component-file":"CommunicationSystem.tsx","data-component-name":"AvatarImage","data-component-content":"%7B%7D",src:$.avatar,alt:$.user}),w.jsx(VB,{"data-lov-id":"src/components/CommunicationSystem.tsx:168:24","data-lov-name":"AvatarFallback","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"168","data-component-file":"CommunicationSystem.tsx","data-component-name":"AvatarFallback","data-component-content":"%7B%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20text-white%22%7D",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 text-white",children:$.user.charAt(0)})]})}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:173:20","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"173","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%22%7D",className:"flex-grow",children:[w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:174:22","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"174","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-1%22%7D",className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{"data-lov-id":"src/components/CommunicationSystem.tsx:175:24","data-lov-name":"span","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"175","data-component-file":"CommunicationSystem.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-white%22%7D",className:"font-medium text-white",children:$.user}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:176:24","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"176","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-xs%20px-2%20py-0.5%20rounded-full%20bg-gradient-to-r%20from-nourish-600%2F20%20to-cyan-600%2F20%20text-cyan-300%22%7D",className:"flex items-center text-xs px-2 py-0.5 rounded-full bg-gradient-to-r from-nourish-600/20 to-cyan-600/20 text-cyan-300",children:[w.jsx(az,{"data-lov-id":"src/components/CommunicationSystem.tsx:177:26","data-lov-name":"MapPin","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"177","data-component-file":"CommunicationSystem.tsx","data-component-name":"MapPin","data-component-content":"%7B%22className%22%3A%22mr-1%22%7D",size:10,className:"mr-1"}),$.location]}),w.jsx("span",{"data-lov-id":"src/components/CommunicationSystem.tsx:180:24","data-lov-name":"span","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"180","data-component-file":"CommunicationSystem.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20text-gray-400%20ml-auto%22%7D",className:"text-xs text-gray-400 ml-auto",children:$.time})]}),w.jsx("p",{"data-lov-id":"src/components/CommunicationSystem.tsx:182:22","data-lov-name":"p","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"182","data-component-file":"CommunicationSystem.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%22%7D",className:"text-white/80",children:$.message})]})]},$.id))}),w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:189:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"189","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-t%20border-nourish-500%2F20%20bg-black%2F30%22%7D",className:"p-4 border-t border-nourish-500/20 bg-black/30",children:w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:190:16","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"190","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",className:"flex gap-2",children:[w.jsx("button",{"data-lov-id":"src/components/CommunicationSystem.tsx:191:18","data-lov-name":"button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"191","data-component-file":"CommunicationSystem.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22p-2%20rounded-full%20bg-gradient-to-r%20from-nourish-600%2F20%20to-cyan-600%2F20%20text-nourish-400%20hover%3Afrom-nourish-600%2F40%20hover%3Ato-cyan-600%2F40%20transition-colors%22%7D",className:"p-2 rounded-full bg-gradient-to-r from-nourish-600/20 to-cyan-600/20 text-nourish-400 hover:from-nourish-600/40 hover:to-cyan-600/40 transition-colors",children:w.jsx(iz,{"data-lov-id":"src/components/CommunicationSystem.tsx:192:20","data-lov-name":"Plus","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"192","data-component-file":"CommunicationSystem.tsx","data-component-name":"Plus","data-component-content":"%7B%7D",size:20})}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:194:18","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"194","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20flex-grow%22%7D",className:"relative flex-grow",children:[w.jsx(wf,{"data-lov-id":"src/components/CommunicationSystem.tsx:195:20","data-lov-name":"Textarea","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"195","data-component-file":"CommunicationSystem.tsx","data-component-name":"Textarea","data-component-content":"%7B%22placeholder%22%3A%22Type%20your%20message%20here...%22%2C%22className%22%3A%22w-full%20bg-black%2F30%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20min-h-%5B2.5rem%5D%20p-2.5%20pr-12%22%7D",placeholder:"Type your message here...",className:"w-full bg-black/30 border-nourish-500/30 text-white placeholder:text-gray-500 min-h-[2.5rem] p-2.5 pr-12",value:l,onChange:$=>p($.target.value),rows:1,style:{resize:"none"}}),w.jsx(pn,{"data-lov-id":"src/components/CommunicationSystem.tsx:203:20","data-lov-name":"Button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"203","data-component-file":"CommunicationSystem.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22absolute%20right-2%20bottom-2%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20h-8%20w-8%20p-0%22%7D",size:"sm",className:"absolute right-2 bottom-2 bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 h-8 w-8 p-0",onClick:F,disabled:g||!l.trim(),children:g?w.jsx(oz,{"data-lov-id":"src/components/CommunicationSystem.tsx:209:35","data-lov-name":"Loader2","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"209","data-component-file":"CommunicationSystem.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22animate-spin%22%7D",size:16,className:"animate-spin"}):w.jsx(lk,{"data-lov-id":"src/components/CommunicationSystem.tsx:209:84","data-lov-name":"Send","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"209","data-component-file":"CommunicationSystem.tsx","data-component-name":"Send","data-component-content":"%7B%7D",size:16})})]})]})})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:217:12","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"217","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-black%2F50%20border-t%20border-nourish-500%2F20%20p-4%20flex%20justify-between%20items-center%20text-sm%22%7D",className:"bg-black/50 border-t border-nourish-500/20 p-4 flex justify-between items-center text-sm",children:[w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:218:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"218","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-nourish-400%22%7D",className:"flex items-center text-nourish-400",children:[w.jsx(Qb,{"data-lov-id":"src/components/CommunicationSystem.tsx:219:16","data-lov-name":"MessageCircle","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"219","data-component-file":"CommunicationSystem.tsx","data-component-name":"MessageCircle","data-component-content":"%7B%22className%22%3A%22mr-2%22%7D",size:16,className:"mr-2"}),w.jsxs("span",{"data-lov-id":"src/components/CommunicationSystem.tsx:220:16","data-lov-name":"span","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"220","data-component-file":"CommunicationSystem.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22messages%22%7D",children:[(tt=Q.find($=>$.id===e))==null?void 0:tt.messages," messages"]})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:222:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"222","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-nourish-400%22%7D",className:"flex items-center text-nourish-400",children:[w.jsx(dz,{"data-lov-id":"src/components/CommunicationSystem.tsx:223:16","data-lov-name":"User","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"223","data-component-file":"CommunicationSystem.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22mr-2%22%7D",size:16,className:"mr-2"}),w.jsxs("span",{"data-lov-id":"src/components/CommunicationSystem.tsx:224:16","data-lov-name":"span","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"224","data-component-file":"CommunicationSystem.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22participants%22%7D",children:[(W=Q.find($=>$.id===e))==null?void 0:W.users," participants"]})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:226:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"226","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",className:"flex gap-2",children:[w.jsx(pn,{"data-lov-id":"src/components/CommunicationSystem.tsx:227:16","data-lov-name":"Button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"227","data-component-file":"CommunicationSystem.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Join%20Conversation%22%2C%22className%22%3A%22border-nourish-500%2F30%20text-nourish-400%20hover%3Abg-nourish-900%2F30%22%7D",variant:"outline",size:"sm",className:"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30",children:"Join Conversation"}),w.jsx(pn,{"data-lov-id":"src/components/CommunicationSystem.tsx:230:16","data-lov-name":"Button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"230","data-component-file":"CommunicationSystem.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Donate%20Food%22%2C%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%22%7D",variant:"default",size:"sm",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600",onClick:()=>i(!0),children:"Donate Food"})]})]})]}),w.jsxs(ke.div,{"data-lov-id":"src/components/CommunicationSystem.tsx:242:10","data-lov-name":"motion.div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"242","data-component-file":"CommunicationSystem.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mt-8%20text-center%22%7D",className:"mt-8 text-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.4},viewport:{once:!0},children:[w.jsx("p",{"data-lov-id":"src/components/CommunicationSystem.tsx:249:12","data-lov-name":"p","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"249","data-component-file":"CommunicationSystem.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22This%20communication%20system%20connects%20all%20stakeholders%20in%20our%20global%20network%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20facilitating%20knowledge%20sharing%20and%20collaboration%20across%20borders.%22%2C%22className%22%3A%22text-sm%20text-white%2F70%22%7D",className:"text-sm text-white/70",children:"This communication system connects all stakeholders in our global network, facilitating knowledge sharing and collaboration across borders."}),w.jsx("p",{"data-lov-id":"src/components/CommunicationSystem.tsx:253:12","data-lov-name":"p","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"253","data-component-file":"CommunicationSystem.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Website%20developed%20by%20Muhammad%20Afnan%22%2C%22className%22%3A%22text-sm%20text-nourish-400%20mt-2%22%7D",className:"text-sm text-nourish-400 mt-2",children:"Website developed by Muhammad Afnan"})]})]})}),w.jsx(PB,{"data-lov-id":"src/components/CommunicationSystem.tsx:261:6","data-lov-name":"Dialog","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"261","data-component-file":"CommunicationSystem.tsx","data-component-name":"Dialog","data-component-content":"%7B%7D",open:C,onOpenChange:i,children:w.jsxs(t3,{"data-lov-id":"src/components/CommunicationSystem.tsx:262:8","data-lov-name":"DialogContent","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"262","data-component-file":"CommunicationSystem.tsx","data-component-name":"DialogContent","data-component-content":"%7B%22className%22%3A%22sm%3Amax-w-%5B500px%5D%20bg-black%2F90%20border-nourish-500%2F30%20text-white%20backdrop-blur-xl%22%7D",className:"sm:max-w-[500px] bg-black/90 border-nourish-500/30 text-white backdrop-blur-xl",children:[w.jsxs(e3,{"data-lov-id":"src/components/CommunicationSystem.tsx:263:10","data-lov-name":"DialogHeader","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"263","data-component-file":"CommunicationSystem.tsx","data-component-name":"DialogHeader","data-component-content":"%7B%7D",children:[w.jsx(o3,{"data-lov-id":"src/components/CommunicationSystem.tsx:264:12","data-lov-name":"DialogTitle","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"264","data-component-file":"CommunicationSystem.tsx","data-component-name":"DialogTitle","data-component-content":"%7B%22text%22%3A%22Donate%20Food%22%2C%22className%22%3A%22text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%22%7D",className:"text-glow text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400",children:"Donate Food"}),w.jsx(a3,{"data-lov-id":"src/components/CommunicationSystem.tsx:265:12","data-lov-name":"DialogDescription","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"265","data-component-file":"CommunicationSystem.tsx","data-component-name":"DialogDescription","data-component-content":"%7B%22text%22%3A%22Provide%20details%20about%20the%20food%20you'd%20like%20to%20donate.%20Your%20information%20will%20be%20saved%20until%20approved.%22%2C%22className%22%3A%22text-white%2F70%22%7D",className:"text-white/70",children:"Provide details about the food you'd like to donate. Your information will be saved until approved."})]}),w.jsxs("form",{"data-lov-id":"src/components/CommunicationSystem.tsx:269:10","data-lov-name":"form","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"269","data-component-file":"CommunicationSystem.tsx","data-component-name":"form","data-component-content":"%7B%7D",onSubmit:V,children:[w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:270:12","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"270","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20gap-6%20py-4%22%7D",className:"grid gap-6 py-4",children:[w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:271:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"271","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20gap-3%22%7D",className:"grid grid-cols-1 gap-3",children:[w.jsx("label",{"data-lov-id":"src/components/CommunicationSystem.tsx:272:16","data-lov-name":"label","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"272","data-component-file":"CommunicationSystem.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Your%20Name%22%2C%22className%22%3A%22text-sm%20text-white%2F80%20font-medium%22%7D",htmlFor:"name",className:"text-sm text-white/80 font-medium",children:"Your Name"}),w.jsx(So,{"data-lov-id":"src/components/CommunicationSystem.tsx:273:16","data-lov-name":"Input","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"273","data-component-file":"CommunicationSystem.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Enter%20your%20full%20name%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"name",name:"name",placeholder:"Enter your full name",value:E.name,onChange:N,className:"bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:283:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"283","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20gap-3%22%7D",className:"grid grid-cols-1 gap-3",children:[w.jsx("label",{"data-lov-id":"src/components/CommunicationSystem.tsx:284:16","data-lov-name":"label","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"284","data-component-file":"CommunicationSystem.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Your%20Location%22%2C%22className%22%3A%22text-sm%20text-white%2F80%20font-medium%22%7D",htmlFor:"location",className:"text-sm text-white/80 font-medium",children:"Your Location"}),w.jsx(So,{"data-lov-id":"src/components/CommunicationSystem.tsx:285:16","data-lov-name":"Input","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"285","data-component-file":"CommunicationSystem.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22City%2C%20Country%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"location",name:"location",placeholder:"City, Country",value:E.location,onChange:N,className:"bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:295:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"295","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20gap-3%22%7D",className:"grid grid-cols-1 gap-3",children:[w.jsx("label",{"data-lov-id":"src/components/CommunicationSystem.tsx:296:16","data-lov-name":"label","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"296","data-component-file":"CommunicationSystem.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Food%20Type%22%2C%22className%22%3A%22text-sm%20text-white%2F80%20font-medium%22%7D",htmlFor:"foodType",className:"text-sm text-white/80 font-medium",children:"Food Type"}),w.jsx(So,{"data-lov-id":"src/components/CommunicationSystem.tsx:297:16","data-lov-name":"Input","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"297","data-component-file":"CommunicationSystem.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22What%20kind%20of%20food%20are%20you%20donating%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"foodType",name:"foodType",placeholder:"What kind of food are you donating",value:E.foodType,onChange:N,className:"bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:307:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"307","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20gap-3%22%7D",className:"grid grid-cols-1 gap-3",children:[w.jsx("label",{"data-lov-id":"src/components/CommunicationSystem.tsx:308:16","data-lov-name":"label","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"308","data-component-file":"CommunicationSystem.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Estimated%20Quantity%22%2C%22className%22%3A%22text-sm%20text-white%2F80%20font-medium%22%7D",htmlFor:"quantity",className:"text-sm text-white/80 font-medium",children:"Estimated Quantity"}),w.jsx(So,{"data-lov-id":"src/components/CommunicationSystem.tsx:309:16","data-lov-name":"Input","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"309","data-component-file":"CommunicationSystem.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Amount%2C%20weight%2C%20or%20servings%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"quantity",name:"quantity",placeholder:"Amount, weight, or servings",value:E.quantity,onChange:N,className:"bg-black/50 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:319:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"319","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20gap-3%22%7D",className:"grid grid-cols-1 gap-3",children:[w.jsx("label",{"data-lov-id":"src/components/CommunicationSystem.tsx:320:16","data-lov-name":"label","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"320","data-component-file":"CommunicationSystem.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Additional%20Details%22%2C%22className%22%3A%22text-sm%20text-white%2F80%20font-medium%22%7D",htmlFor:"description",className:"text-sm text-white/80 font-medium",children:"Additional Details"}),w.jsx(wf,{"data-lov-id":"src/components/CommunicationSystem.tsx:321:16","data-lov-name":"Textarea","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"321","data-component-file":"CommunicationSystem.tsx","data-component-name":"Textarea","data-component-content":"%7B%22placeholder%22%3A%22Provide%20any%20additional%20information%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%22%7D",id:"description",name:"description",placeholder:"Provide any additional information",value:E.description,onChange:N,className:"bg-black/50 border-nourish-500/30 text-white",rows:3})]}),w.jsx("div",{"data-lov-id":"src/components/CommunicationSystem.tsx:331:14","data-lov-name":"div","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"331","data-component-file":"CommunicationSystem.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%22%7D",className:"flex items-center justify-center",children:w.jsxs(pn,{"data-lov-id":"src/components/CommunicationSystem.tsx:332:16","data-lov-name":"Button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"332","data-component-file":"CommunicationSystem.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Add%20Photo%22%2C%22className%22%3A%22border-nourish-500%2F30%20text-nourish-400%20hover%3Abg-nourish-900%2F30%20flex%20gap-2%22%7D",type:"button",variant:"outline",className:"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30 flex gap-2",children:[w.jsx(XL,{"data-lov-id":"src/components/CommunicationSystem.tsx:337:18","data-lov-name":"Camera","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"337","data-component-file":"CommunicationSystem.tsx","data-component-name":"Camera","data-component-content":"%7B%7D",size:16}),"Add Photo"]})})]}),w.jsx(n3,{"data-lov-id":"src/components/CommunicationSystem.tsx:342:12","data-lov-name":"DialogFooter","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"342","data-component-file":"CommunicationSystem.tsx","data-component-name":"DialogFooter","data-component-content":"%7B%7D",children:w.jsx(pn,{"data-lov-id":"src/components/CommunicationSystem.tsx:343:14","data-lov-name":"Button","data-component-path":"src/components/CommunicationSystem.tsx","data-component-line":"343","data-component-file":"CommunicationSystem.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Submit%20Donation%22%2C%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%22%7D",type:"submit",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white",children:"Submit Donation"})})]})]})})]})},s3=()=>{const{toast:t}=wp(),[e,r]=q.useState(!1),[l,p]=q.useState("chat"),[g,_]=q.useState(""),[C,i]=q.useState(""),[E,B]=q.useState(null),F=["How does retort technology work?","What products can be preserved with retort?","How long does preserved food last?","Is retort technology environmentally friendly?","How to become a partner?","What are the benefits for retailers?"],N={closed:{opacity:0,scale:0,translateY:20},open:{opacity:1,scale:1,translateY:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:0,translateY:20,transition:{duration:.3,ease:"easeIn"}}},V=()=>{r(!e)},Q=$=>{B($),_($),t({title:"Option Selected",description:`You selected: ${$}`,duration:3e3})},H=()=>{g.trim()&&(t({title:"Message Sent",description:"Your message has been sent to support",duration:3e3}),_(""),B(null))},tt=$=>{$.preventDefault(),t({title:"Search Results",description:`Searching for: ${C}`,duration:3e3})},W=$=>{$.preventDefault(),t({title:"Donation Submitted",description:"Thank you for your donation!",duration:3e3})};return w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:110:4","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"110","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-6%20right-6%20z-50%22%7D",className:"fixed bottom-6 right-6 z-50",children:[w.jsx(ke.button,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:112:6","data-lov-name":"motion.button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"112","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"motion.button","data-component-content":"%7B%22className%22%3A%22p-3%20rounded-full%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%20shadow-lg%20hover%3Ashadow-nourish-500%2F25%22%7D",className:"p-3 rounded-full bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white shadow-lg hover:shadow-nourish-500/25",onClick:V,whileHover:{scale:1.05},whileTap:{scale:.95},children:e?w.jsx(hp,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:119:10","data-lov-name":"X","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"119","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"X","data-component-content":"%7B%7D",size:24}):w.jsx(tz,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:121:10","data-lov-name":"MoreHorizontal","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"121","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"MoreHorizontal","data-component-content":"%7B%7D",size:24})}),w.jsx(Ow,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:126:6","data-lov-name":"AnimatePresence","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"126","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"AnimatePresence","data-component-content":"%7B%7D",children:e&&w.jsxs(ke.div,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:128:10","data-lov-name":"motion.div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"128","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-16%20right-0%20w-80%20bg-black%2F90%20backdrop-blur-md%20border%20border-nourish-500%2F30%20rounded-xl%20overflow-hidden%20shadow-xl%22%7D",className:"absolute bottom-16 right-0 w-80 bg-black/90 backdrop-blur-md border border-nourish-500/30 rounded-xl overflow-hidden shadow-xl",variants:N,initial:"closed",animate:"open",exit:"exit",children:[w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:136:12","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"136","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20border-b%20border-nourish-500%2F30%22%7D",className:"flex border-b border-nourish-500/30",children:[w.jsx("button",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:137:14","data-lov-name":"button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"137","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`flex-1 p-3 text-center ${l==="chat"?"bg-gradient-to-r from-nourish-900/50 to-cyan-900/50 text-nourish-400":"text-white/70 hover:text-white hover:bg-white/5"}`,onClick:()=>p("chat"),children:w.jsx(Qb,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:145:16","data-lov-name":"MessageCircle","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"145","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"MessageCircle","data-component-content":"%7B%22className%22%3A%22mx-auto%22%7D",size:20,className:"mx-auto"})}),w.jsx("button",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:147:14","data-lov-name":"button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"147","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`flex-1 p-3 text-center ${l==="search"?"bg-gradient-to-r from-nourish-900/50 to-cyan-900/50 text-nourish-400":"text-white/70 hover:text-white hover:bg-white/5"}`,onClick:()=>p("search"),children:w.jsx(zh,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:155:16","data-lov-name":"Search","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"155","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22mx-auto%22%7D",size:20,className:"mx-auto"})}),w.jsx("button",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:157:14","data-lov-name":"button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"157","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`flex-1 p-3 text-center ${l==="donate"?"bg-gradient-to-r from-nourish-900/50 to-cyan-900/50 text-nourish-400":"text-white/70 hover:text-white hover:bg-white/5"}`,onClick:()=>p("donate"),children:w.jsx(ik,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:165:16","data-lov-name":"Heart","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"165","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Heart","data-component-content":"%7B%22className%22%3A%22mx-auto%22%7D",size:20,className:"mx-auto"})})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:170:12","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"170","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",className:"p-4",children:[l==="chat"&&w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:172:16","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"172","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[w.jsx("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:173:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"173","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22How%20can%20we%20help%20you%3F%22%2C%22className%22%3A%22text-lg%20font-medium%20text-white%22%7D",className:"text-lg font-medium text-white",children:"How can we help you?"}),w.jsx("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:174:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"174","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-h-60%20overflow-y-auto%20space-y-2%20mb-4%22%7D",className:"max-h-60 overflow-y-auto space-y-2 mb-4",children:F.map($=>w.jsx("button",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:176:22","data-lov-name":"button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"176","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"button","data-component-content":"%7B%7D",className:`w-full text-left p-3 rounded-lg transition-colors ${E===$?"bg-gradient-to-r from-nourish-600/30 to-cyan-600/30 text-white border border-nourish-500/30":"hover:bg-white/5 text-white/80"}`,onClick:()=>Q($),children:w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:185:24","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"185","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[w.jsx("span",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:186:26","data-lov-name":"span","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"186","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"span","data-component-content":"%7B%7D",children:$}),w.jsx(YL,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:187:26","data-lov-name":"ChevronRight","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"187","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%7D",size:16,className:E===$?"text-nourish-400":"text-white/30"})]})},$))}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:192:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"192","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20relative%22%7D",className:"mt-2 relative",children:[w.jsx(wf,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:193:20","data-lov-name":"Textarea","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"193","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Textarea","data-component-content":"%7B%22placeholder%22%3A%22Type%20your%20message%20or%20select%20an%20option%20above%22%2C%22className%22%3A%22resize-none%20bg-black%2F30%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20pr-10%20min-h-%5B80px%5D%22%7D",value:g,onChange:$=>_($.target.value),placeholder:"Type your message or select an option above",className:"resize-none bg-black/30 border-nourish-500/30 text-white placeholder:text-gray-500 pr-10 min-h-[80px]"}),w.jsx(pn,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:199:20","data-lov-name":"Button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"199","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-2%20right-2%20h-8%20w-8%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20rounded-full%20p-0%22%7D",size:"icon",className:"absolute bottom-2 right-2 h-8 w-8 bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 rounded-full p-0",onClick:H,disabled:!g.trim(),children:w.jsx(lk,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:205:22","data-lov-name":"Send","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"205","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Send","data-component-content":"%7B%7D",size:14})})]})]}),l==="search"&&w.jsxs("form",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:212:16","data-lov-name":"form","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"212","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"form","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",onSubmit:tt,className:"space-y-4",children:[w.jsx("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:213:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"213","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Search%20Retort%20Food%22%2C%22className%22%3A%22text-lg%20font-medium%20text-white%22%7D",className:"text-lg font-medium text-white",children:"Search Retort Food"}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:214:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"214","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",className:"relative",children:[w.jsx(zh,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:215:20","data-lov-name":"Search","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"215","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-gray-400%22%7D",size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),w.jsx(So,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:216:20","data-lov-name":"Input","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"216","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20products%2C%20technology...%22%2C%22className%22%3A%22pl-10%20bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",type:"text",value:C,onChange:$=>i($.target.value),placeholder:"Search products, technology...",className:"pl-10 bg-black/30 border-nourish-500/30 text-white"})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:224:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"224","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%20max-h-52%20overflow-y-auto%22%7D",className:"space-y-2 max-h-52 overflow-y-auto",children:[w.jsx("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:225:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"225","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Popular%20searches%3A%22%2C%22className%22%3A%22text-sm%20text-white%2F60%22%7D",className:"text-sm text-white/60",children:"Popular searches:"}),["Retort technology","Food preservation","Shelf life","Retail solutions","Sustainable packaging"].map($=>w.jsxs("button",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:227:22","data-lov-name":"button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"227","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20p-2%20hover%3Abg-white%2F5%20rounded-md%20w-full%20text-left%20text-white%2F80%22%7D",type:"button",className:"flex items-center gap-2 p-2 hover:bg-white/5 rounded-md w-full text-left text-white/80",onClick:()=>i($),children:[w.jsx(zh,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:233:24","data-lov-name":"Search","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"233","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22text-nourish-400%22%7D",size:14,className:"text-nourish-400"}),w.jsx("span",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:234:24","data-lov-name":"span","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"234","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"span","data-component-content":"%7B%7D",children:$})]},$))]}),w.jsx(pn,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:238:18","data-lov-name":"Button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"238","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Search%22%2C%22className%22%3A%22w-full%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%22%7D",type:"submit",className:"w-full bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white",children:"Search"})]}),l==="donate"&&w.jsxs("form",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:248:16","data-lov-name":"form","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"248","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"form","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",onSubmit:W,className:"space-y-4",children:[w.jsx("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:249:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"249","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Donate%20Food%22%2C%22className%22%3A%22text-lg%20font-medium%20text-white%22%7D",className:"text-lg font-medium text-white",children:"Donate Food"}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:250:18","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"250","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20max-h-64%20overflow-y-auto%20pr-1%22%7D",className:"space-y-3 max-h-64 overflow-y-auto pr-1",children:[w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:251:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"251","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("label",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:252:22","data-lov-name":"label","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"252","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Food%20Type%22%2C%22className%22%3A%22block%20text-sm%20text-white%2F70%20mb-1%22%7D",htmlFor:"donate-type",className:"block text-sm text-white/70 mb-1",children:"Food Type"}),w.jsx(So,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:253:22","data-lov-name":"Input","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"253","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22What%20kind%20of%20food%3F%22%2C%22className%22%3A%22bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",id:"donate-type",placeholder:"What kind of food?",className:"bg-black/30 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:260:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"260","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("label",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:261:22","data-lov-name":"label","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"261","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Quantity%22%2C%22className%22%3A%22block%20text-sm%20text-white%2F70%20mb-1%22%7D",htmlFor:"donate-quantity",className:"block text-sm text-white/70 mb-1",children:"Quantity"}),w.jsx(So,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:262:22","data-lov-name":"Input","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"262","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22How%20much%20food%3F%22%2C%22className%22%3A%22bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",id:"donate-quantity",placeholder:"How much food?",className:"bg-black/30 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:269:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"269","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("label",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:270:22","data-lov-name":"label","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"270","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Your%20Location%22%2C%22className%22%3A%22block%20text-sm%20text-white%2F70%20mb-1%22%7D",htmlFor:"donate-location",className:"block text-sm text-white/70 mb-1",children:"Your Location"}),w.jsx(So,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:271:22","data-lov-name":"Input","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"271","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22City%2C%20Country%22%2C%22className%22%3A%22bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",id:"donate-location",placeholder:"City, Country",className:"bg-black/30 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:278:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"278","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("label",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:279:22","data-lov-name":"label","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"279","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Contact%20Info%22%2C%22className%22%3A%22block%20text-sm%20text-white%2F70%20mb-1%22%7D",htmlFor:"donate-contact",className:"block text-sm text-white/70 mb-1",children:"Contact Info"}),w.jsx(So,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:280:22","data-lov-name":"Input","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"280","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Email%20or%20phone%20number%22%2C%22className%22%3A%22bg-black%2F30%20border-nourish-500%2F30%20text-white%22%7D",id:"donate-contact",placeholder:"Email or phone number",className:"bg-black/30 border-nourish-500/30 text-white",required:!0})]}),w.jsxs("div",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:287:20","data-lov-name":"div","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"287","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("label",{"data-lov-id":"src/components/EnhancedChatMenu.tsx:288:22","data-lov-name":"label","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"288","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"label","data-component-content":"%7B%22text%22%3A%22Additional%20Notes%22%2C%22className%22%3A%22block%20text-sm%20text-white%2F70%20mb-1%22%7D",htmlFor:"donate-notes",className:"block text-sm text-white/70 mb-1",children:"Additional Notes"}),w.jsx(wf,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:289:22","data-lov-name":"Textarea","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"289","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Textarea","data-component-content":"%7B%22placeholder%22%3A%22Any%20other%20details...%22%2C%22className%22%3A%22resize-none%20bg-black%2F30%20border-nourish-500%2F30%20text-white%20min-h-%5B80px%5D%22%7D",id:"donate-notes",placeholder:"Any other details...",className:"resize-none bg-black/30 border-nourish-500/30 text-white min-h-[80px]"})]})]}),w.jsx(pn,{"data-lov-id":"src/components/EnhancedChatMenu.tsx:296:18","data-lov-name":"Button","data-component-path":"src/components/EnhancedChatMenu.tsx","data-component-line":"296","data-component-file":"EnhancedChatMenu.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Submit%20Donation%22%2C%22className%22%3A%22w-full%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%22%7D",type:"submit",className:"w-full bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white",children:"Submit Donation"})]})]})]})})]})};var UB={exports:{}};(function(t,e){var r={};(function(l,p){t.exports=p()})(C7,function(){var l,p,g;function _(i,E){if(!l)l=E;else if(!p)p=E;else{var B="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+l+")(sharedChunk); ("+p+")(sharedChunk); self.onerror = null;",F={};l(F),g=E(F),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(g.workerUrl=window.URL.createObjectURL(new Blob([B],{type:"text/javascript"})))}}_(["exports"],function(i){var E=typeof self<"u"?self:{},B="2.15.0";let F;const N={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(F==null){const o=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{F=r.API_URL_REGEX!=null?new RegExp(r.API_URL_REGEX):o}catch{F=o}}return F},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!N.API_URL)return null;try{const o=new URL(N.API_URL);return o.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":o.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},V={supported:!1,testSupport:function(o){!tt&&H&&(W?$(o):Q=o)}};let Q,H,tt=!1,W=!1;function $(o){const n=o.createTexture();o.bindTexture(o.TEXTURE_2D,n);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,H),o.isContextLost())return;V.supported=!0}catch{}o.deleteTexture(n),tt=!0}E.document&&(H=E.document.createElement("img"),H.onload=function(){Q&&$(Q),Q=null,W=!0},H.onerror=function(){tt=!0,Q=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Z="01";function dt(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ft=St;function St(o,n,a,c){this.cx=3*o,this.bx=3*(a-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(c-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=n,this.p2x=a,this.p2y=c}St.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,n){if(n===void 0&&(n=1e-6),o<0)return 0;if(o>1)return 1;for(var a=o,c=0;c<8;c++){var u=this.sampleCurveX(a)-o;if(Math.abs(u)<n)return a;var h=this.sampleCurveDerivativeX(a);if(Math.abs(h)<1e-6)break;a-=u/h}var x=0,y=1;for(a=o,c=0;c<20&&(u=this.sampleCurveX(a),!(Math.abs(u-o)<n));c++)o>u?x=a:y=a,a=.5*(y-x)+x;return a},solve:function(o,n){return this.sampleCurveY(this.solveCurveX(o,n))}};var zt=dt(ft),Ft=ie;function ie(o,n){this.x=o,this.y=n}ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,n){return this.clone()._rotateAround(o,n)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var n=o.x-this.x,a=o.y-this.y;return n*n+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,n){return Math.atan2(this.x*n-this.y*o,this.x*o+this.y*n)},_matMult:function(o){var n=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=n,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var n=Math.cos(o),a=Math.sin(o),c=a*this.x+n*this.y;return this.x=n*this.x-a*this.y,this.y=c,this},_rotateAround:function(o,n){var a=Math.cos(o),c=Math.sin(o),u=n.y+c*(this.x-n.x)+a*(this.y-n.y);return this.x=n.x+a*(this.x-n.x)-c*(this.y-n.y),this.y=u,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ie.convert=function(o){return o instanceof ie?o:Array.isArray(o)?new ie(o[0],o[1]):o};var Dt=dt(Ft);const Ie=Math.PI/180,Te=180/Math.PI;function xe(o){return o*Ie}function ce(o){return o*Te}const en=[[0,0],[1,0],[1,1],[0,1]];function Fe(o){if(o<=0)return 0;if(o>=1)return 1;const n=o*o,a=n*o;return 4*(o<.5?a:3*(o-n)+a-.75)}function Be(o,n,a,c){const u=new zt(o,n,a,c);return function(h){return u.solve(h)}}const Ot=Be(.25,.1,.25,1);function Zt(o,n,a){return Math.min(a,Math.max(n,o))}function we(o,n,a){return(a=Zt((a-o)/(n-o),0,1))*a*(3-2*a)}function fe(o,n,a){const c=a-n,u=((o-n)%c+c)%c+n;return u===n?a:u}function Ce(o,n,a){if(!o.length)return a(null,[]);let c=o.length;const u=new Array(o.length);let h=null;o.forEach((x,y)=>{n(x,(A,T)=>{A&&(h=A),u[y]=T,--c==0&&a(h,u)})})}function Ze(o){const n=[];for(const a in o)n.push(o[a]);return n}function He(o,...n){for(const a of n)for(const c in a)o[c]=a[c];return o}let to=1;function cn(){return to++}function yo(){return function o(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function Mo(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function Sa(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function qo(o,n){o.forEach(a=>{n[a]&&(n[a]=n[a].bind(n))})}function nr(o,n){return o.indexOf(n,o.length-n.length)!==-1}function qe(o,n,a){const c={};for(const u in o)c[u]=n.call(this,o[u],u,o);return c}function ca(o,n,a){const c={};for(const u in o)n.call(a||this,o[u],u,o)&&(c[u]=o[u]);return c}function Eo(o){return Array.isArray(o)?o.map(Eo):typeof o=="object"&&o?qe(o,Eo):o}const br={};function gn(o){br[o]||(typeof console<"u"&&console.warn(o),br[o]=!0)}function Wo(o,n,a){return(a.y-o.y)*(n.x-o.x)>(n.y-o.y)*(a.x-o.x)}function Bs(o){let n=0;for(let a,c,u=0,h=o.length,x=h-1;u<h;x=u++)a=o[u],c=o[x],n+=(c.x-a.x)*(a.y+c.y);return n}function Rn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function _o(o){const n={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,c,u,h)=>{const x=u||h;return n[c]=!x||x.toLowerCase(),""}),n["max-age"]){const a=parseInt(n["max-age"],10);isNaN(a)?delete n["max-age"]:n["max-age"]=a}return n}let ui=null;function Ns(o){if(ui==null){const n=o.navigator?o.navigator.userAgent:null;ui=!!o.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return ui}function wr(o){try{const n=E[o];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch{return!1}}function Cr(o,n){return[o[4*n],o[4*n+1],o[4*n+2],o[4*n+3]]}const Wr="mapbox-tiles";let Is=500,or=50,na,oa;function Fs(){try{return E.caches}catch{}}function Hr(){Fs()&&!na&&(na=E.caches.open(Wr))}function Zr(o){const n=o.indexOf("?");if(n<0)return o;const a=function(u){const h=u.indexOf("?");return h>0?u.slice(h+1).split("&"):[]}(o),c=a.filter(u=>{const h=u.split("=");return h[0]==="language"||h[0]==="worldview"});return c.length?`${o.slice(0,n)}?${c.join("&")}`:o.slice(0,n)}let Rs=1/0;const Xr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Xr);class ja extends Error{constructor(n,a,c){a===401&&Pt(c)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=a,this.url=c}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ho=Rn()?()=>self.worker&&self.worker.referrer:()=>(E.location.protocol==="blob:"?E.parent:E).location.href,Kr=function(o,n){if(!(/^file:/.test(a=o.url)||/^file:/.test(Ho())&&!/^\w+:/.test(a))){if(E.fetch&&E.Request&&E.AbortController&&E.Request.prototype.hasOwnProperty("signal"))return function(c,u){const h=new E.AbortController,x=new E.Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,referrer:Ho(),referrerPolicy:c.referrerPolicy,signal:h.signal});let y=!1,A=!1;const T=(D=x.url).indexOf("sku=")>0&&Pt(D);var D;c.type==="json"&&x.headers.set("Accept","application/json");const k=(z,j,G)=>{if(A)return;if(z&&z.message!=="SecurityError"&&gn(z.toString()),j&&G)return I(j);const J=Date.now();E.fetch(x).then(st=>{if(st.ok){const ht=T?st.clone():null;return I(st,ht,J)}return u(new ja(st.statusText,st.status,c.url))}).catch(st=>{st.name!=="AbortError"&&u(new Error(`${st.message} ${c.url}`))})},I=(z,j,G)=>{(c.type==="arrayBuffer"?z.arrayBuffer():c.type==="json"?z.json():z.text()).then(J=>{A||(j&&G&&function(st,ht,it){if(Hr(),!na)return;const mt={status:ht.status,statusText:ht.statusText,headers:new E.Headers};ht.headers.forEach((It,kt)=>mt.headers.set(kt,It));const xt=_o(ht.headers.get("Cache-Control")||"");if(xt["no-store"])return;xt["max-age"]&&mt.headers.set("Expires",new Date(it+1e3*xt["max-age"]).toUTCString());const gt=mt.headers.get("Expires");gt&&(new Date(gt).getTime()-it<42e4||function(It,kt){if(oa===void 0)try{new Response(new ReadableStream),oa=!0}catch{oa=!1}oa?kt(It.body):It.blob().then(kt)}(ht,It=>{const kt=new E.Response(It,mt);Hr(),na&&na.then($t=>$t.put(Zr(st.url),kt)).catch($t=>gn($t.message))}))}(x,j,G),y=!0,u(null,J,z.headers.get("Cache-Control"),z.headers.get("Expires")))}).catch(J=>{A||u(new Error(J.message))})};return T?function(z,j){if(Hr(),!na)return j(null);const G=Zr(z.url);na.then(J=>{J.match(G).then(st=>{const ht=function(it){if(!it)return!1;const mt=new Date(it.headers.get("Expires")||0),xt=_o(it.headers.get("Cache-Control")||"");return mt>Date.now()&&!xt["no-cache"]}(st);J.delete(G),ht&&J.put(G,st.clone()),j(null,st,ht)}).catch(j)}).catch(j)}(x,k):k(null,null),{cancel:()=>{A=!0,y||h.abort()}}}(o,n);if(Rn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,n,void 0,!0)}var a;return function(c,u){const h=new E.XMLHttpRequest;h.open(c.method||"GET",c.url,!0),c.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const x in c.headers)h.setRequestHeader(x,c.headers[x]);return c.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=c.credentials==="include",h.onerror=()=>{u(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let x=h.response;if(c.type==="json")try{x=JSON.parse(h.response)}catch(y){return u(y)}u(null,x,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else u(new ja(h.statusText,h.status,c.url))},h.send(c.body),{cancel:()=>h.abort()}}(o,n)},Oe=function(o,n){return Kr(He(o,{type:"arrayBuffer"}),n)};function bn(o){const n=E.document.createElement("a");return n.href=o,n.protocol===E.document.location.protocol&&n.host===E.document.location.host}const ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let X,K;X=[],K=0;const pt=function(o,n){if(V.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),K>=N.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:o,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return X.push(h),h}K++;let a=!1;const c=()=>{if(!a)for(a=!0,K--;X.length&&K<N.MAX_PARALLEL_IMAGE_REQUESTS;){const h=X.shift(),{requestParameters:x,callback:y,cancelled:A}=h;A||(h.cancel=pt(x,y).cancel)}},u=Oe(o,(h,x,y,A)=>{c(),h?n(h):x&&(E.createImageBitmap?function(T,D){const k=new E.Blob([new Uint8Array(T)],{type:"image/png"});E.createImageBitmap(k).then(I=>{D(null,I)}).catch(I=>{D(new Error(`Could not load image because of ${I.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(x,(T,D)=>n(T,D,y,A)):function(T,D){const k=new E.Image,I=E.URL;k.onload=()=>{D(null,k),I.revokeObjectURL(k.src),k.onload=null,E.requestAnimationFrame(()=>{k.src=ct})},k.onerror=()=>D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const z=new E.Blob([new Uint8Array(T)],{type:"image/png"});k.src=T.byteLength?I.createObjectURL(z):ct}(x,(T,D)=>n(T,D,y,A)))});return{cancel:()=>{u.cancel(),c()}}},vt="NO_ACCESS_TOKEN";function Ct(o){return o.indexOf("mapbox:")===0}function Pt(o){return N.API_URL_REGEX.test(o)}function Et(o){return N.API_CDN_URL_REGEX.test(o)}function wt(o){return N.API_STYLE_REGEX.test(o)&&!jt(o)}function jt(o){return N.API_SPRITE_REGEX.test(o)}const se=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function le(o){const n=o.match(se);if(!n)throw new Error("Unable to parse URL object");return{protocol:n[1],authority:n[2],path:n[3]||"/",params:n[4]?n[4].split("&"):[]}}function ne(o){const n=o.params.length?`?${o.params.join("&")}`:"";return`${o.protocol}://${o.authority}${o.path}${n}`}const Ve="mapbox.eventData";function Xe(o){if(!o)return null;const n=o.split(".");if(!n||n.length!==3)return null;try{return JSON.parse(decodeURIComponent(E.atob(n[1]).split("").map(a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Ue{constructor(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(n){const a=Xe(N.ACCESS_TOKEN);let c="";return c=a&&a.u?E.btoa(encodeURIComponent(a.u).replace(/%([0-9A-F]{2})/g,(u,h)=>String.fromCharCode(+("0x"+h)))):N.ACCESS_TOKEN||"",n?`${Ve}.${n}:${c}`:`${Ve}:${c}`}fetchEventData(){const n=wr("localStorage"),a=this.getStorageKey(),c=this.getStorageKey("uuid");if(n)try{const u=E.localStorage.getItem(a);u&&(this.eventData=JSON.parse(u));const h=E.localStorage.getItem(c);h&&(this.anonId=h)}catch{gn("Unable to read from LocalStorage")}}saveEventData(){const n=wr("localStorage"),a=this.getStorageKey(),c=this.getStorageKey("uuid");if(n)try{E.localStorage.setItem(c,this.anonId),Object.keys(this.eventData).length>=1&&E.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{gn("Unable to write to LocalStorage")}}processRequests(n){}postEvent(n,a,c,u){if(!N.EVENTS_URL)return;const h=le(N.EVENTS_URL);h.params.push(`access_token=${u||N.ACCESS_TOKEN||""}`);const x={event:this.type,created:new Date(n).toISOString()},y=a?He(x,a):x,A={url:ne(h),headers:{"Content-Type":"text/plain"},body:JSON.stringify([y])};this.pendingRequest=function(T,D){return Kr(He(T,{method:"POST"}),D)}(A,T=>{this.pendingRequest=null,c(T),this.saveEventData(),this.processRequests(u)})}queueRequest(n,a){this.queue.push(n),this.processRequests(a)}}const Ke=new class extends Ue{constructor(o){super("appUserTurnstile"),this._customAccessToken=o}postTurnstileEvent(o,n){N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(o)&&o.some(a=>Ct(a)||Pt(a))&&this.queueRequest(Date.now(),n)}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const n=Xe(N.ACCESS_TOKEN),a=n?n.u:N.ACCESS_TOKEN;let c=a!==this.eventData.tokenU;Sa(this.anonId)||(this.anonId=yo(),c=!0);const u=this.queue.shift();if(this.eventData.lastSuccess){const h=new Date(this.eventData.lastSuccess),x=new Date(u),y=(u-this.eventData.lastSuccess)/864e5;c=c||y>=1||y<-1||h.getDate()!==x.getDate()}else c=!0;c?this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:B,skuId:Z,"enabled.telemetry":!1,userId:this.anonId},h=>{h||(this.eventData.lastSuccess=u,this.eventData.tokenU=a)},o):this.processRequests()}},on=Ke.postTurnstileEvent.bind(Ke),$n=new class extends Ue{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(o,n,a,c){this.skuToken=n,this.errorCb=c,N.EVENTS_URL&&(a||N.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},a):this.errorCb(new Error(vt)))}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:a}=this.queue.shift();n&&this.success[n]||(this.anonId||this.fetchEventData(),Sa(this.anonId)||(this.anonId=yo()),this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:B,skuId:Z,skuToken:this.skuToken,userId:this.anonId},c=>{c?this.errorCb(c):n&&(this.success[n]=!0)},o))}},ro=$n.postMapLoadEvent.bind($n),Zo=new class extends Ue{constructor(){super("gljs.performance")}postPerformanceEvent(o,n){N.EVENTS_URL&&(o||N.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:n},o)}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:n,performanceData:a}=this.queue.shift(),c=function(u){const h=E.performance.getEntriesByType("resource"),x=E.performance.getEntriesByType("mark"),y=function(I){const z={};if(I){for(const j in I)if(j!=="other")for(const G of I[j]){const J=`${j}ResolveRangeMin`,st=`${j}ResolveRangeMax`,ht=`${j}RequestCount`,it=`${j}RequestCachedCount`;z[J]=Math.min(z[J]||1/0,G.startTime),z[st]=Math.max(z[st]||-1/0,G.responseEnd);const mt=xt=>{z[xt]===void 0&&(z[xt]=0),++z[xt]};G.transferSize!==void 0&&G.transferSize===0&&mt(it),mt(ht)}}return z}(function(I,z){const j={};if(I)for(const G of I){const J=z(G);j[J]===void 0&&(j[J]=[]),j[J].push(G)}return j}(h,zf)),A=E.devicePixelRatio,T=E.navigator.connection||E.navigator.mozConnection||E.navigator.webkitConnection,D={counters:[],metadata:[],attributes:[]},k=(I,z,j)=>{j!=null&&I.push({name:z,value:j.toString()})};for(const I in y)k(D.counters,I,y[I]);if(u.interactionRange[0]!==1/0&&u.interactionRange[1]!==-1/0&&(k(D.counters,"interactionRangeMin",u.interactionRange[0]),k(D.counters,"interactionRangeMax",u.interactionRange[1])),x)for(const I of Object.keys(qi)){const z=qi[I],j=x.find(G=>G.name===z);j&&k(D.counters,z,j.startTime)}return k(D.counters,"visibilityHidden",u.visibilityHidden),k(D.attributes,"style",function(I){if(I)for(const z of I){const j=z.name.split("?")[0];if(wt(j)){const G=j.split("/").slice(-2);if(G.length===2)return`mapbox://styles/${G[0]}/${G[1]}`}}}(h)),k(D.attributes,"terrainEnabled",u.terrainEnabled?"true":"false"),k(D.attributes,"fogEnabled",u.fogEnabled?"true":"false"),k(D.attributes,"projection",u.projection),k(D.attributes,"zoom",u.zoom),k(D.metadata,"devicePixelRatio",A),k(D.metadata,"connectionEffectiveType",T?T.effectiveType:void 0),k(D.metadata,"navigatorUserAgent",E.navigator.userAgent),k(D.metadata,"screenWidth",E.screen.width),k(D.metadata,"screenHeight",E.screen.height),k(D.metadata,"windowWidth",E.innerWidth),k(D.metadata,"windowHeight",E.innerHeight),k(D.metadata,"mapWidth",u.width/A),k(D.metadata,"mapHeight",u.height/A),k(D.metadata,"webglRenderer",u.renderer),k(D.metadata,"webglVendor",u.vendor),k(D.metadata,"sdkVersion",B),k(D.metadata,"sdkIdentifier","mapbox-gl-js"),D}(a);for(const u of c.metadata);for(const u of c.counters);for(const u of c.attributes);this.postEvent(n,c,()=>{},o)}},bo=Zo.postPerformanceEvent.bind(Zo),Ar=new class extends Ue{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(o,n,a,c){if(!N.API_URL||!N.SESSION_PATH)return;const u=le(N.API_URL+N.SESSION_PATH);u.params.push(`sku=${n||""}`),u.params.push(`access_token=${c||N.ACCESS_TOKEN||""}`);const h={url:ne(u),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(x,y){return Kr(He(x,{method:"GET"}),y)}(h,x=>{this.pendingRequest=null,a(x),this.saveEventData(),this.processRequests(c)})}getSessionAPI(o,n,a,c){this.skuToken=n,this.errorCb=c,N.SESSION_PATH&&N.API_URL&&(a||N.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},a):this.errorCb(new Error(vt)))}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:a}=this.queue.shift();n&&this.success[n]||this.getSession(a,this.skuToken,c=>{c?this.errorCb(c):n&&(this.success[n]=!0)},o)}},ko=Ar.getSessionAPI.bind(Ar),aa=new Set,qi={create:"create",load:"load",fullLoad:"fullLoad"},R2={mark(o){E.performance.mark(o)},measure(o,n,a){E.performance.measure(o,n,a)}};function zf(o){const n=o.name.split("?")[0];return Et(n)&&n.includes("mapbox-gl.js")?"javascript":Et(n)&&n.includes("mapbox-gl.css")?"css":function(a){return N.API_FONTS_REGEX.test(a)}(n)?"fontRange":jt(n)?"sprite":wt(n)?"style":function(a){return N.API_TILEJSON_REGEX.test(a)}(n)?"tilejson":"other"}const xn=E.performance;function Bp(o){const n=o?o.url.toString():void 0;return xn.getEntriesByName(n)}let ic,Np,Cd,Tr;const Yr={now:()=>Cd!==void 0?Cd:E.performance.now(),setNow(o){Cd=o},restoreNow(){Cd=void 0},frame(o){const n=E.requestAnimationFrame(o);return{cancel:()=>E.cancelAnimationFrame(n)}},getImageData(o,n=0){const{width:a,height:c}=o;Tr||(Tr=E.document.createElement("canvas"));const u=Tr.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return(a>Tr.width||c>Tr.height)&&(Tr.width=a,Tr.height=c),u.clearRect(-n,-n,a+2*n,c+2*n),u.drawImage(o,0,0,a,c),u.getImageData(-n,-n,a+2*n,c+2*n)},resolveURL:o=>(ic||(ic=E.document.createElement("a")),ic.href=o,ic.href),get devicePixelRatio(){return E.devicePixelRatio},get prefersReducedMotion(){return!!E.matchMedia&&(Np==null&&(Np=E.matchMedia("(prefers-reduced-motion: reduce)")),Np.matches)}};function Ip(o,n,a){a[o]&&a[o].indexOf(n)!==-1||(a[o]=a[o]||[],a[o].push(n))}function Fp(o,n,a){if(a&&a[o]){const c=a[o].indexOf(n);c!==-1&&a[o].splice(c,1)}}class pi{constructor(n,a={}){He(this,a),this.type=n}}class Qr extends pi{constructor(n,a={}){super("error",He({error:n},a))}}class lc{on(n,a){return this._listeners=this._listeners||{},Ip(n,a,this._listeners),this}off(n,a){return Fp(n,a,this._listeners),Fp(n,a,this._oneTimeListeners),this}once(n,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},Ip(n,a,this._oneTimeListeners),this):new Promise(c=>this.once(n,c))}fire(n,a){typeof n=="string"&&(n=new pi(n,a||{}));const c=n.type;if(this.listens(c)){n.target=this;const u=this._listeners&&this._listeners[c]?this._listeners[c].slice():[];for(const y of u)y.call(this,n);const h=this._oneTimeListeners&&this._oneTimeListeners[c]?this._oneTimeListeners[c].slice():[];for(const y of h)Fp(c,y,this._oneTimeListeners),y.call(this,n);const x=this._eventedParent;x&&(He(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(n))}else n instanceof Qr&&console.error(n.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,a){return this._eventedParent=n,this._eventedParentData=a,this}}var Ut=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Jr(o,...n){for(const a of n)for(const c in a)o[c]=a[c];return o}function so(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Bo(o){if(Array.isArray(o))return o.map(Bo);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const n={};for(const a in o)n[a]=Bo(o[a]);return n}return so(o)}class jf extends Error{constructor(n,a){super(a),this.message=a,this.key=n}}var Sr=jf;class Rp{constructor(n,a=[]){this.parent=n,this.bindings={};for(const[c,u]of a)this.bindings[c]=u}concat(n){return new Rp(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}var Of=Rp;const Wi={kind:"null"},he={kind:"number"},nn={kind:"string"},Qe={kind:"boolean"},Ea={kind:"color"},ar={kind:"object"},Je={kind:"value"},Pa={kind:"collator"},cc={kind:"formatted"},mi={kind:"resolvedImage"};function Oa(o,n){return{kind:"array",itemType:o,N:n}}function Vn(o){if(o.kind==="array"){const n=Vn(o.itemType);return typeof o.N=="number"?`array<${n}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${n}>`}return o.kind}const Vf=[Wi,he,nn,Qe,Ea,cc,ar,Oa(Je),mi];function ts(o,n){if(n.kind==="error")return null;if(o.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!ts(o.itemType,n.itemType))&&(typeof o.N!="number"||o.N===n.N))return null}else{if(o.kind===n.kind)return null;if(o.kind==="value"){for(const a of Vf)if(!ts(a,n))return null}}return`Expected ${Vn(o)} but found ${Vn(n)} instead.`}function dc(o,n){return n.some(a=>a.kind===o.kind)}function uc(o,n){return n.some(a=>a==="null"?o===null:a==="array"?Array.isArray(o):a==="object"?o&&!Array.isArray(o)&&typeof o=="object":a===typeof o)}var Lp,Uf={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pc(o){return(o=Math.round(o))<0?0:o>255?255:o}function mc(o){return pc(o[o.length-1]==="%"?parseFloat(o)/100*255:parseInt(o))}function Ad(o){return(n=o[o.length-1]==="%"?parseFloat(o)/100:parseFloat(o))<0?0:n>1?1:n;var n}function Hi(o,n,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?o+(n-o)*a*6:2*a<1?n:3*a<2?o+(n-o)*(2/3-a)*6:o}try{Lp={}.parseCSSColor=function(o){var n,a=o.replace(/ /g,"").toLowerCase();if(a in Uf)return Uf[a].slice();if(a[0]==="#")return a.length===4?(n=parseInt(a.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:a.length===7&&(n=parseInt(a.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var c=a.indexOf("("),u=a.indexOf(")");if(c!==-1&&u+1===a.length){var h=a.substr(0,c),x=a.substr(c+1,u-(c+1)).split(","),y=1;switch(h){case"rgba":if(x.length!==4)return null;y=Ad(x.pop());case"rgb":return x.length!==3?null:[mc(x[0]),mc(x[1]),mc(x[2]),y];case"hsla":if(x.length!==4)return null;y=Ad(x.pop());case"hsl":if(x.length!==3)return null;var A=(parseFloat(x[0])%360+360)%360/360,T=Ad(x[1]),D=Ad(x[2]),k=D<=.5?D*(T+1):D+T-D*T,I=2*D-k;return[pc(255*Hi(I,k,A+1/3)),pc(255*Hi(I,k,A)),pc(255*Hi(I,k,A-1/3)),y];default:return null}}return null}}catch{}class da{constructor(n,a,c,u=1){this.r=n,this.g=a,this.b=c,this.a=u}static parse(n){if(!n)return;if(n instanceof da)return n;if(typeof n!="string")return;const a=Lp(n);return a?new da(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3]):void 0}toString(){const[n,a,c,u]=this.toArray();return`rgba(${Math.round(n)},${Math.round(a)},${Math.round(c)},${u})`}toArray(){const{r:n,g:a,b:c,a:u}=this;return u===0?[0,0,0,0]:[255*n/u,255*a/u,255*c/u,u]}toArray01(){const{r:n,g:a,b:c,a:u}=this;return u===0?[0,0,0,0]:[n/u,a/u,c/u,u]}toArray01PremultipliedAlpha(){const{r:n,g:a,b:c,a:u}=this;return[n,a,c,u]}}da.black=new da(0,0,0,1),da.white=new da(1,1,1,1),da.transparent=new da(0,0,0,0),da.red=new da(1,0,0,1),da.blue=new da(0,0,1,1);var eo=da;class zp{constructor(n,a,c){this.sensitivity=n?a?"variant":"case":a?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,a){return this.collator.compare(n,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class jp{constructor(n,a,c,u,h){this.text=n.normalize?n.normalize():n,this.image=a,this.scale=c,this.fontStack=u,this.textColor=h}}class ua{constructor(n){this.sections=n}static fromString(n){return new ua([new jp(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof ua?n:ua.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const a of this.sections){if(a.image){n.push(["image",a.image.name]);continue}n.push(a.text);const c={};a.fontStack&&(c["text-font"]=["literal",a.fontStack.split(",")]),a.scale&&(c["font-scale"]=a.scale),a.textColor&&(c["text-color"]=["rgba"].concat(a.textColor.toArray())),n.push(c)}return n}}class Va{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new Va({name:n,available:!1}):null}serialize(){return["image",this.name]}}function $f(o,n,a,c){return typeof o=="number"&&o>=0&&o<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof a=="number"&&a>=0&&a<=255?c===void 0||typeof c=="number"&&c>=0&&c<=1?null:`Invalid rgba value [${[o,n,a,c].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof c=="number"?[o,n,a,c]:[o,n,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function hc(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof eo||o instanceof zp||o instanceof ua||o instanceof Va)return!0;if(Array.isArray(o)){for(const n of o)if(!hc(n))return!1;return!0}if(typeof o=="object"){for(const n in o)if(!hc(o[n]))return!1;return!0}return!1}function Zn(o){if(o===null)return Wi;if(typeof o=="string")return nn;if(typeof o=="boolean")return Qe;if(typeof o=="number")return he;if(o instanceof eo)return Ea;if(o instanceof zp)return Pa;if(o instanceof ua)return cc;if(o instanceof Va)return mi;if(Array.isArray(o)){const n=o.length;let a;for(const c of o){const u=Zn(c);if(a){if(a===u)continue;a=Je;break}a=u}return Oa(a||Je,n)}return ar}function fc(o){const n=typeof o;return o===null?"":n==="string"||n==="number"||n==="boolean"?String(o):o instanceof eo||o instanceof ua||o instanceof Va?o.toString():JSON.stringify(o)}class Op{constructor(n,a){this.type=n,this.value=a}static parse(n,a){if(n.length!==2)return a.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!hc(n[1]))return a.error("invalid value");const c=n[1];let u=Zn(c);const h=a.expectedType;return u.kind!=="array"||u.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(u=h),new Op(u,c)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof eo?["rgba"].concat(this.value.toArray()):this.value instanceof ua?this.value.serialize():this.value}}var hi=Op,jo=class{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}};const Vp={string:nn,number:he,boolean:Qe,object:ar};class Up{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");let c,u=1;const h=n[0];if(h==="array"){let y,A;if(n.length>2){const T=n[1];if(typeof T!="string"||!(T in Vp)||T==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);y=Vp[T],u++}else y=Je;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return a.error('The length argument to "array" must be a positive integer literal',2);A=n[2],u++}c=Oa(y,A)}else c=Vp[h];const x=[];for(;u<n.length;u++){const y=a.parse(n[u],u,Je);if(!y)return null;x.push(y)}return new Up(c,x)}evaluate(n){for(let a=0;a<this.args.length;a++){const c=this.args[a].evaluate(n);if(!ts(this.type,Zn(c)))return c;if(a===this.args.length-1)throw new jo(`Expected value to be of type ${Vn(this.type)}, but found ${Vn(Zn(c))} instead.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,a=[n.kind];if(n.kind==="array"){const c=n.itemType;if(c.kind==="string"||c.kind==="number"||c.kind==="boolean"){a.push(c.kind);const u=n.N;(typeof u=="number"||this.args.length>1)&&a.push(u)}}return a.concat(this.args.map(c=>c.serialize()))}}var es=Up;class Ls{constructor(n){this.type=cc,this.sections=n}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const c=n[1];if(!Array.isArray(c)&&typeof c=="object")return a.error("First argument must be an image or text section.");const u=[];let h=!1;for(let x=1;x<=n.length-1;++x){const y=n[x];if(h&&typeof y=="object"&&!Array.isArray(y)){h=!1;let A=null;if(y["font-scale"]&&(A=a.parse(y["font-scale"],1,he),!A))return null;let T=null;if(y["text-font"]&&(T=a.parse(y["text-font"],1,Oa(nn)),!T))return null;let D=null;if(y["text-color"]&&(D=a.parse(y["text-color"],1,Ea),!D))return null;const k=u[u.length-1];k.scale=A,k.font=T,k.textColor=D}else{const A=a.parse(n[x],1,Je);if(!A)return null;const T=A.type.kind;if(T!=="string"&&T!=="value"&&T!=="null"&&T!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,u.push({content:A,scale:null,font:null,textColor:null})}}return new Ls(u)}evaluate(n){return new ua(this.sections.map(a=>{const c=a.content.evaluate(n);return Zn(c)===mi?new jp("",c,null,null,null):new jp(fc(c),null,a.scale?a.scale.evaluate(n):null,a.font?a.font.evaluate(n).join(","):null,a.textColor?a.textColor.evaluate(n):null)}))}eachChild(n){for(const a of this.sections)n(a.content),a.scale&&n(a.scale),a.font&&n(a.font),a.textColor&&n(a.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const a of this.sections){n.push(a.content.serialize());const c={};a.scale&&(c["font-scale"]=a.scale.serialize()),a.font&&(c["text-font"]=a.font.serialize()),a.textColor&&(c["text-color"]=a.textColor.serialize()),n.push(c)}return n}}class Td{constructor(n){this.type=mi,this.input=n}static parse(n,a){if(n.length!==2)return a.error("Expected two arguments.");const c=a.parse(n[1],1,nn);return c?new Td(c):a.error("No image name provided.")}evaluate(n){const a=this.input.evaluate(n),c=Va.fromString(a);return c&&n.availableImages&&(c.available=n.availableImages.indexOf(a)>-1),c}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const L2={"to-boolean":Qe,"to-color":Ea,"to-number":he,"to-string":nn};class $p{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const c=n[0];if((c==="to-boolean"||c==="to-string")&&n.length!==2)return a.error("Expected one argument.");const u=L2[c],h=[];for(let x=1;x<n.length;x++){const y=a.parse(n[x],x,Je);if(!y)return null;h.push(y)}return new $p(u,h)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let a,c;for(const u of this.args){if(a=u.evaluate(n),c=null,a instanceof eo)return a;if(typeof a=="string"){const h=n.parseColor(a);if(h)return h}else if(Array.isArray(a)&&(c=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:$f(a[0],a[1],a[2],a[3]),!c))return new eo(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new jo(c||`Could not parse color from value '${typeof a=="string"?a:String(JSON.stringify(a))}'`)}if(this.type.kind==="number"){let a=null;for(const c of this.args){if(a=c.evaluate(n),a===null)return 0;const u=Number(a);if(!isNaN(u))return u}throw new jo(`Could not convert ${JSON.stringify(a)} to number.`)}return this.type.kind==="formatted"?ua.fromString(fc(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Va.fromString(fc(this.args[0].evaluate(n))):fc(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Ls([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Td(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(a=>{n.push(a.serialize())}),n}}var Zi=$p;const Er=["Unknown","Point","LineString","Polygon"];var Gp=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Er[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const o=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:a,y:c}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(a*n-o[0])+this.featureDistanceData.bearing[1]*(c*n-o[1])}return 0}parseColor(o){let n=this._parseColorCache[o];return n||(n=this._parseColorCache[o]=eo.parse(o)),n}};class fi{constructor(n,a,c,u){this.name=n,this.type=a,this._evaluate=c,this.args=u}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,a){const c=n[0],u=fi.definitions[c];if(!u)return a.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(u)?u[0]:u.type,x=Array.isArray(u)?[[u[1],u[2]]]:u.overloads,y=x.filter(([T])=>!Array.isArray(T)||T.length===n.length-1);let A=null;for(const[T,D]of y){A=new Kp(a.registry,a.path,null,a.scope);const k=[];let I=!1;for(let z=1;z<n.length;z++){const j=n[z],G=Array.isArray(T)?T[z-1]:T.type,J=A.parse(j,1+k.length,G);if(!J){I=!0;break}k.push(J)}if(!I)if(Array.isArray(T)&&T.length!==k.length)A.error(`Expected ${T.length} arguments, but found ${k.length} instead.`);else{for(let z=0;z<k.length;z++){const j=Array.isArray(T)?T[z]:T.type,G=k[z];A.concat(z+1).checkSubtype(j,G.type)}if(A.errors.length===0)return new fi(c,h,D,k)}}if(y.length===1)a.errors.push(...A.errors);else{const T=(y.length?y:x).map(([k])=>{return I=k,Array.isArray(I)?`(${I.map(Vn).join(", ")})`:`(${Vn(I.type)}...)`;var I}).join(" | "),D=[];for(let k=1;k<n.length;k++){const I=a.parse(n[k],1+D.length);if(!I)return null;D.push(Vn(I.type))}a.error(`Expected arguments of type ${T}, but found (${D.join(", ")}) instead.`)}return null}static register(n,a){fi.definitions=a;for(const c in a)n[c]=fi}}var ns=fi;class gc{constructor(n,a,c){this.type=Pa,this.locale=c,this.caseSensitive=n,this.diacriticSensitive=a}static parse(n,a){if(n.length!==2)return a.error("Expected one argument.");const c=n[1];if(typeof c!="object"||Array.isArray(c))return a.error("Collator options argument must be an object.");const u=a.parse(c["case-sensitive"]!==void 0&&c["case-sensitive"],1,Qe);if(!u)return null;const h=a.parse(c["diacritic-sensitive"]!==void 0&&c["diacritic-sensitive"],1,Qe);if(!h)return null;let x=null;return c.locale&&(x=a.parse(c.locale,1,nn),!x)?null:new gc(u,h,x)}evaluate(n){return new zp(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const os=8192;function Sd(o,n){o[0]=Math.min(o[0],n[0]),o[1]=Math.min(o[1],n[1]),o[2]=Math.max(o[2],n[0]),o[3]=Math.max(o[3],n[1])}function Xi(o,n){return!(o[0]<=n[0]||o[2]>=n[2]||o[1]<=n[1]||o[3]>=n[3])}function xc(o,n){const a=(180+o[0])/360,c=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,u=Math.pow(2,n.z);return[Math.round(a*u*os),Math.round(c*u*os)]}function Gf(o,n,a){const c=o[0]-n[0],u=o[1]-n[1],h=o[0]-a[0],x=o[1]-a[1];return c*x-h*u==0&&c*h<=0&&u*x<=0}function Ed(o,n){let a=!1;for(let x=0,y=n.length;x<y;x++){const A=n[x];for(let T=0,D=A.length;T<D-1;T++){if(Gf(o,A[T],A[T+1]))return!1;(u=A[T])[1]>(c=o)[1]!=(h=A[T+1])[1]>c[1]&&c[0]<(h[0]-u[0])*(c[1]-u[1])/(h[1]-u[1])+u[0]&&(a=!a)}}var c,u,h;return a}function qp(o,n){for(let a=0;a<n.length;a++)if(Ed(o,n[a]))return!0;return!1}function Wp(o,n,a,c){const u=c[0]-a[0],h=c[1]-a[1],x=(o[0]-a[0])*h-u*(o[1]-a[1]),y=(n[0]-a[0])*h-u*(n[1]-a[1]);return x>0&&y<0||x<0&&y>0}function Ki(o,n,a){for(const T of a)for(let D=0;D<T.length-1;++D)if((y=[(x=T[D+1])[0]-(h=T[D])[0],x[1]-h[1]])[0]*(A=[(u=n)[0]-(c=o)[0],u[1]-c[1]])[1]-y[1]*A[0]!=0&&Wp(c,u,h,x)&&Wp(h,x,c,u))return!0;var c,u,h,x,y,A;return!1}function vn(o,n){for(let a=0;a<o.length;++a)if(!Ed(o[a],n))return!1;for(let a=0;a<o.length-1;++a)if(Ki(o[a],o[a+1],n))return!1;return!0}function z2(o,n){for(let a=0;a<n.length;a++)if(vn(o,n[a]))return!0;return!1}function Hp(o,n,a){const c=[];for(let u=0;u<o.length;u++){const h=[];for(let x=0;x<o[u].length;x++){const y=xc(o[u][x],a);Sd(n,y),h.push(y)}c.push(h)}return c}function qf(o,n,a){const c=[];for(let u=0;u<o.length;u++){const h=Hp(o[u],n,a);c.push(h)}return c}function Zp(o,n,a,c){if(o[0]<a[0]||o[0]>a[2]){const u=.5*c;let h=o[0]-a[0]>u?-c:a[0]-o[0]>u?c:0;h===0&&(h=o[0]-a[2]>u?-c:a[2]-o[0]>u?c:0),o[0]+=h}Sd(n,o)}function Wf(o,n,a,c){const u=Math.pow(2,c.z)*os,h=[c.x*os,c.y*os],x=[];if(!o)return x;for(const y of o)for(const A of y){const T=[A.x+h[0],A.y+h[1]];Zp(T,n,a,u),x.push(T)}return x}function Xp(o,n,a,c){const u=Math.pow(2,c.z)*os,h=[c.x*os,c.y*os],x=[];if(!o)return x;for(const A of o){const T=[];for(const D of A){const k=[D.x+h[0],D.y+h[1]];Sd(n,k),T.push(k)}x.push(T)}if(n[2]-n[0]<=u/2){(y=n)[0]=y[1]=1/0,y[2]=y[3]=-1/0;for(const A of x)for(const T of A)Zp(T,n,a,u)}var y;return x}class Yi{constructor(n,a){this.type=Qe,this.geojson=n,this.geometries=a}static parse(n,a){if(n.length!==2)return a.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(hc(n[1])){const c=n[1];if(c.type==="FeatureCollection")for(let u=0;u<c.features.length;++u){const h=c.features[u].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new Yi(c,c.features[u].geometry)}else if(c.type==="Feature"){const u=c.geometry.type;if(u==="Polygon"||u==="MultiPolygon")return new Yi(c,c.geometry)}else if(c.type==="Polygon"||c.type==="MultiPolygon")return new Yi(c,c)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(a,c){const u=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],x=a.canonicalID();if(!x)return!1;if(c.type==="Polygon"){const y=Hp(c.coordinates,h,x),A=Wf(a.geometry(),u,h,x);if(!Xi(u,h))return!1;for(const T of A)if(!Ed(T,y))return!1}if(c.type==="MultiPolygon"){const y=qf(c.coordinates,h,x),A=Wf(a.geometry(),u,h,x);if(!Xi(u,h))return!1;for(const T of A)if(!qp(T,y))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(a,c){const u=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],x=a.canonicalID();if(!x)return!1;if(c.type==="Polygon"){const y=Hp(c.coordinates,h,x),A=Xp(a.geometry(),u,h,x);if(!Xi(u,h))return!1;for(const T of A)if(!vn(T,y))return!1}if(c.type==="MultiPolygon"){const y=qf(c.coordinates,h,x),A=Xp(a.geometry(),u,h,x);if(!Xi(u,h))return!1;for(const T of A)if(!z2(T,y))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Pd=Yi;function Qi(o){if(o instanceof ns&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof Pd)return!1;let n=!0;return o.eachChild(a=>{n&&!Qi(a)&&(n=!1)}),n}function as(o){if(o instanceof ns&&o.name==="feature-state")return!1;let n=!0;return o.eachChild(a=>{n&&!as(a)&&(n=!1)}),n}function gi(o,n){if(o instanceof ns&&n.indexOf(o.name)>=0)return!1;let a=!0;return o.eachChild(c=>{a&&!gi(c,n)&&(a=!1)}),a}class Dd{constructor(n,a){this.type=a.type,this.name=n,this.boundExpression=a}static parse(n,a){if(n.length!==2||typeof n[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");const c=n[1];return a.scope.has(c)?new Dd(c,a.scope.get(c)):a.error(`Unknown variable "${c}". Make sure "${c}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Hf=Dd;class vc{constructor(n,a=[],c,u=new Of,h=[]){this.registry=n,this.path=a,this.key=a.map(x=>`[${x}]`).join(""),this.scope=u,this.errors=h,this.expectedType=c}parse(n,a,c,u,h={}){return a?this.concat(a,c,u)._parse(n,h):this._parse(n,h)}_parse(n,a){function c(u,h,x){return x==="assert"?new es(h,[u]):x==="coerce"?new Zi(h,[u]):u}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const u=n[0];if(typeof u!="string")return this.error(`Expression name must be a string, but found ${typeof u} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const h=this.registry[u];if(h){let x=h.parse(n,this);if(!x)return null;if(this.expectedType){const y=this.expectedType,A=x.type;if(y.kind!=="string"&&y.kind!=="number"&&y.kind!=="boolean"&&y.kind!=="object"&&y.kind!=="array"||A.kind!=="value")if(y.kind!=="color"&&y.kind!=="formatted"&&y.kind!=="resolvedImage"||A.kind!=="value"&&A.kind!=="string"){if(this.checkSubtype(y,A))return null}else x=c(x,y,a.typeAnnotation||"coerce");else x=c(x,y,a.typeAnnotation||"assert")}if(!(x instanceof hi)&&x.type.kind!=="resolvedImage"&&Yp(x)){const y=new Gp;try{x=new hi(x.type,x.evaluate(y))}catch(A){return this.error(A.message),null}}return x}return this.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,a,c){const u=typeof n=="number"?this.path.concat(n):this.path,h=c?this.scope.concat(c):this.scope;return new vc(this.registry,u,a||null,h,this.errors)}error(n,...a){const c=`${this.key}${a.map(u=>`[${u}]`).join("")}`;this.errors.push(new Sr(c,n))}checkSubtype(n,a){const c=ts(n,a);return c&&this.error(c),c}}var Kp=vc;function Yp(o){if(o instanceof Hf)return Yp(o.boundExpression);if(o instanceof ns&&o.name==="error"||o instanceof gc||o instanceof Pd)return!1;const n=o instanceof Zi||o instanceof es;let a=!0;return o.eachChild(c=>{a=n?a&&Yp(c):a&&c instanceof hi}),!!a&&Qi(o)&&gi(o,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Md(o,n){const a=o.length-1;let c,u,h=0,x=a,y=0;for(;h<=x;)if(y=Math.floor((h+x)/2),c=o[y],u=o[y+1],c<=n){if(y===a||n<u)return y;h=y+1}else{if(!(c>n))throw new jo("Input is not a number.");x=y-1}return 0}class kd{constructor(n,a,c){this.type=n,this.input=a,this.labels=[],this.outputs=[];for(const[u,h]of c)this.labels.push(u),this.outputs.push(h)}static parse(n,a){if(n.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return a.error("Expected an even number of arguments.");const c=a.parse(n[1],1,he);if(!c)return null;const u=[];let h=null;a.expectedType&&a.expectedType.kind!=="value"&&(h=a.expectedType);for(let x=1;x<n.length;x+=2){const y=x===1?-1/0:n[x],A=n[x+1],T=x,D=x+1;if(typeof y!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',T);if(u.length&&u[u.length-1][0]>=y)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',T);const k=a.parse(A,D,h);if(!k)return null;h=h||k.type,u.push([y,k])}return new kd(h,c,u)}evaluate(n){const a=this.labels,c=this.outputs;if(a.length===1)return c[0].evaluate(n);const u=this.input.evaluate(n);if(u<=a[0])return c[0].evaluate(n);const h=a.length;return u>=a[h-1]?c[h-1].evaluate(n):c[Md(a,u)].evaluate(n)}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let a=0;a<this.labels.length;a++)a>0&&n.push(this.labels[a]),n.push(this.outputs[a].serialize());return n}}var Qp=kd;function sn(o,n,a){return o*(1-a)+n*a}var yc=Object.freeze({__proto__:null,array:function(o,n,a){return o.map((c,u)=>sn(c,n[u],a))},color:function(o,n,a){return new eo(sn(o.r,n.r,a),sn(o.g,n.g,a),sn(o.b,n.b,a),sn(o.a,n.a,a))},number:sn});const Zf=.95047,Jp=1.08883,Xf=4/29,xi=6/29,tm=3*xi*xi,j2=xi*xi*xi,O2=Math.PI/180,V2=180/Math.PI;function em(o){return o>j2?Math.pow(o,1/3):o/tm+Xf}function nm(o){return o>xi?o*o*o:tm*(o-Xf)}function om(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Bd(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function Kf(o){const n=Bd(o.r),a=Bd(o.g),c=Bd(o.b),u=em((.4124564*n+.3575761*a+.1804375*c)/Zf),h=em((.2126729*n+.7151522*a+.072175*c)/1);return{l:116*h-16,a:500*(u-h),b:200*(h-em((.0193339*n+.119192*a+.9503041*c)/Jp)),alpha:o.a}}function Yf(o){let n=(o.l+16)/116,a=isNaN(o.a)?n:n+o.a/500,c=isNaN(o.b)?n:n-o.b/200;return n=1*nm(n),a=Zf*nm(a),c=Jp*nm(c),new eo(om(3.2404542*a-1.5371385*n-.4985314*c),om(-.969266*a+1.8760108*n+.041556*c),om(.0556434*a-.2040259*n+1.0572252*c),o.alpha)}function U2(o,n,a){const c=n-o;return o+a*(c>180||c<-180?c-360*Math.round(c/360):c)}const _c={forward:Kf,reverse:Yf,interpolate:function(o,n,a){return{l:sn(o.l,n.l,a),a:sn(o.a,n.a,a),b:sn(o.b,n.b,a),alpha:sn(o.alpha,n.alpha,a)}}},Ji={forward:function(o){const{l:n,a,b:c}=Kf(o),u=Math.atan2(c,a)*V2;return{h:u<0?u+360:u,c:Math.sqrt(a*a+c*c),l:n,alpha:o.a}},reverse:function(o){const n=o.h*O2,a=o.c;return Yf({l:o.l,a:Math.cos(n)*a,b:Math.sin(n)*a,alpha:o.alpha})},interpolate:function(o,n,a){return{h:U2(o.h,n.h,a),c:sn(o.c,n.c,a),l:sn(o.l,n.l,a),alpha:sn(o.alpha,n.alpha,a)}}};var am=Object.freeze({__proto__:null,hcl:Ji,lab:_c});class bc{constructor(n,a,c,u,h){this.type=n,this.operator=a,this.interpolation=c,this.input=u,this.labels=[],this.outputs=[];for(const[x,y]of h)this.labels.push(x),this.outputs.push(y)}static interpolationFactor(n,a,c,u){let h=0;if(n.name==="exponential")h=rm(a,n.base,c,u);else if(n.name==="linear")h=rm(a,1,c,u);else if(n.name==="cubic-bezier"){const x=n.controlPoints;h=new zt(x[0],x[1],x[2],x[3]).solve(rm(a,1,c,u))}return h}static parse(n,a){let[c,u,h,...x]=n;if(!Array.isArray(u)||u.length===0)return a.error("Expected an interpolation type expression.",1);if(u[0]==="linear")u={name:"linear"};else if(u[0]==="exponential"){const T=u[1];if(typeof T!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);u={name:"exponential",base:T}}else{if(u[0]!=="cubic-bezier")return a.error(`Unknown interpolation type ${String(u[0])}`,1,0);{const T=u.slice(1);if(T.length!==4||T.some(D=>typeof D!="number"||D<0||D>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);u={name:"cubic-bezier",controlPoints:T}}}if(n.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(h=a.parse(h,2,he),!h)return null;const y=[];let A=null;c==="interpolate-hcl"||c==="interpolate-lab"?A=Ea:a.expectedType&&a.expectedType.kind!=="value"&&(A=a.expectedType);for(let T=0;T<x.length;T+=2){const D=x[T],k=x[T+1],I=T+3,z=T+4;if(typeof D!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(y.length&&y[y.length-1][0]>=D)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const j=a.parse(k,z,A);if(!j)return null;A=A||j.type,y.push([D,j])}return A.kind==="number"||A.kind==="color"||A.kind==="array"&&A.itemType.kind==="number"&&typeof A.N=="number"?new bc(A,c,u,h,y):a.error(`Type ${Vn(A)} is not interpolatable.`)}evaluate(n){const a=this.labels,c=this.outputs;if(a.length===1)return c[0].evaluate(n);const u=this.input.evaluate(n);if(u<=a[0])return c[0].evaluate(n);const h=a.length;if(u>=a[h-1])return c[h-1].evaluate(n);const x=Md(a,u),y=bc.interpolationFactor(this.interpolation,u,a[x],a[x+1]),A=c[x].evaluate(n),T=c[x+1].evaluate(n);return this.operator==="interpolate"?yc[this.type.kind.toLowerCase()](A,T,y):this.operator==="interpolate-hcl"?Ji.reverse(Ji.interpolate(Ji.forward(A),Ji.forward(T),y)):_c.reverse(_c.interpolate(_c.forward(A),_c.forward(T),y))}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const a=[this.operator,n,this.input.serialize()];for(let c=0;c<this.labels.length;c++)a.push(this.labels[c],this.outputs[c].serialize());return a}}function rm(o,n,a,c){const u=c-a,h=o-a;return u===0?0:n===1?h/u:(Math.pow(n,h)-1)/(Math.pow(n,u)-1)}var Pr=bc;class Nd{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expectected at least one argument.");let c=null;const u=a.expectedType;u&&u.kind!=="value"&&(c=u);const h=[];for(const y of n.slice(1)){const A=a.parse(y,1+h.length,c,void 0,{typeAnnotation:"omit"});if(!A)return null;c=c||A.type,h.push(A)}const x=u&&h.some(y=>ts(u,y.type));return new Nd(x?Je:c,h)}evaluate(n){let a,c=null,u=0;for(const h of this.args){if(u++,c=h.evaluate(n),c&&c instanceof Va&&!c.available&&(a||(a=c),c=null,u===this.args.length))return a;if(c!==null)break}return c}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(a=>{n.push(a.serialize())}),n}}var sm=Nd;class Id{constructor(n,a){this.type=a.type,this.bindings=[].concat(n),this.result=a}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const a of this.bindings)n(a[1]);n(this.result)}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const c=[];for(let h=1;h<n.length-1;h+=2){const x=n[h];if(typeof x!="string")return a.error(`Expected string, but found ${typeof x} instead.`,h);if(/[^a-zA-Z0-9_]/.test(x))return a.error("Variable names must contain only alphanumeric characters or '_'.",h);const y=a.parse(n[h+1],h+1);if(!y)return null;c.push([x,y])}const u=a.parse(n[n.length-1],n.length-1,a.expectedType,c);return u?new Id(c,u):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[a,c]of this.bindings)n.push(a,c.serialize());return n.push(this.result.serialize()),n}}var Qf=Id;class im{constructor(n,a,c){this.type=n,this.index=a,this.input=c}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const c=a.parse(n[1],1,he),u=a.parse(n[2],2,Oa(a.expectedType||Je));return c&&u?new im(u.type.itemType,c,u):null}evaluate(n){const a=this.index.evaluate(n),c=this.input.evaluate(n);if(a<0)throw new jo(`Array index out of bounds: ${a} < 0.`);if(a>=c.length)throw new jo(`Array index out of bounds: ${a} > ${c.length-1}.`);if(a!==Math.floor(a))throw new jo(`Array index must be an integer, but found ${a} instead.`);return c[a]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var $2=im;class lm{constructor(n,a){this.type=Qe,this.needle=n,this.haystack=a}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const c=a.parse(n[1],1,Je),u=a.parse(n[2],2,Je);return c&&u?dc(c.type,[Qe,nn,he,Wi,Je])?new lm(c,u):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vn(c.type)} instead`):null}evaluate(n){const a=this.needle.evaluate(n),c=this.haystack.evaluate(n);if(c==null)return!1;if(!uc(a,["boolean","string","number","null"]))throw new jo(`Expected first argument to be of type boolean, string, number or null, but found ${Vn(Zn(a))} instead.`);if(!uc(c,["string","array"]))throw new jo(`Expected second argument to be of type array or string, but found ${Vn(Zn(c))} instead.`);return c.indexOf(a)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Fd=lm;class wc{constructor(n,a,c){this.type=he,this.needle=n,this.haystack=a,this.fromIndex=c}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const c=a.parse(n[1],1,Je),u=a.parse(n[2],2,Je);if(!c||!u)return null;if(!dc(c.type,[Qe,nn,he,Wi,Je]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vn(c.type)} instead`);if(n.length===4){const h=a.parse(n[3],3,he);return h?new wc(c,u,h):null}return new wc(c,u)}evaluate(n){const a=this.needle.evaluate(n),c=this.haystack.evaluate(n);if(!uc(a,["boolean","string","number","null"]))throw new jo(`Expected first argument to be of type boolean, string, number or null, but found ${Vn(Zn(a))} instead.`);if(!uc(c,["string","array"]))throw new jo(`Expected second argument to be of type array or string, but found ${Vn(Zn(c))} instead.`);if(this.fromIndex){const u=this.fromIndex.evaluate(n);return c.indexOf(a,u)}return c.indexOf(a)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Jf=wc;class cm{constructor(n,a,c,u,h,x){this.inputType=n,this.type=a,this.input=c,this.cases=u,this.outputs=h,this.otherwise=x}static parse(n,a){if(n.length<5)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return a.error("Expected an even number of arguments.");let c,u;a.expectedType&&a.expectedType.kind!=="value"&&(u=a.expectedType);const h={},x=[];for(let T=2;T<n.length-1;T+=2){let D=n[T];const k=n[T+1];Array.isArray(D)||(D=[D]);const I=a.concat(T);if(D.length===0)return I.error("Expected at least one branch label.");for(const j of D){if(typeof j!="number"&&typeof j!="string")return I.error("Branch labels must be numbers or strings.");if(typeof j=="number"&&Math.abs(j)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof j=="number"&&Math.floor(j)!==j)return I.error("Numeric branch labels must be integer values.");if(c){if(I.checkSubtype(c,Zn(j)))return null}else c=Zn(j);if(h[String(j)]!==void 0)return I.error("Branch labels must be unique.");h[String(j)]=x.length}const z=a.parse(k,T,u);if(!z)return null;u=u||z.type,x.push(z)}const y=a.parse(n[1],1,Je);if(!y)return null;const A=a.parse(n[n.length-1],n.length-1,u);return A?y.type.kind!=="value"&&a.concat(1).checkSubtype(c,y.type)?null:new cm(c,u,y,h,x,A):null}evaluate(n){const a=this.input.evaluate(n);return(Zn(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],a=Object.keys(this.cases).sort(),c=[],u={};for(const x of a){const y=u[this.cases[x]];y===void 0?(u[this.cases[x]]=c.length,c.push([this.cases[x],[x]])):c[y][1].push(x)}const h=x=>this.inputType.kind==="number"?Number(x):x;for(const[x,y]of c)n.push(y.length===1?h(y[0]):y.map(h)),n.push(this.outputs[x].serialize());return n.push(this.otherwise.serialize()),n}}var G2=cm;class dm{constructor(n,a,c){this.type=n,this.branches=a,this.otherwise=c}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return a.error("Expected an odd number of arguments.");let c;a.expectedType&&a.expectedType.kind!=="value"&&(c=a.expectedType);const u=[];for(let x=1;x<n.length-1;x+=2){const y=a.parse(n[x],x,Qe);if(!y)return null;const A=a.parse(n[x+1],x+1,c);if(!A)return null;u.push([y,A]),c=c||A.type}const h=a.parse(n[n.length-1],n.length-1,c);return h?new dm(c,u,h):null}evaluate(n){for(const[a,c]of this.branches)if(a.evaluate(n))return c.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[a,c]of this.branches)n(a),n(c);n(this.otherwise)}outputDefined(){return this.branches.every(([n,a])=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(a=>{n.push(a.serialize())}),n}}var t0=dm;class Cc{constructor(n,a,c,u){this.type=n,this.input=a,this.beginIndex=c,this.endIndex=u}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const c=a.parse(n[1],1,Je),u=a.parse(n[2],2,he);if(!c||!u)return null;if(!dc(c.type,[Oa(Je),nn,Je]))return a.error(`Expected first argument to be of type array or string, but found ${Vn(c.type)} instead`);if(n.length===4){const h=a.parse(n[3],3,he);return h?new Cc(c.type,c,u,h):null}return new Cc(c.type,c,u)}evaluate(n){const a=this.input.evaluate(n),c=this.beginIndex.evaluate(n);if(!uc(a,["string","array"]))throw new jo(`Expected first argument to be of type array or string, but found ${Vn(Zn(a))} instead.`);if(this.endIndex){const u=this.endIndex.evaluate(n);return a.slice(c,u)}return a.slice(c)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var e0=Cc;function Rd(o,n){return o==="=="||o==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function n0(o,n,a,c){return c.compare(n,a)===0}function tl(o,n,a){const c=o!=="=="&&o!=="!=";return class $B{constructor(h,x,y){this.type=Qe,this.lhs=h,this.rhs=x,this.collator=y,this.hasUntypedArgument=h.type.kind==="value"||x.type.kind==="value"}static parse(h,x){if(h.length!==3&&h.length!==4)return x.error("Expected two or three arguments.");const y=h[0];let A=x.parse(h[1],1,Je);if(!A)return null;if(!Rd(y,A.type))return x.concat(1).error(`"${y}" comparisons are not supported for type '${Vn(A.type)}'.`);let T=x.parse(h[2],2,Je);if(!T)return null;if(!Rd(y,T.type))return x.concat(2).error(`"${y}" comparisons are not supported for type '${Vn(T.type)}'.`);if(A.type.kind!==T.type.kind&&A.type.kind!=="value"&&T.type.kind!=="value")return x.error(`Cannot compare types '${Vn(A.type)}' and '${Vn(T.type)}'.`);c&&(A.type.kind==="value"&&T.type.kind!=="value"?A=new es(T.type,[A]):A.type.kind!=="value"&&T.type.kind==="value"&&(T=new es(A.type,[T])));let D=null;if(h.length===4){if(A.type.kind!=="string"&&T.type.kind!=="string"&&A.type.kind!=="value"&&T.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(D=x.parse(h[3],3,Pa),!D)return null}return new $B(A,T,D)}evaluate(h){const x=this.lhs.evaluate(h),y=this.rhs.evaluate(h);if(c&&this.hasUntypedArgument){const A=Zn(x),T=Zn(y);if(A.kind!==T.kind||A.kind!=="string"&&A.kind!=="number")throw new jo(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${A.kind}, ${T.kind}) instead.`)}if(this.collator&&!c&&this.hasUntypedArgument){const A=Zn(x),T=Zn(y);if(A.kind!=="string"||T.kind!=="string")return n(h,x,y)}return this.collator?a(h,x,y,this.collator.evaluate(h)):n(h,x,y)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[o];return this.eachChild(x=>{h.push(x.serialize())}),h}}}const q2=tl("==",function(o,n,a){return n===a},n0),W2=tl("!=",function(o,n,a){return n!==a},function(o,n,a,c){return!n0(0,n,a,c)}),H2=tl("<",function(o,n,a){return n<a},function(o,n,a,c){return c.compare(n,a)<0}),Z2=tl(">",function(o,n,a){return n>a},function(o,n,a,c){return c.compare(n,a)>0}),X2=tl("<=",function(o,n,a){return n<=a},function(o,n,a,c){return c.compare(n,a)<=0}),o0=tl(">=",function(o,n,a){return n>=a},function(o,n,a,c){return c.compare(n,a)>=0});class Ld{constructor(n,a,c,u,h,x){this.type=nn,this.number=n,this.locale=a,this.currency=c,this.unit=u,this.minFractionDigits=h,this.maxFractionDigits=x}static parse(n,a){if(n.length!==3)return a.error("Expected two arguments.");const c=a.parse(n[1],1,he);if(!c)return null;const u=n[2];if(typeof u!="object"||Array.isArray(u))return a.error("NumberFormat options argument must be an object.");let h=null;if(u.locale&&(h=a.parse(u.locale,1,nn),!h))return null;let x=null;if(u.currency&&(x=a.parse(u.currency,1,nn),!x))return null;let y=null;if(u.unit&&(y=a.parse(u.unit,1,nn),!y))return null;let A=null;if(u["min-fraction-digits"]&&(A=a.parse(u["min-fraction-digits"],1,he),!A))return null;let T=null;return u["max-fraction-digits"]&&(T=a.parse(u["max-fraction-digits"],1,he),!T)?null:new Ld(c,h,x,y,A,T)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class el{constructor(n){this.type=he,this.input=n}static parse(n,a){if(n.length!==2)return a.error(`Expected 1 argument, but found ${n.length-1} instead.`);const c=a.parse(n[1],1);return c?c.type.kind!=="array"&&c.type.kind!=="string"&&c.type.kind!=="value"?a.error(`Expected argument of type string or array, but found ${Vn(c.type)} instead.`):new el(c):null}evaluate(n){const a=this.input.evaluate(n);if(typeof a=="string"||Array.isArray(a))return a.length;throw new jo(`Expected value to be of type string or array, but found ${Vn(Zn(a))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(a=>{n.push(a.serialize())}),n}}const a0={"==":q2,"!=":W2,">":Z2,"<":H2,">=":o0,"<=":X2,array:es,at:$2,boolean:es,case:t0,coalesce:sm,collator:gc,format:Ls,image:Td,in:Fd,"index-of":Jf,interpolate:Pr,"interpolate-hcl":Pr,"interpolate-lab":Pr,length:el,let:Qf,literal:hi,match:G2,number:es,"number-format":Ld,object:es,slice:e0,step:Qp,string:es,"to-boolean":Zi,"to-color":Zi,"to-number":Zi,"to-string":Zi,var:Hf,within:Pd};function r0(o,[n,a,c,u]){n=n.evaluate(o),a=a.evaluate(o),c=c.evaluate(o);const h=u?u.evaluate(o):1,x=$f(n,a,c,h);if(x)throw new jo(x);return new eo(n/255*h,a/255*h,c/255*h,h)}function rs(o,n){return o in n}function zd(o,n){const a=n[o];return a===void 0?null:a}function Ua(o){return{type:o}}ns.register(a0,{error:[{kind:"error"},[nn],(o,[n])=>{throw new jo(n.evaluate(o))}],typeof:[nn,[Je],(o,[n])=>Vn(Zn(n.evaluate(o)))],"to-rgba":[Oa(he,4),[Ea],(o,[n])=>n.evaluate(o).toArray()],rgb:[Ea,[he,he,he],r0],rgba:[Ea,[he,he,he,he],r0],has:{type:Qe,overloads:[[[nn],(o,[n])=>rs(n.evaluate(o),o.properties())],[[nn,ar],(o,[n,a])=>rs(n.evaluate(o),a.evaluate(o))]]},get:{type:Je,overloads:[[[nn],(o,[n])=>zd(n.evaluate(o),o.properties())],[[nn,ar],(o,[n,a])=>zd(n.evaluate(o),a.evaluate(o))]]},"feature-state":[Je,[nn],(o,[n])=>zd(n.evaluate(o),o.featureState||{})],properties:[ar,[],o=>o.properties()],"geometry-type":[nn,[],o=>o.geometryType()],id:[Je,[],o=>o.id()],zoom:[he,[],o=>o.globals.zoom],pitch:[he,[],o=>o.globals.pitch||0],"distance-from-center":[he,[],o=>o.distanceFromCenter()],"heatmap-density":[he,[],o=>o.globals.heatmapDensity||0],"line-progress":[he,[],o=>o.globals.lineProgress||0],"sky-radial-progress":[he,[],o=>o.globals.skyRadialProgress||0],accumulated:[Je,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[he,Ua(he),(o,n)=>{let a=0;for(const c of n)a+=c.evaluate(o);return a}],"*":[he,Ua(he),(o,n)=>{let a=1;for(const c of n)a*=c.evaluate(o);return a}],"-":{type:he,overloads:[[[he,he],(o,[n,a])=>n.evaluate(o)-a.evaluate(o)],[[he],(o,[n])=>-n.evaluate(o)]]},"/":[he,[he,he],(o,[n,a])=>n.evaluate(o)/a.evaluate(o)],"%":[he,[he,he],(o,[n,a])=>n.evaluate(o)%a.evaluate(o)],ln2:[he,[],()=>Math.LN2],pi:[he,[],()=>Math.PI],e:[he,[],()=>Math.E],"^":[he,[he,he],(o,[n,a])=>Math.pow(n.evaluate(o),a.evaluate(o))],sqrt:[he,[he],(o,[n])=>Math.sqrt(n.evaluate(o))],log10:[he,[he],(o,[n])=>Math.log(n.evaluate(o))/Math.LN10],ln:[he,[he],(o,[n])=>Math.log(n.evaluate(o))],log2:[he,[he],(o,[n])=>Math.log(n.evaluate(o))/Math.LN2],sin:[he,[he],(o,[n])=>Math.sin(n.evaluate(o))],cos:[he,[he],(o,[n])=>Math.cos(n.evaluate(o))],tan:[he,[he],(o,[n])=>Math.tan(n.evaluate(o))],asin:[he,[he],(o,[n])=>Math.asin(n.evaluate(o))],acos:[he,[he],(o,[n])=>Math.acos(n.evaluate(o))],atan:[he,[he],(o,[n])=>Math.atan(n.evaluate(o))],min:[he,Ua(he),(o,n)=>Math.min(...n.map(a=>a.evaluate(o)))],max:[he,Ua(he),(o,n)=>Math.max(...n.map(a=>a.evaluate(o)))],abs:[he,[he],(o,[n])=>Math.abs(n.evaluate(o))],round:[he,[he],(o,[n])=>{const a=n.evaluate(o);return a<0?-Math.round(-a):Math.round(a)}],floor:[he,[he],(o,[n])=>Math.floor(n.evaluate(o))],ceil:[he,[he],(o,[n])=>Math.ceil(n.evaluate(o))],"filter-==":[Qe,[nn,Je],(o,[n,a])=>o.properties()[n.value]===a.value],"filter-id-==":[Qe,[Je],(o,[n])=>o.id()===n.value],"filter-type-==":[Qe,[nn],(o,[n])=>o.geometryType()===n.value],"filter-<":[Qe,[nn,Je],(o,[n,a])=>{const c=o.properties()[n.value],u=a.value;return typeof c==typeof u&&c<u}],"filter-id-<":[Qe,[Je],(o,[n])=>{const a=o.id(),c=n.value;return typeof a==typeof c&&a<c}],"filter->":[Qe,[nn,Je],(o,[n,a])=>{const c=o.properties()[n.value],u=a.value;return typeof c==typeof u&&c>u}],"filter-id->":[Qe,[Je],(o,[n])=>{const a=o.id(),c=n.value;return typeof a==typeof c&&a>c}],"filter-<=":[Qe,[nn,Je],(o,[n,a])=>{const c=o.properties()[n.value],u=a.value;return typeof c==typeof u&&c<=u}],"filter-id-<=":[Qe,[Je],(o,[n])=>{const a=o.id(),c=n.value;return typeof a==typeof c&&a<=c}],"filter->=":[Qe,[nn,Je],(o,[n,a])=>{const c=o.properties()[n.value],u=a.value;return typeof c==typeof u&&c>=u}],"filter-id->=":[Qe,[Je],(o,[n])=>{const a=o.id(),c=n.value;return typeof a==typeof c&&a>=c}],"filter-has":[Qe,[Je],(o,[n])=>n.value in o.properties()],"filter-has-id":[Qe,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[Qe,[Oa(nn)],(o,[n])=>n.value.indexOf(o.geometryType())>=0],"filter-id-in":[Qe,[Oa(Je)],(o,[n])=>n.value.indexOf(o.id())>=0],"filter-in-small":[Qe,[nn,Oa(Je)],(o,[n,a])=>a.value.indexOf(o.properties()[n.value])>=0],"filter-in-large":[Qe,[nn,Oa(Je)],(o,[n,a])=>function(c,u,h,x){for(;h<=x;){const y=h+x>>1;if(u[y]===c)return!0;u[y]>c?x=y-1:h=y+1}return!1}(o.properties()[n.value],a.value,0,a.value.length-1)],all:{type:Qe,overloads:[[[Qe,Qe],(o,[n,a])=>n.evaluate(o)&&a.evaluate(o)],[Ua(Qe),(o,n)=>{for(const a of n)if(!a.evaluate(o))return!1;return!0}]]},any:{type:Qe,overloads:[[[Qe,Qe],(o,[n,a])=>n.evaluate(o)||a.evaluate(o)],[Ua(Qe),(o,n)=>{for(const a of n)if(a.evaluate(o))return!0;return!1}]]},"!":[Qe,[Qe],(o,[n])=>!n.evaluate(o)],"is-supported-script":[Qe,[nn],(o,[n])=>{const a=o.globals&&o.globals.isSupportedScript;return!a||a(n.evaluate(o))}],upcase:[nn,[nn],(o,[n])=>n.evaluate(o).toUpperCase()],downcase:[nn,[nn],(o,[n])=>n.evaluate(o).toLowerCase()],concat:[nn,Ua(Je),(o,n)=>n.map(a=>fc(a.evaluate(o))).join("")],"resolved-locale":[nn,[Pa],(o,[n])=>n.evaluate(o).resolvedLocale()]});var Ac=a0;function s0(o){return{result:"success",value:o}}function vi(o){return{result:"error",value:o}}function nl(o){return o["property-type"]==="data-driven"}function jd(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Od(o){return!!o.expression&&o.expression.interpolated}function dn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function Tc(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function i0(o){return o}function Vd(o,n){const a=n.type==="color",c=o.stops&&typeof o.stops[0][0]=="object",u=c||!(c||o.property!==void 0),h=o.type||(Od(n)?"exponential":"interval");if(a&&((o=Jr({},o)).stops&&(o.stops=o.stops.map(T=>[T[0],eo.parse(T[1])])),o.default=eo.parse(o.default?o.default:n.default)),o.colorSpace&&o.colorSpace!=="rgb"&&!am[o.colorSpace])throw new Error(`Unknown color space: ${o.colorSpace}`);let x,y,A;if(h==="exponential")x=ss;else if(h==="interval")x=Ud;else if(h==="categorical"){x=l0,y=Object.create(null);for(const T of o.stops)y[T[0]]=T[1];A=typeof o.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);x=c0}if(c){const T={},D=[];for(let z=0;z<o.stops.length;z++){const j=o.stops[z],G=j[0].zoom;T[G]===void 0&&(T[G]={zoom:G,type:o.type,property:o.property,default:o.default,stops:[]},D.push(G)),T[G].stops.push([j[0].value,j[1]])}const k=[];for(const z of D)k.push([T[z].zoom,Vd(T[z],n)]);const I={name:"linear"};return{kind:"composite",interpolationType:I,interpolationFactor:Pr.interpolationFactor.bind(void 0,I),zoomStops:k.map(z=>z[0]),evaluate:({zoom:z},j)=>ss({stops:k,base:o.base},n,z).evaluate(z,j)}}if(u){const T=h==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:T,interpolationFactor:Pr.interpolationFactor.bind(void 0,T),zoomStops:o.stops.map(D=>D[0]),evaluate:({zoom:D})=>x(o,n,D,y,A)}}return{kind:"source",evaluate(T,D){const k=D&&D.properties?D.properties[o.property]:void 0;return k===void 0?ol(o.default,n.default):x(o,n,k,y,A)}}}function ol(o,n,a){return o!==void 0?o:n!==void 0?n:a!==void 0?a:void 0}function l0(o,n,a,c,u){return ol(typeof a===u?c[a]:void 0,o.default,n.default)}function Ud(o,n,a){if(dn(a)!=="number")return ol(o.default,n.default);const c=o.stops.length;if(c===1||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[c-1][0])return o.stops[c-1][1];const u=Md(o.stops.map(h=>h[0]),a);return o.stops[u][1]}function ss(o,n,a){const c=o.base!==void 0?o.base:1;if(dn(a)!=="number")return ol(o.default,n.default);const u=o.stops.length;if(u===1||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[u-1][0])return o.stops[u-1][1];const h=Md(o.stops.map(D=>D[0]),a),x=function(D,k,I,z){const j=z-I,G=D-I;return j===0?0:k===1?G/j:(Math.pow(k,G)-1)/(Math.pow(k,j)-1)}(a,c,o.stops[h][0],o.stops[h+1][0]),y=o.stops[h][1],A=o.stops[h+1][1];let T=yc[n.type]||i0;if(o.colorSpace&&o.colorSpace!=="rgb"){const D=am[o.colorSpace];T=(k,I)=>D.reverse(D.interpolate(D.forward(k),D.forward(I),x))}return typeof y.evaluate=="function"?{evaluate(...D){const k=y.evaluate.apply(void 0,D),I=A.evaluate.apply(void 0,D);if(k!==void 0&&I!==void 0)return T(k,I,x)}}:T(y,A,x)}function c0(o,n,a){return n.type==="color"?a=eo.parse(a):n.type==="formatted"?a=ua.fromString(a.toString()):n.type==="resolvedImage"?a=Va.fromString(a.toString()):dn(a)===n.type||n.type==="enum"&&n.values[a]||(a=void 0),ol(a,o.default,n.default)}class $d{constructor(n,a){this.expression=n,this._warningHistory={},this._evaluator=new Gp,this._defaultValue=a?function(c){return c.type==="color"&&(Tc(c.default)||Array.isArray(c.default))?new eo(0,0,0,0):c.type==="color"?eo.parse(c.default)||null:c.default===void 0?null:c.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null}evaluateWithoutErrorHandling(n,a,c,u,h,x,y,A){return this._evaluator.globals=n,this._evaluator.feature=a,this._evaluator.featureState=c,this._evaluator.canonical=u||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=x,this._evaluator.featureTileCoord=y||null,this._evaluator.featureDistanceData=A||null,this.expression.evaluate(this._evaluator)}evaluate(n,a,c,u,h,x,y,A){this._evaluator.globals=n,this._evaluator.feature=a||null,this._evaluator.featureState=c||null,this._evaluator.canonical=u||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=x||null,this._evaluator.featureTileCoord=y||null,this._evaluator.featureDistanceData=A||null;try{const T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new jo(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(T)} instead.`);return T}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,typeof console<"u"&&console.warn(T.message)),this._defaultValue}}}function al(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in Ac}function rl(o,n){const a=new Kp(Ac,[],n?function(u){const h={color:Ea,string:nn,number:he,enum:nn,boolean:Qe,formatted:cc,resolvedImage:mi};return u.type==="array"?Oa(h[u.value]||Je,u.length):h[u.type]}(n):void 0),c=a.parse(o,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?s0(new $d(c,n)):vi(a.errors)}class um{constructor(n,a){this.kind=n,this._styleExpression=a,this.isStateDependent=n!=="constant"&&!as(a.expression)}evaluateWithoutErrorHandling(n,a,c,u,h,x){return this._styleExpression.evaluateWithoutErrorHandling(n,a,c,u,h,x)}evaluate(n,a,c,u,h,x){return this._styleExpression.evaluate(n,a,c,u,h,x)}}class Sc{constructor(n,a,c,u){this.kind=n,this.zoomStops=c,this._styleExpression=a,this.isStateDependent=n!=="camera"&&!as(a.expression),this.interpolationType=u}evaluateWithoutErrorHandling(n,a,c,u,h,x){return this._styleExpression.evaluateWithoutErrorHandling(n,a,c,u,h,x)}evaluate(n,a,c,u,h,x){return this._styleExpression.evaluate(n,a,c,u,h,x)}interpolationFactor(n,a,c){return this.interpolationType?Pr.interpolationFactor(this.interpolationType,n,a,c):0}}function Ec(o,n){if((o=rl(o,n)).result==="error")return o;const a=o.value.expression,c=Qi(a);if(!c&&!nl(n))return vi([new Sr("","data expressions not supported")]);const u=gi(a,["zoom","pitch","distance-from-center"]);if(!u&&!jd(n))return vi([new Sr("","zoom expressions not supported")]);const h=qd(a);return h||u?h instanceof Sr?vi([h]):h instanceof Pr&&!Od(n)?vi([new Sr("",'"interpolate" expressions cannot be used with this property')]):s0(h?new Sc(c?"camera":"composite",o.value,h.labels,h instanceof Pr?h.interpolation:void 0):new um(c?"constant":"source",o.value)):vi([new Sr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Gd{constructor(n,a){this._parameters=n,this._specification=a,Jr(this,Vd(this._parameters,this._specification))}static deserialize(n){return new Gd(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function qd(o){let n=null;if(o instanceof Qf)n=qd(o.result);else if(o instanceof sm){for(const a of o.args)if(n=qd(a),n)break}else(o instanceof Qp||o instanceof Pr)&&o.input instanceof ns&&o.input.name==="zoom"&&(n=o);return n instanceof Sr||o.eachChild(a=>{const c=qd(a);c instanceof Sr?n=c:!n&&c?n=new Sr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&c&&n!==c&&(n=new Sr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}class ge{constructor(n,a,c,u){this.message=(n?`${n}: `:"")+c,u&&(this.identifier=u),a!=null&&a.__line__&&(this.line=a.__line__)}}function rr(o){const n=o.key,a=o.value,c=o.valueSpec||{},u=o.objectElementValidators||{},h=o.style,x=o.styleSpec;let y=[];const A=dn(a);if(A!=="object")return[new ge(n,a,`object expected, ${A} found`)];for(const T in a){const D=T.split(".")[0];let k;u[D]?k=u[D]:c[D]?k=Xo:u["*"]?k=u["*"]:c["*"]&&(k=Xo),k?y=y.concat(k({key:(n&&`${n}.`)+T,value:a[T],valueSpec:c[D]||c["*"],style:h,styleSpec:x,object:a,objectKey:T},a)):y.push(new ge(n,a[T],`unknown property "${T}"`))}for(const T in c)u[T]||c[T].required&&c[T].default===void 0&&a[T]===void 0&&y.push(new ge(n,a,`missing required property "${T}"`));return y}function d0(o){const n=o.value,a=o.valueSpec,c=o.style,u=o.styleSpec,h=o.key,x=o.arrayElementValidator||Xo;if(dn(n)!=="array")return[new ge(h,n,`array expected, ${dn(n)} found`)];if(a.length&&n.length!==a.length)return[new ge(h,n,`array length ${a.length} expected, length ${n.length} found`)];if(a["min-length"]&&n.length<a["min-length"])return[new ge(h,n,`array length at least ${a["min-length"]} expected, length ${n.length} found`)];let y={type:a.value,values:a.values,minimum:a.minimum,maximum:a.maximum,function:void 0};u.$version<7&&(y.function=a.function),dn(a.value)==="object"&&(y=a.value);let A=[];for(let T=0;T<n.length;T++)A=A.concat(x({array:n,arrayIndex:T,value:n[T],valueSpec:y,style:c,styleSpec:u,key:`${h}[${T}]`}));return A}function Pc(o){const n=o.key,a=o.value,c=o.valueSpec;let u=dn(a);if(u==="number"&&a!=a&&(u="NaN"),u!=="number")return[new ge(n,a,`number expected, ${u} found`)];if("minimum"in c){let h=c.minimum;if(dn(c.minimum)==="array"&&(h=c.minimum[o.arrayIndex]),a<h)return[new ge(n,a,`${a} is less than the minimum value ${h}`)]}if("maximum"in c){let h=c.maximum;if(dn(c.maximum)==="array"&&(h=c.maximum[o.arrayIndex]),a>h)return[new ge(n,a,`${a} is greater than the maximum value ${h}`)]}return[]}function Dc(o){const n=o.valueSpec,a=so(o.value.type);let c,u,h,x={};const y=a!=="categorical"&&o.value.property===void 0,A=!y,T=dn(o.value.stops)==="array"&&dn(o.value.stops[0])==="array"&&dn(o.value.stops[0][0])==="object",D=rr({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(z){if(a==="identity")return[new ge(z.key,z.value,'identity function may not have a "stops" property')];let j=[];const G=z.value;return j=j.concat(d0({key:z.key,value:G,valueSpec:z.valueSpec,style:z.style,styleSpec:z.styleSpec,arrayElementValidator:k})),dn(G)==="array"&&G.length===0&&j.push(new ge(z.key,G,"array must have at least one stop")),j},default:function(z){return Xo({key:z.key,value:z.value,valueSpec:n,style:z.style,styleSpec:z.styleSpec})}}});return a==="identity"&&y&&D.push(new ge(o.key,o.value,'missing required property "property"')),a==="identity"||o.value.stops||D.push(new ge(o.key,o.value,'missing required property "stops"')),a==="exponential"&&o.valueSpec.expression&&!Od(o.valueSpec)&&D.push(new ge(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(A&&!nl(o.valueSpec)?D.push(new ge(o.key,o.value,"property functions not supported")):y&&!jd(o.valueSpec)&&D.push(new ge(o.key,o.value,"zoom functions not supported"))),a!=="categorical"&&!T||o.value.property!==void 0||D.push(new ge(o.key,o.value,'"property" property is required')),D;function k(z){let j=[];const G=z.value,J=z.key;if(dn(G)!=="array")return[new ge(J,G,`array expected, ${dn(G)} found`)];if(G.length!==2)return[new ge(J,G,`array length 2 expected, length ${G.length} found`)];if(T){if(dn(G[0])!=="object")return[new ge(J,G,`object expected, ${dn(G[0])} found`)];if(G[0].zoom===void 0)return[new ge(J,G,"object stop key must have zoom")];if(G[0].value===void 0)return[new ge(J,G,"object stop key must have value")];const st=so(G[0].zoom);if(typeof st!="number")return[new ge(J,G[0].zoom,"stop zoom values must be numbers")];if(h&&h>st)return[new ge(J,G[0].zoom,"stop zoom values must appear in ascending order")];st!==h&&(h=st,u=void 0,x={}),j=j.concat(rr({key:`${J}[0]`,value:G[0],valueSpec:{zoom:{}},style:z.style,styleSpec:z.styleSpec,objectElementValidators:{zoom:Pc,value:I}}))}else j=j.concat(I({key:`${J}[0]`,value:G[0],valueSpec:{},style:z.style,styleSpec:z.styleSpec},G));return al(Bo(G[1]))?j.concat([new ge(`${J}[1]`,G[1],"expressions are not allowed in function stops.")]):j.concat(Xo({key:`${J}[1]`,value:G[1],valueSpec:n,style:z.style,styleSpec:z.styleSpec}))}function I(z,j){const G=dn(z.value),J=so(z.value),st=z.value!==null?z.value:j;if(c){if(G!==c)return[new ge(z.key,st,`${G} stop domain type must match previous stop domain type ${c}`)]}else c=G;if(G!=="number"&&G!=="string"&&G!=="boolean"&&typeof J!="number"&&typeof J!="string"&&typeof J!="boolean")return[new ge(z.key,st,"stop domain value must be a number, string, or boolean")];if(G!=="number"&&a!=="categorical"){let ht=`number expected, ${G} found`;return nl(n)&&a===void 0&&(ht+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ge(z.key,st,ht)]}return a!=="categorical"||G!=="number"||typeof J=="number"&&isFinite(J)&&Math.floor(J)===J?a!=="categorical"&&G==="number"&&typeof J=="number"&&typeof u=="number"&&u!==void 0&&J<u?[new ge(z.key,st,"stop domain values must appear in ascending order")]:(u=J,a==="categorical"&&J in x?[new ge(z.key,st,"stop domain values must be unique")]:(x[J]=!0,[])):[new ge(z.key,st,`integer expected, found ${String(J)}`)]}}function No(o){const n=(o.expressionContext==="property"?Ec:rl)(Bo(o.value),o.valueSpec);if(n.result==="error")return n.value.map(c=>new ge(`${o.key}${c.key}`,o.value,c.message));const a=n.value.expression||n.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!a.outputDefined())return[new ge(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!as(a))return[new ge(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter")return Mc(a,o);if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!gi(a,["zoom","feature-state"]))return[new ge(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Qi(a))return[new ge(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Mc(o,n){const a=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const u of n.valueSpec.expression.parameters)a.delete(u);if(a.size===0)return[];const c=[];return o instanceof ns&&a.has(o.name)?[new ge(n.key,n.value,`["${o.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(o.eachChild(u=>{c.push(...Mc(u,n))}),c)}function Wd(o){const n=o.key,a=o.value,c=o.valueSpec,u=[];return Array.isArray(c.values)?c.values.indexOf(so(a))===-1&&u.push(new ge(n,a,`expected one of [${c.values.join(", ")}], ${JSON.stringify(a)} found`)):Object.keys(c.values).indexOf(so(a))===-1&&u.push(new ge(n,a,`expected one of [${Object.keys(c.values).join(", ")}], ${JSON.stringify(a)} found`)),u}function pm(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const n of o.slice(1))if(!pm(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Hd(o,n="fill"){if(o==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};pm(o)||(o=il(o));const a=o;let c=!0;try{c=function(T){if(!sl(T))return T;let D=Bo(T);return Zd(D),D=u0(D),D}(a)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(a,null,2)}
        `)}const u=Ut[`filter_${n}`],h=rl(c,u);let x=null;if(h.result==="error")throw new Error(h.value.map(T=>`${T.key}: ${T.message}`).join(", "));x=(T,D,k)=>h.value.evaluate(T,D,{},k);let y=null,A=null;if(c!==a){const T=rl(a,u);if(T.result==="error")throw new Error(T.value.map(D=>`${D.key}: ${D.message}`).join(", "));y=(D,k,I,z,j)=>T.value.evaluate(D,k,{},I,void 0,void 0,z,j),A=!Qi(T.value.expression)}return{filter:x,dynamicFilter:y||void 0,needGeometry:p0(c),needFeature:!!A}}function u0(o){if(!Array.isArray(o))return o;const n=function(a){if(mm.has(a[0])){for(let c=1;c<a.length;c++)if(sl(a[c]))return!0}return a}(o);return n===!0?n:n.map(a=>u0(a))}function Zd(o){let n=!1;const a=[];if(o[0]==="case"){for(let c=1;c<o.length-1;c+=2)n=n||sl(o[c]),a.push(o[c+1]);a.push(o[o.length-1])}else if(o[0]==="match"){n=n||sl(o[1]);for(let c=2;c<o.length-1;c+=2)a.push(o[c+1]);a.push(o[o.length-1])}else if(o[0]==="step"){n=n||sl(o[1]);for(let c=1;c<o.length-1;c+=2)a.push(o[c+1])}n&&(o.length=0,o.push("any",...a));for(let c=1;c<o.length;c++)Zd(o[c])}function sl(o){if(!Array.isArray(o))return!1;if((n=o[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let a=1;a<o.length;a++)if(sl(o[a]))return!0;return!1}const mm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function K2(o,n){return o<n?-1:o>n?1:0}function p0(o){if(!Array.isArray(o))return!1;if(o[0]==="within")return!0;for(let n=1;n<o.length;n++)if(p0(o[n]))return!0;return!1}function il(o){if(!o)return!0;const n=o[0];return o.length<=1?n!=="any":n==="=="?hm(o[1],o[2],"=="):n==="!="?Xd(hm(o[1],o[2],"==")):n==="<"||n===">"||n==="<="||n===">="?hm(o[1],o[2],n):n==="any"?(a=o.slice(1),["any"].concat(a.map(il))):n==="all"?["all"].concat(o.slice(1).map(il)):n==="none"?["all"].concat(o.slice(1).map(il).map(Xd)):n==="in"?fm(o[1],o.slice(2)):n==="!in"?Xd(fm(o[1],o.slice(2))):n==="has"?gm(o[1]):n==="!has"?Xd(gm(o[1])):n!=="within"||o;var a}function hm(o,n,a){switch(o){case"$type":return[`filter-type-${a}`,n];case"$id":return[`filter-id-${a}`,n];default:return[`filter-${a}`,o,n]}}function fm(o,n){if(n.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(a=>typeof a!=typeof n[0])?["filter-in-large",o,["literal",n.sort(K2)]]:["filter-in-small",o,["literal",n]]}}function gm(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Xd(o){return["!",o]}function kc(o){return pm(Bo(o.value))?No(Jr({},o,{expressionContext:"filter",valueSpec:o.styleSpec[`filter_${o.layerType||"fill"}`]})):Bc(o)}function Bc(o){const n=o.value,a=o.key;if(dn(n)!=="array")return[new ge(a,n,`array expected, ${dn(n)} found`)];const c=o.styleSpec;let u,h=[];if(n.length<1)return[new ge(a,n,"filter array must have at least 1 element")];switch(h=h.concat(Wd({key:`${a}[0]`,value:n[0],valueSpec:c.filter_operator,style:o.style,styleSpec:o.styleSpec})),so(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&so(n[1])==="$type"&&h.push(new ge(a,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&h.push(new ge(a,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(u=dn(n[1]),u!=="string"&&h.push(new ge(`${a}[1]`,n[1],`string expected, ${u} found`)));for(let x=2;x<n.length;x++)u=dn(n[x]),so(n[1])==="$type"?h=h.concat(Wd({key:`${a}[${x}]`,value:n[x],valueSpec:c.geometry_type,style:o.style,styleSpec:o.styleSpec})):u!=="string"&&u!=="number"&&u!=="boolean"&&h.push(new ge(`${a}[${x}]`,n[x],`string, number, or boolean expected, ${u} found`));break;case"any":case"all":case"none":for(let x=1;x<n.length;x++)h=h.concat(Bc({key:`${a}[${x}]`,value:n[x],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":u=dn(n[1]),n.length!==2?h.push(new ge(a,n,`filter array for "${n[0]}" operator must have 2 elements`)):u!=="string"&&h.push(new ge(`${a}[1]`,n[1],`string expected, ${u} found`));break;case"within":u=dn(n[1]),n.length!==2?h.push(new ge(a,n,`filter array for "${n[0]}" operator must have 2 elements`)):u!=="object"&&h.push(new ge(`${a}[1]`,n[1],`object expected, ${u} found`))}return h}function xm(o,n){const a=o.key,c=o.style,u=o.styleSpec,h=o.value,x=o.objectKey,y=u[`${n}_${o.layerType}`];if(!y)return[];const A=x.match(/^(.*)-transition$/);if(n==="paint"&&A&&y[A[1]]&&y[A[1]].transition)return Xo({key:a,value:h,valueSpec:u.transition,style:c,styleSpec:u});const T=o.valueSpec||y[x];if(!T)return[new ge(a,h,`unknown property "${x}"`)];let D;if(dn(h)==="string"&&nl(T)&&!T.tokens&&(D=/^{([^}]+)}$/.exec(h))){const I=`\`{ "type": "identity", "property": ${D?JSON.stringify(D[1]):'"_"'} }\``;return[new ge(a,h,`"${x}" does not support interpolation syntax
Use an identity property function instead: ${I}.`)]}const k=[];return o.layerType==="symbol"&&(x==="text-field"&&c&&!c.glyphs&&k.push(new ge(a,h,'use of "text-field" requires a style "glyphs" property')),x==="text-font"&&Tc(Bo(h))&&so(h.type)==="identity"&&k.push(new ge(a,h,'"text-font" does not support identity functions'))),k.concat(Xo({key:o.key,value:h,valueSpec:T,style:c,styleSpec:u,expressionContext:"property",propertyType:n,propertyKey:x}))}function m0(o){return xm(o,"paint")}function vm(o){return xm(o,"layout")}function h0(o){let n=[];const a=o.value,c=o.key,u=o.style,h=o.styleSpec;a.type||a.ref||n.push(new ge(c,a,'either "type" or "ref" is required'));let x=so(a.type);const y=so(a.ref);if(a.id){const A=so(a.id);for(let T=0;T<o.arrayIndex;T++){const D=u.layers[T];so(D.id)===A&&n.push(new ge(c,a.id,`duplicate layer id "${a.id}", previously used at line ${D.id.__line__}`))}}if("ref"in a){let A;["type","source","source-layer","filter","layout"].forEach(T=>{T in a&&n.push(new ge(c,a[T],`"${T}" is prohibited for ref layers`))}),u.layers.forEach(T=>{so(T.id)===y&&(A=T)}),A?A.ref?n.push(new ge(c,a.ref,"ref cannot reference another ref layer")):x=so(A.type):typeof y=="string"&&n.push(new ge(c,a.ref,`ref layer "${y}" not found`))}else if(x!=="background"&&x!=="sky")if(a.source){const A=u.sources&&u.sources[a.source],T=A&&so(A.type);A?T==="vector"&&x==="raster"?n.push(new ge(c,a.source,`layer "${a.id}" requires a raster source`)):T==="raster"&&x!=="raster"?n.push(new ge(c,a.source,`layer "${a.id}" requires a vector source`)):T!=="vector"||a["source-layer"]?T==="raster-dem"&&x!=="hillshade"?n.push(new ge(c,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!a.paint||!a.paint["line-gradient"]&&!a.paint["line-trim-offset"]||T==="geojson"&&A.lineMetrics||n.push(new ge(c,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new ge(c,a,`layer "${a.id}" must specify a "source-layer"`)):n.push(new ge(c,a.source,`source "${a.source}" not found`))}else n.push(new ge(c,a,'missing required property "source"'));return n=n.concat(rr({key:c,value:a,valueSpec:h.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Xo({key:`${c}.type`,value:a.type,valueSpec:h.layer.type,style:o.style,styleSpec:o.styleSpec,object:a,objectKey:"type"}),filter:A=>kc(Jr({layerType:x},A)),layout:A=>rr({layer:a,key:A.key,value:A.value,valueSpec:{},style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":T=>vm(Jr({layerType:x},T))}}),paint:A=>rr({layer:a,key:A.key,value:A.value,valueSpec:{},style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":T=>m0(Jr({layerType:x},T))}})}})),n}function zs(o){const n=o.value,a=o.key,c=dn(n);return c!=="string"?[new ge(a,n,`string expected, ${c} found`)]:[]}const f0={promoteId:function({key:o,value:n}){if(dn(n)==="string")return zs({key:o,value:n});{const a=[];for(const c in n)a.push(...zs({key:`${o}.${c}`,value:n[c]}));return a}}};function g0(o){const n=o.value,a=o.key,c=o.styleSpec,u=o.style;if(!n.type)return[new ge(a,n,'"type" is required')];const h=so(n.type);let x;switch(h){case"vector":case"raster":case"raster-dem":return x=rr({key:a,value:n,valueSpec:c[`source_${h.replace("-","_")}`],style:o.style,styleSpec:c,objectElementValidators:f0}),x;case"geojson":if(x=rr({key:a,value:n,valueSpec:c.source_geojson,style:u,styleSpec:c,objectElementValidators:f0}),n.cluster)for(const y in n.clusterProperties){const[A,T]=n.clusterProperties[y],D=typeof A=="string"?[A,["accumulated"],["get",y]]:A;x.push(...No({key:`${a}.${y}.map`,value:T,expressionContext:"cluster-map"})),x.push(...No({key:`${a}.${y}.reduce`,value:D,expressionContext:"cluster-reduce"}))}return x;case"video":return rr({key:a,value:n,valueSpec:c.source_video,style:u,styleSpec:c});case"image":return rr({key:a,value:n,valueSpec:c.source_image,style:u,styleSpec:c});case"canvas":return[new ge(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Wd({key:`${a}.type`,value:n.type,valueSpec:{values:Y2(c)},style:u,styleSpec:c})}}function Y2(o){return o.source.reduce((n,a)=>{const c=o[a];return c.type.type==="enum"&&(n=n.concat(Object.keys(c.type.values))),n},[])}function x0(o){const n=o.value,a=o.styleSpec,c=a.light,u=o.style;let h=[];const x=dn(n);if(n===void 0)return h;if(x!=="object")return h=h.concat([new ge("light",n,`object expected, ${x} found`)]),h;for(const y in n){const A=y.match(/^(.*)-transition$/);h=h.concat(A&&c[A[1]]&&c[A[1]].transition?Xo({key:y,value:n[y],valueSpec:a.transition,style:u,styleSpec:a}):c[y]?Xo({key:y,value:n[y],valueSpec:c[y],style:u,styleSpec:a}):[new ge(y,n[y],`unknown property "${y}"`)])}return h}function ym(o){const n=o.value,a=o.key,c=o.style,u=o.styleSpec,h=u.terrain;let x=[];const y=dn(n);if(n===void 0)return x;if(y!=="object")return x=x.concat([new ge("terrain",n,`object expected, ${y} found`)]),x;for(const A in n){const T=A.match(/^(.*)-transition$/);x=x.concat(T&&h[T[1]]&&h[T[1]].transition?Xo({key:A,value:n[A],valueSpec:u.transition,style:c,styleSpec:u}):h[A]?Xo({key:A,value:n[A],valueSpec:h[A],style:c,styleSpec:u}):[new ge(A,n[A],`unknown property "${A}"`)])}if(n.source){const A=c.sources&&c.sources[n.source],T=A&&so(A.type);A?T!=="raster-dem"&&x.push(new ge(a,n.source,`terrain cannot be used with a source of type ${String(T)}, it only be used with a "raster-dem" source type`)):x.push(new ge(a,n.source,`source "${n.source}" not found`))}else x.push(new ge(a,n,'terrain is missing required property "source"'));return x}function v0(o){const n=o.value,a=o.style,c=o.styleSpec,u=c.fog;let h=[];const x=dn(n);if(n===void 0)return h;if(x!=="object")return h=h.concat([new ge("fog",n,`object expected, ${x} found`)]),h;for(const y in n){const A=y.match(/^(.*)-transition$/);h=h.concat(A&&u[A[1]]&&u[A[1]].transition?Xo({key:y,value:n[y],valueSpec:c.transition,style:a,styleSpec:c}):u[y]?Xo({key:y,value:n[y],valueSpec:u[y],style:a,styleSpec:c}):[new ge(y,n[y],`unknown property "${y}"`)])}return h}const y0={"*":()=>[],array:d0,boolean:function(o){const n=o.value,a=o.key,c=dn(n);return c!=="boolean"?[new ge(a,n,`boolean expected, ${c} found`)]:[]},number:Pc,color:function(o){const n=o.key,a=o.value,c=dn(a);return c!=="string"?[new ge(n,a,`color expected, ${c} found`)]:Lp(a)===null?[new ge(n,a,`color expected, "${a}" found`)]:[]},enum:Wd,filter:kc,function:Dc,layer:h0,object:rr,source:g0,light:x0,terrain:ym,fog:v0,string:zs,formatted:function(o){return zs(o).length===0?[]:No(o)},resolvedImage:function(o){return zs(o).length===0?[]:No(o)},projection:function(o){const n=o.value,a=o.styleSpec,c=a.projection,u=o.style;let h=[];const x=dn(n);if(x==="object")for(const y in n)h=h.concat(Xo({key:y,value:n[y],valueSpec:c[y],style:u,styleSpec:a}));else x!=="string"&&(h=h.concat([new ge("projection",n,`object or string expected, ${x} found`)]));return h}};function Xo(o){const n=o.value,a=o.valueSpec,c=o.styleSpec;return a.expression&&Tc(so(n))?Dc(o):a.expression&&al(Bo(n))?No(o):a.type&&y0[a.type]?y0[a.type](o):rr(Jr({},o,{valueSpec:a.type?c[a.type]:a}))}function Q2(o){const n=o.value,a=o.key,c=zs(o);return c.length||(n.indexOf("{fontstack}")===-1&&c.push(new ge(a,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&c.push(new ge(a,n,'"glyphs" url must include a "{range}" token'))),c}function _0(o,n=Ut){return $a(Xo({key:"",value:o,valueSpec:n.$root,styleSpec:n,style:o,objectElementValidators:{glyphs:Q2,"*":()=>[]}}))}const J2=o=>$a(m0(o)),tv=o=>$a(vm(o));function $a(o){return o.slice().sort((n,a)=>n.line&&a.line?n.line-a.line:0)}function b0(o,n){let a=!1;if(n&&n.length)for(const c of n)o.fire(new Qr(new Error(c.message))),a=!0;return a}var ev=Dr,sr=3;function Dr(o,n,a){var c=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var u=new Int32Array(this.arrayBuffer);o=u[0],this.d=(n=u[1])+2*(a=u[2]);for(var h=0;h<this.d*this.d;h++){var x=u[sr+h],y=u[sr+h+1];c.push(x===y?null:u.subarray(x,y))}var A=u[sr+c.length+1];this.keys=u.subarray(u[sr+c.length],A),this.bboxes=u.subarray(A),this.insert=this._insertReadonly}else{this.d=n+2*a;for(var T=0;T<this.d*this.d;T++)c.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=o,this.padding=a,this.scale=n/o,this.uid=0;var D=a/n*o;this.min=-D,this.max=o+D}Dr.prototype.insert=function(o,n,a,c,u){this._forEachCell(n,a,c,u,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(n),this.bboxes.push(a),this.bboxes.push(c),this.bboxes.push(u)},Dr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Dr.prototype._insertCell=function(o,n,a,c,u,h){this.cells[u].push(h)},Dr.prototype.query=function(o,n,a,c,u){var h=this.min,x=this.max;if(o<=h&&n<=h&&x<=a&&x<=c&&!u)return Array.prototype.slice.call(this.keys);var y=[];return this._forEachCell(o,n,a,c,this._queryCell,y,{},u),y},Dr.prototype._queryCell=function(o,n,a,c,u,h,x,y){var A=this.cells[u];if(A!==null)for(var T=this.keys,D=this.bboxes,k=0;k<A.length;k++){var I=A[k];if(x[I]===void 0){var z=4*I;(y?y(D[z+0],D[z+1],D[z+2],D[z+3]):o<=D[z+2]&&n<=D[z+3]&&a>=D[z+0]&&c>=D[z+1])?(x[I]=!0,h.push(T[I])):x[I]=!1}}},Dr.prototype._forEachCell=function(o,n,a,c,u,h,x,y){for(var A=this._convertToCellCoord(o),T=this._convertToCellCoord(n),D=this._convertToCellCoord(a),k=this._convertToCellCoord(c),I=A;I<=D;I++)for(var z=T;z<=k;z++){var j=this.d*z+I;if((!y||y(this._convertFromCellCoord(I),this._convertFromCellCoord(z),this._convertFromCellCoord(I+1),this._convertFromCellCoord(z+1)))&&u.call(this,o,n,a,c,j,h,x,y))return}},Dr.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},Dr.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},Dr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,n=sr+this.cells.length+1+1,a=0,c=0;c<this.cells.length;c++)a+=this.cells[c].length;var u=new Int32Array(n+a+this.keys.length+this.bboxes.length);u[0]=this.extent,u[1]=this.n,u[2]=this.padding;for(var h=n,x=0;x<o.length;x++){var y=o[x];u[sr+x]=h,u.set(y,h),h+=y.length}return u[sr+o.length]=h,u.set(this.keys,h),u[sr+o.length+1]=h+=this.keys.length,u.set(this.bboxes,h),h+=this.bboxes.length,u.buffer};var yi=dt(ev);const Kd={};function ve(o,n,a={}){Object.defineProperty(o,"_classRegistryKey",{value:n,writeable:!1}),Kd[n]={klass:o,omit:a.omit||[]}}ve(Object,"Object"),yi.serialize=function(o,n){const a=o.toArrayBuffer();return n&&n.push(a),{buffer:a}},yi.deserialize=function(o){return new yi(o.buffer)},Object.defineProperty(yi,"name",{value:"Grid"}),ve(yi,"Grid"),ve(eo,"Color"),ve(Error,"Error"),ve(ja,"AJAXError"),ve(Va,"ResolvedImage"),ve(Gd,"StylePropertyFunction"),ve($d,"StyleExpression",{omit:["_evaluator"]}),ve(Sc,"ZoomDependentExpression"),ve(um,"ZoomConstantExpression"),ve(ns,"CompoundExpression",{omit:["_evaluate"]});for(const o in Ac)Kd[Ac[o]._classRegistryKey]||ve(Ac[o],`Expression${o}`);function _m(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function bm(o){return E.ImageBitmap&&o instanceof E.ImageBitmap}function ll(o,n){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(_m(o)||bm(o))return n&&n.push(o),o;if(ArrayBuffer.isView(o)){const a=o;return n&&n.push(a.buffer),a}if(o instanceof E.ImageData)return n&&n.push(o.data.buffer),o;if(Array.isArray(o)){const a=[];for(const c of o)a.push(ll(c,n));return a}if(typeof o=="object"){const a=o.constructor,c=a._classRegistryKey;if(!c)throw new Error(`can't serialize object of unregistered class ${c}`);const u=a.serialize?a.serialize(o,n):{};if(!a.serialize){for(const h in o)o.hasOwnProperty(h)&&(Kd[c].omit.indexOf(h)>=0||(u[h]=ll(o[h],n)));o instanceof Error&&(u.message=o.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(u.$name=c),u}throw new Error("can't serialize object of type "+typeof o)}function _i(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||_m(o)||bm(o)||ArrayBuffer.isView(o)||o instanceof E.ImageData)return o;if(Array.isArray(o))return o.map(_i);if(typeof o=="object"){const n=o.$name||"Object",{klass:a}=Kd[n];if(!a)throw new Error(`can't deserialize unregistered class ${n}`);if(a.deserialize)return a.deserialize(o);const c=Object.create(a.prototype);for(const u of Object.keys(o))u!=="$name"&&(c[u]=_i(o[u]));return c}throw new Error("can't deserialize object of type "+typeof o)}const me={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function wm(o){for(const n of o)if(Cm(n.charCodeAt(0)))return!0;return!1}function nv(o){for(const n of o)if(!w0(n.charCodeAt(0)))return!1;return!0}function w0(o){return!(me.Arabic(o)||me["Arabic Supplement"](o)||me["Arabic Extended-A"](o)||me["Arabic Presentation Forms-A"](o)||me["Arabic Presentation Forms-B"](o))}function Cm(o){return!(o!==746&&o!==747&&(o<4352||!(me["Bopomofo Extended"](o)||me.Bopomofo(o)||me["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||me["CJK Compatibility Ideographs"](o)||me["CJK Compatibility"](o)||me["CJK Radicals Supplement"](o)||me["CJK Strokes"](o)||!(!me["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||me["CJK Unified Ideographs Extension A"](o)||me["CJK Unified Ideographs"](o)||me["Enclosed CJK Letters and Months"](o)||me["Hangul Compatibility Jamo"](o)||me["Hangul Jamo Extended-A"](o)||me["Hangul Jamo Extended-B"](o)||me["Hangul Jamo"](o)||me["Hangul Syllables"](o)||me.Hiragana(o)||me["Ideographic Description Characters"](o)||me.Kanbun(o)||me["Kangxi Radicals"](o)||me["Katakana Phonetic Extensions"](o)||me.Katakana(o)&&o!==12540||!(!me["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!me["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||me["Unified Canadian Aboriginal Syllabics"](o)||me["Unified Canadian Aboriginal Syllabics Extended"](o)||me["Vertical Forms"](o)||me["Yijing Hexagram Symbols"](o)||me["Yi Syllables"](o)||me["Yi Radicals"](o))))}function C0(o){return!(Cm(o)||function(n){return!!(me["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||me["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||me["Letterlike Symbols"](n)||me["Number Forms"](n)||me["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||me["Control Pictures"](n)&&n!==9251||me["Optical Character Recognition"](n)||me["Enclosed Alphanumerics"](n)||me["Geometric Shapes"](n)||me["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||me["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||me["CJK Symbols and Punctuation"](n)||me.Katakana(n)||me["Private Use Area"](n)||me["CJK Compatibility Forms"](n)||me["Small Form Variants"](n)||me["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(o))}function A0(o){return o>=1424&&o<=2303||me["Arabic Presentation Forms-A"](o)||me["Arabic Presentation Forms-B"](o)}function ov(o,n){return!(!n&&A0(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||me.Khmer(o))}function av(o){for(const n of o)if(A0(n.charCodeAt(0)))return!0;return!1}const Am="deferred",Tm="loading",Sm="loaded";let cl=null,m="unavailable",s=null;const d=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(m="error"),cl&&cl(o)};function f(){v.fire(new pi("pluginStateChange",{pluginStatus:m,pluginURL:s}))}const v=new lc,b=function(){return m},S=function(){if(m!==Am||!s)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");m=Tm,f(),s&&Oe({url:s},o=>{o?d(o):(m=Sm,f())})},P={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>m===Sm||P.applyArabicShaping!=null,isLoading:()=>m===Tm,setState(o){m=o.pluginStatus,s=o.pluginURL},isParsed:()=>P.applyArabicShaping!=null&&P.processBidirectionalText!=null&&P.processStyledBidirectionalText!=null,getPluginURL:()=>s};class M{constructor(n,a){this.zoom=n,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.transition=a.transition,this.pitch=a.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(n){return function(a,c){for(const u of a)if(!ov(u.charCodeAt(0),c))return!1;return!0}(n,P.isLoaded())}}class L{constructor(n,a){this.property=n,this.value=a,this.expression=function(c,u){if(Tc(c))return new Gd(c,u);if(al(c)){const h=Ec(c,u);if(h.result==="error")throw new Error(h.value.map(x=>`${x.key}: ${x.message}`).join(", "));return h.value}{let h=c;return typeof c=="string"&&u.type==="color"&&(h=eo.parse(c)),{kind:"constant",evaluate:()=>h}}}(a===void 0?n.specification.default:a,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,a,c){return this.property.possiblyEvaluate(this,n,a,c)}}class R{constructor(n){this.property=n,this.value=new L(n,void 0)}transitioned(n,a){return new Y(this.property,this.value,a,He({},n.transition,this.transition),n.now)}untransitioned(){return new Y(this.property,this.value,null,{},0)}}class O{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return Eo(this._values[n].value.value)}setValue(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new R(this._values[n].property)),this._values[n].value=new L(this._values[n].property,a===null?void 0:Eo(a))}getTransition(n){return Eo(this._values[n].transition)}setTransition(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new R(this._values[n].property)),this._values[n].transition=Eo(a)||void 0}serialize(){const n={};for(const a of Object.keys(this._values)){const c=this.getValue(a);c!==void 0&&(n[a]=c);const u=this.getTransition(a);u!==void 0&&(n[`${a}-transition`]=u)}return n}transitioned(n,a){const c=new nt(this._properties);for(const u of Object.keys(this._values))c._values[u]=this._values[u].transitioned(n,a._values[u]);return c}untransitioned(){const n=new nt(this._properties);for(const a of Object.keys(this._values))n._values[a]=this._values[a].untransitioned();return n}}class Y{constructor(n,a,c,u,h){const x=u.delay||0,y=u.duration||0;h=h||0,this.property=n,this.value=a,this.begin=h+x,this.end=this.begin+y,n.specification.transition&&(u.delay||u.duration)&&(this.prior=c)}possiblyEvaluate(n,a,c){const u=n.now||0,h=this.value.possiblyEvaluate(n,a,c),x=this.prior;if(x){if(u>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(u<this.begin)return x.possiblyEvaluate(n,a,c);{const y=(u-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(n,a,c),h,Fe(y))}}return h}}class nt{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,a,c){const u=new rt(this._properties);for(const h of Object.keys(this._values))u._values[h]=this._values[h].possiblyEvaluate(n,a,c);return u}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class at{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}getValue(n){return Eo(this._values[n].value)}setValue(n,a){this._values[n]=new L(this._values[n].property,a===null?void 0:Eo(a))}serialize(){const n={};for(const a of Object.keys(this._values)){const c=this.getValue(a);c!==void 0&&(n[a]=c)}return n}possiblyEvaluate(n,a,c){const u=new rt(this._properties);for(const h of Object.keys(this._values))u._values[h]=this._values[h].possiblyEvaluate(n,a,c);return u}}class ot{constructor(n,a,c){this.property=n,this.value=a,this.parameters=c}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,a,c,u){return this.property.evaluate(this.value,this.parameters,n,a,c,u)}}class rt{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class U{constructor(n){this.specification=n}possiblyEvaluate(n,a){return n.expression.evaluate(a)}interpolate(n,a,c){const u=yc[this.specification.type];return u?u(n,a,c):n}}class et{constructor(n,a){this.specification=n,this.overrides=a}possiblyEvaluate(n,a,c,u){return new ot(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(a,null,{},c,u)}:n.expression,a)}interpolate(n,a,c){if(n.value.kind!=="constant"||a.value.kind!=="constant")return n;if(n.value.value===void 0||a.value.value===void 0)return new ot(this,{kind:"constant",value:void 0},n.parameters);const u=yc[this.specification.type];return u?new ot(this,{kind:"constant",value:u(n.value.value,a.value.value,c)},n.parameters):n}evaluate(n,a,c,u,h,x){return n.kind==="constant"?n.value:n.evaluate(a,c,u,h,x)}}class lt{constructor(n){this.specification=n}possiblyEvaluate(n,a,c,u){return!!n.expression.evaluate(a,null,{},c,u)}interpolate(){return!1}}class ut{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const a=new M(0,{});for(const c in n){const u=n[c];u.specification.overridable&&this.overridableProperties.push(c);const h=this.defaultPropertyValues[c]=new L(u,void 0),x=this.defaultTransitionablePropertyValues[c]=new R(u);this.defaultTransitioningPropertyValues[c]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=h.possiblyEvaluate(a)}}}function yt(o,n){return 256*(o=Zt(Math.floor(o),0,255))+Zt(Math.floor(n),0,255)}ve(et,"DataDrivenProperty"),ve(U,"DataConstantProperty"),ve(lt,"ColorRampProperty");const bt={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class _t{constructor(n,a){this._structArray=n,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Tt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,a){return n._trim(),a&&(n.isTransferred=!0,a.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const a=Object.create(this.prototype);return a.arrayBuffer=n.arrayBuffer,a.length=n.length,a.capacity=n.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function At(o,n=1){let a=0,c=0;return{members:o.map(u=>{const h=bt[u.type].BYTES_PER_ELEMENT,x=a=Nt(a,Math.max(n,h)),y=u.components||1;return c=Math.max(c,h),a+=h*y,{name:u.name,type:u.type,components:y,offset:x}}),size:Nt(a,Math.max(c,n)),alignment:n}}function Nt(o,n){return Math.ceil(o/n)*n}class Qt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a){const c=this.length;return this.resize(c+1),this.emplace(c,n,a)}emplace(n,a,c){const u=2*n;return this.int16[u+0]=a,this.int16[u+1]=c,n}}Qt.prototype.bytesPerElement=4,ve(Qt,"StructArrayLayout2i4");class Mt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,c){const u=this.length;return this.resize(u+1),this.emplace(u,n,a,c)}emplace(n,a,c,u){const h=3*n;return this.int16[h+0]=a,this.int16[h+1]=c,this.int16[h+2]=u,n}}Mt.prototype.bytesPerElement=6,ve(Mt,"StructArrayLayout3i6");class qt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,c,u){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,c,u)}emplace(n,a,c,u,h){const x=4*n;return this.int16[x+0]=a,this.int16[x+1]=c,this.int16[x+2]=u,this.int16[x+3]=h,n}}qt.prototype.bytesPerElement=8,ve(qt,"StructArrayLayout4i8");class Rt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y){const A=this.length;return this.resize(A+1),this.emplace(A,n,a,c,u,h,x,y)}emplace(n,a,c,u,h,x,y,A){const T=6*n,D=12*n,k=3*n;return this.int16[T+0]=a,this.int16[T+1]=c,this.uint8[D+4]=u,this.uint8[D+5]=h,this.uint8[D+6]=x,this.uint8[D+7]=y,this.float32[k+2]=A,n}}Rt.prototype.bytesPerElement=12,ve(Rt,"StructArrayLayout2i4ub1f12");class Yt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,c,u)}emplace(n,a,c,u,h){const x=4*n;return this.float32[x+0]=a,this.float32[x+1]=c,this.float32[x+2]=u,this.float32[x+3]=h,n}}Yt.prototype.bytesPerElement=16,ve(Yt,"StructArrayLayout4f16");class Bt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h){const x=this.length;return this.resize(x+1),this.emplace(x,n,a,c,u,h)}emplace(n,a,c,u,h,x){const y=6*n,A=3*n;return this.uint16[y+0]=a,this.uint16[y+1]=c,this.uint16[y+2]=u,this.uint16[y+3]=h,this.float32[A+2]=x,n}}Bt.prototype.bytesPerElement=12,ve(Bt,"StructArrayLayout4ui1f12");class Gt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,c,u){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,c,u)}emplace(n,a,c,u,h){const x=4*n;return this.uint16[x+0]=a,this.uint16[x+1]=c,this.uint16[x+2]=u,this.uint16[x+3]=h,n}}Gt.prototype.bytesPerElement=8,ve(Gt,"StructArrayLayout4ui8");class te extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,c,u,h,x)}emplace(n,a,c,u,h,x,y){const A=6*n;return this.int16[A+0]=a,this.int16[A+1]=c,this.int16[A+2]=u,this.int16[A+3]=h,this.int16[A+4]=x,this.int16[A+5]=y,n}}te.prototype.bytesPerElement=12,ve(te,"StructArrayLayout6i12");class Xt extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y,A,T,D,k,I){const z=this.length;return this.resize(z+1),this.emplace(z,n,a,c,u,h,x,y,A,T,D,k,I)}emplace(n,a,c,u,h,x,y,A,T,D,k,I,z){const j=12*n;return this.int16[j+0]=a,this.int16[j+1]=c,this.int16[j+2]=u,this.int16[j+3]=h,this.uint16[j+4]=x,this.uint16[j+5]=y,this.uint16[j+6]=A,this.uint16[j+7]=T,this.int16[j+8]=D,this.int16[j+9]=k,this.int16[j+10]=I,this.int16[j+11]=z,n}}Xt.prototype.bytesPerElement=24,ve(Xt,"StructArrayLayout4i4ui4i24");class ee extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,c,u,h,x)}emplace(n,a,c,u,h,x,y){const A=10*n,T=5*n;return this.int16[A+0]=a,this.int16[A+1]=c,this.int16[A+2]=u,this.float32[T+2]=h,this.float32[T+3]=x,this.float32[T+4]=y,n}}ee.prototype.bytesPerElement=20,ve(ee,"StructArrayLayout3i3f20");class Se extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint32[1*n+0]=a,n}}Se.prototype.bytesPerElement=4,ve(Se,"StructArrayLayout1ul4");class Re extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y,A,T,D,k,I,z){const j=this.length;return this.resize(j+1),this.emplace(j,n,a,c,u,h,x,y,A,T,D,k,I,z)}emplace(n,a,c,u,h,x,y,A,T,D,k,I,z,j){const G=20*n,J=10*n;return this.int16[G+0]=a,this.int16[G+1]=c,this.int16[G+2]=u,this.int16[G+3]=h,this.int16[G+4]=x,this.float32[J+3]=y,this.float32[J+4]=A,this.float32[J+5]=T,this.float32[J+6]=D,this.int16[G+14]=k,this.uint32[J+8]=I,this.uint16[G+18]=z,this.uint16[G+19]=j,n}}Re.prototype.bytesPerElement=40,ve(Re,"StructArrayLayout5i4f1i1ul2ui40");class _e extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y){const A=this.length;return this.resize(A+1),this.emplace(A,n,a,c,u,h,x,y)}emplace(n,a,c,u,h,x,y,A){const T=8*n;return this.int16[T+0]=a,this.int16[T+1]=c,this.int16[T+2]=u,this.int16[T+4]=h,this.int16[T+5]=x,this.int16[T+6]=y,this.int16[T+7]=A,n}}_e.prototype.bytesPerElement=16,ve(_e,"StructArrayLayout3i2i2i16");class Me extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h){const x=this.length;return this.resize(x+1),this.emplace(x,n,a,c,u,h)}emplace(n,a,c,u,h,x){const y=4*n,A=8*n;return this.float32[y+0]=a,this.float32[y+1]=c,this.float32[y+2]=u,this.int16[A+6]=h,this.int16[A+7]=x,n}}Me.prototype.bytesPerElement=16,ve(Me,"StructArrayLayout2f1f2i16");class tn extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,c,u)}emplace(n,a,c,u,h){const x=12*n,y=3*n;return this.uint8[x+0]=a,this.uint8[x+1]=c,this.float32[y+1]=u,this.float32[y+2]=h,n}}tn.prototype.bytesPerElement=12,ve(tn,"StructArrayLayout2ub2f12");class Ye extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c){const u=this.length;return this.resize(u+1),this.emplace(u,n,a,c)}emplace(n,a,c,u){const h=3*n;return this.float32[h+0]=a,this.float32[h+1]=c,this.float32[h+2]=u,n}}Ye.prototype.bytesPerElement=12,ve(Ye,"StructArrayLayout3f12");class Ae extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,c){const u=this.length;return this.resize(u+1),this.emplace(u,n,a,c)}emplace(n,a,c,u){const h=3*n;return this.uint16[h+0]=a,this.uint16[h+1]=c,this.uint16[h+2]=u,n}}Ae.prototype.bytesPerElement=6,ve(Ae,"StructArrayLayout3ui6");class yn extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt){const gt=this.length;return this.resize(gt+1),this.emplace(gt,n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt)}emplace(n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt,gt){const It=30*n,kt=15*n,$t=60*n;return this.int16[It+0]=a,this.int16[It+1]=c,this.int16[It+2]=u,this.float32[kt+2]=h,this.float32[kt+3]=x,this.uint16[It+8]=y,this.uint16[It+9]=A,this.uint32[kt+5]=T,this.uint32[kt+6]=D,this.uint32[kt+7]=k,this.uint16[It+16]=I,this.uint16[It+17]=z,this.uint16[It+18]=j,this.float32[kt+10]=G,this.float32[kt+11]=J,this.uint8[$t+48]=st,this.uint8[$t+49]=ht,this.uint8[$t+50]=it,this.uint32[kt+13]=mt,this.int16[It+28]=xt,this.uint8[$t+58]=gt,n}}yn.prototype.bytesPerElement=60,ve(yn,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class wn extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt,gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt){const ae=this.length;return this.resize(ae+1),this.emplace(ae,n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt,gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt)}emplace(n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J,st,ht,it,mt,xt,gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt,ae){const Vt=38*n,ue=19*n;return this.int16[Vt+0]=a,this.int16[Vt+1]=c,this.int16[Vt+2]=u,this.float32[ue+2]=h,this.float32[ue+3]=x,this.int16[Vt+8]=y,this.int16[Vt+9]=A,this.int16[Vt+10]=T,this.int16[Vt+11]=D,this.int16[Vt+12]=k,this.int16[Vt+13]=I,this.uint16[Vt+14]=z,this.uint16[Vt+15]=j,this.uint16[Vt+16]=G,this.uint16[Vt+17]=J,this.uint16[Vt+18]=st,this.uint16[Vt+19]=ht,this.uint16[Vt+20]=it,this.uint16[Vt+21]=mt,this.uint16[Vt+22]=xt,this.uint16[Vt+23]=gt,this.uint16[Vt+24]=It,this.uint16[Vt+25]=kt,this.uint16[Vt+26]=$t,this.uint16[Vt+27]=Jt,this.uint16[Vt+28]=Lt,this.uint32[ue+15]=Wt,this.float32[ue+16]=Ht,this.float32[ue+17]=Kt,this.float32[ue+18]=ae,n}}wn.prototype.bytesPerElement=76,ve(wn,"StructArrayLayout3i2f6i15ui1ul3f76");class Cn extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.float32[1*n+0]=a,n}}Cn.prototype.bytesPerElement=4,ve(Cn,"StructArrayLayout1f4");class An extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,c,u,h){const x=this.length;return this.resize(x+1),this.emplace(x,n,a,c,u,h)}emplace(n,a,c,u,h,x){const y=5*n;return this.float32[y+0]=a,this.float32[y+1]=c,this.float32[y+2]=u,this.float32[y+3]=h,this.float32[y+4]=x,n}}An.prototype.bytesPerElement=20,ve(An,"StructArrayLayout5f20");class Ko extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,c,u){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,c,u)}emplace(n,a,c,u,h){const x=6*n;return this.uint32[3*n+0]=a,this.uint16[x+2]=c,this.uint16[x+3]=u,this.uint16[x+4]=h,n}}Ko.prototype.bytesPerElement=12,ve(Ko,"StructArrayLayout1ul3ui12");class Io extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a){const c=this.length;return this.resize(c+1),this.emplace(c,n,a)}emplace(n,a,c){const u=2*n;return this.uint16[u+0]=a,this.uint16[u+1]=c,n}}Io.prototype.bytesPerElement=4,ve(Io,"StructArrayLayout2ui4");class Ga extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint16[1*n+0]=a,n}}Ga.prototype.bytesPerElement=2,ve(Ga,"StructArrayLayout1ui2");class Mr extends Tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a){const c=this.length;return this.resize(c+1),this.emplace(c,n,a)}emplace(n,a,c){const u=2*n;return this.float32[u+0]=a,this.float32[u+1]=c,n}}Mr.prototype.bytesPerElement=8,ve(Mr,"StructArrayLayout2f8");class Un extends _t{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Un.prototype.size=40;class Tn extends Re{get(n){return new Un(this,n)}}ve(Tn,"CollisionBoxArray");class mn extends _t{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}mn.prototype.size=60;class io extends yn{get(n){return new mn(this,n)}}ve(io,"PlacedSymbolArray");class ra extends _t{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(n){this._structArray.uint32[this._pos4+15]=n}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ra.prototype.size=76;class Ln extends wn{get(n){return new ra(this,n)}}ve(Ln,"SymbolInstanceArray");class pa extends Cn{getoffsetX(n){return this.float32[1*n+0]}}ve(pa,"GlyphOffsetArray");class Yd extends Qt{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}ve(Yd,"SymbolLineVertexArray");class bi extends _t{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}bi.prototype.size=12;class Nc extends Ko{get(n){return new bi(this,n)}}ve(Nc,"FeatureIndexArray");class is extends Io{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}ve(is,"FillExtrusionCentroidArray");const js=At([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),wi=At([{name:"a_dash",components:4,type:"Uint16"}]);var Qd={exports:{}},Ic={exports:{}};Ic.exports=function(o,n){var a,c,u,h,x,y,A,T;for(c=o.length-(a=3&o.length),u=n,x=3432918353,y=461845907,T=0;T<c;)A=255&o.charCodeAt(T)|(255&o.charCodeAt(++T))<<8|(255&o.charCodeAt(++T))<<16|(255&o.charCodeAt(++T))<<24,++T,u=27492+(65535&(h=5*(65535&(u=(u^=A=(65535&(A=(A=(65535&A)*x+(((A>>>16)*x&65535)<<16)&4294967295)<<15|A>>>17))*y+(((A>>>16)*y&65535)<<16)&4294967295)<<13|u>>>19))+((5*(u>>>16)&65535)<<16)&4294967295))+((58964+(h>>>16)&65535)<<16);switch(A=0,a){case 3:A^=(255&o.charCodeAt(T+2))<<16;case 2:A^=(255&o.charCodeAt(T+1))<<8;case 1:u^=A=(65535&(A=(A=(65535&(A^=255&o.charCodeAt(T)))*x+(((A>>>16)*x&65535)<<16)&4294967295)<<15|A>>>17))*y+(((A>>>16)*y&65535)<<16)&4294967295}return u^=o.length,u=2246822507*(65535&(u^=u>>>16))+((2246822507*(u>>>16)&65535)<<16)&4294967295,u=3266489909*(65535&(u^=u>>>13))+((3266489909*(u>>>16)&65535)<<16)&4294967295,(u^=u>>>16)>>>0};var Em=Ic.exports,i3={exports:{}};i3.exports=function(o,n){for(var a,c=o.length,u=n^c,h=0;c>=4;)a=1540483477*(65535&(a=255&o.charCodeAt(h)|(255&o.charCodeAt(++h))<<8|(255&o.charCodeAt(++h))<<16|(255&o.charCodeAt(++h))<<24))+((1540483477*(a>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),c-=4,++h;switch(c){case 3:u^=(255&o.charCodeAt(h+2))<<16;case 2:u^=(255&o.charCodeAt(h+1))<<8;case 1:u=1540483477*(65535&(u^=255&o.charCodeAt(h)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0};var l3=Em,ZB=i3.exports;Qd.exports=l3,Qd.exports.murmur3=l3,Qd.exports.murmur2=ZB;var rv=dt(Qd.exports);class T0{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,a,c,u){this.ids.push(c3(n)),this.positions.push(a,c,u)}getPositions(n){const a=c3(n);let c=0,u=this.ids.length-1;for(;c<u;){const x=c+u>>1;this.ids[x]>=a?u=x:c=x+1}const h=[];for(;this.ids[c]===a;)h.push({index:this.positions[3*c],start:this.positions[3*c+1],end:this.positions[3*c+2]}),c++;return h}static serialize(n,a){const c=new Float64Array(n.ids),u=new Uint32Array(n.positions);return sv(c,u,0,c.length-1),a&&a.push(c.buffer,u.buffer),{ids:c,positions:u}}static deserialize(n){const a=new T0;return a.ids=n.ids,a.positions=n.positions,a.indexed=!0,a}}function c3(o){const n=+o;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:rv(String(o))}function sv(o,n,a,c){for(;a<c;){const u=o[a+c>>1];let h=a-1,x=c+1;for(;;){do h++;while(o[h]<u);do x--;while(o[x]>u);if(h>=x)break;S0(o,h,x),S0(n,3*h,3*x),S0(n,3*h+1,3*x+1),S0(n,3*h+2,3*x+2)}x-a<c-x?(sv(o,n,a,x),a=x+1):(sv(o,n,x+1,c),c=x)}}function S0(o,n,a){const c=o[n];o[n]=o[a],o[a]=c}ve(T0,"FeaturePositionMap");class Ci{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,a){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,a),this.initialized=!0),!!this.location}}class E0 extends Ci{constructor(n){super(n),this.current=0}set(n,a,c){this.fetchUniformLocation(n,a)&&this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class d3 extends Ci{constructor(n){super(n),this.current=[0,0,0,0]}set(n,a,c){this.fetchUniformLocation(n,a)&&(c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3])))}}class u3 extends Ci{constructor(n){super(n),this.current=eo.transparent}set(n,a,c){this.fetchUniformLocation(n,a)&&(c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a)))}}const XB=new Float32Array(16),KB=new Float32Array(9),YB=new Float32Array(4);function iv(o){return[yt(255*o.r,255*o.g),yt(255*o.b,255*o.a)]}class Pm{constructor(n,a,c){this.value=n,this.uniformNames=a.map(u=>`u_${u}`),this.type=c}setUniform(n,a,c,u,h){a.set(n,h,u.constantOr(this.value))}getBinding(n,a){return this.type==="color"?new u3(n):new E0(n)}}class Jd{constructor(n,a){this.uniformNames=a.map(c=>`u_${c}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,a,c,u,h){const x=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;x&&a.set(n,h,x)}getBinding(n,a){return a==="u_pattern"||a==="u_dash"?new d3(n):new E0(n)}}class Ai{constructor(n,a,c,u){this.expression=n,this.type=c,this.maxValue=0,this.paintVertexAttributes=a.map(h=>({name:`a_${h}`,type:"Float32",components:c==="color"?2:1,offset:0})),this.paintVertexArray=new u}populatePaintArray(n,a,c,u,h,x){const y=this.paintVertexArray.length,A=this.expression.evaluate(new M(0),a,{},h,u,x);this.paintVertexArray.resize(n),this._setPaintValue(y,n,A)}updatePaintArray(n,a,c,u,h){const x=this.expression.evaluate({zoom:0},c,u,void 0,h);this._setPaintValue(n,a,x)}_setPaintValue(n,a,c){if(this.type==="color"){const u=iv(c);for(let h=n;h<a;h++)this.paintVertexArray.emplace(h,u[0],u[1])}else{for(let u=n;u<a;u++)this.paintVertexArray.emplace(u,c);this.maxValue=Math.max(this.maxValue,Math.abs(c))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ls{constructor(n,a,c,u,h,x){this.expression=n,this.uniformNames=a.map(y=>`u_${y}_t`),this.type=c,this.useIntegerZoom=u,this.zoom=h,this.maxValue=0,this.paintVertexAttributes=a.map(y=>({name:`a_${y}`,type:"Float32",components:c==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(n,a,c,u,h,x){const y=this.expression.evaluate(new M(this.zoom),a,{},h,u,x),A=this.expression.evaluate(new M(this.zoom+1),a,{},h,u,x),T=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(T,n,y,A)}updatePaintArray(n,a,c,u,h){const x=this.expression.evaluate({zoom:this.zoom},c,u,void 0,h),y=this.expression.evaluate({zoom:this.zoom+1},c,u,void 0,h);this._setPaintValue(n,a,x,y)}_setPaintValue(n,a,c,u){if(this.type==="color"){const h=iv(c),x=iv(u);for(let y=n;y<a;y++)this.paintVertexArray.emplace(y,h[0],h[1],x[0],x[1])}else{for(let h=n;h<a;h++)this.paintVertexArray.emplace(h,c,u);this.maxValue=Math.max(this.maxValue,Math.abs(c),Math.abs(u))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,a,c,u,h){const x=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,y=Zt(this.expression.interpolationFactor(x,this.zoom,this.zoom+1),0,1);a.set(n,h,y)}getBinding(n,a){return new E0(n)}}class dl{constructor(n,a,c,u,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(c==="array"?wi:js).members;for(let x=0;x<a.length;++x);this.paintVertexArray=new u}populatePaintArray(n,a,c){const u=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(u,n,a.patterns&&a.patterns[this.layerId],c)}updatePaintArray(n,a,c,u,h,x){this._setPaintValues(n,a,c.patterns&&c.patterns[this.layerId],x)}_setPaintValues(n,a,c,u){if(!u||!c)return;const h=u[c];if(!h)return;const{tl:x,br:y,pixelRatio:A}=h;for(let T=n;T<a;T++)this.paintVertexArray.emplace(T,x[0],x[1],y[0],y[1],A)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ul{constructor(n,a,c=()=>!0){this.binders={},this._buffers=[];const u=[];for(const h in n.paint._values){if(!c(h))continue;const x=n.paint.get(h);if(!(x instanceof ot&&nl(x.property.specification)))continue;const y=JB(h,n.type),A=x.value,T=x.property.specification.type,D=!!x.property.useIntegerZoom,k=h==="line-dasharray"||h.endsWith("pattern"),I=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant";if(A.kind!=="constant"||I)if(A.kind==="source"||I||k){const z=p3(h,T,"source");this.binders[h]=k?new dl(A,y,T,z,n.id):new Ai(A,y,T,z),u.push(`/a_${h}`)}else{const z=p3(h,T,"composite");this.binders[h]=new ls(A,y,T,D,a,z),u.push(`/z_${h}`)}else this.binders[h]=k?new Jd(A.value,y):new Pm(A.value,y,T),u.push(`/u_${h}`)}this.cacheKey=u.sort().join("")}getMaxValue(n){const a=this.binders[n];return a instanceof Ai||a instanceof ls?a.maxValue:0}populatePaintArrays(n,a,c,u,h,x){for(const y in this.binders){const A=this.binders[y];(A instanceof Ai||A instanceof ls||A instanceof dl)&&A.populatePaintArray(n,a,c,u,h,x)}}setConstantPatternPositions(n){for(const a in this.binders){const c=this.binders[a];c instanceof Jd&&c.setConstantPatternPositions(n)}}updatePaintArrays(n,a,c,u,h,x){let y=!1;for(const A in n){const T=a.getPositions(A);for(const D of T){const k=c.feature(D.index);for(const I in this.binders){const z=this.binders[I];if((z instanceof Ai||z instanceof ls||z instanceof dl)&&z.expression.isStateDependent===!0){const j=u.paint.get(I);z.expression=j.value,z.updatePaintArray(D.start,D.end,k,n[A],h,x),y=!0}}}}return y}defines(){const n=[];for(const a in this.binders){const c=this.binders[a];(c instanceof Pm||c instanceof Jd)&&n.push(...c.uniformNames.map(u=>`#define HAS_UNIFORM_${u}`))}return n}getBinderAttributes(){const n=[];for(const a in this.binders){const c=this.binders[a];if(c instanceof Ai||c instanceof ls||c instanceof dl)for(let u=0;u<c.paintVertexAttributes.length;u++)n.push(c.paintVertexAttributes[u].name)}return n}getBinderUniforms(){const n=[];for(const a in this.binders){const c=this.binders[a];if(c instanceof Pm||c instanceof Jd||c instanceof ls)for(const u of c.uniformNames)n.push(u)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const a=[];for(const c in this.binders){const u=this.binders[c];if(u instanceof Pm||u instanceof Jd||u instanceof ls)for(const h of u.uniformNames)a.push({name:h,property:c,binding:u.getBinding(n,h)})}return a}setUniforms(n,a,c,u,h){for(const{name:x,property:y,binding:A}of c)this.binders[y].setUniform(n,A,h,u.get(y),x)}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const a=this.binders[n];(a instanceof Ai||a instanceof ls||a instanceof dl)&&a.paintVertexBuffer&&this._buffers.push(a.paintVertexBuffer)}}upload(n){for(const a in this.binders){const c=this.binders[a];(c instanceof Ai||c instanceof ls||c instanceof dl)&&c.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const a=this.binders[n];(a instanceof Ai||a instanceof ls||a instanceof dl)&&a.destroy()}}}class Fc{constructor(n,a,c=()=>!0){this.programConfigurations={};for(const u of n)this.programConfigurations[u.id]=new ul(u,a,c);this.needsUpload=!1,this._featureMap=new T0,this._bufferOffset=0}populatePaintArrays(n,a,c,u,h,x,y){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(n,a,u,h,x,y);a.id!==void 0&&this._featureMap.add(a.id,c,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,a,c,u,h){for(const x of c)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(n,this._featureMap,a,x,u,h)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const QB={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function JB(o,n){return QB[o]||[o.replace(`${n}-`,"").replace(/-/g,"_")]}const tN={"line-pattern":{source:Bt,composite:Bt},"fill-pattern":{source:Bt,composite:Bt},"fill-extrusion-pattern":{source:Bt,composite:Bt},"line-dasharray":{source:Gt,composite:Gt}},eN={color:{source:Mr,composite:Yt},number:{source:Cn,composite:Mr}};function p3(o,n,a){const c=tN[o];return c&&c[a]||eN[n][a]}ve(Pm,"ConstantBinder"),ve(Jd,"PatternConstantBinder"),ve(Ai,"SourceExpressionBinder"),ve(dl,"PatternCompositeBinder"),ve(ls,"CompositeExpressionBinder"),ve(ul,"ProgramConfiguration",{omit:["_buffers"]}),ve(Fc,"ProgramConfigurationSet");const m3="-transition";class cs extends lc{constructor(n,a){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&n.type!=="sky"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),a.layout&&(this._unevaluatedLayout=new at(a.layout)),a.paint)){this._transitionablePaint=new O(a.paint);for(const c in n.paint)this.setPaintProperty(c,n.paint[c],{validate:!1});for(const c in n.layout)this.setLayoutProperty(c,n.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new rt(a.paint)}}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,a,c={}){a!=null&&this._validate(tv,`layers.${this.id}.layout.${n}`,n,a,c)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,a):this.visibility=a)}getPaintProperty(n){return nr(n,m3)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,a,c={}){if(a!=null&&this._validate(J2,`layers.${this.id}.paint.${n}`,n,a,c))return!1;if(nr(n,m3))return this._transitionablePaint.setTransition(n.slice(0,-11),a||void 0),!1;{const u=this._transitionablePaint._values[n],h=u.value.isDataDriven(),x=u.value;this._transitionablePaint.setValue(n,a),this._handleSpecialPaintPropertyUpdate(n);const y=this._transitionablePaint._values[n].value,A=y.isDataDriven(),T=nr(n,"pattern")||n==="line-dasharray";return A||h||T||this._handleOverridablePaintPropertyUpdate(n,x,y)}}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getProgramConfiguration(n){return null}_handleOverridablePaintPropertyUpdate(n,a,c){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,a){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,a)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),ca(n,(a,c)=>!(a===void 0||c==="layout"&&!Object.keys(a).length||c==="paint"&&!Object.keys(a).length))}_validate(n,a,c,u,h={}){return(!h||h.validate!==!1)&&b0(this,n.call(_0,{key:a,layerType:this.type,objectKey:c,value:u,styleSpec:Ut,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const a=this.paint.get(n);if(a instanceof ot&&nl(a.property.specification)&&(a.value.kind==="source"||a.value.kind==="composite")&&a.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Hd(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const nN=At([{name:"a_pos",components:2,type:"Int16"}],4),oN=At([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class lo{constructor(n=[]){this.segments=n}prepareSegment(n,a,c,u){let h=this.segments[this.segments.length-1];return n>lo.MAX_VERTEX_ARRAY_LENGTH&&gn(`Max vertices per segment is ${lo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>lo.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==u)&&(h={vertexOffset:a.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},u!==void 0&&(h.sortKey=u),this.segments.push(h)),h}get(){return this.segments}destroy(){for(const n of this.segments)for(const a in n.vaos)n.vaos[a].destroy()}static simpleSegment(n,a,c,u){return new lo([{vertexOffset:n,primitiveOffset:a,vertexLength:c,primitiveLength:u,vaos:{},sortKey:0}])}}lo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ve(lo,"SegmentVector");var De=8192;class pl{constructor(n,a){n&&(a?this.setSouthWest(n).setNorthEast(a):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))}setNorthEast(n){return this._ne=n instanceof Sn?new Sn(n.lng,n.lat):Sn.convert(n),this}setSouthWest(n){return this._sw=n instanceof Sn?new Sn(n.lng,n.lat):Sn.convert(n),this}extend(n){const a=this._sw,c=this._ne;let u,h;if(n instanceof Sn)u=n,h=n;else{if(!(n instanceof pl))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(pl.convert(n)):this.extend(Sn.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(Sn.convert(n)):this;if(u=n._sw,h=n._ne,!u||!h)return this}return a||c?(a.lng=Math.min(u.lng,a.lng),a.lat=Math.min(u.lat,a.lat),c.lng=Math.max(h.lng,c.lng),c.lat=Math.max(h.lat,c.lat)):(this._sw=new Sn(u.lng,u.lat),this._ne=new Sn(h.lng,h.lat)),this}getCenter(){return new Sn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Sn(this.getWest(),this.getNorth())}getSouthEast(){return new Sn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:a,lat:c}=Sn.convert(n);let u=this._sw.lng<=a&&a<=this._ne.lng;return this._sw.lng>this._ne.lng&&(u=this._sw.lng>=a&&a>=this._ne.lng),this._sw.lat<=c&&c<=this._ne.lat&&u}static convert(n){return!n||n instanceof pl?n:new pl(n)}}var P0=1e-6,qa=typeof Float32Array<"u"?Float32Array:Array;function h3(){var o=new qa(9);return qa!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o}function f3(o,n,a){var c=n[0],u=n[1],h=n[2],x=n[3],y=n[4],A=n[5],T=n[6],D=n[7],k=n[8],I=a[0],z=a[1],j=a[2],G=a[3],J=a[4],st=a[5],ht=a[6],it=a[7],mt=a[8];return o[0]=I*c+z*x+j*T,o[1]=I*u+z*y+j*D,o[2]=I*h+z*A+j*k,o[3]=G*c+J*x+st*T,o[4]=G*u+J*y+st*D,o[5]=G*h+J*A+st*k,o[6]=ht*c+it*x+mt*T,o[7]=ht*u+it*y+mt*D,o[8]=ht*h+it*A+mt*k,o}function ds(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function lv(o,n){var a=n[0],c=n[1],u=n[2],h=n[3],x=n[4],y=n[5],A=n[6],T=n[7],D=n[8],k=n[9],I=n[10],z=n[11],j=n[12],G=n[13],J=n[14],st=n[15],ht=a*y-c*x,it=a*A-u*x,mt=a*T-h*x,xt=c*A-u*y,gt=c*T-h*y,It=u*T-h*A,kt=D*G-k*j,$t=D*J-I*j,Jt=D*st-z*j,Lt=k*J-I*G,Wt=k*st-z*G,Ht=I*st-z*J,Kt=ht*Ht-it*Wt+mt*Lt+xt*Jt-gt*$t+It*kt;return Kt?(o[0]=(y*Ht-A*Wt+T*Lt)*(Kt=1/Kt),o[1]=(u*Wt-c*Ht-h*Lt)*Kt,o[2]=(G*It-J*gt+st*xt)*Kt,o[3]=(I*gt-k*It-z*xt)*Kt,o[4]=(A*Jt-x*Ht-T*$t)*Kt,o[5]=(a*Ht-u*Jt+h*$t)*Kt,o[6]=(J*mt-j*It-st*it)*Kt,o[7]=(D*It-I*mt+z*it)*Kt,o[8]=(x*Wt-y*Jt+T*kt)*Kt,o[9]=(c*Jt-a*Wt-h*kt)*Kt,o[10]=(j*gt-G*mt+st*ht)*Kt,o[11]=(k*mt-D*gt-z*ht)*Kt,o[12]=(y*$t-x*Lt-A*kt)*Kt,o[13]=(a*Lt-c*$t+u*kt)*Kt,o[14]=(G*it-j*xt-J*ht)*Kt,o[15]=(D*xt-k*it+I*ht)*Kt,o):null}function Rc(o,n,a){var c=n[0],u=n[1],h=n[2],x=n[3],y=n[4],A=n[5],T=n[6],D=n[7],k=n[8],I=n[9],z=n[10],j=n[11],G=n[12],J=n[13],st=n[14],ht=n[15],it=a[0],mt=a[1],xt=a[2],gt=a[3];return o[0]=it*c+mt*y+xt*k+gt*G,o[1]=it*u+mt*A+xt*I+gt*J,o[2]=it*h+mt*T+xt*z+gt*st,o[3]=it*x+mt*D+xt*j+gt*ht,o[4]=(it=a[4])*c+(mt=a[5])*y+(xt=a[6])*k+(gt=a[7])*G,o[5]=it*u+mt*A+xt*I+gt*J,o[6]=it*h+mt*T+xt*z+gt*st,o[7]=it*x+mt*D+xt*j+gt*ht,o[8]=(it=a[8])*c+(mt=a[9])*y+(xt=a[10])*k+(gt=a[11])*G,o[9]=it*u+mt*A+xt*I+gt*J,o[10]=it*h+mt*T+xt*z+gt*st,o[11]=it*x+mt*D+xt*j+gt*ht,o[12]=(it=a[12])*c+(mt=a[13])*y+(xt=a[14])*k+(gt=a[15])*G,o[13]=it*u+mt*A+xt*I+gt*J,o[14]=it*h+mt*T+xt*z+gt*st,o[15]=it*x+mt*D+xt*j+gt*ht,o}function Dm(o,n,a){var c,u,h,x,y,A,T,D,k,I,z,j,G=a[0],J=a[1],st=a[2];return n===o?(o[12]=n[0]*G+n[4]*J+n[8]*st+n[12],o[13]=n[1]*G+n[5]*J+n[9]*st+n[13],o[14]=n[2]*G+n[6]*J+n[10]*st+n[14],o[15]=n[3]*G+n[7]*J+n[11]*st+n[15]):(u=n[1],h=n[2],x=n[3],y=n[4],A=n[5],T=n[6],D=n[7],k=n[8],I=n[9],z=n[10],j=n[11],o[0]=c=n[0],o[1]=u,o[2]=h,o[3]=x,o[4]=y,o[5]=A,o[6]=T,o[7]=D,o[8]=k,o[9]=I,o[10]=z,o[11]=j,o[12]=c*G+y*J+k*st+n[12],o[13]=u*G+A*J+I*st+n[13],o[14]=h*G+T*J+z*st+n[14],o[15]=x*G+D*J+j*st+n[15]),o}function Lc(o,n,a){var c=a[0],u=a[1],h=a[2];return o[0]=n[0]*c,o[1]=n[1]*c,o[2]=n[2]*c,o[3]=n[3]*c,o[4]=n[4]*u,o[5]=n[5]*u,o[6]=n[6]*u,o[7]=n[7]*u,o[8]=n[8]*h,o[9]=n[9]*h,o[10]=n[10]*h,o[11]=n[11]*h,o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o}function cv(o,n,a){var c=Math.sin(a),u=Math.cos(a),h=n[4],x=n[5],y=n[6],A=n[7],T=n[8],D=n[9],k=n[10],I=n[11];return n!==o&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[4]=h*u+T*c,o[5]=x*u+D*c,o[6]=y*u+k*c,o[7]=A*u+I*c,o[8]=T*u-h*c,o[9]=D*u-x*c,o[10]=k*u-y*c,o[11]=I*u-A*c,o}function D0(o,n,a){var c=Math.sin(a),u=Math.cos(a),h=n[0],x=n[1],y=n[2],A=n[3],T=n[8],D=n[9],k=n[10],I=n[11];return n!==o&&(o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[0]=h*u-T*c,o[1]=x*u-D*c,o[2]=y*u-k*c,o[3]=A*u-I*c,o[8]=h*c+T*u,o[9]=x*c+D*u,o[10]=y*c+k*u,o[11]=A*c+I*u,o}function g3(o,n){return o[0]=n[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function x3(o,n,a){var c,u,h,x=a[0],y=a[1],A=a[2],T=Math.hypot(x,y,A);return T<P0?null:(x*=T=1/T,y*=T,A*=T,c=Math.sin(n),u=Math.cos(n),o[0]=x*x*(h=1-u)+u,o[1]=y*x*h+A*c,o[2]=A*x*h-y*c,o[3]=0,o[4]=x*y*h-A*c,o[5]=y*y*h+u,o[6]=A*y*h+x*c,o[7]=0,o[8]=x*A*h+y*c,o[9]=y*A*h-x*c,o[10]=A*A*h+u,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}Math.hypot||(Math.hypot=function(){for(var o=0,n=arguments.length;n--;)o+=arguments[n]*arguments[n];return Math.sqrt(o)});var aN=Rc;function dv(){var o=new qa(3);return qa!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function v3(o){var n=new qa(3);return n[0]=o[0],n[1]=o[1],n[2]=o[2],n}function Mm(o){return Math.hypot(o[0],o[1],o[2])}function tu(o,n,a){var c=new qa(3);return c[0]=o,c[1]=n,c[2]=a,c}function Ti(o,n,a){return o[0]=n[0]+a[0],o[1]=n[1]+a[1],o[2]=n[2]+a[2],o}function uv(o,n,a){return o[0]=n[0]-a[0],o[1]=n[1]-a[1],o[2]=n[2]-a[2],o}function y3(o,n,a){return o[0]=n[0]*a[0],o[1]=n[1]*a[1],o[2]=n[2]*a[2],o}function km(o,n,a){return o[0]=Math.min(n[0],a[0]),o[1]=Math.min(n[1],a[1]),o[2]=Math.min(n[2],a[2]),o}function Bm(o,n,a){return o[0]=Math.max(n[0],a[0]),o[1]=Math.max(n[1],a[1]),o[2]=Math.max(n[2],a[2]),o}function ir(o,n,a){return o[0]=n[0]*a,o[1]=n[1]*a,o[2]=n[2]*a,o}function Nm(o,n,a,c){return o[0]=n[0]+a[0]*c,o[1]=n[1]+a[1]*c,o[2]=n[2]+a[2]*c,o}function ma(o,n){var a=n[0],c=n[1],u=n[2],h=a*a+c*c+u*u;return h>0&&(h=1/Math.sqrt(h)),o[0]=n[0]*h,o[1]=n[1]*h,o[2]=n[2]*h,o}function kr(o,n){return o[0]*n[0]+o[1]*n[1]+o[2]*n[2]}function pv(o,n,a){var c=n[0],u=n[1],h=n[2],x=a[0],y=a[1],A=a[2];return o[0]=u*A-h*y,o[1]=h*x-c*A,o[2]=c*y-u*x,o}function no(o,n,a){var c=n[0],u=n[1],h=n[2],x=a[3]*c+a[7]*u+a[11]*h+a[15];return o[0]=(a[0]*c+a[4]*u+a[8]*h+a[12])/(x=x||1),o[1]=(a[1]*c+a[5]*u+a[9]*h+a[13])/x,o[2]=(a[2]*c+a[6]*u+a[10]*h+a[14])/x,o}function _3(o,n,a){var c=a[0],u=a[1],h=a[2],x=n[0],y=n[1],A=n[2],T=u*A-h*y,D=h*x-c*A,k=c*y-u*x,I=u*k-h*D,z=h*T-c*k,j=c*D-u*T,G=2*a[3];return D*=G,k*=G,z*=2,j*=2,o[0]=x+(T*=G)+(I*=2),o[1]=y+D+z,o[2]=A+k+j,o}var Im,us=uv,rN=y3,sN=Mm;function b3(o,n,a){return o[0]=n[0]*a,o[1]=n[1]*a,o[2]=n[2]*a,o[3]=n[3]*a,o}function w3(o,n){var a=n[0],c=n[1],u=n[2],h=n[3],x=a*a+c*c+u*u+h*h;return x>0&&(x=1/Math.sqrt(x)),o[0]=a*x,o[1]=c*x,o[2]=u*x,o[3]=h*x,o}function zc(o,n,a){var c=n[0],u=n[1],h=n[2],x=n[3];return o[0]=a[0]*c+a[4]*u+a[8]*h+a[12]*x,o[1]=a[1]*c+a[5]*u+a[9]*h+a[13]*x,o[2]=a[2]*c+a[6]*u+a[10]*h+a[14]*x,o[3]=a[3]*c+a[7]*u+a[11]*h+a[15]*x,o}function C3(){var o=new qa(4);return qa!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o[3]=1,o}function A3(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=1,o}function T3(o,n,a){a*=.5;var c=n[0],u=n[1],h=n[2],x=n[3],y=Math.sin(a),A=Math.cos(a);return o[0]=c*A+x*y,o[1]=u*A+h*y,o[2]=h*A-u*y,o[3]=x*A-c*y,o}function S3(o,n,a){a*=.5;var c=n[0],u=n[1],h=n[2],x=n[3],y=Math.sin(a),A=Math.cos(a);return o[0]=c*A-h*y,o[1]=u*A+x*y,o[2]=h*A+c*y,o[3]=x*A-u*y,o}dv(),Im=new qa(4),qa!=Float32Array&&(Im[0]=0,Im[1]=0,Im[2]=0,Im[3]=0);var iN=w3;dv(),tu(1,0,0),tu(0,1,0),C3(),C3(),h3();const lN=At([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:E3}=lN,P3=At([{name:"a_pos_3",components:3,type:"Int16"}]);var Fm=At([{name:"a_pos",type:"Int16",components:2}]);class mv{constructor(n,a){this.pos=n,this.dir=a}intersectsPlane(n,a,c){const u=kr(a,this.dir);if(Math.abs(u)<1e-6)return!1;const h=((n[0]-this.pos[0])*a[0]+(n[1]-this.pos[1])*a[1]+(n[2]-this.pos[2])*a[2])/u;return c[0]=this.pos[0]+this.dir[0]*h,c[1]=this.pos[1]+this.dir[1]*h,c[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,a,c){if(function(z,j){var G=z[0],J=z[1],st=z[2],ht=j[0],it=j[1],mt=j[2];return Math.abs(G-ht)<=P0*Math.max(1,Math.abs(G),Math.abs(ht))&&Math.abs(J-it)<=P0*Math.max(1,Math.abs(J),Math.abs(it))&&Math.abs(st-mt)<=P0*Math.max(1,Math.abs(st),Math.abs(mt))}(this.pos,n)||a===0)return c[0]=c[1]=c[2]=0,!1;const[u,h,x]=this.dir,y=this.pos[0]-n[0],A=this.pos[1]-n[1],T=this.pos[2]-n[2],D=u*u+h*h+x*x,k=2*(y*u+A*h+T*x),I=k*k-4*D*(y*y+A*A+T*T-a*a);if(I<0){const z=Math.max(-k/2,0),j=y+u*z,G=A+h*z,J=T+x*z,st=Math.hypot(j,G,J);return c[0]=j*a/st,c[1]=G*a/st,c[2]=J*a/st,!1}{const z=(-k-Math.sqrt(I))/(2*D);if(z<0){const j=Math.hypot(y,A,T);return c[0]=y*a/j,c[1]=A*a/j,c[2]=T*a/j,!1}return c[0]=y+u*z,c[1]=A+h*z,c[2]=T+x*z,!0}}}class hv{constructor(n,a,c,u,h){this.TL=n,this.TR=a,this.BR=c,this.BL=u,this.horizon=h}static fromInvProjectionMatrix(n,a,c){const u=[-1,1,1],h=[1,1,1],x=[1,-1,1],y=[-1,-1,1],A=no(u,u,n),T=no(h,h,n),D=no(x,x,n),k=no(y,y,n);return new hv(A,T,D,k,a/c)}}class fv{constructor(n,a){this.points=n,this.planes=a}static fromInvProjectionMatrix(n,a,c,u){const h=Math.pow(2,c),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const T=zc([],A,n),D=1/T[3]/a*h;return function(k,I,z){return k[0]=I[0]*z[0],k[1]=I[1]*z[1],k[2]=I[2]*z[2],k[3]=I[3]*z[3],k}(T,T,[D,D,u?1/T[3]:D,D])}),y=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const T=ma([],pv([],us([],x[A[0]],x[A[1]]),us([],x[A[2]],x[A[1]]))),D=-kr(T,x[A[1]]);return T.concat(D)});return new fv(x,y)}}class ha{static fromPoints(n){const a=[1/0,1/0,1/0],c=[-1/0,-1/0,-1/0];for(const u of n)km(a,a,u),Bm(c,c,u);return new ha(a,c)}static applyTransform(n,a){const c=n.getCorners();for(let u=0;u<c.length;++u)no(c[u],c[u],a);return ha.fromPoints(c)}constructor(n,a){this.min=n,this.max=a,this.center=ir([],Ti([],this.min,this.max),.5)}quadrant(n){const a=[n%2==0,n<2],c=v3(this.min),u=v3(this.max);for(let h=0;h<a.length;h++)c[h]=a[h]?this.min[h]:this.center[h],u[h]=a[h]?this.center[h]:this.max[h];return u[2]=this.max[2],new ha(c,u)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,a=this.max;return[[n[0],n[1],n[2]],[a[0],n[1],n[2]],[a[0],a[1],n[2]],[n[0],a[1],n[2]],[n[0],n[1],a[2]],[a[0],n[1],a[2]],[a[0],a[1],a[2]],[n[0],a[1],a[2]]]}intersects(n){const a=this.getCorners();let c=!0;for(let u=0;u<n.planes.length;u++){const h=n.planes[u];let x=0;for(let y=0;y<a.length;y++)x+=kr(h,a[y])+h[3]>=0;if(x===0)return 0;x!==a.length&&(c=!1)}if(c)return 2;for(let u=0;u<3;u++){let h=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(let y=0;y<n.points.length;y++){const A=n.points[y][u]-this.min[u];h=Math.min(h,A),x=Math.max(x,A)}if(x<0||h>this.max[u]-this.min[u])return 0}return 1}}const gv=5,D3=6,Os=De/Math.PI/2,cN=16383,jc=64,Rm=[jc,32,16],Br=-Os,Nr=Os,dN=[new ha([Br,Br,Br],[Nr,Nr,Nr]),new ha([Br,Br,Br],[0,0,Nr]),new ha([0,Br,Br],[Nr,0,Nr]),new ha([Br,0,Br],[0,Nr,Nr]),new ha([0,0,Br],[Nr,Nr,Nr])];function M0(o){return o*Os/jm}function M3(o,n,a,c=!0){const u=ir([],o._camera.position,o.worldSize),h=[n,a,1,1];zc(h,h,o.pixelMatrixInverse),b3(h,h,1/h[3]);const x=ma([],us([],h,u)),y=o.globeMatrix,A=[y[12],y[13],y[14]],T=us([],A,u),D=Mm(T),k=ma([],T),I=o.worldSize/(2*Math.PI),z=kr(k,x),j=Math.asin(I/D);if(j<Math.acos(z)){if(!c)return null;const Jt=[],Lt=[];ir(Jt,x,D/z),ma(Lt,us(Lt,Jt,T)),ma(x,Ti(x,T,ir(x,Lt,Math.tan(j)*D)))}const G=[];new mv(u,x).closestPointOnSphere(A,I,G);const J=ma([],Cr(y,0)),st=ma([],Cr(y,1)),ht=ma([],Cr(y,2)),it=kr(J,G),mt=kr(st,G),xt=kr(ht,G),gt=ce(Math.asin(-mt/I));let It=ce(Math.atan2(it,xt));It=o.center.lng+function(Jt,Lt){const Wt=(Lt-Jt+180)%360-180;return Wt<-180?Wt+360:Wt}(o.center.lng,It);const kt=Us(It),$t=Zt($s(gt),0,1);return new au(kt,$t)}class uN{constructor(n,a,c){this.a=us([],n,c),this.b=us([],a,c),this.center=c;const u=ma([],this.a),h=ma([],this.b);this.angle=Math.acos(kr(u,h))}}function xv(o,n){if(o.angle===0)return null;let a;return a=o.a[n]===0?1/o.angle*.5*Math.PI:1/o.angle*Math.atan(o.b[n]/o.a[n]/Math.sin(o.angle)-1/Math.tan(o.angle)),a<0||a>1?null:function(c,u,h,x){const y=Math.sin(h);return c*(Math.sin((1-x)*h)/y)+u*(Math.sin(x*h)/y)}(o.a[n],o.b[n],o.angle,Zt(a,0,1))+o.center[n]}function Vs(o){if(o.z<=1)return dN[o.z+2*o.y+o.x];const n=vv(k0(o));return ha.fromPoints(n)}function Oc(o,n,a){return ir(o,o,1-a),Nm(o,o,n,a)}function k3(o,n){const a=ou(n.zoom);if(a===0)return Vs(o);const c=k0(o),u=vv(c),h=Us(c.getWest())*n.worldSize,x=Us(c.getEast())*n.worldSize,y=$s(c.getNorth())*n.worldSize,A=$s(c.getSouth())*n.worldSize,T=[h,y,0],D=[x,y,0],k=[h,A,0],I=[x,A,0],z=lv([],n.globeMatrix);return no(T,T,z),no(D,D,z),no(k,k,z),no(I,I,z),u[0]=Oc(u[0],k,a),u[1]=Oc(u[1],I,a),u[2]=Oc(u[2],D,a),u[3]=Oc(u[3],T,a),ha.fromPoints(u)}function B3(o,n,a){for(const c of o)no(c,c,n),ir(c,c,a)}function pN(o,n,a){const c=n/o.worldSize,u=o.globeMatrix;if(a.z<=1){const kt=Vs(a).getCorners();return B3(kt,u,c),ha.fromPoints(kt)}const h=k0(a),x=vv(h);B3(x,u,c);const y=Number.MAX_VALUE,A=[-y,-y,-y],T=[y,y,y];if(h.contains(o.center)){for(const Jt of x)km(T,T,Jt),Bm(A,A,Jt);A[2]=0;const kt=o.point,$t=[kt.x*c,kt.y*c,0];return km(T,T,$t),Bm(A,A,$t),new ha(T,A)}const D=[u[12]*c,u[13]*c,u[14]*c],k=h.getCenter(),I=Zt(o.center.lat,-Qo,Qo),z=Zt(k.lat,-Qo,Qo),j=Us(o.center.lng),G=$s(I);let J=j-Us(k.lng);const st=G-$s(z);J>.5?J-=1:J<-.5&&(J+=1);let ht=0;Math.abs(J)>Math.abs(st)?ht=J>=0?1:3:(ht=st>=0?0:2,Nm(D,D,[u[4]*c,u[5]*c,u[6]*c],-Math.sin(xe(st>=0?h.getSouth():h.getNorth()))*Os));const it=x[ht],mt=x[(ht+1)%4],xt=new uN(it,mt,D),gt=[xv(xt,0)||it[0],xv(xt,1)||it[1],xv(xt,2)||it[2]],It=ou(o.zoom);if(It>0){const kt=function({x:Jt,y:Lt,z:Wt},Ht,Kt,ae,Vt){const ue=1/(1<<Wt);let be=Jt*ue,pe=be+ue,Le=Lt*ue,re=Le+ue,Ee=0;const ze=(be+pe)/2-ae;return ze>.5?Ee=-1:ze<-.5&&(Ee=1),be=((be+Ee)*Ht-(ae*=Ht))*Kt+ae,pe=((pe+Ee)*Ht-ae)*Kt+ae,Le=(Le*Ht-(Vt*=Ht))*Kt+Vt,re=(re*Ht-Vt)*Kt+Vt,[[be,re,0],[pe,re,0],[pe,Le,0],[be,Le,0]]}(a,n,o._pixelsPerMercatorPixel,j,G);for(let Jt=0;Jt<x.length;Jt++)Oc(x[Jt],kt[Jt],It);const $t=Ti([],kt[ht],kt[(ht+1)%4]);ir($t,$t,.5),Oc(gt,$t,It)}for(const kt of x)km(T,T,kt),Bm(A,A,kt);return T[2]=Math.min(it[2],mt[2]),km(T,T,gt),Bm(A,A,gt),new ha(T,A)}function k0({x:o,y:n,z:a}){const c=1/(1<<a),u=new Sn(lr(o*c),Yo((n+1)*c)),h=new Sn(lr((o+1)*c),Yo(n*c));return new pl(u,h)}function vv(o){const n=xe(o.getNorth()),a=xe(o.getSouth()),c=Math.cos(n),u=Math.cos(a),h=Math.sin(n),x=Math.sin(a),y=o.getWest(),A=o.getEast();return[eu(u,x,y),eu(u,x,A),eu(c,h,A),eu(c,h,y)]}function eu(o,n,a,c=Os){return a=xe(a),[o*Math.sin(a)*c,-n*c,o*Math.cos(a)*c]}function nu(o,n,a){return eu(Math.cos(xe(o)),Math.sin(xe(o)),n,a)}function Lm(o,n,a,c){const u=1<<a.z,h=(o/De+a.x)/u;return nu(Yo((n/De+a.y)/u),lr(h),c)}function B0({min:o,max:n}){return cN/Math.max(n[0]-o[0],n[1]-o[1],n[2]-o[2])}const N3=new Float64Array(16);function zm(o){const n=B0(o),a=g3(N3,[n,n,n]);return Dm(a,a,((c=[])[0]=-(u=o.min)[0],c[1]=-u[1],c[2]=-u[2],c));var c,u}function yv(o){const n=(c=o.min,(a=N3)[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a);var a,c;const u=1/B0(o);return Lc(n,n,[u,u,u])}function I3(o,n,a,c,u){const h=function(A){const T=De/(2*Math.PI);return A/(2*Math.PI)/T}(a),x=[o,n,-a/(2*Math.PI)],y=ds(new Float64Array(16));return Dm(y,y,x),Lc(y,y,[h,h,h]),cv(y,y,xe(-u)),D0(y,y,xe(-c)),y}function ou(o){return we(gv,D3,o)}function F3(o,n){const a=nu(n.lat,n.lng),c=function(j){const G=nu(j._center.lat,j._center.lng);let J=pv([],tu(0,1,0),G);const st=x3([],-j.angle,G);J=no(J,J,st),x3(st,-j._pitch,J);const ht=ma([],G);return ir(ht,ht,M0(j.cameraToCenterDistance/j.pixelsPerMeter)),no(ht,ht,st),Ti([],G,ht)}(o);return x=(u=uv([],c,a))[0],y=u[1],A=u[2],T=(h=a)[0],D=h[1],k=h[2],z=(I=Math.sqrt(x*x+y*y+A*A)*Math.sqrt(T*T+D*D+k*k))&&kr(u,h)/I,Math.acos(Math.min(Math.max(z,-1),1));var u,h,x,y,A,T,D,k,I,z}function _v(o,n){return F3(o,n)>Math.PI/2*1.01}const R3=xe(85),mN=Math.cos(R3),hN=Math.sin(R3),jm=63710088e-1,L3=2*Math.PI*jm;class ml{constructor(n,a){if(isNaN(n)||isNaN(a))throw new Error(`Invalid LngLat object: (${n}, ${a})`);if(this.lng=+n,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ml(fe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const a=Math.PI/180,c=this.lat*a,u=n.lat*a,h=Math.sin(c)*Math.sin(u)+Math.cos(c)*Math.cos(u)*Math.cos((n.lng-this.lng)*a);return jm*Math.acos(Math.min(h,1))}toBounds(n=0){const a=360*n/40075017,c=a/Math.cos(Math.PI/180*this.lat);return new pl(new ml(this.lng-c,this.lat-a),new ml(this.lng+c,this.lat+a))}toEcef(n){const a=M0(n);return nu(this.lat,this.lng,Os+a)}static convert(n){if(n instanceof ml)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new ml(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new ml(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Sn=ml;function bv(o){return L3*Math.cos(o*Math.PI/180)}function Us(o){return(180+o)/360}function $s(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function ps(o,n){return o/bv(n)}function lr(o){return 360*o-180}function Yo(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}function z3(o,n){return o*bv(Yo(n))}const Qo=85.051129;function j3(o){return 1/Math.cos(o*Math.PI/180)}class au{constructor(n,a,c=0){this.x=+n,this.y=+a,this.z=+c}static fromLngLat(n,a=0){const c=Sn.convert(n);return new au(Us(c.lng),$s(c.lat),ps(a,c.lat))}toLngLat(){return new Sn(lr(this.x),Yo(this.y))}toAltitude(){return z3(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/L3*j3(Yo(this.y))}}function wv(o,n,a,c,u,h,x,y,A){const T=(n+c)/2,D=(a+u)/2,k=new Dt(T,D);y(k),function(I,z,j,G,J,st){const ht=j-J,it=G-st;return Math.abs((G-z)*ht-(j-I)*it)/Math.hypot(ht,it)}(k.x,k.y,h.x,h.y,x.x,x.y)>=A?(wv(o,n,a,T,D,h,k,y,A),wv(o,T,D,c,u,k,x,y,A)):o.push(x)}function O3(o,n,a){let c=o[0],u=c.x,h=c.y;n(c);const x=[c];for(let y=1;y<o.length;y++){const A=o[y],{x:T,y:D}=A;n(A),wv(x,u,h,T,D,c,A,n,a),u=T,h=D,c=A}return x}function Cv(o,n,a,c){if(c(n,a)){const u=n.add(a)._mult(.5);Cv(o,n,u,c),Cv(o,u,a,c)}else o.push(a)}function fN(o,n){let a=o[0];const c=[a];for(let u=1;u<o.length;u++){const h=o[u];Cv(c,a,h,n),a=h}return c}const Av=Math.pow(2,14)-1,V3=-Av-1;function gN(o,n){const a=Math.round(o.x*n),c=Math.round(o.y*n);return o.x=Zt(a,V3,Av),o.y=Zt(c,V3,Av),(a<o.x||a>o.x+1||c<o.y||c>o.y+1)&&gn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o}function Si(o,n,a){const c=o.loadGeometry(),u=o.extent,h=De/u;if(n&&a&&a.projection.isReprojectedInTileSpace){const x=1<<n.z,{scale:y,x:A,y:T,projection:D}=a,k=I=>{const z=lr((n.x+I.x/u)/x),j=Yo((n.y+I.y/u)/x),G=D.project(z,j);I.x=(G.x*y-A)*u,I.y=(G.y*y-T)*u};for(let I=0;I<c.length;I++)if(o.type!==1)c[I]=O3(c[I],k,1);else{const z=[];for(const j of c[I])j.x<0||j.x>=u||j.y<0||j.y>=u||(k(j),z.push(j));c[I]=z}}for(const x of c)for(const y of x)gN(y,h);return c}function Vc(o,n){return{type:o.type,id:o.id,properties:o.properties,geometry:n?Si(o):[]}}function N0(o,n,a,c,u){o.emplaceBack(2*n+(c+1)/2,2*a+(u+1)/2)}function I0(o,n,a){o.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class Tv{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Qt,this.indexArray=new Ae,this.segments=new lo,this.programConfigurations=new Fc(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(n,a,c,u){const h=this.layers[0],x=[];let y=null;h.type==="circle"&&(y=h.layout.get("circle-sort-key"));for(const{feature:T,id:D,index:k,sourceLayerIndex:I}of n){const z=this.layers[0]._featureFilter.needGeometry,j=Vc(T,z);if(!this.layers[0]._featureFilter.filter(new M(this.zoom),j,c))continue;const G=y?y.evaluate(j,{},c):void 0,J={id:D,properties:T.properties,type:T.type,sourceLayerIndex:I,index:k,geometry:z?j.geometry:Si(T,c,u),patterns:{},sortKey:G};x.push(J)}y&&x.sort((T,D)=>T.sortKey-D.sortKey);let A=null;u.projection.name==="globe"&&(this.globeExtVertexArray=new te,A=u.projection);for(const T of x){const{geometry:D,index:k,sourceLayerIndex:I}=T,z=n[k].feature;this.addFeature(T,D,k,a.availableImages,c,A),a.featureIndex.insert(z,D,k,I,this.index)}}update(n,a,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,nN.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,oN.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,a,c,u,h,x){for(const y of a)for(const A of y){const T=A.x,D=A.y;if(T<0||T>=De||D<0||D>=De)continue;if(x){const z=x.projectTilePoint(T,D,h),j=x.upVector(h,T,D),G=this.globeExtVertexArray;I0(G,z,j),I0(G,z,j),I0(G,z,j),I0(G,z,j)}const k=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),I=k.vertexLength;N0(this.layoutVertexArray,T,D,-1,-1),N0(this.layoutVertexArray,T,D,1,-1),N0(this.layoutVertexArray,T,D,1,1),N0(this.layoutVertexArray,T,D,-1,1),this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I,I+2,I+3),k.vertexLength+=4,k.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,{},u,h)}}function U3(o,n){for(let a=0;a<o.length;a++)if(Uc(n,o[a]))return!0;for(let a=0;a<n.length;a++)if(Uc(o,n[a]))return!0;return!!Sv(o,n)}function xN(o,n,a){return!!Uc(o,n)||!!Ev(n,o,a)}function $3(o,n){if(o.length===1)return q3(n,o[0]);for(let a=0;a<n.length;a++){const c=n[a];for(let u=0;u<c.length;u++)if(Uc(o,c[u]))return!0}for(let a=0;a<o.length;a++)if(q3(n,o[a]))return!0;for(let a=0;a<n.length;a++)if(Sv(o,n[a]))return!0;return!1}function vN(o,n,a){if(o.length>1){if(Sv(o,n))return!0;for(let c=0;c<n.length;c++)if(Ev(n[c],o,a))return!0}for(let c=0;c<o.length;c++)if(Ev(o[c],n,a))return!0;return!1}function Sv(o,n){if(o.length===0||n.length===0)return!1;for(let a=0;a<o.length-1;a++){const c=o[a],u=o[a+1];for(let h=0;h<n.length-1;h++)if(yN(c,u,n[h],n[h+1]))return!0}return!1}function yN(o,n,a,c){return Wo(o,a,c)!==Wo(n,a,c)&&Wo(o,n,a)!==Wo(o,n,c)}function Ev(o,n,a){const c=a*a;if(n.length===1)return o.distSqr(n[0])<c;for(let u=1;u<n.length;u++)if(G3(o,n[u-1],n[u])<c)return!0;return!1}function G3(o,n,a){const c=n.distSqr(a);if(c===0)return o.distSqr(n);const u=((o.x-n.x)*(a.x-n.x)+(o.y-n.y)*(a.y-n.y))/c;return o.distSqr(u<0?n:u>1?a:a.sub(n)._mult(u)._add(n))}function q3(o,n){let a,c,u,h=!1;for(let x=0;x<o.length;x++){a=o[x];for(let y=0,A=a.length-1;y<a.length;A=y++)c=a[y],u=a[A],c.y>n.y!=u.y>n.y&&n.x<(u.x-c.x)*(n.y-c.y)/(u.y-c.y)+c.x&&(h=!h)}return h}function Uc(o,n){let a=!1;for(let c=0,u=o.length-1;c<o.length;u=c++){const h=o[c],x=o[u];h.y>n.y!=x.y>n.y&&n.x<(x.x-h.x)*(n.y-h.y)/(x.y-h.y)+h.x&&(a=!a)}return a}function W3(o,n,a,c,u){for(const x of o)if(n<=x.x&&a<=x.y&&c>=x.x&&u>=x.y)return!0;const h=[new Dt(n,a),new Dt(n,u),new Dt(c,u),new Dt(c,a)];if(o.length>2){for(const x of h)if(Uc(o,x))return!0}for(let x=0;x<o.length-1;x++)if(_N(o[x],o[x+1],h))return!0;return!1}function _N(o,n,a){const c=a[0],u=a[2];if(o.x<c.x&&n.x<c.x||o.x>u.x&&n.x>u.x||o.y<c.y&&n.y<c.y||o.y>u.y&&n.y>u.y)return!1;const h=Wo(o,n,a[0]);return h!==Wo(o,n,a[1])||h!==Wo(o,n,a[2])||h!==Wo(o,n,a[3])}function ru(o,n,a){const c=n.paint.get(o).value;return c.kind==="constant"?c.value:a.programConfigurations.get(n.id).getMaxValue(o)}function F0(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function H3(o,n,a,c,u){if(!n[0]&&!n[1])return o;const h=Dt.convert(n)._mult(u);a==="viewport"&&h._rotate(-c);const x=[];for(let y=0;y<o.length;y++)x.push(o[y].sub(h));return x}function Z3(o,n,a,c){const u=Dt.convert(o)._mult(c);return n==="viewport"&&u._rotate(-a),u}ve(Tv,"CircleBucket",{omit:["layers"]});const bN=new ut({"circle-sort-key":new et(Ut.layout_circle["circle-sort-key"])});var wN={paint:new ut({"circle-radius":new et(Ut.paint_circle["circle-radius"]),"circle-color":new et(Ut.paint_circle["circle-color"]),"circle-blur":new et(Ut.paint_circle["circle-blur"]),"circle-opacity":new et(Ut.paint_circle["circle-opacity"]),"circle-translate":new U(Ut.paint_circle["circle-translate"]),"circle-translate-anchor":new U(Ut.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new U(Ut.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new U(Ut.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new et(Ut.paint_circle["circle-stroke-width"]),"circle-stroke-color":new et(Ut.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new et(Ut.paint_circle["circle-stroke-opacity"])}),layout:bN};function X3(o,n,a,c,u,h,x,y,A){if(h&&o.queryGeometry.isAboveHorizon)return!1;h&&(A*=o.pixelToTileUnitsFactor);const T=o.tileID.canonical,D=a.projection.upVectorScale(T,a.center.lat,a.worldSize).metersToTile;for(const k of n)for(const I of k){const z=I.add(y),j=u&&a.elevation?a.elevation.exaggeration()*u.getElevationAt(z.x,z.y,!0):0,G=a.projection.projectTilePoint(z.x,z.y,T);if(j>0){const it=a.projection.upVector(T,z.x,z.y);G.x+=it[0]*D*j,G.y+=it[1]*D*j,G.z+=it[2]*D*j}const J=h?z:CN(G.x,G.y,G.z,c),st=h?o.tilespaceRays.map(it=>TN(it,j)):o.queryGeometry.screenGeometry,ht=zc([],[G.x,G.y,G.z,1],c);if(!x&&h?A*=ht[3]/a.cameraToCenterDistance:x&&!h&&(A*=a.cameraToCenterDistance/ht[3]),h){const it=Yo((I.y/De+T.y)/(1<<T.z));A/=a.projection.pixelsPerMeter(it,1)/ps(1,it)}if(xN(st,J,A))return!0}return!1}function CN(o,n,a,c){const u=zc([],[o,n,a,1],c);return new Dt(u[0]/u[3],u[1]/u[3])}const K3=tu(0,0,0),AN=tu(0,0,1);function TN(o,n){const a=dv();return K3[2]=n,o.intersectsPlane(K3,AN,a),new Dt(a[0],a[1])}class Y3 extends Tv{}function Q3(o,{width:n,height:a},c,u){if(u){if(u instanceof Uint8ClampedArray)u=new Uint8Array(u.buffer);else if(u.length!==n*a*c)throw new RangeError("mismatched image size")}else u=new Uint8Array(n*a*c);return o.width=n,o.height=a,o.data=u,o}function J3(o,n,a){const{width:c,height:u}=n;c===o.width&&u===o.height||(Pv(o,n,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,c),height:Math.min(o.height,u)},a),o.width=c,o.height=u,o.data=n.data)}function Pv(o,n,a,c,u,h){if(u.width===0||u.height===0)return n;if(u.width>o.width||u.height>o.height||a.x>o.width-u.width||a.y>o.height-u.height)throw new RangeError("out of range source coordinates for image copy");if(u.width>n.width||u.height>n.height||c.x>n.width-u.width||c.y>n.height-u.height)throw new RangeError("out of range destination coordinates for image copy");const x=o.data,y=n.data;for(let A=0;A<u.height;A++){const T=((a.y+A)*o.width+a.x)*h,D=((c.y+A)*n.width+c.x)*h;for(let k=0;k<u.width*h;k++)y[D+k]=x[T+k]}return n}ve(Y3,"HeatmapBucket",{omit:["layers"]});class Ei{constructor(n,a){Q3(this,n,1,a)}resize(n){J3(this,new Ei(n),1)}clone(){return new Ei({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,c,u,h){Pv(n,a,c,u,h,1)}}class Wa{constructor(n,a){Q3(this,n,4,a)}resize(n){J3(this,new Wa(n),4)}replace(n,a){a?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Wa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,c,u,h){Pv(n,a,c,u,h,4)}}ve(Ei,"AlphaImage"),ve(Wa,"RGBAImage");var SN={paint:new ut({"heatmap-radius":new et(Ut.paint_heatmap["heatmap-radius"]),"heatmap-weight":new et(Ut.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new U(Ut.paint_heatmap["heatmap-intensity"]),"heatmap-color":new lt(Ut.paint_heatmap["heatmap-color"]),"heatmap-opacity":new U(Ut.paint_heatmap["heatmap-opacity"])})};function Dv(o){const n={},a=o.resolution||256,c=o.clips?o.clips.length:1,u=o.image||new Wa({width:a,height:c}),h=(x,y,A)=>{n[o.evaluationKey]=A;const T=o.expression.evaluate(n);u.data[x+y+0]=Math.floor(255*T.r/T.a),u.data[x+y+1]=Math.floor(255*T.g/T.a),u.data[x+y+2]=Math.floor(255*T.b/T.a),u.data[x+y+3]=Math.floor(255*T.a)};if(o.clips)for(let x=0,y=0;x<c;++x,y+=4*a)for(let A=0,T=0;A<a;A++,T+=4){const D=A/(a-1),{start:k,end:I}=o.clips[x];h(y,T,k*(1-D)+I*D)}else for(let x=0,y=0;x<a;x++,y+=4)h(0,y,x/(a-1));return u}var EN={paint:new ut({"hillshade-illumination-direction":new U(Ut.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new U(Ut.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new U(Ut.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new U(Ut.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new U(Ut.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new U(Ut.paint_hillshade["hillshade-accent-color"])})};const PN=At([{name:"a_pos",components:2,type:"Int16"}],4),{members:DN}=PN;var Mv={exports:{}};function R0(o,n,a){a=a||2;var c,u,h,x,y,A,T,D=n&&n.length,k=D?n[0]*a:o.length,I=tC(o,0,k,a,!0),z=[];if(!I||I.next===I.prev)return z;if(D&&(I=function(G,J,st,ht){var it,mt,xt,gt=[];for(it=0,mt=J.length;it<mt;it++)(xt=tC(G,J[it]*ht,it<mt-1?J[it+1]*ht:G.length,ht,!1))===xt.next&&(xt.steiner=!0),gt.push(LN(xt));for(gt.sort(IN),it=0;it<gt.length;it++)st=FN(gt[it],st);return st}(o,n,I,a)),o.length>80*a){c=h=o[0],u=x=o[1];for(var j=a;j<k;j+=a)(y=o[j])<c&&(c=y),(A=o[j+1])<u&&(u=A),y>h&&(h=y),A>x&&(x=A);T=(T=Math.max(h-c,x-u))!==0?32767/T:0}return Om(I,z,a,c,u,T,0),z}function tC(o,n,a,c,u){var h,x;if(u===Nv(o,n,a,c)>0)for(h=n;h<a;h+=c)x=oC(h,o[h],o[h+1],x);else for(h=a-c;h>=n;h-=c)x=oC(h,o[h],o[h+1],x);return x&&L0(x,x.next)&&(Um(x),x=x.next),x}function $c(o,n){if(!o)return o;n||(n=o);var a,c=o;do if(a=!1,c.steiner||!L0(c,c.next)&&co(c.prev,c,c.next)!==0)c=c.next;else{if(Um(c),(c=n=c.prev)===c.next)break;a=!0}while(a||c!==n);return n}function Om(o,n,a,c,u,h,x){if(o){!x&&h&&function(D,k,I,z){var j=D;do j.z===0&&(j.z=kv(j.x,j.y,k,I,z)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==D);j.prevZ.nextZ=null,j.prevZ=null,function(G){var J,st,ht,it,mt,xt,gt,It,kt=1;do{for(st=G,G=null,mt=null,xt=0;st;){for(xt++,ht=st,gt=0,J=0;J<kt&&(gt++,ht=ht.nextZ);J++);for(It=kt;gt>0||It>0&&ht;)gt!==0&&(It===0||!ht||st.z<=ht.z)?(it=st,st=st.nextZ,gt--):(it=ht,ht=ht.nextZ,It--),mt?mt.nextZ=it:G=it,it.prevZ=mt,mt=it;st=ht}mt.nextZ=null,kt*=2}while(xt>1)}(j)}(o,c,u,h);for(var y,A,T=o;o.prev!==o.next;)if(y=o.prev,A=o.next,h?kN(o,c,u,h):MN(o))n.push(y.i/a|0),n.push(o.i/a|0),n.push(A.i/a|0),Um(o),o=A.next,T=A.next;else if((o=A)===T){x?x===1?Om(o=BN($c(o),n,a),n,a,c,u,h,2):x===2&&NN(o,n,a,c,u,h):Om($c(o),n,a,c,u,h,1);break}}}function MN(o){var n=o.prev,a=o,c=o.next;if(co(n,a,c)>=0)return!1;for(var u=n.x,h=a.x,x=c.x,y=n.y,A=a.y,T=c.y,D=u<h?u<x?u:x:h<x?h:x,k=y<A?y<T?y:T:A<T?A:T,I=u>h?u>x?u:x:h>x?h:x,z=y>A?y>T?y:T:A>T?A:T,j=c.next;j!==n;){if(j.x>=D&&j.x<=I&&j.y>=k&&j.y<=z&&su(u,y,h,A,x,T,j.x,j.y)&&co(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function kN(o,n,a,c){var u=o.prev,h=o,x=o.next;if(co(u,h,x)>=0)return!1;for(var y=u.x,A=h.x,T=x.x,D=u.y,k=h.y,I=x.y,z=y<A?y<T?y:T:A<T?A:T,j=D<k?D<I?D:I:k<I?k:I,G=y>A?y>T?y:T:A>T?A:T,J=D>k?D>I?D:I:k>I?k:I,st=kv(z,j,n,a,c),ht=kv(G,J,n,a,c),it=o.prevZ,mt=o.nextZ;it&&it.z>=st&&mt&&mt.z<=ht;){if(it.x>=z&&it.x<=G&&it.y>=j&&it.y<=J&&it!==u&&it!==x&&su(y,D,A,k,T,I,it.x,it.y)&&co(it.prev,it,it.next)>=0||(it=it.prevZ,mt.x>=z&&mt.x<=G&&mt.y>=j&&mt.y<=J&&mt!==u&&mt!==x&&su(y,D,A,k,T,I,mt.x,mt.y)&&co(mt.prev,mt,mt.next)>=0))return!1;mt=mt.nextZ}for(;it&&it.z>=st;){if(it.x>=z&&it.x<=G&&it.y>=j&&it.y<=J&&it!==u&&it!==x&&su(y,D,A,k,T,I,it.x,it.y)&&co(it.prev,it,it.next)>=0)return!1;it=it.prevZ}for(;mt&&mt.z<=ht;){if(mt.x>=z&&mt.x<=G&&mt.y>=j&&mt.y<=J&&mt!==u&&mt!==x&&su(y,D,A,k,T,I,mt.x,mt.y)&&co(mt.prev,mt,mt.next)>=0)return!1;mt=mt.nextZ}return!0}function BN(o,n,a){var c=o;do{var u=c.prev,h=c.next.next;!L0(u,h)&&eC(u,c,c.next,h)&&Vm(u,h)&&Vm(h,u)&&(n.push(u.i/a|0),n.push(c.i/a|0),n.push(h.i/a|0),Um(c),Um(c.next),c=o=h),c=c.next}while(c!==o);return $c(c)}function NN(o,n,a,c,u,h){var x=o;do{for(var y=x.next.next;y!==x.prev;){if(x.i!==y.i&&zN(x,y)){var A=nC(x,y);return x=$c(x,x.next),A=$c(A,A.next),Om(x,n,a,c,u,h,0),void Om(A,n,a,c,u,h,0)}y=y.next}x=x.next}while(x!==o)}function IN(o,n){return o.x-n.x}function FN(o,n){var a=function(u,h){var x,y=h,A=u.x,T=u.y,D=-1/0;do{if(T<=y.y&&T>=y.next.y&&y.next.y!==y.y){var k=y.x+(T-y.y)*(y.next.x-y.x)/(y.next.y-y.y);if(k<=A&&k>D&&(D=k,x=y.x<y.next.x?y:y.next,k===A))return x}y=y.next}while(y!==h);if(!x)return null;var I,z=x,j=x.x,G=x.y,J=1/0;y=x;do A>=y.x&&y.x>=j&&A!==y.x&&su(T<G?A:D,T,j,G,T<G?D:A,T,y.x,y.y)&&(I=Math.abs(T-y.y)/(A-y.x),Vm(y,u)&&(I<J||I===J&&(y.x>x.x||y.x===x.x&&RN(x,y)))&&(x=y,J=I)),y=y.next;while(y!==z);return x}(o,n);if(!a)return n;var c=nC(a,o);return $c(c,c.next),$c(a,a.next)}function RN(o,n){return co(o.prev,o,n.prev)<0&&co(n.next,o,o.next)<0}function kv(o,n,a,c,u){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-a)*u|0)|o<<8))|o<<4))|o<<2))|o<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-c)*u|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function LN(o){var n=o,a=o;do(n.x<a.x||n.x===a.x&&n.y<a.y)&&(a=n),n=n.next;while(n!==o);return a}function su(o,n,a,c,u,h,x,y){return(u-x)*(n-y)>=(o-x)*(h-y)&&(o-x)*(c-y)>=(a-x)*(n-y)&&(a-x)*(h-y)>=(u-x)*(c-y)}function zN(o,n){return o.next.i!==n.i&&o.prev.i!==n.i&&!function(a,c){var u=a;do{if(u.i!==a.i&&u.next.i!==a.i&&u.i!==c.i&&u.next.i!==c.i&&eC(u,u.next,a,c))return!0;u=u.next}while(u!==a);return!1}(o,n)&&(Vm(o,n)&&Vm(n,o)&&function(a,c){var u=a,h=!1,x=(a.x+c.x)/2,y=(a.y+c.y)/2;do u.y>y!=u.next.y>y&&u.next.y!==u.y&&x<(u.next.x-u.x)*(y-u.y)/(u.next.y-u.y)+u.x&&(h=!h),u=u.next;while(u!==a);return h}(o,n)&&(co(o.prev,o,n.prev)||co(o,n.prev,n))||L0(o,n)&&co(o.prev,o,o.next)>0&&co(n.prev,n,n.next)>0)}function co(o,n,a){return(n.y-o.y)*(a.x-n.x)-(n.x-o.x)*(a.y-n.y)}function L0(o,n){return o.x===n.x&&o.y===n.y}function eC(o,n,a,c){var u=j0(co(o,n,a)),h=j0(co(o,n,c)),x=j0(co(a,c,o)),y=j0(co(a,c,n));return u!==h&&x!==y||!(u!==0||!z0(o,a,n))||!(h!==0||!z0(o,c,n))||!(x!==0||!z0(a,o,c))||!(y!==0||!z0(a,n,c))}function z0(o,n,a){return n.x<=Math.max(o.x,a.x)&&n.x>=Math.min(o.x,a.x)&&n.y<=Math.max(o.y,a.y)&&n.y>=Math.min(o.y,a.y)}function j0(o){return o>0?1:o<0?-1:0}function Vm(o,n){return co(o.prev,o,o.next)<0?co(o,n,o.next)>=0&&co(o,o.prev,n)>=0:co(o,n,o.prev)<0||co(o,o.next,n)<0}function nC(o,n){var a=new Bv(o.i,o.x,o.y),c=new Bv(n.i,n.x,n.y),u=o.next,h=n.prev;return o.next=n,n.prev=o,a.next=u,u.prev=a,c.next=a,a.prev=c,h.next=c,c.prev=h,c}function oC(o,n,a,c){var u=new Bv(o,n,a);return c?(u.next=c.next,u.prev=c,c.next.prev=u,c.next=u):(u.prev=u,u.next=u),u}function Um(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Bv(o,n,a){this.i=o,this.x=n,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nv(o,n,a,c){for(var u=0,h=n,x=a-c;h<a;h+=c)u+=(o[x]-o[h])*(o[h+1]+o[x+1]),x=h;return u}Mv.exports=R0,Mv.exports.default=R0,R0.deviation=function(o,n,a,c){var u=n&&n.length,h=Math.abs(Nv(o,0,u?n[0]*a:o.length,a));if(u)for(var x=0,y=n.length;x<y;x++)h-=Math.abs(Nv(o,n[x]*a,x<y-1?n[x+1]*a:o.length,a));var A=0;for(x=0;x<c.length;x+=3){var T=c[x]*a,D=c[x+1]*a,k=c[x+2]*a;A+=Math.abs((o[T]-o[k])*(o[D+1]-o[T+1])-(o[T]-o[D])*(o[k+1]-o[T+1]))}return h===0&&A===0?0:Math.abs((A-h)/h)},R0.flatten=function(o){for(var n=o[0][0].length,a={vertices:[],holes:[],dimensions:n},c=0,u=0;u<o.length;u++){for(var h=0;h<o[u].length;h++)for(var x=0;x<n;x++)a.vertices.push(o[u][h][x]);u>0&&a.holes.push(c+=o[u-1].length)}return a};var Iv=dt(Mv.exports);function jN(o,n,a,c,u){aC(o,n,a,c||o.length-1,u||ON)}function aC(o,n,a,c,u){for(;c>a;){if(c-a>600){var h=c-a+1,x=n-a+1,y=Math.log(h),A=.5*Math.exp(2*y/3),T=.5*Math.sqrt(y*A*(h-A)/h)*(x-h/2<0?-1:1);aC(o,n,Math.max(a,Math.floor(n-x*A/h+T)),Math.min(c,Math.floor(n+(h-x)*A/h+T)),u)}var D=o[n],k=a,I=c;for($m(o,a,n),u(o[c],D)>0&&$m(o,a,c);k<I;){for($m(o,k,I),k++,I--;u(o[k],D)<0;)k++;for(;u(o[I],D)>0;)I--}u(o[a],D)===0?$m(o,a,I):$m(o,++I,c),I<=n&&(a=I+1),n<=I&&(c=I-1)}}function $m(o,n,a){var c=o[n];o[n]=o[a],o[a]=c}function ON(o,n){return o<n?-1:o>n?1:0}function Fv(o,n){const a=o.length;if(a<=1)return[o];const c=[];let u,h;for(let x=0;x<a;x++){const y=Bs(o[x]);y!==0&&(o[x].area=Math.abs(y),h===void 0&&(h=y<0),h===y<0?(u&&c.push(u),u=[o[x]]):u.push(o[x]))}if(u&&c.push(u),n>1)for(let x=0;x<c.length;x++)c[x].length<=n||(jN(c[x],n,1,c[x].length-1,VN),c[x]=c[x].slice(0,n));return c}function VN(o,n){return n.area-o.area}function Rv(o,n,a){const c=a.patternDependencies;let u=!1;for(const h of n){const x=h.paint.get(`${o}-pattern`);x.isConstant()||(u=!0);const y=x.constantOr(null);y&&(u=!0,c[y]=!0)}return u}function Lv(o,n,a,c,u){const h=u.patternDependencies;for(const x of n){const y=x.paint.get(`${o}-pattern`).value;if(y.kind!=="constant"){let A=y.evaluate({zoom:c},a,{},u.availableImages);A=A&&A.name?A.name:A,h[A]=!0,a.patterns[x.id]=A}}return a}class O0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Qt,this.indexArray=new Ae,this.indexArray2=new Io,this.programConfigurations=new Fc(n.layers,n.zoom),this.segments=new lo,this.segments2=new lo,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.projection=n.projection}populate(n,a,c,u){this.hasPattern=Rv("fill",this.layers,a);const h=this.layers[0].layout.get("fill-sort-key"),x=[];for(const{feature:y,id:A,index:T,sourceLayerIndex:D}of n){const k=this.layers[0]._featureFilter.needGeometry,I=Vc(y,k);if(!this.layers[0]._featureFilter.filter(new M(this.zoom),I,c))continue;const z=h?h.evaluate(I,{},c,a.availableImages):void 0,j={id:A,properties:y.properties,type:y.type,sourceLayerIndex:D,index:T,geometry:k?I.geometry:Si(y,c,u),patterns:{},sortKey:z};x.push(j)}h&&x.sort((y,A)=>y.sortKey-A.sortKey);for(const y of x){const{geometry:A,index:T,sourceLayerIndex:D}=y;if(this.hasPattern){const k=Lv("fill",this.layers,y,this.zoom,a);this.patternFeatures.push(k)}else this.addFeature(y,A,T,c,{},a.availableImages);a.featureIndex.insert(n[T].feature,A,T,D,this.index)}}update(n,a,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,c,u)}addFeatures(n,a,c,u,h){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,DN),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,a,c,u,h,x=[]){for(const y of Fv(a,500)){let A=0;for(const j of y)A+=j.length;const T=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),D=T.vertexLength,k=[],I=[];for(const j of y){if(j.length===0)continue;j!==y[0]&&I.push(k.length/2);const G=this.segments2.prepareSegment(j.length,this.layoutVertexArray,this.indexArray2),J=G.vertexLength;this.layoutVertexArray.emplaceBack(j[0].x,j[0].y),this.indexArray2.emplaceBack(J+j.length-1,J),k.push(j[0].x),k.push(j[0].y);for(let st=1;st<j.length;st++)this.layoutVertexArray.emplaceBack(j[st].x,j[st].y),this.indexArray2.emplaceBack(J+st-1,J+st),k.push(j[st].x),k.push(j[st].y);G.vertexLength+=j.length,G.primitiveLength+=j.length}const z=Iv(k,I);for(let j=0;j<z.length;j+=3)this.indexArray.emplaceBack(D+z[j],D+z[j+1],D+z[j+2]);T.vertexLength+=A,T.primitiveLength+=z.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,h,x,u)}}ve(O0,"FillBucket",{omit:["layers","patternFeatures"]});const UN=new ut({"fill-sort-key":new et(Ut.layout_fill["fill-sort-key"])});var $N={paint:new ut({"fill-antialias":new U(Ut.paint_fill["fill-antialias"]),"fill-opacity":new et(Ut.paint_fill["fill-opacity"]),"fill-color":new et(Ut.paint_fill["fill-color"]),"fill-outline-color":new et(Ut.paint_fill["fill-outline-color"]),"fill-translate":new U(Ut.paint_fill["fill-translate"]),"fill-translate-anchor":new U(Ut.paint_fill["fill-translate-anchor"]),"fill-pattern":new et(Ut.paint_fill["fill-pattern"])}),layout:UN};const GN=At([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),qN=At([{name:"a_centroid_pos",components:2,type:"Uint16"}]),WN=At([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:HN}=GN;var V0={},ZN=Ft,rC=iu;function iu(o,n,a,c,u){this.properties={},this.extent=a,this.type=0,this._pbf=o,this._geometry=-1,this._keys=c,this._values=u,o.readFields(XN,this,n)}function XN(o,n,a){o==1?n.id=a.readVarint():o==2?function(c,u){for(var h=c.readVarint()+c.pos;c.pos<h;){var x=u._keys[c.readVarint()],y=u._values[c.readVarint()];u.properties[x]=y}}(a,n):o==3?n.type=a.readVarint():o==4&&(n._geometry=a.pos)}function KN(o){for(var n,a,c=0,u=0,h=o.length,x=h-1;u<h;x=u++)c+=((a=o[x]).x-(n=o[u]).x)*(n.y+a.y);return c}iu.types=["Unknown","Point","LineString","Polygon"],iu.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var n,a=o.readVarint()+o.pos,c=1,u=0,h=0,x=0,y=[];o.pos<a;){if(u<=0){var A=o.readVarint();c=7&A,u=A>>3}if(u--,c===1||c===2)h+=o.readSVarint(),x+=o.readSVarint(),c===1&&(n&&y.push(n),n=[]),n.push(new ZN(h,x));else{if(c!==7)throw new Error("unknown command "+c);n&&n.push(n[0].clone())}}return n&&y.push(n),y},iu.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var n=o.readVarint()+o.pos,a=1,c=0,u=0,h=0,x=1/0,y=-1/0,A=1/0,T=-1/0;o.pos<n;){if(c<=0){var D=o.readVarint();a=7&D,c=D>>3}if(c--,a===1||a===2)(u+=o.readSVarint())<x&&(x=u),u>y&&(y=u),(h+=o.readSVarint())<A&&(A=h),h>T&&(T=h);else if(a!==7)throw new Error("unknown command "+a)}return[x,A,y,T]},iu.prototype.toGeoJSON=function(o,n,a){var c,u,h=this.extent*Math.pow(2,a),x=this.extent*o,y=this.extent*n,A=this.loadGeometry(),T=iu.types[this.type];function D(z){for(var j=0;j<z.length;j++){var G=z[j];z[j]=[360*(G.x+x)/h-180,360/Math.PI*Math.atan(Math.exp((180-360*(G.y+y)/h)*Math.PI/180))-90]}}switch(this.type){case 1:var k=[];for(c=0;c<A.length;c++)k[c]=A[c][0];D(A=k);break;case 2:for(c=0;c<A.length;c++)D(A[c]);break;case 3:for(A=function(z){var j=z.length;if(j<=1)return[z];for(var G,J,st=[],ht=0;ht<j;ht++){var it=KN(z[ht]);it!==0&&(J===void 0&&(J=it<0),J===it<0?(G&&st.push(G),G=[z[ht]]):G.push(z[ht]))}return G&&st.push(G),st}(A),c=0;c<A.length;c++)for(u=0;u<A[c].length;u++)D(A[c][u])}A.length===1?A=A[0]:T="Multi"+T;var I={type:"Feature",geometry:{type:T,coordinates:A},properties:this.properties};return"id"in this&&(I.id=this.id),I};var YN=rC,sC=iC;function iC(o,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(QN,this,n),this.length=this._features.length}function QN(o,n,a){o===15?n.version=a.readVarint():o===1?n.name=a.readString():o===5?n.extent=a.readVarint():o===2?n._features.push(a.pos):o===3?n._keys.push(a.readString()):o===4&&n._values.push(function(c){for(var u=null,h=c.readVarint()+c.pos;c.pos<h;){var x=c.readVarint()>>3;u=x===1?c.readString():x===2?c.readFloat():x===3?c.readDouble():x===4?c.readVarint64():x===5?c.readVarint():x===6?c.readSVarint():x===7?c.readBoolean():null}return u}(a))}iC.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var n=this._pbf.readVarint()+this._pbf.pos;return new YN(this._pbf,n,this.extent,this._keys,this._values)};var JN=sC;function tI(o,n,a){if(o===3){var c=new JN(a,a.readVarint()+a.pos);c.length&&(n[c.name]=c)}}var zv=V0.VectorTile=function(o,n){this.layers=o.readFields(tI,{},n)},U0=V0.VectorTileFeature=rC;function $0(o,n,a,c){const u=[],h=c===0?(x,y,A,T,D,k)=>{x.push(new Dt(k,A+(k-y)/(T-y)*(D-A)))}:(x,y,A,T,D,k)=>{x.push(new Dt(y+(k-A)/(D-A)*(T-y),k))};for(const x of o){const y=[];for(const A of x){if(A.length<=2)continue;const T=[];for(let I=0;I<A.length-1;I++){const z=A[I].x,j=A[I].y,G=A[I+1].x,J=A[I+1].y,st=c===0?z:j,ht=c===0?G:J;st<n?ht>n&&h(T,z,j,G,J,n):st>a?ht<a&&h(T,z,j,G,J,a):T.push(A[I]),ht<n&&st>=n&&h(T,z,j,G,J,n),ht>a&&st<=a&&h(T,z,j,G,J,a)}let D=A[A.length-1];const k=c===0?D.x:D.y;k>=n&&k<=a&&T.push(D),T.length&&(D=T[T.length-1],T[0].x===D.x&&T[0].y===D.y||T.push(T[0]),y.push(T))}y.length&&u.push(y)}return u}V0.VectorTileLayer=sC;const eI=U0.types,nI=Math.pow(2,13);function Gm(o,n,a,c,u,h,x,y){o.emplaceBack((n<<1)+x,(a<<1)+h,(Math.floor(c*nI)<<1)+u,Math.round(y))}function qm(o,n,a){o.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class lC{constructor(){this.acc=new Dt(0,0),this.polyCount=[]}startRing(n){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Dt(n.x,n.y),this.max=new Dt(n.x,n.y))}append(n,a){this.currentPolyCount.edges++,this.acc._add(n);const c=this.min,u=this.max;n.x<c.x?c.x=n.x:n.x>u.x&&(u.x=n.x),n.y<c.y?c.y=n.y:n.y>u.y&&(u.y=n.y),((n.x===0||n.x===De)&&n.x===a.x)!=((n.y===0||n.y===De)&&n.y===a.y)&&this.processBorderOverlap(n,a),a.x<0!=n.x<0&&this.addBorderIntersection(0,sn(a.y,n.y,(0-a.x)/(n.x-a.x))),a.x>De!=n.x>De&&this.addBorderIntersection(1,sn(a.y,n.y,(De-a.x)/(n.x-a.x))),a.y<0!=n.y<0&&this.addBorderIntersection(2,sn(a.x,n.x,(0-a.y)/(n.y-a.y))),a.y>De!=n.y>De&&this.addBorderIntersection(3,sn(a.x,n.x,(De-a.y)/(n.y-a.y)))}addBorderIntersection(n,a){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const c=this.borders[n];a<c[0]&&(c[0]=a),a>c[1]&&(c[1]=a)}processBorderOverlap(n,a){if(n.x===a.x){if(n.y===a.y)return;const c=n.x===0?0:1;this.addBorderIntersection(c,a.y),this.addBorderIntersection(c,n.y)}else{const c=n.y===0?2:3;this.addBorderIntersection(c,a.x),this.addBorderIntersection(c,n.x)}}centroid(){const n=this.polyCount.reduce((a,c)=>a+c.edges,0);return n!==0?this.acc.div(n)._round():new Dt(0,0)}span(){return new Dt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((n,a)=>n+ +(a[0]!==Number.MAX_VALUE),0)}}class Wm{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.layoutVertexArray=new qt,this.centroidVertexArray=new is,this.indexArray=new Ae,this.programConfigurations=new Fc(n.layers,n.zoom),this.segments=new lo,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.enableTerrain=n.enableTerrain}populate(n,a,c,u){this.features=[],this.hasPattern=Rv("fill-extrusion",this.layers,a),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(h){const x=Math.exp(Math.PI*(1-h.y/(1<<h.z)*2));return 80150034*x/(x*x+1)/De/(1<<h.z)}(c),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:h,id:x,index:y,sourceLayerIndex:A}of n){const T=this.layers[0]._featureFilter.needGeometry,D=Vc(h,T);if(!this.layers[0]._featureFilter.filter(new M(this.zoom),D,c))continue;const k={id:x,sourceLayerIndex:A,index:y,geometry:T?D.geometry:Si(h,c,u),properties:h.properties,type:h.type,patterns:{}},I=this.layoutVertexArray.length;this.hasPattern?this.features.push(Lv("fill-extrusion",this.layers,k,this.zoom,a)):this.addFeature(k,k.geometry,y,c,{},a.availableImages,u),a.featureIndex.insert(h,k.geometry,y,A,this.index,I)}this.sortBorders()}addFeatures(n,a,c,u,h){for(const x of this.features){const{geometry:y}=x;this.addFeature(x,y,x.index,a,c,u,h)}this.sortBorders()}update(n,a,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,HN),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,WN.members,!0))),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,qN.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,a,c,u,h,x,y){const A=[new Dt(0,0),new Dt(De,De)],T=y.projection,D=T.name==="globe",k=this.enableTerrain&&!D?new lC:null,I=eI[n.type]==="Polygon";D&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new te);const z=Fv(a,500);for(let st=z.length-1;st>=0;st--){const ht=z[st];(ht.length===0||(j=ht[0]).every(it=>it.x<=0)||j.every(it=>it.x>=De)||j.every(it=>it.y<=0)||j.every(it=>it.y>=De))&&z.splice(st,1)}var j;let G;if(D)G=fC(z,A,u);else{G=[];for(const st of z)G.push({polygon:st,bounds:A})}const J=I?this.edgeRadius:0;for(const{polygon:st,bounds:ht}of G){let it=0,mt=0;for(const gt of st)I&&!gt[0].equals(gt[gt.length-1])&&gt.push(gt[0]),mt+=I?gt.length-1:gt.length;const xt=this.segments.prepareSegment((I?5:4)*mt,this.layoutVertexArray,this.indexArray);if(I){const gt=[],It=[];it=xt.vertexLength;for(const $t of st){let Jt,Lt;$t.length&&$t!==st[0]&&It.push(gt.length/2),Jt=$t[1].sub($t[0])._perp()._unit();for(let Wt=1;Wt<$t.length;Wt++){const Ht=$t[Wt],Kt=$t[Wt===$t.length-1?1:Wt+1];let{x:ae,y:Vt}=Ht;if(J){Lt=Kt.sub(Ht)._perp()._unit();const ue=Jt.add(Lt)._unit(),be=J*Math.min(4,1/(Jt.x*ue.x+Jt.y*ue.y));ae+=be*ue.x,Vt+=be*ue.y,Jt=Lt}Gm(this.layoutVertexArray,ae,Vt,0,0,1,1,0),xt.vertexLength++,gt.push(Ht.x,Ht.y),D&&qm(this.layoutVertexExtArray,T.projectTilePoint(ae,Vt,u),T.upVector(u,ae,Vt))}}const kt=Iv(gt,It);for(let $t=0;$t<kt.length;$t+=3)this.indexArray.emplaceBack(it+kt[$t],it+kt[$t+2],it+kt[$t+1]),xt.primitiveLength++}for(const gt of st){k&&gt.length&&k.startRing(gt[0]);let It,kt,$t,Jt=gt.length>4&&pC(gt[gt.length-2],gt[0],gt[1]),Lt=J?oI(gt[gt.length-2],gt[0],gt[1],J):0;kt=gt[1].sub(gt[0])._perp()._unit();let Wt=!0;for(let Ht=1,Kt=0;Ht<gt.length;Ht++){let ae=gt[Ht-1],Vt=gt[Ht];const ue=gt[Ht===gt.length-1?1:Ht+1];if(k&&I&&k.currentPolyCount.top++,uC(Vt,ae,ht)){J&&(kt=ue.sub(Vt)._perp()._unit(),Wt=!Wt);continue}k&&k.append(Vt,ae);const be=Vt.sub(ae)._perp(),pe=be.x/(Math.abs(be.x)+Math.abs(be.y)),Le=be.y>0?1:0,re=ae.dist(Vt);if(Kt+re>32768&&(Kt=0),J){$t=ue.sub(Vt)._perp()._unit();let je=dC(ae,Vt,ue,cC(kt,$t),J);isNaN(je)&&(je=0);const Ne=Vt.sub(ae)._unit();ae=ae.add(Ne.mult(Lt))._round(),Vt=Vt.add(Ne.mult(-je))._round(),Lt=je,kt=$t}const Ee=xt.vertexLength,ze=gt.length>4&&pC(ae,Vt,ue);let un=mC(Kt,Jt,Wt);if(Gm(this.layoutVertexArray,ae.x,ae.y,pe,Le,0,0,un),Gm(this.layoutVertexArray,ae.x,ae.y,pe,Le,0,1,un),Kt+=re,un=mC(Kt,ze,!Wt),Jt=ze,Gm(this.layoutVertexArray,Vt.x,Vt.y,pe,Le,0,0,un),Gm(this.layoutVertexArray,Vt.x,Vt.y,pe,Le,0,1,un),xt.vertexLength+=4,this.indexArray.emplaceBack(Ee+0,Ee+1,Ee+2),this.indexArray.emplaceBack(Ee+1,Ee+3,Ee+2),xt.primitiveLength+=2,J){const je=it+(Ht===1?gt.length-2:Ht-2),Ne=Ht===1?it:je+1;if(this.indexArray.emplaceBack(Ee+1,je,Ee+3),this.indexArray.emplaceBack(je,Ne,Ee+3),xt.primitiveLength+=2,It===void 0&&(It=Ee),!uC(ue,gt[Ht],ht)){const In=Ht===gt.length-1?It:xt.vertexLength;this.indexArray.emplaceBack(Ee+2,Ee+3,In),this.indexArray.emplaceBack(Ee+3,In+1,In),this.indexArray.emplaceBack(Ee+3,Ne,In+1),xt.primitiveLength+=3}Wt=!Wt}if(D){const je=this.layoutVertexExtArray,Ne=T.projectTilePoint(ae.x,ae.y,u),In=T.projectTilePoint(Vt.x,Vt.y,u),$e=T.upVector(u,ae.x,ae.y),Ge=T.upVector(u,Vt.x,Vt.y);qm(je,Ne,$e),qm(je,Ne,$e),qm(je,In,Ge),qm(je,In,Ge)}}I&&(it+=gt.length-1)}}if(k&&k.polyCount.length>0){if(k.borders){k.vertexArrayOffset=this.centroidVertexArray.length;const st=k.borders,ht=this.featuresOnBorder.push(k)-1;for(let it=0;it<4;it++)st[it][0]!==Number.MAX_VALUE&&this.borders[it].push(ht)}this.encodeCentroid(k.borders?void 0:k.centroid(),k)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,h,x,u)}sortBorders(){for(let n=0;n<4;n++)this.borders[n].sort((a,c)=>this.featuresOnBorder[a].borders[n][0]-this.featuresOnBorder[c].borders[n][0])}encodeCentroid(n,a,c=!0){let u,h;if(n)if(n.y!==0){const y=a.span()._mult(this.tileToMeter);u=(Math.max(n.x,1)<<3)+Math.min(7,Math.round(y.x/10)),h=(Math.max(n.y,1)<<3)+Math.min(7,Math.round(y.y/10))}else u=Math.ceil(7*(n.x+450)),h=0;else u=0,h=+c;let x=c?this.centroidVertexArray.length:a.vertexArrayOffset;for(const y of a.polyCount){c&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*y.edges+y.top);for(let A=0;A<y.top;A++)this.centroidVertexArray.emplace(x++,u,h);for(let A=0;A<2*y.edges;A++)this.centroidVertexArray.emplace(x++,0,h),this.centroidVertexArray.emplace(x++,u,h)}}}function cC(o,n){const a=o.add(n)._unit();return o.x*a.x+o.y*a.y}function oI(o,n,a,c){const u=n.sub(o)._perp()._unit(),h=a.sub(n)._perp()._unit();return dC(o,n,a,cC(u,h),c)}function dC(o,n,a,c,u){const h=Math.sqrt(1-c*c);return Math.min(o.dist(n)/3,n.dist(a)/3,u*h/c)}function uC(o,n,a){return o.x<a[0].x&&n.x<a[0].x||o.x>a[1].x&&n.x>a[1].x||o.y<a[0].y&&n.y<a[0].y||o.y>a[1].y&&n.y>a[1].y}function pC(o,n,a){if(o.x<0||o.x>=De||n.x<0||n.x>=De||a.x<0||a.x>=De)return!1;const c=a.sub(n),u=c.perp(),h=o.sub(n);return(c.x*h.x+c.y*h.y)/Math.sqrt((c.x*c.x+c.y*c.y)*(h.x*h.x+h.y*h.y))>-.866&&u.x*h.x+u.y*h.y<0}function mC(o,n,a){const c=n?2|o:-3&o;return a?1|c:-2&c}function hC(){const o=Math.PI/32,n=Math.tan(o),a=jm;return a*Math.sqrt(1+2*n*n)-a}function fC(o,n,a){const c=1<<a.z,u=lr(a.x/c),h=lr((a.x+1)/c),x=Yo(a.y/c),y=Yo((a.y+1)/c);return function(A,T,D,k,I=0,z){const j=[];if(!A.length||!D||!k)return j;const G=(gt,It)=>{for(const kt of gt)j.push({polygon:kt,bounds:It})},J=Math.ceil(Math.log2(D)),st=Math.ceil(Math.log2(k)),ht=J-st,it=[];for(let gt=0;gt<Math.abs(ht);gt++)it.push(ht>0?0:1);for(let gt=0;gt<Math.min(J,st);gt++)it.push(0),it.push(1);let mt=A;if(mt=$0(mt,T[0].y-I,T[1].y+I,1),mt=$0(mt,T[0].x-I,T[1].x+I,0),!mt.length)return j;const xt=[];for(it.length?xt.push({polygons:mt,bounds:T,depth:0}):G(mt,T);xt.length;){const gt=xt.pop(),It=gt.depth,kt=it[It],$t=gt.bounds[0],Jt=gt.bounds[1],Lt=kt===0?$t.x:$t.y,Wt=kt===0?Jt.x:Jt.y,Ht=z?z(kt,Lt,Wt):.5*(Lt+Wt),Kt=$0(gt.polygons,Lt-I,Ht+I,kt),ae=$0(gt.polygons,Ht-I,Wt+I,kt);if(Kt.length){const Vt=[$t,new Dt(kt===0?Ht:Jt.x,kt===1?Ht:Jt.y)];it.length>It+1?xt.push({polygons:Kt,bounds:Vt,depth:It+1}):G(Kt,Vt)}if(ae.length){const Vt=[new Dt(kt===0?Ht:$t.x,kt===1?Ht:$t.y),Jt];it.length>It+1?xt.push({polygons:ae,bounds:Vt,depth:It+1}):G(ae,Vt)}}return j}(o,n,Math.ceil((h-u)/11.25),Math.ceil((x-y)/11.25),1,(A,T,D)=>{if(A===0)return .5*(T+D);{const k=Yo((a.y+T/De)/c);return($s(.5*(Yo((a.y+D/De)/c)+k))*c-a.y)*De}})}ve(Wm,"FillExtrusionBucket",{omit:["layers","features"]}),ve(lC,"PartMetadata");const aI=new ut({"fill-extrusion-edge-radius":new U(Ut["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var rI={paint:new ut({"fill-extrusion-opacity":new U(Ut["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new et(Ut["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new U(Ut["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new U(Ut["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new et(Ut["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new et(Ut["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new et(Ut["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new U(Ut["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new U(Ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new U(Ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new U(Ut["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:aI};function gC(o,n,a){var c=2*Math.PI*6378137/256/Math.pow(2,a);return[o*c-2*Math.PI*6378137/2,n*c-2*Math.PI*6378137/2]}class G0{constructor(n,a,c){this.z=n,this.x=a,this.y=c,this.key=Hm(0,n,n,a,c)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,a){const c=function(h,x,y){var A=gC(256*h,256*(x=Math.pow(2,y)-x-1),y),T=gC(256*(h+1),256*(x+1),y);return A[0]+","+A[1]+","+T[0]+","+T[1]}(this.x,this.y,this.z),u=function(h,x,y){let A,T="";for(let D=h;D>0;D--)A=1<<D-1,T+=(x&A?1:0)+(y&A?2:0);return T}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",c)}toString(){return`${this.z}/${this.x}/${this.y}`}}class xC{constructor(n,a){this.wrap=n,this.canonical=a,this.key=Hm(n,a.z,a.z,a.x,a.y)}}class fa{constructor(n,a,c,u,h){this.overscaledZ=n,this.wrap=a,this.canonical=new G0(c,+u,+h),this.key=a===0&&n===c?this.canonical.key:Hm(a,n,c,u,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const a=this.canonical.z-n;return n>this.canonical.z?new fa(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fa(n,this.wrap,n,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(n,a=!0){if(this.overscaledZ===n&&a)return this.key;if(n>this.canonical.z)return Hm(this.wrap*+a,n,this.canonical.z,this.canonical.x,this.canonical.y);{const c=this.canonical.z-n;return Hm(this.wrap*+a,n,n,this.canonical.x>>c,this.canonical.y>>c)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const a=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>a&&n.canonical.y===this.canonical.y>>a}children(n){if(this.overscaledZ>=n)return[new fa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,c=2*this.canonical.x,u=2*this.canonical.y;return[new fa(a,this.wrap,a,c,u),new fa(a,this.wrap,a,c+1,u),new fa(a,this.wrap,a,c,u+1),new fa(a,this.wrap,a,c+1,u+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new fa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new fa(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new xC(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Hm(o,n,a,c,u){const h=1<<Math.min(a,22);let x=h*(u%h)+c%h;return o&&a<22&&(x+=h*h*((o<0?-2*o-1:2*o)%(1<<2*(22-a)))),16*(32*x+a)+(n-a)}ve(G0,"CanonicalTileID"),ve(fa,"OverscaledTileID",{omit:["projMatrix"]});class lu extends Dt{constructor(n,a,c){super(n,a),this.z=c}}function Zm(o,n){return o.x*n.x+o.y*n.y}function vC(o,n){if(o.length===1){let a=0;const c=n[a++];let u;for(;!u||c.equals(u);)if(u=n[a++],!u)return 1/0;for(;a<n.length;a++){const h=n[a],x=o[0],y=u.sub(c),A=h.sub(c),T=x.sub(c),D=Zm(y,y),k=Zm(y,A),I=Zm(A,A),z=Zm(T,y),j=Zm(T,A),G=D*I-k*k,J=(I*z-k*j)/G,st=(D*j-k*z)/G,ht=c.z*(1-J-st)+u.z*J+h.z*st;if(isFinite(ht))return ht}return 1/0}{let a=1/0;for(const c of n)a=Math.min(a,c.z);return a}}function yC(o,n,a,c,u,h,x,y){const A=x*u.getElevationAt(o,n,!0,!0),T=h[0]!==0,D=T?h[1]===0?x*(h[0]/7-450):x*function(k,I,z){const j=Math.floor(I[0]/8),G=Math.floor(I[1]/8),J=10*(I[0]-8*j),st=10*(I[1]-8*G),ht=k.getElevationAt(j,G,!0,!0),it=k.getMeterToDEM(z),mt=Math.floor(.5*(J*it-1)),xt=Math.floor(.5*(st*it-1)),gt=k.tileCoordToPixel(j,G),It=2*mt+1,kt=2*xt+1,$t=function(ae,Vt,ue,be,pe){return[ae.getElevationAtPixel(Vt,ue,!0),ae.getElevationAtPixel(Vt+pe,ue,!0),ae.getElevationAtPixel(Vt,ue+pe,!0),ae.getElevationAtPixel(Vt+be,ue+pe,!0)]}(k,gt.x-mt,gt.y-xt,It,kt),Jt=Math.abs($t[0]-$t[1]),Lt=Math.abs($t[2]-$t[3]),Wt=Math.abs($t[0]-$t[2])+Math.abs($t[1]-$t[3]),Ht=Math.min(.25,.5*it*(Jt+Lt)/It),Kt=Math.min(.25,.5*it*Wt/kt);return ht+Math.max(Ht*J,Kt*st)}(u,h,y):A;return{base:A+(a===0)?-1:a,top:T?Math.max(D+c,A+a+2):A+c}}const sI=At([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:iI}=sI,lI=At([{name:"a_packed",components:4,type:"Float32"}]),{members:cI}=lI,dI=U0.types,uI=Math.cos(Math.PI/180*37.5);class q0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new Rt,this.layoutVertexArray2=new Yt,this.indexArray=new Ae,this.programConfigurations=new Fc(n.layers,n.zoom),this.segments=new lo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(n,a,c,u){this.hasPattern=Rv("line",this.layers,a);const h=this.layers[0].layout.get("line-sort-key"),x=[];for(const{feature:D,id:k,index:I,sourceLayerIndex:z}of n){const j=this.layers[0]._featureFilter.needGeometry,G=Vc(D,j);if(!this.layers[0]._featureFilter.filter(new M(this.zoom),G,c))continue;const J=h?h.evaluate(G,{},c):void 0,st={id:k,properties:D.properties,type:D.type,sourceLayerIndex:z,index:I,geometry:j?G.geometry:Si(D,c,u),patterns:{},sortKey:J};x.push(st)}h&&x.sort((D,k)=>D.sortKey-k.sortKey);const{lineAtlas:y,featureIndex:A}=a,T=this.addConstantDashes(y);for(const D of x){const{geometry:k,index:I,sourceLayerIndex:z}=D;if(T&&this.addFeatureDashes(D,y),this.hasPattern){const j=Lv("line",this.layers,D,this.zoom,a);this.patternFeatures.push(j)}else this.addFeature(D,k,I,c,y.positions,a.availableImages);A.insert(n[I].feature,k,I,z,this.index)}}addConstantDashes(n){let a=!1;for(const c of this.layers){const u=c.paint.get("line-dasharray").value,h=c.layout.get("line-cap").value;if(u.kind!=="constant"||h.kind!=="constant")a=!0;else{const x=h.value,y=u.value;if(!y)continue;n.addDash(y,x)}}return a}addFeatureDashes(n,a){const c=this.zoom;for(const u of this.layers){const h=u.paint.get("line-dasharray").value,x=u.layout.get("line-cap").value;if(h.kind==="constant"&&x.kind==="constant")continue;let y,A;if(h.kind==="constant"){if(y=h.value,!y)continue}else y=h.evaluate({zoom:c},n);A=x.kind==="constant"?x.value:x.evaluate({zoom:c},n),a.addDash(y,A),n.patterns[u.id]=a.getKey(y,A)}}update(n,a,c,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,c,u)}addFeatures(n,a,c,u,h){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,c,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,cI)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,iI),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,a,c,u,h,x){const y=this.layers[0].layout,A=y.get("line-join").evaluate(n,{}),T=y.get("line-cap").evaluate(n,{}),D=y.get("line-miter-limit"),k=y.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const I of a)this.addLine(I,n,A,T,D,k);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,c,h,x,u)}addLine(n,a,c,u,h,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let st=0;st<n.length-1;st++)this.totalDistance+=n[st].dist(n[st+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const y=dI[a.type]==="Polygon";let A=n.length;for(;A>=2&&n[A-1].equals(n[A-2]);)A--;let T=0;for(;T<A-1&&n[T].equals(n[T+1]);)T++;if(A<(y?3:2))return;c==="bevel"&&(h=1.05);const D=this.overscaling<=16?15*De/(512*this.overscaling):0,k=this.segments.prepareSegment(10*A,this.layoutVertexArray,this.indexArray);let I,z,j,G,J;this.e1=this.e2=-1,y&&(I=n[A-2],J=n[T].sub(I)._unit()._perp());for(let st=T;st<A;st++){if(j=st===A-1?y?n[T+1]:void 0:n[st+1],j&&n[st].equals(j))continue;J&&(G=J),I&&(z=I),I=n[st],J=j?j.sub(I)._unit()._perp():G,G=G||J;let ht=G.add(J);ht.x===0&&ht.y===0||ht._unit();const it=G.x*J.x+G.y*J.y,mt=ht.x*J.x+ht.y*J.y,xt=mt!==0?1/mt:1/0,gt=2*Math.sqrt(2-2*mt),It=mt<uI&&z&&j,kt=G.x*J.y-G.y*J.x>0;if(It&&st>T){const Lt=I.dist(z);if(Lt>2*D){const Wt=I.sub(I.sub(z)._mult(D/Lt)._round());this.updateDistance(z,Wt),this.addCurrentVertex(Wt,G,0,0,k),z=Wt}}const $t=z&&j;let Jt=$t?c:y?"butt":u;if($t&&Jt==="round"&&(xt<x?Jt="miter":xt<=2&&(Jt="fakeround")),Jt==="miter"&&xt>h&&(Jt="bevel"),Jt==="bevel"&&(xt>2&&(Jt="flipbevel"),xt<h&&(Jt="miter")),z&&this.updateDistance(z,I),Jt==="miter")ht._mult(xt),this.addCurrentVertex(I,ht,0,0,k);else if(Jt==="flipbevel"){if(xt>100)ht=J.mult(-1);else{const Lt=xt*G.add(J).mag()/G.sub(J).mag();ht._perp()._mult(Lt*(kt?-1:1))}this.addCurrentVertex(I,ht,0,0,k),this.addCurrentVertex(I,ht.mult(-1),0,0,k)}else if(Jt==="bevel"||Jt==="fakeround"){const Lt=-Math.sqrt(xt*xt-1),Wt=kt?Lt:0,Ht=kt?0:Lt;if(z&&this.addCurrentVertex(I,G,Wt,Ht,k),Jt==="fakeround"){const Kt=Math.round(180*gt/Math.PI/20);for(let ae=1;ae<Kt;ae++){let Vt=ae/Kt;if(Vt!==.5){const be=Vt-.5;Vt+=Vt*be*(Vt-1)*((1.0904+it*(it*(3.55645-1.43519*it)-3.2452))*be*be+(.848013+it*(.215638*it-1.06021)))}const ue=J.sub(G)._mult(Vt)._add(G)._unit()._mult(kt?-1:1);this.addHalfVertex(I,ue.x,ue.y,!1,kt,0,k)}}j&&this.addCurrentVertex(I,J,-Wt,-Ht,k)}else if(Jt==="butt")this.addCurrentVertex(I,ht,0,0,k);else if(Jt==="square"){const Lt=z?1:-1;z||this.addCurrentVertex(I,ht,Lt,Lt,k),this.addCurrentVertex(I,ht,0,0,k),z&&this.addCurrentVertex(I,ht,Lt,Lt,k)}else Jt==="round"&&(z&&(this.addCurrentVertex(I,G,0,0,k),this.addCurrentVertex(I,G,1,1,k,!0)),j&&(this.addCurrentVertex(I,J,-1,-1,k,!0),this.addCurrentVertex(I,J,0,0,k)));if(It&&st<A-1){const Lt=I.dist(j);if(Lt>2*D){const Wt=I.add(j.sub(I)._mult(D/Lt)._round());this.updateDistance(I,Wt),this.addCurrentVertex(Wt,J,0,0,k),I=Wt}}}}addCurrentVertex(n,a,c,u,h,x=!1){const y=a.y*u-a.x,A=-a.y-a.x*u;this.addHalfVertex(n,a.x+a.y*c,a.y-a.x*c,x,!1,c,h),this.addHalfVertex(n,y,A,x,!0,-u,h)}addHalfVertex({x:n,y:a},c,u,h,x,y,A){this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(a<<1)+(x?1:0),Math.round(63*c)+128,Math.round(63*u)+128,1+(y===0?0:y<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const T=A.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,T),A.primitiveLength++),x?this.e2=T:this.e1=T}updateScaledDistance(){if(this.lineClips){const n=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=n*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(n,a){this.distance+=n.dist(a),this.updateScaledDistance()}}ve(q0,"LineBucket",{omit:["layers","patternFeatures"]});const pI=new ut({"line-cap":new et(Ut.layout_line["line-cap"]),"line-join":new et(Ut.layout_line["line-join"]),"line-miter-limit":new U(Ut.layout_line["line-miter-limit"]),"line-round-limit":new U(Ut.layout_line["line-round-limit"]),"line-sort-key":new et(Ut.layout_line["line-sort-key"])});var _C={paint:new ut({"line-opacity":new et(Ut.paint_line["line-opacity"]),"line-color":new et(Ut.paint_line["line-color"]),"line-translate":new U(Ut.paint_line["line-translate"]),"line-translate-anchor":new U(Ut.paint_line["line-translate-anchor"]),"line-width":new et(Ut.paint_line["line-width"]),"line-gap-width":new et(Ut.paint_line["line-gap-width"]),"line-offset":new et(Ut.paint_line["line-offset"]),"line-blur":new et(Ut.paint_line["line-blur"]),"line-dasharray":new et(Ut.paint_line["line-dasharray"]),"line-pattern":new et(Ut.paint_line["line-pattern"]),"line-gradient":new lt(Ut.paint_line["line-gradient"]),"line-trim-offset":new U(Ut.paint_line["line-trim-offset"])}),layout:pI};const bC=new class extends et{possiblyEvaluate(o,n){return n=new M(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,transition:n.transition}),super.possiblyEvaluate(o,n)}evaluate(o,n,a,c){return n=He({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(o,n,a,c)}}(_C.paint.properties["line-width"].specification);function wC(o,n){return n>0?n+2*o:o}bC.useIntegerZoom=!0;const mI=At([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),hI=At([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),fI=At([{name:"a_projected_pos",components:4,type:"Float32"}],4);At([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const gI=At([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),xI=At([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);At([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const CC=At([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),vI=At([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);At([{name:"triangle",components:3,type:"Uint16"}]),At([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),At([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),At([{type:"Float32",name:"offsetX"}]),At([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Oo=24;const ms=128;function jv(o,n){const{expression:a}=n;if(a.kind==="constant")return{kind:"constant",layoutSize:a.evaluate(new M(o+1))};if(a.kind==="source")return{kind:"source"};{const{zoomStops:c,interpolationType:u}=a;let h=0;for(;h<c.length&&c[h]<=o;)h++;h=Math.max(0,h-1);let x=h;for(;x<c.length&&c[x]<o+1;)x++;x=Math.min(c.length-1,x);const y=c[h],A=c[x];return a.kind==="composite"?{kind:"composite",minZoom:y,maxZoom:A,interpolationType:u}:{kind:"camera",minZoom:y,maxZoom:A,minSize:a.evaluate(new M(y)),maxSize:a.evaluate(new M(A)),interpolationType:u}}}function W0(o,{uSize:n,uSizeT:a},{lowerSize:c,upperSize:u}){return o.kind==="source"?c/ms:o.kind==="composite"?sn(c/ms,u/ms,a):n}function cu(o,n){let a=0,c=0;if(o.kind==="constant")c=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:u,minZoom:h,maxZoom:x}=o,y=u?Zt(Pr.interpolationFactor(u,n,h,x),0,1):0;o.kind==="camera"?c=sn(o.minSize,o.maxSize,y):a=y}return{uSizeT:a,uSize:c}}var yI=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:ms,evaluateSizeForFeature:W0,evaluateSizeForZoom:cu,getSizeData:jv});function _I(o,n,a){return o.sections.forEach(c=>{c.text=function(u,h,x){const y=h.layout.get("text-transform").evaluate(x,{});return y==="uppercase"?u=u.toLocaleUpperCase():y==="lowercase"&&(u=u.toLocaleLowerCase()),P.applyArabicShaping&&(u=P.applyArabicShaping(u)),u}(c.text,n,a)}),o}const Xm={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function bI(o){return o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""}function wI(o){return o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""}var AC=Mn,TC=function(o,n,a,c,u){var h,x,y=8*u-c-1,A=(1<<y)-1,T=A>>1,D=-7,k=u-1,I=-1,z=o[n+k];for(k+=I,h=z&(1<<-D)-1,z>>=-D,D+=y;D>0;h=256*h+o[n+k],k+=I,D-=8);for(x=h&(1<<-D)-1,h>>=-D,D+=c;D>0;x=256*x+o[n+k],k+=I,D-=8);if(h===0)h=1-T;else{if(h===A)return x?NaN:1/0*(z?-1:1);x+=Math.pow(2,c),h-=T}return(z?-1:1)*x*Math.pow(2,h-c)},SC=function(o,n,a,c,u,h){var x,y,A,T=8*h-u-1,D=(1<<T)-1,k=D>>1,I=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,z=0,j=1,G=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(y=isNaN(n)?1:0,x=D):(x=Math.floor(Math.log(n)/Math.LN2),n*(A=Math.pow(2,-x))<1&&(x--,A*=2),(n+=x+k>=1?I/A:I*Math.pow(2,1-k))*A>=2&&(x++,A/=2),x+k>=D?(y=0,x=D):x+k>=1?(y=(n*A-1)*Math.pow(2,u),x+=k):(y=n*Math.pow(2,k-1)*Math.pow(2,u),x=0));u>=8;o[a+z]=255&y,z+=j,y/=256,u-=8);for(x=x<<u|y,T+=u;T>0;o[a+z]=255&x,z+=j,x/=256,T-=8);o[a+z-j]|=128*G};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Mn(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}Mn.Varint=0,Mn.Fixed64=1,Mn.Bytes=2,Mn.Fixed32=5;var Ov=4294967296,EC=1/Ov,PC=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Pi(o){return o.type===Mn.Bytes?o.readVarint()+o.pos:o.pos+1}function du(o,n,a){return a?4294967296*n+(o>>>0):4294967296*(n>>>0)+(o>>>0)}function DC(o,n,a){var c=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));a.realloc(c);for(var u=a.pos-1;u>=o;u--)a.buf[u+c]=a.buf[u]}function CI(o,n){for(var a=0;a<o.length;a++)n.writeVarint(o[a])}function AI(o,n){for(var a=0;a<o.length;a++)n.writeSVarint(o[a])}function TI(o,n){for(var a=0;a<o.length;a++)n.writeFloat(o[a])}function SI(o,n){for(var a=0;a<o.length;a++)n.writeDouble(o[a])}function EI(o,n){for(var a=0;a<o.length;a++)n.writeBoolean(o[a])}function PI(o,n){for(var a=0;a<o.length;a++)n.writeFixed32(o[a])}function DI(o,n){for(var a=0;a<o.length;a++)n.writeSFixed32(o[a])}function MI(o,n){for(var a=0;a<o.length;a++)n.writeFixed64(o[a])}function kI(o,n){for(var a=0;a<o.length;a++)n.writeSFixed64(o[a])}function H0(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+16777216*o[n+3]}function uu(o,n,a){o[a]=n,o[a+1]=n>>>8,o[a+2]=n>>>16,o[a+3]=n>>>24}function MC(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+(o[n+3]<<24)}Mn.prototype={destroy:function(){this.buf=null},readFields:function(o,n,a){for(a=a||this.length;this.pos<a;){var c=this.readVarint(),u=c>>3,h=this.pos;this.type=7&c,o(u,n,this),this.pos===h&&this.skip(c)}return n},readMessage:function(o,n){return this.readFields(o,n,this.readVarint()+this.pos)},readFixed32:function(){var o=H0(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=MC(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=H0(this.buf,this.pos)+H0(this.buf,this.pos+4)*Ov;return this.pos+=8,o},readSFixed64:function(){var o=H0(this.buf,this.pos)+MC(this.buf,this.pos+4)*Ov;return this.pos+=8,o},readFloat:function(){var o=TC(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=TC(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var n,a,c=this.buf;return n=127&(a=c[this.pos++]),a<128?n:(n|=(127&(a=c[this.pos++]))<<7,a<128?n:(n|=(127&(a=c[this.pos++]))<<14,a<128?n:(n|=(127&(a=c[this.pos++]))<<21,a<128?n:function(u,h,x){var y,A,T=x.buf;if(y=(112&(A=T[x.pos++]))>>4,A<128||(y|=(127&(A=T[x.pos++]))<<3,A<128)||(y|=(127&(A=T[x.pos++]))<<10,A<128)||(y|=(127&(A=T[x.pos++]))<<17,A<128)||(y|=(127&(A=T[x.pos++]))<<24,A<128)||(y|=(1&(A=T[x.pos++]))<<31,A<128))return du(u,y,h);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(a=c[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,n=this.pos;return this.pos=o,o-n>=12&&PC?function(a,c,u){return PC.decode(a.subarray(c,u))}(this.buf,n,o):function(a,c,u){for(var h="",x=c;x<u;){var y,A,T,D=a[x],k=null,I=D>239?4:D>223?3:D>191?2:1;if(x+I>u)break;I===1?D<128&&(k=D):I===2?(192&(y=a[x+1]))==128&&(k=(31&D)<<6|63&y)<=127&&(k=null):I===3?(A=a[x+2],(192&(y=a[x+1]))==128&&(192&A)==128&&((k=(15&D)<<12|(63&y)<<6|63&A)<=2047||k>=55296&&k<=57343)&&(k=null)):I===4&&(A=a[x+2],T=a[x+3],(192&(y=a[x+1]))==128&&(192&A)==128&&(192&T)==128&&((k=(15&D)<<18|(63&y)<<12|(63&A)<<6|63&T)<=65535||k>=1114112)&&(k=null)),k===null?(k=65533,I=1):k>65535&&(k-=65536,h+=String.fromCharCode(k>>>10&1023|55296),k=56320|1023&k),h+=String.fromCharCode(k),x+=I}return h}(this.buf,n,o)},readBytes:function(){var o=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,o);return this.pos=o,n},readPackedVarint:function(o,n){if(this.type!==Mn.Bytes)return o.push(this.readVarint(n));var a=Pi(this);for(o=o||[];this.pos<a;)o.push(this.readVarint(n));return o},readPackedSVarint:function(o){if(this.type!==Mn.Bytes)return o.push(this.readSVarint());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==Mn.Bytes)return o.push(this.readBoolean());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==Mn.Bytes)return o.push(this.readFloat());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==Mn.Bytes)return o.push(this.readDouble());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==Mn.Bytes)return o.push(this.readFixed32());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==Mn.Bytes)return o.push(this.readSFixed32());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==Mn.Bytes)return o.push(this.readFixed64());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==Mn.Bytes)return o.push(this.readSFixed64());var n=Pi(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed64());return o},skip:function(o){var n=7&o;if(n===Mn.Varint)for(;this.buf[this.pos++]>127;);else if(n===Mn.Bytes)this.pos=this.readVarint()+this.pos;else if(n===Mn.Fixed32)this.pos+=4;else{if(n!==Mn.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(o,n){this.writeVarint(o<<3|n)},realloc:function(o){for(var n=this.length||16;n<this.pos+o;)n*=2;if(n!==this.length){var a=new Uint8Array(n);a.set(this.buf),this.buf=a,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),uu(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),uu(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),uu(this.buf,-1&o,this.pos),uu(this.buf,Math.floor(o*EC),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),uu(this.buf,-1&o,this.pos),uu(this.buf,Math.floor(o*EC),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(n,a){var c,u;if(n>=0?(c=n%4294967296|0,u=n/4294967296|0):(u=~(-n/4294967296),4294967295^(c=~(-n%4294967296))?c=c+1|0:(c=0,u=u+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),function(h,x,y){y.buf[y.pos++]=127&h|128,h>>>=7,y.buf[y.pos++]=127&h|128,h>>>=7,y.buf[y.pos++]=127&h|128,h>>>=7,y.buf[y.pos++]=127&h|128,y.buf[y.pos]=127&(h>>>=7)}(c,0,a),function(h,x){var y=(7&h)<<4;x.buf[x.pos++]|=y|((h>>>=3)?128:0),h&&(x.buf[x.pos++]=127&h|((h>>>=7)?128:0),h&&(x.buf[x.pos++]=127&h|((h>>>=7)?128:0),h&&(x.buf[x.pos++]=127&h|((h>>>=7)?128:0),h&&(x.buf[x.pos++]=127&h|((h>>>=7)?128:0),h&&(x.buf[x.pos++]=127&h)))))}(u,a)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var n=this.pos;this.pos=function(c,u,h){for(var x,y,A=0;A<u.length;A++){if((x=u.charCodeAt(A))>55295&&x<57344){if(!y){x>56319||A+1===u.length?(c[h++]=239,c[h++]=191,c[h++]=189):y=x;continue}if(x<56320){c[h++]=239,c[h++]=191,c[h++]=189,y=x;continue}x=y-55296<<10|x-56320|65536,y=null}else y&&(c[h++]=239,c[h++]=191,c[h++]=189,y=null);x<128?c[h++]=x:(x<2048?c[h++]=x>>6|192:(x<65536?c[h++]=x>>12|224:(c[h++]=x>>18|240,c[h++]=x>>12&63|128),c[h++]=x>>6&63|128),c[h++]=63&x|128)}return h}(this.buf,o,this.pos);var a=this.pos-n;a>=128&&DC(n,a,this),this.pos=n-1,this.writeVarint(a),this.pos+=a},writeFloat:function(o){this.realloc(4),SC(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),SC(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var n=o.length;this.writeVarint(n),this.realloc(n);for(var a=0;a<n;a++)this.buf[this.pos++]=o[a]},writeRawMessage:function(o,n){this.pos++;var a=this.pos;o(n,this);var c=this.pos-a;c>=128&&DC(a,c,this),this.pos=a-1,this.writeVarint(c),this.pos+=c},writeMessage:function(o,n,a){this.writeTag(o,Mn.Bytes),this.writeRawMessage(n,a)},writePackedVarint:function(o,n){n.length&&this.writeMessage(o,CI,n)},writePackedSVarint:function(o,n){n.length&&this.writeMessage(o,AI,n)},writePackedBoolean:function(o,n){n.length&&this.writeMessage(o,EI,n)},writePackedFloat:function(o,n){n.length&&this.writeMessage(o,TI,n)},writePackedDouble:function(o,n){n.length&&this.writeMessage(o,SI,n)},writePackedFixed32:function(o,n){n.length&&this.writeMessage(o,PI,n)},writePackedSFixed32:function(o,n){n.length&&this.writeMessage(o,DI,n)},writePackedFixed64:function(o,n){n.length&&this.writeMessage(o,MI,n)},writePackedSFixed64:function(o,n){n.length&&this.writeMessage(o,kI,n)},writeBytesField:function(o,n){this.writeTag(o,Mn.Bytes),this.writeBytes(n)},writeFixed32Field:function(o,n){this.writeTag(o,Mn.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(o,n){this.writeTag(o,Mn.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(o,n){this.writeTag(o,Mn.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(o,n){this.writeTag(o,Mn.Fixed64),this.writeSFixed64(n)},writeVarintField:function(o,n){this.writeTag(o,Mn.Varint),this.writeVarint(n)},writeSVarintField:function(o,n){this.writeTag(o,Mn.Varint),this.writeSVarint(n)},writeStringField:function(o,n){this.writeTag(o,Mn.Bytes),this.writeString(n)},writeFloatField:function(o,n){this.writeTag(o,Mn.Fixed32),this.writeFloat(n)},writeDoubleField:function(o,n){this.writeTag(o,Mn.Fixed64),this.writeDouble(n)},writeBooleanField:function(o,n){this.writeVarintField(o,!!n)}};var Z0=dt(AC);const Vv=3;function BI(o,n,a){n.glyphs=[],o===1&&a.readMessage(NI,n)}function NI(o,n,a){if(o===3){const{id:c,bitmap:u,width:h,height:x,left:y,top:A,advance:T}=a.readMessage(II,{});n.glyphs.push({id:c,bitmap:new Ei({width:h+2*Vv,height:x+2*Vv},u),metrics:{width:h,height:x,left:y,top:A,advance:T}})}else o===4?n.ascender=a.readSVarint():o===5&&(n.descender=a.readSVarint())}function II(o,n,a){o===1?n.id=a.readVarint():o===2?n.bitmap=a.readBytes():o===3?n.width=a.readVarint():o===4?n.height=a.readVarint():o===5?n.left=a.readSVarint():o===6?n.top=a.readSVarint():o===7&&(n.advance=a.readVarint())}const kC=Vv;function Uv(o){let n=0,a=0;for(const x of o)n+=x.w*x.h,a=Math.max(a,x.w);o.sort((x,y)=>y.h-x.h);const c=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),a),h:1/0}];let u=0,h=0;for(const x of o)for(let y=c.length-1;y>=0;y--){const A=c[y];if(!(x.w>A.w||x.h>A.h)){if(x.x=A.x,x.y=A.y,h=Math.max(h,x.y+x.h),u=Math.max(u,x.x+x.w),x.w===A.w&&x.h===A.h){const T=c.pop();y<c.length&&(c[y]=T)}else x.h===A.h?(A.x+=x.w,A.w-=x.w):x.w===A.w?(A.y+=x.h,A.h-=x.h):(c.push({x:A.x+x.w,y:A.y,w:A.w-x.w,h:x.h}),A.y+=x.h,A.h-=x.h);break}}return{w:u,h,fill:n/(u*h)||0}}const Da=1;class $v{constructor(n,{pixelRatio:a,version:c,stretchX:u,stretchY:h,content:x}){this.paddedRect=n,this.pixelRatio=a,this.stretchX=u,this.stretchY=h,this.content=x,this.version=c}get tl(){return[this.paddedRect.x+Da,this.paddedRect.y+Da]}get br(){return[this.paddedRect.x+this.paddedRect.w-Da,this.paddedRect.y+this.paddedRect.h-Da]}get displaySize(){return[(this.paddedRect.w-2*Da)/this.pixelRatio,(this.paddedRect.h-2*Da)/this.pixelRatio]}}class BC{constructor(n,a){const c={},u={};this.haveRenderCallbacks=[];const h=[];this.addImages(n,c,h),this.addImages(a,u,h);const{w:x,h:y}=Uv(h),A=new Wa({width:x||1,height:y||1});for(const T in n){const D=n[T],k=c[T].paddedRect;Wa.copy(D.data,A,{x:0,y:0},{x:k.x+Da,y:k.y+Da},D.data)}for(const T in a){const D=a[T],k=u[T].paddedRect,I=k.x+Da,z=k.y+Da,j=D.data.width,G=D.data.height;Wa.copy(D.data,A,{x:0,y:0},{x:I,y:z},D.data),Wa.copy(D.data,A,{x:0,y:G-1},{x:I,y:z-1},{width:j,height:1}),Wa.copy(D.data,A,{x:0,y:0},{x:I,y:z+G},{width:j,height:1}),Wa.copy(D.data,A,{x:j-1,y:0},{x:I-1,y:z},{width:1,height:G}),Wa.copy(D.data,A,{x:0,y:0},{x:I+j,y:z},{width:1,height:G})}this.image=A,this.iconPositions=c,this.patternPositions=u}addImages(n,a,c){for(const u in n){const h=n[u],x={x:0,y:0,w:h.data.width+2*Da,h:h.data.height+2*Da};c.push(x),a[u]=new $v(x,h),h.hasRenderCallback&&this.haveRenderCallbacks.push(u)}}patchUpdatedImages(n,a){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(c=>n.hasImage(c)),n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const c in n.updatedImages)this.patchUpdatedImage(this.iconPositions[c],n.getImage(c),a),this.patchUpdatedImage(this.patternPositions[c],n.getImage(c),a)}patchUpdatedImage(n,a,c){if(!n||!a||n.version===a.version)return;n.version=a.version;const[u,h]=n.tl;c.update(a.data,void 0,{x:u,y:h})}}ve($v,"ImagePosition"),ve(BC,"ImageAtlas");const cr={horizontal:1,vertical:2,horizontalOnly:3},NC=-17;class Km{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,a){const c=new Km;return c.scale=n||1,c.fontStack=a,c}static forImage(n){const a=new Km;return a.imageName=n,a}}class pu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,a){const c=new pu;for(let u=0;u<n.sections.length;u++){const h=n.sections[u];h.image?c.addImageSection(h):c.addTextSection(h,a)}return c}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(n){this.text=function(a,c){let u="";for(let h=0;h<a.length;h++){const x=a.charCodeAt(h+1)||null,y=a.charCodeAt(h-1)||null;u+=!c&&(x&&C0(x)&&!Xm[a[h+1]]||y&&C0(y)&&!Xm[a[h-1]])||!Xm[a[h]]?a[h]:Xm[a[h]]}return u}(this.text,n)}trim(){let n=0;for(let c=0;c<this.text.length&&X0[this.text.charCodeAt(c)];c++)n++;let a=this.text.length;for(let c=this.text.length-1;c>=0&&c>=n&&X0[this.text.charCodeAt(c)];c--)a--;this.text=this.text.substring(n,a),this.sectionIndex=this.sectionIndex.slice(n,a)}substring(n,a){const c=new pu;return c.text=this.text.substring(n,a),c.sectionIndex=this.sectionIndex.slice(n,a),c.sections=this.sections,c}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,a)=>Math.max(n,this.sections[a].scale),0)}addTextSection(n,a){this.text+=n.text,this.sections.push(Km.forText(n.scale,n.fontStack||a));const c=this.sections.length-1;for(let u=0;u<n.text.length;++u)this.sectionIndex.push(c)}addImageSection(n){const a=n.image?n.image.name:"";if(a.length===0)return void gn("Can't add FormattedSection with an empty image.");const c=this.getNextImageSectionCharCode();c?(this.text+=String.fromCharCode(c),this.sections.push(Km.forImage(a)),this.sectionIndex.push(this.sections.length-1)):gn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gv(o,n,a,c,u,h,x,y,A,T,D,k,I,z,j){const G=pu.fromFeature(o,u);k===cr.vertical&&G.verticalizePunctuation(I);let J=[];const st=function(gt,It,kt,$t,Jt,Lt){if(!gt)return[];const Wt=[],Ht=function(ue,be,pe,Le,re,Ee){let ze=0;for(let un=0;un<ue.length();un++){const je=ue.getSection(un);ze+=IC(ue.getCharCode(un),je,Le,re,be,Ee)}return ze/Math.max(1,Math.ceil(ze/pe))}(gt,It,kt,$t,Jt,Lt),Kt=gt.text.indexOf("")>=0;let ae=0;for(let ue=0;ue<gt.length();ue++){const be=gt.getSection(ue),pe=gt.getCharCode(ue);if(X0[pe]||(ae+=IC(pe,be,$t,Jt,It,Lt)),ue<gt.length()-1){const Le=!((Vt=pe)<11904||!(me["Bopomofo Extended"](Vt)||me.Bopomofo(Vt)||me["CJK Compatibility Forms"](Vt)||me["CJK Compatibility Ideographs"](Vt)||me["CJK Compatibility"](Vt)||me["CJK Radicals Supplement"](Vt)||me["CJK Strokes"](Vt)||me["CJK Symbols and Punctuation"](Vt)||me["CJK Unified Ideographs Extension A"](Vt)||me["CJK Unified Ideographs"](Vt)||me["Enclosed CJK Letters and Months"](Vt)||me["Halfwidth and Fullwidth Forms"](Vt)||me.Hiragana(Vt)||me["Ideographic Description Characters"](Vt)||me["Kangxi Radicals"](Vt)||me["Katakana Phonetic Extensions"](Vt)||me.Katakana(Vt)||me["Vertical Forms"](Vt)||me["Yi Radicals"](Vt)||me["Yi Syllables"](Vt)));(FI[pe]||Le||be.imageName)&&Wt.push(RC(ue+1,ae,Ht,Wt,RI(pe,gt.getCharCode(ue+1),Le&&Kt),!1))}}var Vt;return LC(RC(gt.length(),ae,Ht,Wt,0,!0))}(G,T,h,n,c,z),{processBidirectionalText:ht,processStyledBidirectionalText:it}=P;if(ht&&G.sections.length===1){const gt=ht(G.toString(),st);for(const It of gt){const kt=new pu;kt.text=It,kt.sections=G.sections;for(let $t=0;$t<It.length;$t++)kt.sectionIndex.push(0);J.push(kt)}}else if(it){const gt=it(G.text,G.sectionIndex,st);for(const It of gt){const kt=new pu;kt.text=It[0],kt.sectionIndex=It[1],kt.sections=G.sections,J.push(kt)}}else J=function(gt,It){const kt=[],$t=gt.text;let Jt=0;for(const Lt of It)kt.push(gt.substring(Jt,Lt)),Jt=Lt;return Jt<$t.length&&kt.push(gt.substring(Jt,$t.length)),kt}(G,st);const mt=[],xt={positionedLines:mt,text:G.toString(),top:D[1],bottom:D[1],left:D[0],right:D[0],writingMode:k,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt,ae,Vt,ue){let be=0,pe=0,Le=0;const re=Ht==="right"?1:Ht==="left"?0:.5;let Ee=!1;for(const $e of Jt){const Ge=$e.getSections();for(const En of Ge){if(En.imageName)continue;const kn=It[En.fontStack];if(kn&&(Ee=kn.ascender!==void 0&&kn.descender!==void 0,!Ee))break}if(!Ee)break}let ze=0;for(const $e of Jt){$e.trim();const Ge=$e.getMaxScale(),En=(Ge-1)*Oo,kn={positionedGlyphs:[],lineOffset:0};gt.positionedLines[ze]=kn;const Bn=kn.positionedGlyphs;let Pn=0;if(!$e.length()){pe+=Lt,++ze;continue}let Gn=0,Xn=0;for(let Dn=0;Dn<$e.length();Dn++){const wo=$e.getSection(Dn),po=$e.getSectionIndex(Dn),qn=$e.getCharCode(Dn);let hn=wo.scale,mo=null,Nn=null,ga=null,ho=Oo,Vo=0;const Fo=!(Kt===cr.horizontal||!Vt&&!Cm(qn)||Vt&&(X0[qn]||(un=qn,me.Arabic(un)||me["Arabic Supplement"](un)||me["Arabic Extended-A"](un)||me["Arabic Presentation Forms-A"](un)||me["Arabic Presentation Forms-B"](un))));if(wo.imageName){const xa=$t[wo.imageName];if(!xa)continue;ga=wo.imageName,gt.iconsInText=gt.iconsInText||!0,Nn=xa.paddedRect;const Ro=xa.displaySize;hn=hn*Oo/ue,mo={width:Ro[0],height:Ro[1],left:Da,top:-kC,advance:Fo?Ro[1]:Ro[0],localGlyph:!1},Vo=Ee?-mo.height*hn:NC+Ge*Oo-Ro[1]*hn,ho=mo.advance;const gs=(Fo?Ro[0]:Ro[1])*hn-Oo*Ge;gs>0&&gs>Pn&&(Pn=gs)}else{const xa=kt[wo.fontStack];if(!xa)continue;xa[qn]&&(Nn=xa[qn]);const Ro=It[wo.fontStack];if(!Ro)continue;const gs=Ro.glyphs[qn];if(!gs)continue;if(mo=gs.metrics,ho=qn!==8203?Oo:0,Ee){const yu=Ro.ascender!==void 0?Math.abs(Ro.ascender):0,sh=Ro.descender!==void 0?Math.abs(Ro.descender):0,ih=(yu+sh)*hn;Gn<ih&&(Gn=ih,Xn=(yu-sh)/2*hn),Vo=-yu*hn}else Vo=NC+(Ge-hn)*Oo}Fo?(gt.verticalizable=!0,Bn.push({glyph:qn,imageName:ga,x:be,y:pe+Vo,vertical:Fo,scale:hn,localGlyph:mo.localGlyph,fontStack:wo.fontStack,sectionIndex:po,metrics:mo,rect:Nn}),be+=ho*hn+ae):(Bn.push({glyph:qn,imageName:ga,x:be,y:pe+Vo,vertical:Fo,scale:hn,localGlyph:mo.localGlyph,fontStack:wo.fontStack,sectionIndex:po,metrics:mo,rect:Nn}),be+=mo.advance*hn+ae)}Bn.length!==0&&(Le=Math.max(be-ae,Le),Ee?zC(Bn,re,Pn,Xn,Lt*Ge/2):zC(Bn,re,Pn,0,Lt/2)),be=0;const uo=Lt*Ge+Pn;kn.lineOffset=Math.max(Pn,En),pe+=uo,++ze}var un;const je=pe,{horizontalAlign:Ne,verticalAlign:In}=qv(Wt);(function($e,Ge,En,kn,Bn,Pn){const Gn=(Ge-En)*Bn,Xn=-Pn*kn;for(const uo of $e)for(const Dn of uo.positionedGlyphs)Dn.x+=Gn,Dn.y+=Xn})(gt.positionedLines,re,Ne,In,Le,je),gt.top+=-In*je,gt.bottom=gt.top+je,gt.left+=-Ne*Le,gt.right=gt.left+Le,gt.hasBaseline=Ee}(xt,n,a,c,J,x,y,A,k,T,I,j),!function(gt){for(const It of gt)if(It.positionedGlyphs.length!==0)return!1;return!0}(mt)&&xt}const X0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},FI={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function IC(o,n,a,c,u,h){if(n.imageName){const x=c[n.imageName];return x?x.displaySize[0]*n.scale*Oo/h+u:0}{const x=a[n.fontStack],y=x&&x.glyphs[o];return y?y.metrics.advance*n.scale+u:0}}function FC(o,n,a,c){const u=Math.pow(o-n,2);return c?o<n?u/2:2*u:u+Math.abs(a)*a}function RI(o,n,a){let c=0;return o===10&&(c-=1e4),a&&(c+=150),o!==40&&o!==65288||(c+=50),n!==41&&n!==65289||(c+=50),c}function RC(o,n,a,c,u,h){let x=null,y=FC(n,a,u,h);for(const A of c){const T=FC(n-A.x,a,u,h)+A.badness;T<=y&&(x=A,y=T)}return{index:o,x:n,priorBreak:x,badness:y}}function LC(o){return o?LC(o.priorBreak).concat(o.index):[]}function qv(o){let n=.5,a=.5;switch(o){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:n,verticalAlign:a}}function zC(o,n,a,c,u){if(!(n||a||c||u))return;const h=o.length-1,x=o[h],y=(x.x+x.metrics.advance*x.scale)*n;for(let A=0;A<=h;A++)o[A].x-=y,o[A].y+=a+c+u}function LI(o,n,a){const{horizontalAlign:c,verticalAlign:u}=qv(a),h=n[0]-o.displaySize[0]*c,x=n[1]-o.displaySize[1]*u;return{image:o,top:x,bottom:x+o.displaySize[1],left:h,right:h+o.displaySize[0]}}function jC(o,n,a,c,u,h){const x=o.image;let y;if(x.content){const J=x.content,st=x.pixelRatio||1;y=[J[0]/st,J[1]/st,x.displaySize[0]-J[2]/st,x.displaySize[1]-J[3]/st]}const A=n.left*h,T=n.right*h;let D,k,I,z;a==="width"||a==="both"?(z=u[0]+A-c[3],k=u[0]+T+c[1]):(z=u[0]+(A+T-x.displaySize[0])/2,k=z+x.displaySize[0]);const j=n.top*h,G=n.bottom*h;return a==="height"||a==="both"?(D=u[1]+j-c[0],I=u[1]+G+c[2]):(D=u[1]+(j+G-x.displaySize[1])/2,I=D+x.displaySize[1]),{image:x,top:D,right:k,bottom:I,left:z,collisionPadding:y}}class Di extends Dt{constructor(n,a,c,u,h){super(n,a),this.angle=u,this.z=c,h!==void 0&&(this.segment=h)}clone(){return new Di(this.x,this.y,this.z,this.angle,this.segment)}}function OC(o,n,a,c,u){if(n.segment===void 0)return!0;let h=n,x=n.segment+1,y=0;for(;y>-a/2;){if(x--,x<0)return!1;y-=o[x].dist(h),h=o[x]}y+=o[x].dist(o[x+1]),x++;const A=[];let T=0;for(;y<a/2;){const D=o[x],k=o[x+1];if(!k)return!1;let I=o[x-1].angleTo(D)-D.angleTo(k);for(I=Math.abs((I+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:y,angleDelta:I}),T+=I;y-A[0].distance>c;)T-=A.shift().angleDelta;if(T>u)return!1;x++,y+=D.dist(k)}return!0}function VC(o){let n=0;for(let a=0;a<o.length-1;a++)n+=o[a].dist(o[a+1]);return n}function UC(o,n,a){return o?.6*n*a:0}function $C(o,n){return Math.max(o?o.right-o.left:0,n?n.right-n.left:0)}function zI(o,n,a,c,u,h){const x=UC(a,u,h),y=$C(a,c)*h;let A=0;const T=VC(o)/2;for(let D=0;D<o.length-1;D++){const k=o[D],I=o[D+1],z=k.dist(I);if(A+z>T){const j=(T-A)/z,G=sn(k.x,I.x,j),J=sn(k.y,I.y,j),st=new Di(G,J,0,I.angleTo(k),D);return!x||OC(o,st,y,x,n)?st:void 0}A+=z}}function jI(o,n,a,c,u,h,x,y,A){const T=UC(c,h,x),D=$C(c,u),k=D*x,I=o[0].x===0||o[0].x===A||o[0].y===0||o[0].y===A;return n-k<n/4&&(n=k+n/4),GC(o,I?n/2*y%n:(D/2+2*h)*x*y%n,n,T,a,k,I,!1,A)}function GC(o,n,a,c,u,h,x,y,A){const T=h/2,D=VC(o);let k=0,I=n-a,z=[];for(let j=0;j<o.length-1;j++){const G=o[j],J=o[j+1],st=G.dist(J),ht=J.angleTo(G);for(;I+a<k+st;){I+=a;const it=(I-k)/st,mt=sn(G.x,J.x,it),xt=sn(G.y,J.y,it);if(mt>=0&&mt<A&&xt>=0&&xt<A&&I-T>=0&&I+T<=D){const gt=new Di(mt,xt,0,ht,j);gt._round(),c&&!OC(o,gt,h,c,u)||z.push(gt)}}k+=st}return y||z.length||x||(z=GC(o,k/2,a,c,u,h,x,!0,A)),z}function qC(o,n,a,c,u){const h=[];for(let x=0;x<o.length;x++){const y=o[x];let A;for(let T=0;T<y.length-1;T++){let D=y[T],k=y[T+1];D.x<n&&k.x<n||(D.x<n?D=new Dt(n,D.y+(n-D.x)/(k.x-D.x)*(k.y-D.y))._round():k.x<n&&(k=new Dt(n,D.y+(n-D.x)/(k.x-D.x)*(k.y-D.y))._round()),D.y<a&&k.y<a||(D.y<a?D=new Dt(D.x+(a-D.y)/(k.y-D.y)*(k.x-D.x),a)._round():k.y<a&&(k=new Dt(D.x+(a-D.y)/(k.y-D.y)*(k.x-D.x),a)._round()),D.x>=c&&k.x>=c||(D.x>=c?D=new Dt(c,D.y+(c-D.x)/(k.x-D.x)*(k.y-D.y))._round():k.x>=c&&(k=new Dt(c,D.y+(c-D.x)/(k.x-D.x)*(k.y-D.y))._round()),D.y>=u&&k.y>=u||(D.y>=u?D=new Dt(D.x+(u-D.y)/(k.y-D.y)*(k.x-D.x),u)._round():k.y>=u&&(k=new Dt(D.x+(u-D.y)/(k.y-D.y)*(k.x-D.x),u)._round()),A&&D.equals(A[A.length-1])||(A=[D],h.push(A)),A.push(k)))))}}return h}ve(Di,"Anchor");const Ym=1e20;function WC(o,n,a,c,u,h,x,y,A){for(let T=n;T<n+c;T++)HC(o,a*h+T,h,u,x,y,A);for(let T=a;T<a+u;T++)HC(o,T*h+n,1,c,x,y,A)}function HC(o,n,a,c,u,h,x){h[0]=0,x[0]=-Ym,x[1]=Ym,u[0]=o[n];for(let y=1,A=0,T=0;y<c;y++){u[y]=o[n+y*a];const D=y*y;do{const k=h[A];T=(u[y]-u[k]+D-k*k)/(y-k)/2}while(T<=x[A]&&--A>-1);A++,h[A]=y,x[A]=T,x[A+1]=Ym}for(let y=0,A=0;y<c;y++){for(;x[A+1]<y;)A++;const T=h[A],D=y-T;o[n+y*a]=u[T]+D*D}}const hs=2,Wv={none:0,ideographs:1,all:2};class mu{constructor(n,a,c){this.requestManager=n,this.localGlyphMode=a,this.localFontFamily=c,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n){this.url=n}getGlyphs(n,a){const c=[];for(const u in n)for(const h of n[u])c.push({stack:u,id:h});Ce(c,({stack:u,id:h},x)=>{let y=this.entries[u];y||(y=this.entries[u]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let A=y.glyphs[h];if(A!==void 0)return void x(null,{stack:u,id:h,glyph:A});if(A=this._tinySDF(y,u,h),A)return y.glyphs[h]=A,void x(null,{stack:u,id:h,glyph:A});const T=Math.floor(h/256);if(256*T>65535)return void x(new Error("glyphs > 65535 not supported"));if(y.ranges[T])return void x(null,{stack:u,id:h,glyph:A});let D=y.requests[T];D||(D=y.requests[T]=[],mu.loadGlyphRange(u,T,this.url,this.requestManager,(k,I)=>{if(I){y.ascender=I.ascender,y.descender=I.descender;for(const z in I.glyphs)this._doesCharSupportLocalGlyph(+z)||(y.glyphs[+z]=I.glyphs[+z]);y.ranges[T]=!0}for(const z of D)z(k,I);delete y.requests[T]})),D.push((k,I)=>{k?x(k):I&&x(null,{stack:u,id:h,glyph:I.glyphs[h]||null})})},(u,h)=>{if(u)a(u);else if(h){const x={};for(const{stack:y,id:A,glyph:T}of h)x[y]===void 0&&(x[y]={}),x[y].glyphs===void 0&&(x[y].glyphs={}),x[y].glyphs[A]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics},x[y].ascender=this.entries[y].ascender,x[y].descender=this.entries[y].descender;a(null,x)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Wv.none&&(this.localGlyphMode===Wv.all?!!this.localFontFamily:!!this.localFontFamily&&(me["CJK Unified Ideographs"](n)||me["Hangul Syllables"](n)||me.Hiragana(n)||me.Katakana(n)||me["CJK Symbols and Punctuation"](n)))}_tinySDF(n,a,c){const u=this.localFontFamily;if(!u||!this._doesCharSupportLocalGlyph(c))return;let h=n.tinySDF;if(!h){let G="400";/bold/i.test(a)?G="900":/medium/i.test(a)?G="500":/light/i.test(a)&&(G="200"),h=n.tinySDF=new mu.TinySDF({fontFamily:u,fontWeight:G,fontSize:24*hs,buffer:3*hs,radius:8*hs}),h.fontWeight=G}if(this.localGlyphs[h.fontWeight][c])return this.localGlyphs[h.fontWeight][c];const x=String.fromCharCode(c),{data:y,width:A,height:T,glyphWidth:D,glyphHeight:k,glyphLeft:I,glyphTop:z,glyphAdvance:j}=h.draw(x);return this.localGlyphs[h.fontWeight][c]={id:c,bitmap:new Ei({width:A,height:T},y),metrics:{width:D/hs,height:k/hs,left:I/hs,top:z/hs-27,advance:j/hs,localGlyph:!0}}}}mu.loadGlyphRange=function(o,n,a,c,u){const h=256*n,x=h+255,y=c.transformRequest(c.normalizeGlyphsURL(a).replace("{fontstack}",o).replace("{range}",`${h}-${x}`),Xr.Glyphs);Oe(y,(A,T)=>{if(A)u(A);else if(T){const D={},k=function(I){return new Z0(I).readFields(BI,{})}(T);for(const I of k.glyphs)D[I.id]=I;u(null,{glyphs:D,ascender:k.ascender,descender:k.descender})}})},mu.TinySDF=class{constructor({fontSize:o=24,buffer:n=3,radius:a=8,cutoff:c=.25,fontFamily:u="sans-serif",fontWeight:h="normal",fontStyle:x="normal"}={}){this.buffer=n,this.cutoff=c,this.radius=a;const y=this.size=o+4*n,A=this._createCanvas(y),T=this.ctx=A.getContext("2d",{willReadFrequently:!0});T.font=`${x} ${h} ${o}px ${u}`,T.textBaseline="alphabetic",T.textAlign="left",T.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}_createCanvas(o){const n=document.createElement("canvas");return n.width=n.height=o,n}draw(o){const{width:n,actualBoundingBoxAscent:a,actualBoundingBoxDescent:c,actualBoundingBoxLeft:u,actualBoundingBoxRight:h}=this.ctx.measureText(o),x=Math.ceil(a),y=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-u))),A=Math.min(this.size-this.buffer,x+Math.ceil(c)),T=y+2*this.buffer,D=A+2*this.buffer,k=Math.max(T*D,0),I=new Uint8ClampedArray(k),z={data:I,width:T,height:D,glyphWidth:y,glyphHeight:A,glyphTop:x,glyphLeft:0,glyphAdvance:n};if(y===0||A===0)return z;const{ctx:j,buffer:G,gridInner:J,gridOuter:st}=this;j.clearRect(G,G,y,A),j.fillText(o,G,G+x);const ht=j.getImageData(G,G,y,A);st.fill(Ym,0,k),J.fill(0,0,k);for(let it=0;it<A;it++)for(let mt=0;mt<y;mt++){const xt=ht.data[4*(it*y+mt)+3]/255;if(xt===0)continue;const gt=(it+G)*T+mt+G;if(xt===1)st[gt]=0,J[gt]=Ym;else{const It=.5-xt;st[gt]=It>0?It*It:0,J[gt]=It<0?It*It:0}}WC(st,0,0,T,D,T,this.f,this.v,this.z),WC(J,G,G,y,A,T,this.f,this.v,this.z);for(let it=0;it<k;it++){const mt=Math.sqrt(st[it])-Math.sqrt(J[it]);I[it]=Math.round(255-255*(mt/this.radius+this.cutoff))}return z}};const hu=Da;function ZC(o,n,a,c){const u=[],h=o.image,x=h.pixelRatio,y=h.paddedRect.w-2*hu,A=h.paddedRect.h-2*hu,T=o.right-o.left,D=o.bottom-o.top,k=h.stretchX||[[0,y]],I=h.stretchY||[[0,A]],z=(Lt,Wt)=>Lt+Wt[1]-Wt[0],j=k.reduce(z,0),G=I.reduce(z,0),J=y-j,st=A-G;let ht=0,it=j,mt=0,xt=G,gt=0,It=J,kt=0,$t=st;if(h.content&&c){const Lt=h.content;ht=K0(k,0,Lt[0]),mt=K0(I,0,Lt[1]),it=K0(k,Lt[0],Lt[2]),xt=K0(I,Lt[1],Lt[3]),gt=Lt[0]-ht,kt=Lt[1]-mt,It=Lt[2]-Lt[0]-it,$t=Lt[3]-Lt[1]-xt}const Jt=(Lt,Wt,Ht,Kt)=>{const ae=Y0(Lt.stretch-ht,it,T,o.left),Vt=Q0(Lt.fixed-gt,It,Lt.stretch,j),ue=Y0(Wt.stretch-mt,xt,D,o.top),be=Q0(Wt.fixed-kt,$t,Wt.stretch,G),pe=Y0(Ht.stretch-ht,it,T,o.left),Le=Q0(Ht.fixed-gt,It,Ht.stretch,j),re=Y0(Kt.stretch-mt,xt,D,o.top),Ee=Q0(Kt.fixed-kt,$t,Kt.stretch,G),ze=new Dt(ae,ue),un=new Dt(pe,ue),je=new Dt(pe,re),Ne=new Dt(ae,re),In=new Dt(Vt/x,be/x),$e=new Dt(Le/x,Ee/x),Ge=n*Math.PI/180;if(Ge){const Bn=Math.sin(Ge),Pn=Math.cos(Ge),Gn=[Pn,-Bn,Bn,Pn];ze._matMult(Gn),un._matMult(Gn),Ne._matMult(Gn),je._matMult(Gn)}const En=Lt.stretch+Lt.fixed,kn=Wt.stretch+Wt.fixed;return{tl:ze,tr:un,bl:Ne,br:je,tex:{x:h.paddedRect.x+hu+En,y:h.paddedRect.y+hu+kn,w:Ht.stretch+Ht.fixed-En,h:Kt.stretch+Kt.fixed-kn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:In,pixelOffsetBR:$e,minFontScaleX:It/x/T,minFontScaleY:$t/x/D,isSDF:a}};if(c&&(h.stretchX||h.stretchY)){const Lt=XC(k,J,j),Wt=XC(I,st,G);for(let Ht=0;Ht<Lt.length-1;Ht++){const Kt=Lt[Ht],ae=Lt[Ht+1];for(let Vt=0;Vt<Wt.length-1;Vt++)u.push(Jt(Kt,Wt[Vt],ae,Wt[Vt+1]))}}else u.push(Jt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:y+1},{fixed:0,stretch:A+1}));return u}function K0(o,n,a){let c=0;for(const u of o)c+=Math.max(n,Math.min(a,u[1]))-Math.max(n,Math.min(a,u[0]));return c}function XC(o,n,a){const c=[{fixed:-hu,stretch:0}];for(const[u,h]of o){const x=c[c.length-1];c.push({fixed:u-x.stretch,stretch:x.stretch}),c.push({fixed:u-x.stretch,stretch:x.stretch+(h-u)})}return c.push({fixed:n+hu,stretch:a}),c}function Y0(o,n,a,c){return o/n*a+c}function Q0(o,n,a,c){return o-n*a/c}function OI(o,n,a,c){const u=n+o.positionedLines[c].lineOffset;return c===0?a+u/2:a+(u+(n+o.positionedLines[c-1].lineOffset))/2}class VI{constructor(n=[],a=UI){if(this.data=n,this.length=this.data.length,this.compare=a,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:a,compare:c}=this,u=a[n];for(;n>0;){const h=n-1>>1,x=a[h];if(c(u,x)>=0)break;a[n]=x,n=h}a[n]=u}_down(n){const{data:a,compare:c}=this,u=this.length>>1,h=a[n];for(;n<u;){let x=1+(n<<1),y=a[x];const A=x+1;if(A<this.length&&c(a[A],y)<0&&(x=A,y=a[A]),c(y,h)>=0)break;a[n]=y,n=x}a[n]=h}}function UI(o,n){return o<n?-1:o>n?1:0}function $I(o,n=1,a=!1){let c=1/0,u=1/0,h=-1/0,x=-1/0;const y=o[0];for(let z=0;z<y.length;z++){const j=y[z];(!z||j.x<c)&&(c=j.x),(!z||j.y<u)&&(u=j.y),(!z||j.x>h)&&(h=j.x),(!z||j.y>x)&&(x=j.y)}const A=Math.min(h-c,x-u);let T=A/2;const D=new VI([],GI);if(A===0)return new Dt(c,u);for(let z=c;z<h;z+=A)for(let j=u;j<x;j+=A)D.push(new fu(z+T,j+T,T,o));let k=function(z){let j=0,G=0,J=0;const st=z[0];for(let ht=0,it=st.length,mt=it-1;ht<it;mt=ht++){const xt=st[ht],gt=st[mt],It=xt.x*gt.y-gt.x*xt.y;G+=(xt.x+gt.x)*It,J+=(xt.y+gt.y)*It,j+=3*It}return new fu(G/j,J/j,0,z)}(o),I=D.length;for(;D.length;){const z=D.pop();(z.d>k.d||!k.d)&&(k=z,a&&console.log("found best %d after %d probes",Math.round(1e4*z.d)/1e4,I)),z.max-k.d<=n||(T=z.h/2,D.push(new fu(z.p.x-T,z.p.y-T,T,o)),D.push(new fu(z.p.x+T,z.p.y-T,T,o)),D.push(new fu(z.p.x-T,z.p.y+T,T,o)),D.push(new fu(z.p.x+T,z.p.y+T,T,o)),I+=4)}return a&&(console.log(`num probes: ${I}`),console.log(`best distance: ${k.d}`)),k.p}function GI(o,n){return n.max-o.max}class fu{constructor(n,a,c,u){this.p=new Dt(n,a),this.h=c,this.d=function(h,x){let y=!1,A=1/0;for(let T=0;T<x.length;T++){const D=x[T];for(let k=0,I=D.length,z=I-1;k<I;z=k++){const j=D[k],G=D[z];j.y>h.y!=G.y>h.y&&h.x<(G.x-j.x)*(h.y-j.y)/(G.y-j.y)+j.x&&(y=!y),A=Math.min(A,G3(h,j,G))}}return(y?1:-1)*Math.sqrt(A)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}}const gu=7,Hv=Number.POSITIVE_INFINITY,qI=Math.sqrt(2);function KC(o,[n,a]){let c=0,u=0;if(a===Hv){n<0&&(n=0);const h=n/qI;switch(o){case"top-right":case"top-left":u=h-gu;break;case"bottom-right":case"bottom-left":u=-h+gu;break;case"bottom":u=-n+gu;break;case"top":u=n-gu}switch(o){case"top-right":case"bottom-right":c=-h;break;case"top-left":case"bottom-left":c=h;break;case"left":c=n;break;case"right":c=-n}}else{switch(n=Math.abs(n),a=Math.abs(a),o){case"top-right":case"top-left":case"top":u=a-gu;break;case"bottom-right":case"bottom-left":case"bottom":u=-a+gu}switch(o){case"top-right":case"bottom-right":case"right":c=-n;break;case"top-left":case"bottom-left":case"left":c=n}}return[c,u]}function WI(o,n,a,c,u,h,x,y,A,T){o.createArrays(),o.tilePixelRatio=De/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;const D=o.layers[0].layout,k=o.layers[0]._unevaluatedLayout._values,I={};if(o.textSizeData.kind==="composite"){const{minZoom:G,maxZoom:J}=o.textSizeData;I.compositeTextSizes=[k["text-size"].possiblyEvaluate(new M(G),y),k["text-size"].possiblyEvaluate(new M(J),y)]}if(o.iconSizeData.kind==="composite"){const{minZoom:G,maxZoom:J}=o.iconSizeData;I.compositeIconSizes=[k["icon-size"].possiblyEvaluate(new M(G),y),k["icon-size"].possiblyEvaluate(new M(J),y)]}I.layoutTextSize=k["text-size"].possiblyEvaluate(new M(A+1),y),I.layoutIconSize=k["icon-size"].possiblyEvaluate(new M(A+1),y),I.textMaxSize=k["text-size"].possiblyEvaluate(new M(18),y);const z=D.get("text-rotation-alignment")==="map"&&D.get("symbol-placement")!=="point",j=D.get("text-size");for(const G of o.features){const J=D.get("text-font").evaluate(G,{},y).join(","),st=j.evaluate(G,{},y),ht=I.layoutTextSize.evaluate(G,{},y),it=(I.layoutIconSize.evaluate(G,{},y),{horizontal:{},vertical:void 0}),mt=G.text;let xt,gt=[0,0];if(mt){const $t=mt.toString(),Jt=D.get("text-letter-spacing").evaluate(G,{},y)*Oo,Lt=D.get("text-line-height").evaluate(G,{},y)*Oo,Wt=nv($t)?Jt:0,Ht=D.get("text-anchor").evaluate(G,{},y),Kt=D.get("text-variable-anchor");if(!Kt){const pe=D.get("text-radial-offset").evaluate(G,{},y);gt=pe?KC(Ht,[pe*Oo,Hv]):D.get("text-offset").evaluate(G,{},y).map(Le=>Le*Oo)}let ae=z?"center":D.get("text-justify").evaluate(G,{},y);const Vt=D.get("symbol-placement")==="point",ue=Vt?D.get("text-max-width").evaluate(G,{},y)*Oo:1/0,be=pe=>{o.allowVerticalPlacement&&wm($t)&&(it.vertical=Gv(mt,n,a,u,J,ue,Lt,Ht,pe,Wt,gt,cr.vertical,!0,ht,st))};if(!z&&Kt){const pe=ae==="auto"?Kt.map(re=>Zv(re)):[ae];let Le=!1;for(let re=0;re<pe.length;re++){const Ee=pe[re];if(!it.horizontal[Ee])if(Le)it.horizontal[Ee]=it.horizontal[0];else{const ze=Gv(mt,n,a,u,J,ue,Lt,"center",Ee,Wt,gt,cr.horizontal,!1,ht,st);ze&&(it.horizontal[Ee]=ze,Le=ze.positionedLines.length===1)}}be("left")}else{if(ae==="auto"&&(ae=Zv(Ht)),Vt||D.get("text-writing-mode").indexOf("horizontal")>=0||!wm($t)){const pe=Gv(mt,n,a,u,J,ue,Lt,Ht,ae,Wt,gt,cr.horizontal,!1,ht,st);pe&&(it.horizontal[ae]=pe)}be(Vt?"left":ae)}}let It=!1;if(G.icon&&G.icon.name){const $t=c[G.icon.name];$t&&(xt=LI(u[G.icon.name],D.get("icon-offset").evaluate(G,{},y),D.get("icon-anchor").evaluate(G,{},y)),It=$t.sdf,o.sdfIcons===void 0?o.sdfIcons=$t.sdf:o.sdfIcons!==$t.sdf&&gn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),($t.pixelRatio!==o.pixelRatio||D.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}const kt=QC(it.horizontal)||it.vertical;o.iconsInText||(o.iconsInText=!!kt&&kt.iconsInText),(kt||xt)&&HI(o,G,it,xt,c,I,ht,0,gt,It,x,y,T)}h&&o.generateCollisionDebugBuffers(A,o.collisionBoxArray)}function Zv(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function HI(o,n,a,c,u,h,x,y,A,T,D,k,I){let z=h.textMaxSize.evaluate(n,{},k);z===void 0&&(z=x);const j=o.layers[0].layout,G=j.get("icon-offset").evaluate(n,{},k),J=QC(a.horizontal)||a.vertical,st=I.name==="globe",ht=Oo,it=x/ht,mt=o.tilePixelRatio*z/ht,xt=(Ht=o.overscaling,o.zoom>18&&Ht>2&&(Ht>>=1),Math.max(De/(512*Ht),1)*j.get("symbol-spacing")),gt=j.get("text-padding")*o.tilePixelRatio,It=j.get("icon-padding")*o.tilePixelRatio,kt=xe(j.get("text-max-angle")),$t=j.get("text-rotation-alignment")==="map"&&j.get("symbol-placement")!=="point",Jt=j.get("icon-rotation-alignment")==="map"&&j.get("symbol-placement")!=="point",Lt=j.get("symbol-placement"),Wt=xt/2;var Ht;const Kt=j.get("icon-text-fit");let ae;c&&Kt!=="none"&&(o.allowVerticalPlacement&&a.vertical&&(ae=jC(c,a.vertical,Kt,j.get("icon-text-fit-padding"),G,it)),J&&(c=jC(c,J,Kt,j.get("icon-text-fit-padding"),G,it)));const Vt=(ue,be,pe)=>{if(be.x<0||be.x>=De||be.y<0||be.y>=De)return;let Le=null;if(st){const{x:re,y:Ee,z:ze}=I.projectTilePoint(be.x,be.y,pe);Le={anchor:new Di(re,Ee,ze,0,void 0),up:I.upVector(pe,be.x,be.y)}}(function(re,Ee,ze,un,je,Ne,In,$e,Ge,En,kn,Bn,Pn,Gn,Xn,uo,Dn,wo,po,qn,hn,mo,Nn,ga,ho){const Vo=re.addToLineVertexArray(Ee,un);let Fo,xa,Ro,gs,yu,sh,ih,kA=0,BA=0,NA=0,IA=0,cy=-1,dy=-1;const Hs={};let FA=rv("");const Wc=ze?ze.anchor:Ee;let uy=0,py=0;if(Ge._unevaluatedLayout.getValue("text-radial-offset")===void 0?[uy,py]=Ge.layout.get("text-offset").evaluate(hn,{},ho).map(Ha=>Ha*Oo):(uy=Ge.layout.get("text-radial-offset").evaluate(hn,{},ho)*Oo,py=Hv),re.allowVerticalPlacement&&je.vertical){const Ha=je.vertical;if(Xn)sh=Xv(Ha),$e&&(ih=Xv($e));else{const Za=Ge.layout.get("text-rotate").evaluate(hn,{},ho)+90;Ro=J0(En,Wc,Ee,kn,Bn,Pn,Ha,Gn,Za,uo),$e&&(gs=J0(En,Wc,Ee,kn,Bn,Pn,$e,wo,Za))}}if(Ne){const Ha=Ge.layout.get("icon-rotate").evaluate(hn,{},ho),Za=Ge.layout.get("icon-text-fit")!=="none",lh=ZC(Ne,Ha,Nn,Za),hy=$e?ZC($e,Ha,Nn,Za):void 0;xa=J0(En,Wc,Ee,kn,Bn,Pn,Ne,wo,Ha),kA=4*lh.length;const RA=re.iconSizeData;let Hc=null;RA.kind==="source"?(Hc=[ms*Ge.layout.get("icon-size").evaluate(hn,{},ho)],Hc[0]>hl&&gn(`${re.layerIds[0]}: Value for "icon-size" is >= ${Qm}. Reduce your "icon-size".`)):RA.kind==="composite"&&(Hc=[ms*mo.compositeIconSizes[0].evaluate(hn,{},ho),ms*mo.compositeIconSizes[1].evaluate(hn,{},ho)],(Hc[0]>hl||Hc[1]>hl)&&gn(`${re.layerIds[0]}: Value for "icon-size" is >= ${Qm}. Reduce your "icon-size".`)),re.addSymbols(re.icon,lh,Hc,qn,po,hn,!1,ze,Ee,Vo.lineStartIndex,Vo.lineLength,-1,ga,ho),cy=re.icon.placedSymbolArray.length-1,hy&&(BA=4*hy.length,re.addSymbols(re.icon,hy,Hc,qn,po,hn,cr.vertical,ze,Ee,Vo.lineStartIndex,Vo.lineLength,-1,ga,ho),dy=re.icon.placedSymbolArray.length-1)}for(const Ha in je.horizontal){const Za=je.horizontal[Ha];Fo||(FA=rv(Za.text),Xn?yu=Xv(Za):Fo=J0(En,Wc,Ee,kn,Bn,Pn,Za,Gn,Ge.layout.get("text-rotate").evaluate(hn,{},ho),uo));const lh=Za.positionedLines.length===1;if(NA+=YC(re,ze,Ee,Za,In,Ge,Xn,hn,uo,Vo,je.vertical?cr.horizontal:cr.horizontalOnly,lh?Object.keys(je.horizontal):[Ha],Hs,cy,mo,ga,ho),lh)break}je.vertical&&(IA+=YC(re,ze,Ee,je.vertical,In,Ge,Xn,hn,uo,Vo,cr.vertical,["vertical"],Hs,dy,mo,ga,ho));let _l=-1;const my=(Ha,Za)=>Ha?Math.max(Ha,Za):Za;_l=my(yu,_l),_l=my(sh,_l),_l=my(ih,_l);const b7=_l>-1?1:0;re.glyphOffsetArray.length>=gl.MAX_GLYPHS&&gn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),hn.sortKey!==void 0&&re.addToSortKeyRanges(re.symbolInstances.length,hn.sortKey),re.symbolInstances.emplaceBack(Wc.x,Wc.y,Wc.z,Ee.x,Ee.y,Hs.right>=0?Hs.right:-1,Hs.center>=0?Hs.center:-1,Hs.left>=0?Hs.left:-1,Hs.vertical>=0?Hs.vertical:-1,cy,dy,FA,Fo!==void 0?Fo:re.collisionBoxArray.length,Fo!==void 0?Fo+1:re.collisionBoxArray.length,Ro!==void 0?Ro:re.collisionBoxArray.length,Ro!==void 0?Ro+1:re.collisionBoxArray.length,xa!==void 0?xa:re.collisionBoxArray.length,xa!==void 0?xa+1:re.collisionBoxArray.length,gs||re.collisionBoxArray.length,gs?gs+1:re.collisionBoxArray.length,kn,NA,IA,kA,BA,b7,0,uy,py,_l)})(o,be,Le,ue,a,c,u,ae,o.layers[0],o.collisionBoxArray,n.index,n.sourceLayerIndex,o.index,gt,$t,A,0,It,Jt,G,n,h,T,D,k)};if(Lt==="line")for(const ue of qC(n.geometry,0,0,De,De)){const be=jI(ue,xt,kt,a.vertical||J,c,ht,mt,o.overscaling,De);for(const pe of be)J&&ZI(o,J.text,Wt,pe)||Vt(ue,pe,k)}else if(Lt==="line-center"){for(const ue of n.geometry)if(ue.length>1){const be=zI(ue,kt,a.vertical||J,c,ht,mt);be&&Vt(ue,be,k)}}else if(n.type==="Polygon")for(const ue of Fv(n.geometry,0)){const be=$I(ue,16);Vt(ue[0],new Di(be.x,be.y,0,0,void 0),k)}else if(n.type==="LineString")for(const ue of n.geometry)Vt(ue,new Di(ue[0].x,ue[0].y,0,0,void 0),k);else if(n.type==="Point")for(const ue of n.geometry)for(const be of ue)Vt([be],new Di(be.x,be.y,0,0,void 0),k)}const Qm=255,hl=Qm*ms;function YC(o,n,a,c,u,h,x,y,A,T,D,k,I,z,j,G,J){const st=function(mt,xt,gt,It,kt,$t,Jt,Lt){const Wt=[];if(xt.positionedLines.length===0)return Wt;const Ht=It.layout.get("text-rotate").evaluate($t,{})*Math.PI/180,Kt=function(pe){const Le=pe[0],re=pe[1],Ee=Le*re;return Ee>0?[Le,-re]:Ee<0?[-Le,re]:Le===0?[re,Le]:[re,-Le]}(gt);let ae=Math.abs(xt.top-xt.bottom);for(const pe of xt.positionedLines)ae-=pe.lineOffset;const Vt=xt.positionedLines.length,ue=ae/Vt;let be=xt.top-gt[1];for(let pe=0;pe<Vt;++pe){const Le=xt.positionedLines[pe];be=OI(xt,ue,be,pe);for(const re of Le.positionedGlyphs){if(!re.rect)continue;const Ee=re.rect||{};let ze=kC+1,un=!0,je=1,Ne=0;if(re.imageName){const Nn=Jt[re.imageName];if(!Nn)continue;if(Nn.sdf){gn("SDF images are not supported in formatted text and will be ignored.");continue}un=!1,je=Nn.pixelRatio,ze=Da/je}const In=(kt||Lt)&&re.vertical,$e=re.metrics.advance*re.scale/2,Ge=re.metrics,En=re.rect;if(En===null)continue;Lt&&xt.verticalizable&&(Ne=re.imageName?$e-re.metrics.width*re.scale/2:0);const kn=kt?[re.x+$e,re.y]:[0,0];let Bn=[0,0],Pn=[0,0],Gn=!1;kt||(In?(Pn=[re.x+$e+Kt[0],re.y+Kt[1]-Ne],Gn=!0):Bn=[re.x+$e+gt[0],re.y+gt[1]-Ne]);const Xn=En.w*re.scale/(je*(re.localGlyph?hs:1)),uo=En.h*re.scale/(je*(re.localGlyph?hs:1));let Dn,wo,po,qn;if(In){const Nn=re.y-be,ga=new Dt(-$e,$e-Nn),ho=-Math.PI/2,Vo=new Dt(...Pn);Dn=new Dt(-$e+Bn[0],Bn[1]),Dn._rotateAround(ho,ga)._add(Vo),Dn.x+=-Nn+$e,Dn.y-=(Ge.left-ze)*re.scale;const Fo=re.imageName?Ge.advance*re.scale:Oo*re.scale,xa=String.fromCharCode(re.glyph);bI(xa)?Dn.x+=(1-ze)*re.scale:wI(xa)?Dn.x+=Fo-Ge.height*re.scale+(-ze-1)*re.scale:Dn.x+=re.imageName||Ge.width+2*ze===En.w&&Ge.height+2*ze===En.h?(Fo-uo)/2:(Fo-(Ge.height+2*ze)*re.scale)/2,wo=new Dt(Dn.x,Dn.y-Xn),po=new Dt(Dn.x+uo,Dn.y),qn=new Dt(Dn.x+uo,Dn.y-Xn)}else{const Nn=(Ge.left-ze)*re.scale-$e+Bn[0],ga=(-Ge.top-ze)*re.scale+Bn[1],ho=Nn+Xn,Vo=ga+uo;Dn=new Dt(Nn,ga),wo=new Dt(ho,ga),po=new Dt(Nn,Vo),qn=new Dt(ho,Vo)}if(Ht){let Nn;Nn=kt?new Dt(0,0):Gn?new Dt(Kt[0],Kt[1]):new Dt(gt[0],gt[1]),Dn._rotateAround(Ht,Nn),wo._rotateAround(Ht,Nn),po._rotateAround(Ht,Nn),qn._rotateAround(Ht,Nn)}const hn=new Dt(0,0),mo=new Dt(0,0);Wt.push({tl:Dn,tr:wo,bl:po,br:qn,tex:Ee,writingMode:xt.writingMode,glyphOffset:kn,sectionIndex:re.sectionIndex,isSDF:un,pixelOffsetTL:hn,pixelOffsetBR:mo,minFontScaleX:0,minFontScaleY:0})}}return Wt}(0,c,A,h,x,y,u,o.allowVerticalPlacement),ht=o.textSizeData;let it=null;ht.kind==="source"?(it=[ms*h.layout.get("text-size").evaluate(y,{},J)],it[0]>hl&&gn(`${o.layerIds[0]}: Value for "text-size" is >= ${Qm}. Reduce your "text-size".`)):ht.kind==="composite"&&(it=[ms*j.compositeTextSizes[0].evaluate(y,{},J),ms*j.compositeTextSizes[1].evaluate(y,{},J)],(it[0]>hl||it[1]>hl)&&gn(`${o.layerIds[0]}: Value for "text-size" is >= ${Qm}. Reduce your "text-size".`)),o.addSymbols(o.text,st,it,A,x,y,D,n,a,T.lineStartIndex,T.lineLength,z,G,J);for(const mt of k)I[mt]=o.text.placedSymbolArray.length-1;return 4*st.length}function QC(o){for(const n in o)return o[n];return null}function J0(o,n,a,c,u,h,x,y,A,T){let D=x.top,k=x.bottom,I=x.left,z=x.right;const j=x.collisionPadding;if(j&&(I-=j[0],D-=j[1],z+=j[2],k+=j[3]),A){const G=new Dt(I,D),J=new Dt(z,D),st=new Dt(I,k),ht=new Dt(z,k),it=xe(A);let mt=new Dt(0,0);T&&(mt=new Dt(T[0],T[1])),G._rotateAround(it,mt),J._rotateAround(it,mt),st._rotateAround(it,mt),ht._rotateAround(it,mt),I=Math.min(G.x,J.x,st.x,ht.x),z=Math.max(G.x,J.x,st.x,ht.x),D=Math.min(G.y,J.y,st.y,ht.y),k=Math.max(G.y,J.y,st.y,ht.y)}return o.emplaceBack(n.x,n.y,n.z,a.x,a.y,I,D,z,k,y,c,u,h),o.length-1}function Xv(o){o.collisionPadding&&(o.top-=o.collisionPadding[1],o.bottom+=o.collisionPadding[3]);const n=o.bottom-o.top;return n>0?Math.max(10,n):null}function ZI(o,n,a,c){const u=o.compareText;if(n in u){const h=u[n];for(let x=h.length-1;x>=0;x--)if(c.dist(h[x])<a)return!0}else u[n]=[];return u[n].push(c),!1}function JC(o,n){const a=o.fovAboveCenter,c=o.elevation?o.elevation.getMinElevationBelowMSL()*n:0,u=(o._camera.position[2]*o.worldSize-c)/Math.cos(o._pitch),h=Math.sin(a)*u/Math.sin(Math.max(Math.PI/2-o._pitch-a,.01)),x=Math.sin(o._pitch)*h+u;return Math.min(1.01*x,u*(1/o._horizonShift))}function Gc(o,n){if(!n.isReprojectedInTileSpace)return{scale:1<<o.z,x:o.x,y:o.y,x2:o.x+1,y2:o.y+1,projection:n};const a=Math.pow(2,-o.z),c=o.x*a,u=(o.x+1)*a,h=o.y*a,x=(o.y+1)*a,y=lr(c),A=lr(u),T=Yo(h),D=Yo(x),k=n.project(y,T),I=n.project(A,T),z=n.project(A,D),j=n.project(y,D);let G=Math.min(k.x,I.x,z.x,j.x),J=Math.min(k.y,I.y,z.y,j.y),st=Math.max(k.x,I.x,z.x,j.x),ht=Math.max(k.y,I.y,z.y,j.y);const it=a/16;function mt(gt,It,kt,$t,Jt,Lt){const Wt=(kt+Jt)/2,Ht=($t+Lt)/2,Kt=n.project(lr(Wt),Yo(Ht)),ae=Math.max(0,G-Kt.x,J-Kt.y,Kt.x-st,Kt.y-ht);G=Math.min(G,Kt.x),st=Math.max(st,Kt.x),J=Math.min(J,Kt.y),ht=Math.max(ht,Kt.y),ae>it&&(mt(gt,Kt,kt,$t,Wt,Ht),mt(Kt,It,Wt,Ht,Jt,Lt))}mt(k,I,c,h,u,h),mt(I,z,u,h,u,x),mt(z,j,u,x,c,x),mt(j,k,c,x,c,h),G-=it,J-=it,st+=it,ht+=it;const xt=1/Math.max(st-G,ht-J);return{scale:xt,x:G*xt,y:J*xt,x2:st*xt,y2:ht*xt,projection:n}}const XI=ds(new Float32Array(16));class fl{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,a){return{x:0,y:0,z:0}}unproject(n,a){return new Sn(0,0)}projectTilePoint(n,a,c){return{x:n,y:a,z:0}}locationPoint(n,a,c=!0){return n._coordinatePoint(n.locationCoordinate(a),c)}pixelsPerMeter(n,a){return ps(1,n)*a}pixelSpaceConversion(n,a,c){return 1}farthestPixelDistance(n){return JC(n,n.pixelsPerMeter)}pointCoordinate(n,a,c,u){const h=n.horizonLineFromTop(!1),x=new Dt(a,Math.max(h,c));return n.rayIntersectionCoordinate(n.pointRayIntersection(x,u))}pointCoordinate3D(n,a,c){const u=new Dt(a,c);if(n.elevation)return n.elevation.pointCoordinate(u);{const h=this.pointCoordinate(n,u.x,u.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,a){if(n.elevation)return!this.pointCoordinate3D(n,a.x,a.y);const c=n.horizonLineFromTop();return a.y<c}createInversionMatrix(n,a){return XI}createTileMatrix(n,a,c){let u,h,x;const y=c.canonical,A=ds(new Float64Array(16));if(this.isReprojectedInTileSpace){const T=Gc(y,this);u=1,h=T.x+c.wrap*T.scale,x=T.y,Lc(A,A,[u/T.scale,u/T.scale,n.pixelsPerMeter/a])}else u=a/n.zoomScale(y.z),h=(y.x+Math.pow(2,y.z)*c.wrap)*u,x=y.y*u;return Dm(A,A,[h,x,0]),Lc(A,A,[u/De,u/De,1]),A}upVector(n,a,c){return[0,0,1]}upVectorScale(n,a,c){return{metersToTile:1}}}class KI extends fl{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[a,c]=this.parallels=n.parallels||[29.5,45.5],u=Math.sin(xe(a));this.n=(u+Math.sin(xe(c)))/2,this.c=1+u*(2*this.n-u),this.r0=Math.sqrt(this.c)/this.n}project(n,a){const{n:c,c:u,r0:h}=this,x=xe(n-this.center[0]),y=xe(a),A=Math.sqrt(u-2*c*Math.sin(y))/c;return{x:A*Math.sin(x*c),y:A*Math.cos(x*c)-h,z:0}}unproject(n,a){const{n:c,c:u,r0:h}=this,x=h+a;let y=Math.atan2(n,Math.abs(x))*Math.sign(x);x*c<0&&(y-=Math.PI*Math.sign(n)*Math.sign(x));const A=xe(this.center[0])*c;y=fe(y,-Math.PI-A,Math.PI-A);const T=Zt(ce(y/c)+this.center[0],-180,180),D=Math.asin(Zt((u-(n*n+x*x)*c*c)/(2*c),-1,1)),k=Zt(ce(D),-Qo,Qo);return new Sn(T,k)}}const Jm=1.340264,th=-.081106,eh=893e-6,nh=.003796,tg=Math.sqrt(3)/2;class YI extends fl{project(n,a){a=a/180*Math.PI,n=n/180*Math.PI;const c=Math.asin(tg*Math.sin(a)),u=c*c,h=u*u*u;return{x:.5*(n*Math.cos(c)/(tg*(Jm+3*th*u+h*(7*eh+9*nh*u)))/Math.PI+.5),y:1-.5*(c*(Jm+th*u+h*(eh+nh*u))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let c=a=(2*(1-a)-1)*Math.PI,u=c*c,h=u*u*u;for(let D,k,I,z=0;z<12&&(k=c*(Jm+th*u+h*(eh+nh*u))-a,I=Jm+3*th*u+h*(7*eh+9*nh*u),D=k/I,c=Zt(c-D,-Math.PI/3,Math.PI/3),u=c*c,h=u*u*u,!(Math.abs(D)<1e-12));++z);const x=tg*n*(Jm+3*th*u+h*(7*eh+9*nh*u))/Math.cos(c),y=Math.asin(Math.sin(c)/tg),A=Zt(180*x/Math.PI,-180,180),T=Zt(180*y/Math.PI,-Qo,Qo);return new Sn(A,T)}}class QI extends fl{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){return{x:.5+n/360,y:.5-a/360,z:0}}unproject(n,a){const c=360*(n-.5),u=Zt(360*(.5-a),-Qo,Qo);return new Sn(c,u)}}const xu=Math.PI/2;function eg(o){return Math.tan((xu+o)/2)}class JI extends fl{constructor(n){super(n),this.center=n.center||[0,30];const[a,c]=this.parallels=n.parallels||[30,30];let u=xe(a),h=xe(c);this.southernCenter=u+h<0,this.southernCenter&&(u=-u,h=-h);const x=Math.cos(u),y=eg(u);this.n=u===h?Math.sin(u):Math.log(x/Math.cos(h))/Math.log(eg(h)/y),this.f=x*Math.pow(eg(u),this.n)/this.n}project(n,a){a=xe(a),this.southernCenter&&(a=-a),n=xe(n-this.center[0]);const c=1e-6,{n:u,f:h}=this;h>0?a<-xu+c&&(a=-xu+c):a>xu-c&&(a=xu-c);const x=h/Math.pow(eg(a),u);let y=x*Math.sin(u*n),A=h-x*Math.cos(u*n);return y=.5*(y/Math.PI+.5),A=.5*(A/Math.PI+.5),{x:y,y:this.southernCenter?A:1-A,z:0}}unproject(n,a){n=(2*n-.5)*Math.PI,this.southernCenter&&(a=1-a),a=(2*(1-a)-.5)*Math.PI;const{n:c,f:u}=this,h=u-a,x=Math.sign(h),y=Math.sign(c)*Math.sqrt(n*n+h*h);let A=Math.atan2(n,Math.abs(h))*x;h*c<0&&(A-=Math.PI*Math.sign(n)*x);const T=Zt(ce(A/c)+this.center[0],-180,180),D=Zt(ce(2*Math.atan(Math.pow(u/y,1/c))-xu),-Qo,Qo);return new Sn(T,this.southernCenter?-D:D)}}class tA extends fl{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,a){return{x:Us(n),y:$s(a),z:0}}unproject(n,a){const c=lr(n),u=Yo(a);return new Sn(c,u)}}const eA=xe(Qo);class t7 extends fl{project(n,a){const c=(a=xe(a))*a,u=c*c;return{x:.5*((n=xe(n))*(.8707-.131979*c+u*(u*(.003971*c-.001529*u)-.013791))/Math.PI+.5),y:1-.5*(a*(1.007226+c*(.015085+u*(.028874*c-.044475-.005916*u)))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let c=a=(2*(1-a)-1)*Math.PI,u=25,h=0,x=c*c;do{x=c*c;const T=x*x;h=(c*(1.007226+x*(.015085+T*(.028874*x-.044475-.005916*T)))-a)/(1.007226+x*(.045255+T*(.259866*x-.311325-.005916*11*T))),c=Zt(c-h,-eA,eA)}while(Math.abs(h)>1e-6&&--u>0);x=c*c;const y=Zt(ce(n/(.8707+x*(x*(x*x*x*(.003971-.001529*x)-.013791)-.131979))),-180,180),A=ce(c);return new Sn(y,A)}}const nA=xe(Qo);class e7 extends fl{project(n,a){a=xe(a),n=xe(n);const c=Math.cos(a),u=2/Math.PI,h=Math.acos(c*Math.cos(n/2)),x=Math.sin(h)/h,y=.5*(n*u+2*c*Math.sin(n/2)/x)||0,A=.5*(a+Math.sin(a)/x)||0;return{x:.5*(y/Math.PI+.5),y:1-.5*(A/Math.PI+1),z:0}}unproject(n,a){let c=n=(2*n-.5)*Math.PI,u=a=(2*(1-a)-1)*Math.PI,h=25;const x=1e-6;let y=0,A=0;do{const T=Math.cos(u),D=Math.sin(u),k=2*D*T,I=D*D,z=T*T,j=Math.cos(c/2),G=Math.sin(c/2),J=2*j*G,st=G*G,ht=1-z*j*j,it=ht?1/ht:0,mt=ht?Math.acos(T*j)*Math.sqrt(1/ht):0,xt=.5*(2*mt*T*G+2*c/Math.PI)-n,gt=.5*(mt*D+u)-a,It=.5*it*(z*st+mt*T*j*I)+1/Math.PI,kt=it*(J*k/4-mt*D*G),$t=.125*it*(k*G-mt*D*z*J),Jt=.5*it*(I*j+mt*st*T)+.5,Lt=kt*$t-Jt*It;y=(gt*kt-xt*Jt)/Lt,A=(xt*$t-gt*It)/Lt,c=Zt(c-y,-Math.PI,Math.PI),u=Zt(u-A,-nA,nA)}while((Math.abs(y)>x||Math.abs(A)>x)&&--h>0);return new Sn(ce(c),ce(u))}}class oA extends fl{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(xe(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){const{scale:c,cosPhi:u}=this;return{x:xe(n)*u*c+.5,y:-Math.sin(xe(a))/u*c+.5,z:0}}unproject(n,a){const{scale:c,cosPhi:u}=this,h=-(a-.5)/c,x=Zt(ce((n-.5)/c)/u,-180,180),y=Math.asin(Zt(h*u,-1,1)),A=Zt(ce(y),-Qo,Qo);return new Sn(x,A)}}class n7 extends tA{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,a,c){const u=Lm(n,a,c);return no(u,u,zm(Vs(c))),{x:u[0],y:u[1],z:u[2]}}locationPoint(n,a){const c=nu(a.lat,a.lng),u=ma([],c),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(a),n._centerAltitude):n._centerAltitude;Nm(c,c,u,ps(1,0)*De*h);const x=ds(new Float64Array(16));return Rc(x,n.pixelMatrix,n.globeMatrix),no(c,c,x),new Dt(c[0],c[1])}pixelsPerMeter(n,a){return ps(1,0)*a}pixelSpaceConversion(n,a,c){const u=ps(1,n)*a,h=sn(ps(1,45)*a,u,c);return this.pixelsPerMeter(n,a)/h}createTileMatrix(n,a,c){const u=yv(Vs(c.canonical));return Rc(new Float64Array(16),n.globeMatrix,u)}createInversionMatrix(n,a){const{center:c}=n,u=zm(Vs(a));return D0(u,u,xe(c.lng)),cv(u,u,xe(c.lat)),Lc(u,u,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(u)}pointCoordinate(n,a,c,u){return M3(n,a,c,!0)||new au(0,0)}pointCoordinate3D(n,a,c){const u=this.pointCoordinate(n,a,c,0);return[u.x,u.y,u.z]}isPointAboveHorizon(n,a){return!M3(n,a.x,a.y,!1)}farthestPixelDistance(n){const a=function(u,h){const x=u.cameraToCenterDistance,y=u._centerAltitude*h,A=u._camera,T=u._camera.forward(),D=Ti([],ir([],T,-x),[0,0,y]),k=u.worldSize/(2*Math.PI),I=[0,0,-k],z=u.width/u.height,j=Math.tan(u.fovAboveCenter),G=ir([],A.up(),j),J=ir([],A.right(),j*z),st=ma([],Ti([],Ti([],T,G),J)),ht=[];let it;if(new mv(D,st).closestPointOnSphere(I,k,ht)){const mt=Ti([],ht,I),xt=us([],mt,D);it=Math.cos(u.fovAboveCenter)*Mm(xt)}else{const mt=us([],D,I),xt=us([],I,D);ma(xt,xt);const gt=Mm(mt)-k;it=Math.sqrt(gt*(gt+2*k));const It=Math.acos(it/(k+gt))-Math.acos(kr(T,xt));it*=Math.cos(It)}return 1.01*it}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),c=ou(n.zoom);if(c>0){const u=JC(n,ps(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),x=Math.max(n.width,n.height)/n.worldSize*Math.PI;return sn(a,u+h*(1-Math.cos(x)),Math.pow(c,10))}return a}upVector(n,a,c){return Lm(a,c,n,1)}upVectorScale(n){return{metersToTile:M0(B0(Vs(n)))}}}function aA(o){const n=o.parallels,a=!!n&&Math.abs(n[0]+n[1])<.01;switch(o.name){case"mercator":return new tA(o);case"equirectangular":return new QI(o);case"naturalEarth":return new t7(o);case"equalEarth":return new YI(o);case"winkelTripel":return new e7(o);case"albers":return a?new oA(o):new KI(o);case"lambertConformalConic":return a?new oA(o):new JI(o);case"globe":return new n7(o)}throw new Error(`Invalid projection name: ${o.name}`)}const o7=U0.types,a7=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ng(o,n,a,c,u,h,x,y,A,T,D,k,I){const z=y?Math.min(hl,Math.round(y[0])):0,j=y?Math.min(hl,Math.round(y[1])):0;o.emplaceBack(n,a,Math.round(32*c),Math.round(32*u),h,x,(z<<1)+(A?1:0),j,16*T,16*D,256*k,256*I)}function og(o,n,a,c,u,h,x){o.emplaceBack(n,a,c,u,h,x)}function ag(o,n,a,c,u){o.emplaceBack(n,a,c,u),o.emplaceBack(n,a,c,u),o.emplaceBack(n,a,c,u),o.emplaceBack(n,a,c,u)}function r7(o){for(const n of o.sections)if(av(n.text))return!0;return!1}class Kv{constructor(n){this.layoutVertexArray=new Xt,this.indexArray=new Ae,this.programConfigurations=n,this.segments=new lo,this.dynamicLayoutVertexArray=new Yt,this.opacityVertexArray=new Se,this.placedSymbolArray=new io,this.globeExtVertexArray=new ee}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,a,c,u){this.isEmpty()||(c&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,mI.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,fI.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,a7,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,hI.members,!0)),this.opacityVertexBuffer.itemSize=1),(c||u)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}ve(Kv,"SymbolBuffers");class Yv{constructor(n,a,c){this.layoutVertexArray=new n,this.layoutAttributes=a,this.indexArray=new c,this.segments=new lo,this.collisionVertexArray=new tn,this.collisionVertexArrayExt=new Ye}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,gI.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,xI.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ve(Yv,"CollisionBuffers");class gl{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(x=>x.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ds([]),this.placementViewportMatrix=ds([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=jv(this.zoom,a["text-size"]),this.iconSizeData=jv(this.zoom,a["icon-size"]);const c=this.layers[0].layout,u=c.get("symbol-sort-key"),h=c.get("symbol-z-order");this.canOverlap=c.get("text-allow-overlap")||c.get("icon-allow-overlap")||c.get("text-ignore-placement")||c.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&u.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=c.get("text-writing-mode").map(x=>cr[x]),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=n.sourceID,this.projection=n.projection}createArrays(){this.text=new Kv(new Fc(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new Kv(new Fc(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new pa,this.lineVertexArray=new Yd,this.symbolInstances=new Ln}calculateGlyphDependencies(n,a,c,u,h){for(let x=0;x<n.length;x++)if(a[n.charCodeAt(x)]=!0,u&&h){const y=Xm[n.charAt(x)];y&&(a[y.charCodeAt(0)]=!0)}}populate(n,a,c,u){const h=this.layers[0],x=h.layout,y=this.projection.name==="globe",A=x.get("text-font"),T=x.get("text-field"),D=x.get("icon-image"),k=(T.value.kind!=="constant"||T.value.value instanceof ua&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(A.value.kind!=="constant"||A.value.value.length>0),I=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,z=x.get("symbol-sort-key");if(this.features=[],!k&&!I)return;const j=a.iconDependencies,G=a.glyphDependencies,J=a.availableImages,st=new M(this.zoom);for(const{feature:ht,id:it,index:mt,sourceLayerIndex:xt}of n){const gt=h._featureFilter.needGeometry,It=Vc(ht,gt);if(!h._featureFilter.filter(st,It,c))continue;if(gt||(It.geometry=Si(ht,c,u)),y&&ht.type!==1&&c.z<=5){const Lt=It.geometry,Wt=.98078528056,Ht=(Kt,ae)=>kr(Lm(Kt.x,Kt.y,c,1),Lm(ae.x,ae.y,c,1))<Wt;for(let Kt=0;Kt<Lt.length;Kt++)Lt[Kt]=fN(Lt[Kt],Ht)}let kt,$t;if(k){const Lt=h.getValueAndResolveTokens("text-field",It,c,J),Wt=ua.factory(Lt);r7(Wt)&&(this.hasRTLText=!0),(!this.hasRTLText||b()==="unavailable"||this.hasRTLText&&P.isParsed())&&(kt=_I(Wt,h,It))}if(I){const Lt=h.getValueAndResolveTokens("icon-image",It,c,J);$t=Lt instanceof Va?Lt:Va.fromString(Lt)}if(!kt&&!$t)continue;const Jt=this.sortFeaturesByKey?z.evaluate(It,{},c):void 0;if(this.features.push({id:it,text:kt,icon:$t,index:mt,sourceLayerIndex:xt,geometry:It.geometry,properties:ht.properties,type:o7[ht.type],sortKey:Jt}),$t&&(j[$t.name]=!0),kt){const Lt=A.evaluate(It,{},c).join(","),Wt=x.get("text-rotation-alignment")==="map"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(cr.vertical)>=0;for(const Ht of kt.sections)if(Ht.image)j[Ht.image.name]=!0;else{const Kt=wm(kt.toString()),ae=Ht.fontStack||Lt,Vt=G[ae]=G[ae]||{};this.calculateGlyphDependencies(Ht.text,Vt,Wt,this.allowVerticalPlacement,Kt)}}}x.get("symbol-placement")==="line"&&(this.features=function(ht){const it={},mt={},xt=[];let gt=0;function It(Lt){xt.push(ht[Lt]),gt++}function kt(Lt,Wt,Ht){const Kt=mt[Lt];return delete mt[Lt],mt[Wt]=Kt,xt[Kt].geometry[0].pop(),xt[Kt].geometry[0]=xt[Kt].geometry[0].concat(Ht[0]),Kt}function $t(Lt,Wt,Ht){const Kt=it[Wt];return delete it[Wt],it[Lt]=Kt,xt[Kt].geometry[0].shift(),xt[Kt].geometry[0]=Ht[0].concat(xt[Kt].geometry[0]),Kt}function Jt(Lt,Wt,Ht){const Kt=Ht?Wt[0][Wt[0].length-1]:Wt[0][0];return`${Lt}:${Kt.x}:${Kt.y}`}for(let Lt=0;Lt<ht.length;Lt++){const Wt=ht[Lt],Ht=Wt.geometry,Kt=Wt.text?Wt.text.toString():null;if(!Kt){It(Lt);continue}const ae=Jt(Kt,Ht),Vt=Jt(Kt,Ht,!0);if(ae in mt&&Vt in it&&mt[ae]!==it[Vt]){const ue=$t(ae,Vt,Ht),be=kt(ae,Vt,xt[ue].geometry);delete it[ae],delete mt[Vt],mt[Jt(Kt,xt[be].geometry,!0)]=be,xt[ue].geometry=null}else ae in mt?kt(ae,Vt,Ht):Vt in it?$t(ae,Vt,Ht):(It(Lt),it[ae]=gt-1,mt[Vt]=gt-1)}return xt.filter(Lt=>Lt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ht,it)=>ht.sortKey-it.sortKey)}update(n,a,c,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,a,this.layers,c,u),this.icon.programConfigurations.updatePaintArrays(n,a,this.layers,c,u))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=aA(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,a){const c=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:u,y:h}of a)this.lineVertexArray.emplaceBack(u,h);return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}}addSymbols(n,a,c,u,h,x,y,A,T,D,k,I,z,j){const G=n.indexArray,J=n.layoutVertexArray,st=n.globeExtVertexArray,ht=n.segments.prepareSegment(4*a.length,J,G,this.canOverlap?x.sortKey:void 0),it=this.glyphOffsetArray.length,mt=ht.vertexLength,xt=this.allowVerticalPlacement&&y===cr.vertical?Math.PI/2:0,gt=x.text&&x.text.sections;for(let kt=0;kt<a.length;kt++){const{tl:$t,tr:Jt,bl:Lt,br:Wt,tex:Ht,pixelOffsetTL:Kt,pixelOffsetBR:ae,minFontScaleX:Vt,minFontScaleY:ue,glyphOffset:be,isSDF:pe,sectionIndex:Le}=a[kt],re=ht.vertexLength,Ee=be[1];if(ng(J,T.x,T.y,$t.x,Ee+$t.y,Ht.x,Ht.y,c,pe,Kt.x,Kt.y,Vt,ue),ng(J,T.x,T.y,Jt.x,Ee+Jt.y,Ht.x+Ht.w,Ht.y,c,pe,ae.x,Kt.y,Vt,ue),ng(J,T.x,T.y,Lt.x,Ee+Lt.y,Ht.x,Ht.y+Ht.h,c,pe,Kt.x,ae.y,Vt,ue),ng(J,T.x,T.y,Wt.x,Ee+Wt.y,Ht.x+Ht.w,Ht.y+Ht.h,c,pe,ae.x,ae.y,Vt,ue),A){const{x:ze,y:un,z:je}=A.anchor,[Ne,In,$e]=A.up;og(st,ze,un,je,Ne,In,$e),og(st,ze,un,je,Ne,In,$e),og(st,ze,un,je,Ne,In,$e),og(st,ze,un,je,Ne,In,$e),ag(n.dynamicLayoutVertexArray,ze,un,je,xt)}else ag(n.dynamicLayoutVertexArray,T.x,T.y,T.z,xt);G.emplaceBack(re,re+1,re+2),G.emplaceBack(re+1,re+2,re+3),ht.vertexLength+=4,ht.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(be[0]),kt!==a.length-1&&Le===a[kt+1].sectionIndex||n.programConfigurations.populatePaintArrays(J.length,x,x.index,{},z,j,gt&&gt[Le])}const It=A?A.anchor:T;n.placedSymbolArray.emplaceBack(It.x,It.y,It.z,T.x,T.y,it,this.glyphOffsetArray.length-it,mt,D,k,T.segment,c?c[0]:0,c?c[1]:0,u[0],u[1],y,0,!1,0,I,0)}_commitLayoutVertex(n,a,c,u,h,x,y){n.emplaceBack(a,c,u,h,x,Math.round(y.x),Math.round(y.y))}_addCollisionDebugVertices(n,a,c,u,h,x,y){const A=c.segments.prepareSegment(4,c.layoutVertexArray,c.indexArray),T=A.vertexLength,D=y.tileAnchorX,k=y.tileAnchorY;for(let z=0;z<4;z++)c.collisionVertexArray.emplaceBack(0,0,0,0);c.collisionVertexArrayExt.emplaceBack(a,-n.padding,-n.padding),c.collisionVertexArrayExt.emplaceBack(a,n.padding,-n.padding),c.collisionVertexArrayExt.emplaceBack(a,n.padding,n.padding),c.collisionVertexArrayExt.emplaceBack(a,-n.padding,n.padding),this._commitLayoutVertex(c.layoutVertexArray,u,h,x,D,k,new Dt(n.x1,n.y1)),this._commitLayoutVertex(c.layoutVertexArray,u,h,x,D,k,new Dt(n.x2,n.y1)),this._commitLayoutVertex(c.layoutVertexArray,u,h,x,D,k,new Dt(n.x2,n.y2)),this._commitLayoutVertex(c.layoutVertexArray,u,h,x,D,k,new Dt(n.x1,n.y2)),A.vertexLength+=4;const I=c.indexArray;I.emplaceBack(T,T+1),I.emplaceBack(T+1,T+2),I.emplaceBack(T+2,T+3),I.emplaceBack(T+3,T),A.primitiveLength+=4}_addTextDebugCollisionBoxes(n,a,c,u,h,x){for(let y=u;y<h;y++){const A=c.get(y),T=this.getSymbolInstanceTextSize(n,x,a,y);this._addCollisionDebugVertices(A,T,this.textCollisionBox,A.projectedAnchorX,A.projectedAnchorY,A.projectedAnchorZ,x)}}_addIconDebugCollisionBoxes(n,a,c,u,h,x){for(let y=u;y<h;y++){const A=c.get(y),T=this.getSymbolInstanceIconSize(n,a,x.placedIconSymbolIndex);this._addCollisionDebugVertices(A,T,this.iconCollisionBox,A.projectedAnchorX,A.projectedAnchorY,A.projectedAnchorZ,x)}}generateCollisionDebugBuffers(n,a){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Yv(_e,CC.members,Io),this.iconCollisionBox=new Yv(_e,CC.members,Io);const c=cu(this.iconSizeData,n),u=cu(this.textSizeData,n);for(let h=0;h<this.symbolInstances.length;h++){const x=this.symbolInstances.get(h);this._addTextDebugCollisionBoxes(u,n,a,x.textBoxStartIndex,x.textBoxEndIndex,x),this._addTextDebugCollisionBoxes(u,n,a,x.verticalTextBoxStartIndex,x.verticalTextBoxEndIndex,x),this._addIconDebugCollisionBoxes(c,n,a,x.iconBoxStartIndex,x.iconBoxEndIndex,x),this._addIconDebugCollisionBoxes(c,n,a,x.verticalIconBoxStartIndex,x.verticalIconBoxEndIndex,x)}}getSymbolInstanceTextSize(n,a,c,u){const h=this.text.placedSymbolArray.get(a.rightJustifiedTextSymbolIndex>=0?a.rightJustifiedTextSymbolIndex:a.centerJustifiedTextSymbolIndex>=0?a.centerJustifiedTextSymbolIndex:a.leftJustifiedTextSymbolIndex>=0?a.leftJustifiedTextSymbolIndex:a.verticalPlacedTextSymbolIndex>=0?a.verticalPlacedTextSymbolIndex:u),x=W0(this.textSizeData,n,h)/Oo;return this.tilePixelRatio*x}getSymbolInstanceIconSize(n,a,c){const u=this.icon.placedSymbolArray.get(c),h=W0(this.iconSizeData,n,u);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,a,c){n.emplaceBack(a,-c,-c),n.emplaceBack(a,c,-c),n.emplaceBack(a,c,c),n.emplaceBack(a,-c,c)}_updateTextDebugCollisionBoxes(n,a,c,u,h,x){for(let y=u;y<h;y++){const A=c.get(y),T=this.getSymbolInstanceTextSize(n,x,a,y);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,T,A.padding)}}_updateIconDebugCollisionBoxes(n,a,c,u,h,x){for(let y=u;y<h;y++){const A=c.get(y),T=this.getSymbolInstanceIconSize(n,a,x);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,T,A.padding)}}updateCollisionDebugBuffers(n,a){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const c=cu(this.iconSizeData,n),u=cu(this.textSizeData,n);for(let h=0;h<this.symbolInstances.length;h++){const x=this.symbolInstances.get(h);this._updateTextDebugCollisionBoxes(u,n,a,x.textBoxStartIndex,x.textBoxEndIndex,x),this._updateTextDebugCollisionBoxes(u,n,a,x.verticalTextBoxStartIndex,x.verticalTextBoxEndIndex,x),this._updateIconDebugCollisionBoxes(c,n,a,x.iconBoxStartIndex,x.iconBoxEndIndex,x.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(c,n,a,x.verticalIconBoxStartIndex,x.verticalIconBoxEndIndex,x.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,a,c,u,h,x,y,A,T){const D={};if(a<c){const{x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt,featureIndex:xt}=n.get(a);D.textBox={x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt},D.textFeatureIndex=xt}if(u<h){const{x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt,featureIndex:xt}=n.get(u);D.verticalTextBox={x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt},D.verticalTextFeatureIndex=xt}if(x<y){const{x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt,featureIndex:xt}=n.get(x);D.iconBox={x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt},D.iconFeatureIndex=xt}if(A<T){const{x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt,featureIndex:xt}=n.get(A);D.verticalIconBox={x1:k,y1:I,x2:z,y2:j,padding:G,projectedAnchorX:J,projectedAnchorY:st,projectedAnchorZ:ht,tileAnchorX:it,tileAnchorY:mt},D.verticalIconFeatureIndex=xt}return D}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const c=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,c.textBoxStartIndex,c.textBoxEndIndex,c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex,c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,a){const c=n.placedSymbolArray.get(a),u=c.vertexStartIndex+4*c.numGlyphs;for(let h=c.vertexStartIndex;h<u;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const a=Math.sin(n),c=Math.cos(n),u=[],h=[],x=[];for(let y=0;y<this.symbolInstances.length;++y){x.push(y);const A=this.symbolInstances.get(y);u.push(0|Math.round(a*A.tileAnchorX+c*A.tileAnchorY)),h.push(A.featureIndex)}return x.sort((y,A)=>u[y]-u[A]||h[A]-h[y]),x}addToSortKeyRanges(n,a){const c=this.sortKeyRanges[this.sortKeyRanges.length-1];c&&c.sortKey===a?c.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const c=this.symbolInstances.get(a);this.featureSortOrder.push(c.featureIndex);const{rightJustifiedTextSymbolIndex:u,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:x,verticalPlacedTextSymbolIndex:y,placedIconSymbolIndex:A,verticalPlacedIconSymbolIndex:T}=c;u>=0&&this.addIndicesForPlacedSymbol(this.text,u),h>=0&&h!==u&&this.addIndicesForPlacedSymbol(this.text,h),x>=0&&x!==h&&x!==u&&this.addIndicesForPlacedSymbol(this.text,x),y>=0&&this.addIndicesForPlacedSymbol(this.text,y),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ve(gl,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),gl.MAX_GLYPHS=65535,gl.addDynamicAttributes=ag;const s7=new ut({"symbol-placement":new U(Ut.layout_symbol["symbol-placement"]),"symbol-spacing":new U(Ut.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new U(Ut.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new et(Ut.layout_symbol["symbol-sort-key"]),"symbol-z-order":new U(Ut.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new U(Ut.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new U(Ut.layout_symbol["icon-ignore-placement"]),"icon-optional":new U(Ut.layout_symbol["icon-optional"]),"icon-rotation-alignment":new U(Ut.layout_symbol["icon-rotation-alignment"]),"icon-size":new et(Ut.layout_symbol["icon-size"]),"icon-text-fit":new U(Ut.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new U(Ut.layout_symbol["icon-text-fit-padding"]),"icon-image":new et(Ut.layout_symbol["icon-image"]),"icon-rotate":new et(Ut.layout_symbol["icon-rotate"]),"icon-padding":new U(Ut.layout_symbol["icon-padding"]),"icon-keep-upright":new U(Ut.layout_symbol["icon-keep-upright"]),"icon-offset":new et(Ut.layout_symbol["icon-offset"]),"icon-anchor":new et(Ut.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new U(Ut.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new U(Ut.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new U(Ut.layout_symbol["text-rotation-alignment"]),"text-field":new et(Ut.layout_symbol["text-field"]),"text-font":new et(Ut.layout_symbol["text-font"]),"text-size":new et(Ut.layout_symbol["text-size"]),"text-max-width":new et(Ut.layout_symbol["text-max-width"]),"text-line-height":new et(Ut.layout_symbol["text-line-height"]),"text-letter-spacing":new et(Ut.layout_symbol["text-letter-spacing"]),"text-justify":new et(Ut.layout_symbol["text-justify"]),"text-radial-offset":new et(Ut.layout_symbol["text-radial-offset"]),"text-variable-anchor":new U(Ut.layout_symbol["text-variable-anchor"]),"text-anchor":new et(Ut.layout_symbol["text-anchor"]),"text-max-angle":new U(Ut.layout_symbol["text-max-angle"]),"text-writing-mode":new U(Ut.layout_symbol["text-writing-mode"]),"text-rotate":new et(Ut.layout_symbol["text-rotate"]),"text-padding":new U(Ut.layout_symbol["text-padding"]),"text-keep-upright":new U(Ut.layout_symbol["text-keep-upright"]),"text-transform":new et(Ut.layout_symbol["text-transform"]),"text-offset":new et(Ut.layout_symbol["text-offset"]),"text-allow-overlap":new U(Ut.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new U(Ut.layout_symbol["text-ignore-placement"]),"text-optional":new U(Ut.layout_symbol["text-optional"])});var Qv={paint:new ut({"icon-opacity":new et(Ut.paint_symbol["icon-opacity"]),"icon-color":new et(Ut.paint_symbol["icon-color"]),"icon-halo-color":new et(Ut.paint_symbol["icon-halo-color"]),"icon-halo-width":new et(Ut.paint_symbol["icon-halo-width"]),"icon-halo-blur":new et(Ut.paint_symbol["icon-halo-blur"]),"icon-translate":new U(Ut.paint_symbol["icon-translate"]),"icon-translate-anchor":new U(Ut.paint_symbol["icon-translate-anchor"]),"text-opacity":new et(Ut.paint_symbol["text-opacity"]),"text-color":new et(Ut.paint_symbol["text-color"],{runtimeType:Ea,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new et(Ut.paint_symbol["text-halo-color"]),"text-halo-width":new et(Ut.paint_symbol["text-halo-width"]),"text-halo-blur":new et(Ut.paint_symbol["text-halo-blur"]),"text-translate":new U(Ut.paint_symbol["text-translate"]),"text-translate-anchor":new U(Ut.paint_symbol["text-translate-anchor"])}),layout:s7};class rA{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:Wi,this.defaultValue=n}evaluate(n){if(n.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(n.formattedSection))return a.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ve(rA,"FormatSectionOverride",{omit:["defaultValue"]});class rg extends cs{constructor(n){super(n,Qv)}recalculate(n,a){super.recalculate(n,a),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const c=this.layout.get("text-writing-mode");if(c){const u=[];for(const h of c)u.indexOf(h)<0&&u.push(h);this.layout._values["text-writing-mode"]=u}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(n,a,c,u){const h=this.layout.get(n).evaluate(a,{},c,u),x=this._unevaluatedLayout._values[n];return x.isDataDriven()||al(x.value)||!h?h:function(y,A){return A.replace(/{([^{}]+)}/g,(T,D)=>D in y?String(y[D]):"")}(a.properties,h)}createBucket(n){return new gl(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of Qv.paint.overridableProperties){if(!rg.hasPaintOverride(this.layout,n))continue;const a=this.paint.get(n),c=new rA(a),u=new $d(c,a.property.specification);let h=null;h=a.value.kind==="constant"||a.value.kind==="source"?new um("source",u):new Sc("composite",u,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new ot(a.property,h,a.parameters)}}_handleOverridablePaintPropertyUpdate(n,a,c){return!(!this.layout||a.isDataDriven()||c.isDataDriven())&&rg.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,a){const c=n.get("text-field"),u=Qv.paint.properties[a];let h=!1;const x=y=>{for(const A of y)if(u.overrides&&u.overrides.hasOverride(A))return void(h=!0)};if(c.value.kind==="constant"&&c.value.value instanceof ua)x(c.value.value.sections);else if(c.value.kind==="source"){const y=T=>{h||(T instanceof hi&&Zn(T.value)===cc?x(T.value.sections):T instanceof Ls?x(T.sections):T.eachChild(y))},A=c.value;A._styleExpression&&y(A._styleExpression.expression)}return h}getProgramConfiguration(n){return new ul(this,n)}}var i7={paint:new ut({"background-color":new U(Ut.paint_background["background-color"]),"background-pattern":new U(Ut.paint_background["background-pattern"]),"background-opacity":new U(Ut.paint_background["background-opacity"])})},l7={paint:new ut({"raster-opacity":new U(Ut.paint_raster["raster-opacity"]),"raster-hue-rotate":new U(Ut.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new U(Ut.paint_raster["raster-brightness-min"]),"raster-brightness-max":new U(Ut.paint_raster["raster-brightness-max"]),"raster-saturation":new U(Ut.paint_raster["raster-saturation"]),"raster-contrast":new U(Ut.paint_raster["raster-contrast"]),"raster-resampling":new U(Ut.paint_raster["raster-resampling"]),"raster-fade-duration":new U(Ut.paint_raster["raster-fade-duration"])})};class c7 extends cs{constructor(n){super(n,{}),this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}var d7={paint:new ut({"sky-type":new U(Ut.paint_sky["sky-type"]),"sky-atmosphere-sun":new U(Ut.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new U(Ut.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new U(Ut.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new U(Ut.paint_sky["sky-gradient-radius"]),"sky-gradient":new lt(Ut.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new U(Ut.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new U(Ut.paint_sky["sky-atmosphere-color"]),"sky-opacity":new U(Ut.paint_sky["sky-opacity"])})};function Jv(o,n,a){const c=[0,0,1],u=A3([]);return S3(u,u,a?-xe(o)+Math.PI:xe(o)),T3(u,u,-xe(n)),_3(c,c,u),ma(c,c)}const u7={circle:class extends cs{constructor(o){super(o,wN)}createBucket(o){return new Tv(o)}queryRadius(o){const n=o;return ru("circle-radius",this,n)+ru("circle-stroke-width",this,n)+F0(this.paint.get("circle-translate"))}queryIntersectsFeature(o,n,a,c,u,h,x,y){const A=Z3(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,o.pixelToTileUnitsFactor),T=this.paint.get("circle-radius").evaluate(n,a)+this.paint.get("circle-stroke-width").evaluate(n,a);return X3(o,c,h,x,y,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",A,T)}getProgramIds(){return["circle"]}getProgramConfiguration(o){return new ul(this,o)}},heatmap:class extends cs{createBucket(o){return new Y3(o)}constructor(o){super(o,SN),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Dv({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(o){return ru("heatmap-radius",this,o)}queryIntersectsFeature(o,n,a,c,u,h,x,y){const A=this.paint.get("heatmap-radius").evaluate(n,a);return X3(o,c,h,x,y,!0,!0,new Dt(0,0),A)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(o){return new ul(this,o)}},hillshade:class extends cs{constructor(o){super(o,EN)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends cs{constructor(o){super(o,$N)}getProgramIds(){const o=this.paint.get("fill-pattern"),n=o&&o.constantOr(1),a=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&a.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),a}getProgramConfiguration(o){return new ul(this,o)}recalculate(o,n){super.recalculate(o,n);const a=this.paint._values["fill-outline-color"];a.value.kind==="constant"&&a.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new O0(o)}queryRadius(){return F0(this.paint.get("fill-translate"))}queryIntersectsFeature(o,n,a,c,u,h){return!o.queryGeometry.isAboveHorizon&&$3(H3(o.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,o.pixelToTileUnitsFactor),c)}isTileClipped(){return!0}},"fill-extrusion":class extends cs{constructor(o){super(o,rI)}createBucket(o){return new Wm(o)}queryRadius(){return F0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(o){return new ul(this,o)}queryIntersectsFeature(o,n,a,c,u,h,x,y,A){const T=Z3(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,o.pixelToTileUnitsFactor),D=this.paint.get("fill-extrusion-height").evaluate(n,a),k=this.paint.get("fill-extrusion-base").evaluate(n,a),I=[0,0],z=y&&h.elevation,j=h.elevation?h.elevation.exaggeration():1,G=o.tile.getBucket(this);if(z&&G instanceof Wm){const mt=G.centroidVertexArray,xt=A+1;xt<mt.length&&(I[0]=mt.geta_centroid_pos0(xt),I[1]=mt.geta_centroid_pos1(xt))}if(I[0]===0&&I[1]===1)return!1;h.projection.name==="globe"&&(c=fC([c],[new Dt(0,0),new Dt(De,De)],o.tileID.canonical).map(mt=>mt.polygon).flat());const J=z?y:null,[st,ht]=function(mt,xt,gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt){return mt.projection.name==="globe"?function(ae,Vt,ue,be,pe,Le,re,Ee,ze,un,je){const Ne=[],In=[],$e=ae.projection.upVectorScale(je,ae.center.lat,ae.worldSize).metersToTile,Ge=[0,0,0,1],En=[0,0,0,1],kn=(Pn,Gn,Xn,uo)=>{Pn[0]=Gn,Pn[1]=Xn,Pn[2]=uo,Pn[3]=1},Bn=hC();ue>0&&(ue+=Bn),be+=Bn;for(const Pn of Vt){const Gn=[],Xn=[];for(const uo of Pn){const Dn=uo.x+pe.x,wo=uo.y+pe.y,po=ae.projection.projectTilePoint(Dn,wo,je),qn=ae.projection.upVector(je,uo.x,uo.y);let hn=ue,mo=be;if(re){const Nn=yC(Dn,wo,ue,be,re,Ee,ze,un);hn+=Nn.base,mo+=Nn.top}ue!==0?kn(Ge,po.x+qn[0]*$e*hn,po.y+qn[1]*$e*hn,po.z+qn[2]*$e*hn):kn(Ge,po.x,po.y,po.z),kn(En,po.x+qn[0]*$e*mo,po.y+qn[1]*$e*mo,po.z+qn[2]*$e*mo),no(Ge,Ge,Le),no(En,En,Le),Gn.push(new lu(Ge[0],Ge[1],Ge[2])),Xn.push(new lu(En[0],En[1],En[2]))}Ne.push(Gn),In.push(Xn)}return[Ne,In]}(mt,xt,gt,It,kt,$t,Jt,Lt,Wt,Ht,Kt):Jt?function(ae,Vt,ue,be,pe,Le,re,Ee,ze){const un=[],je=[],Ne=[0,0,0,1];for(const In of ae){const $e=[],Ge=[];for(const En of In){const kn=En.x+be.x,Bn=En.y+be.y,Pn=yC(kn,Bn,Vt,ue,Le,re,Ee,ze);Ne[0]=kn,Ne[1]=Bn,Ne[2]=Pn.base,Ne[3]=1,zc(Ne,Ne,pe),Ne[3]=Math.max(Ne[3],1e-5);const Gn=new lu(Ne[0]/Ne[3],Ne[1]/Ne[3],Ne[2]/Ne[3]);Ne[0]=kn,Ne[1]=Bn,Ne[2]=Pn.top,Ne[3]=1,zc(Ne,Ne,pe),Ne[3]=Math.max(Ne[3],1e-5);const Xn=new lu(Ne[0]/Ne[3],Ne[1]/Ne[3],Ne[2]/Ne[3]);$e.push(Gn),Ge.push(Xn)}un.push($e),je.push(Ge)}return[un,je]}(xt,gt,It,kt,$t,Jt,Lt,Wt,Ht):function(ae,Vt,ue,be,pe){const Le=[],re=[],Ee=pe[8]*Vt,ze=pe[9]*Vt,un=pe[10]*Vt,je=pe[11]*Vt,Ne=pe[8]*ue,In=pe[9]*ue,$e=pe[10]*ue,Ge=pe[11]*ue;for(const En of ae){const kn=[],Bn=[];for(const Pn of En){const Gn=Pn.x+be.x,Xn=Pn.y+be.y,uo=pe[0]*Gn+pe[4]*Xn+pe[12],Dn=pe[1]*Gn+pe[5]*Xn+pe[13],wo=pe[2]*Gn+pe[6]*Xn+pe[14],po=pe[3]*Gn+pe[7]*Xn+pe[15],qn=uo+Ee,hn=Dn+ze,mo=wo+un,Nn=Math.max(po+je,1e-5),ga=uo+Ne,ho=Dn+In,Vo=wo+$e,Fo=Math.max(po+Ge,1e-5);kn.push(new lu(qn/Nn,hn/Nn,mo/Nn)),Bn.push(new lu(ga/Fo,ho/Fo,Vo/Fo))}Le.push(kn),re.push(Bn)}return[Le,re]}(xt,gt,It,kt,$t)}(h,c,k,D,T,x,J,I,j,h.center.lat,o.tileID.canonical),it=o.queryGeometry;return function(mt,xt,gt){let It=1/0;$3(gt,xt)&&(It=vC(gt,xt[0]));for(let kt=0;kt<xt.length;kt++){const $t=xt[kt],Jt=mt[kt];for(let Lt=0;Lt<$t.length-1;Lt++){const Wt=$t[Lt],Ht=[Wt,$t[Lt+1],Jt[Lt+1],Jt[Lt],Wt];U3(gt,Ht)&&(It=Math.min(It,vC(gt,Ht)))}}return It!==1/0&&It}(st,ht,it.isPointQuery()?it.screenBounds:it.screenGeometry)}},line:class extends cs{constructor(o){super(o,_C),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(o){if(o==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof Qp,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(o,n){super.recalculate(o,n),this.paint._values["line-floorwidth"]=bC.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new q0(o)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(o){return new ul(this,o)}queryRadius(o){const n=o,a=wC(ru("line-width",this,n),ru("line-gap-width",this,n)),c=ru("line-offset",this,n);return a/2+Math.abs(c)+F0(this.paint.get("line-translate"))}queryIntersectsFeature(o,n,a,c,u,h){if(o.queryGeometry.isAboveHorizon)return!1;const x=H3(o.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,o.pixelToTileUnitsFactor),y=o.pixelToTileUnitsFactor/2*wC(this.paint.get("line-width").evaluate(n,a),this.paint.get("line-gap-width").evaluate(n,a)),A=this.paint.get("line-offset").evaluate(n,a);return A&&(c=function(T,D){const k=[],I=new Dt(0,0);for(let z=0;z<T.length;z++){const j=T[z],G=[];for(let J=0;J<j.length;J++){const st=j[J],ht=j[J+1],it=J===0?I:st.sub(j[J-1])._unit()._perp(),mt=J===j.length-1?I:ht.sub(st)._unit()._perp(),xt=it._add(mt)._unit();xt._mult(1/(xt.x*mt.x+xt.y*mt.y)),G.push(xt._mult(D)._add(st))}k.push(G)}return k}(c,A*o.pixelToTileUnitsFactor)),function(T,D,k){for(let I=0;I<D.length;I++){const z=D[I];if(T.length>=3){for(let j=0;j<z.length;j++)if(Uc(T,z[j]))return!0}if(vN(T,z,k))return!0}return!1}(x,c,y)}isTileClipped(){return!0}},symbol:rg,background:class extends cs{constructor(o){super(o,i7)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends cs{constructor(o){super(o,l7)}getProgramIds(){return["raster"]}},sky:class extends cs{constructor(o){super(o,d7),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="sky-gradient"?this._updateColorRamp():o!=="sky-atmosphere-sun"&&o!=="sky-atmosphere-halo-color"&&o!=="sky-atmosphere-color"&&o!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Dv({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(o){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=o.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(o,n){if(this.paint.get("sky-type")==="atmosphere"){const c=this.paint.get("sky-atmosphere-sun"),u=!c,h=o.style.light,x=h.properties.get("position");return u&&h.properties.get("anchor")==="viewport"&&gn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),u?Jv(x.azimuthal,90-x.polar,n):Jv(c[0],90-c[1],n)}const a=this.paint.get("sky-gradient-center");return Jv(a[0],90-a[1],n)}is3D(){return!1}isSky(){return!0}markSkyboxValid(o){this._skyboxInvalidated=!1,this._lightPosition=o.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const o=this.paint.get("sky-type");return o==="atmosphere"?["skyboxCapture","skybox"]:o==="gradient"?["skyboxGradient"]:null}}};class oh{constructor(n,a,c,u){this.context=n,this.format=c,this.texture=n.gl.createTexture(),this.update(a,u)}update(n,a,c){const{width:u,height:h}=n,{context:x}=this,{gl:y}=x,{HTMLImageElement:A,HTMLCanvasElement:T,HTMLVideoElement:D,ImageData:k,ImageBitmap:I}=E;if(y.bindTexture(y.TEXTURE_2D,this.texture),x.pixelStoreUnpackFlipY.set(!1),x.pixelStoreUnpack.set(1),x.pixelStoreUnpackPremultiplyAlpha.set(this.format===y.RGBA&&(!a||a.premultiply!==!1)),c||this.size&&this.size[0]===u&&this.size[1]===h){const{x:z,y:j}=c||{x:0,y:0};n instanceof A||n instanceof T||n instanceof D||n instanceof k||I&&n instanceof I?y.texSubImage2D(y.TEXTURE_2D,0,z,j,y.RGBA,y.UNSIGNED_BYTE,n):y.texSubImage2D(y.TEXTURE_2D,0,z,j,u,h,y.RGBA,y.UNSIGNED_BYTE,n.data)}else this.size=[u,h],n instanceof A||n instanceof T||n instanceof D||n instanceof k||I&&n instanceof I?y.texImage2D(y.TEXTURE_2D,0,this.format,this.format,y.UNSIGNED_BYTE,n):y.texImage2D(y.TEXTURE_2D,0,this.format,u,h,0,this.format,y.UNSIGNED_BYTE,n.data);this.useMipmap=!!(a&&a.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&y.generateMipmap(y.TEXTURE_2D)}bind(n,a){const{context:c}=this,{gl:u}=c;u.bindTexture(u.TEXTURE_2D,this.texture),n!==this.filter&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,n),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.useMipmap?n===u.NEAREST?u.NEAREST_MIPMAP_NEAREST:u.LINEAR_MIPMAP_NEAREST:n),this.filter=n),a!==this.wrap&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,a),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,a),this.wrap=a)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class p7{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class m7{constructor(){this.tasks={},this.taskQueue=[],qo(["process"],this),this.invoker=new p7(this.process),this.nextId=0}add(n,a){const c=this.nextId++,u=function({type:h,isSymbolTile:x,zoom:y}){return y=y||0,h==="message"?0:h!=="maybePrepare"||x?h!=="parseTile"||x?h==="parseTile"&&x?300-y:h==="maybePrepare"&&x?400-y:500:200-y:100-y}(a);if(u===0){Rn();try{n()}finally{}return{cancel:()=>{}}}return this.tasks[c]={fn:n,metadata:a,priority:u,id:c},this.taskQueue.push(c),this.invoker.trigger(),{cancel:()=>{delete this.tasks[c]}}}process(){Rn();try{if(this.taskQueue=this.taskQueue.filter(c=>!!this.tasks[c]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const a=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!a)return;a.fn()}finally{}}pick(){let n=null,a=1/0;for(let u=0;u<this.taskQueue.length;u++){const h=this.tasks[this.taskQueue[u]];h.priority<a&&(a=h.priority,n=u)}if(n===null)return null;const c=this.taskQueue[n];return this.taskQueue.splice(n,1),c}remove(){this.invoker.remove()}}class sA{constructor(n){this._stringToNumber={},this._numberToString=[];for(let a=0;a<n.length;a++){const c=n[a];this._stringToNumber[c]=a,this._numberToString[a]=c}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const h7=["tile","layer","source","sourceLayer","state"];class iA{constructor(n,a,c,u,h){this.type="Feature",this._vectorTileFeature=n,this._z=a,this._x=c,this._y=u,this.properties=n.properties,this.id=h}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(n.id=this.id);for(const a of h7)this[a]!==void 0&&(n[a]=this[a]);return n}}const Ir=32,Gs=33,xl=new Uint16Array(8184);for(let o=0;o<2046;o++){let n=o+2,a=0,c=0,u=0,h=0,x=0,y=0;for(1&n?u=h=x=Ir:a=c=y=Ir;(n>>=1)>1;){const T=a+u>>1,D=c+h>>1;1&n?(u=a,h=c,a=x,c=y):(a=u,c=h,u=x,h=y),x=T,y=D}const A=4*o;xl[A+0]=a,xl[A+1]=c,xl[A+2]=u,xl[A+3]=h}const qs=new Uint16Array(2178),vl=new Uint8Array(1089),sg=new Uint16Array(1089);function lA(o){return o===0?-.03125:o===32?.03125:0}var cA=At([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const dA={type:2,extent:De,loadGeometry:()=>[[new Dt(0,0),new Dt(De+1,0),new Dt(De+1,De+1),new Dt(0,De+1),new Dt(0,0)]]};class ty{constructor(n,a,c,u,h){this.tileID=n,this.uid=cn(),this.uses=0,this.tileSize=a,this.tileZoom=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=h,this.expiredRequestCount=0,this.state="loading",u&&u.transform&&(this.projection=u.transform.projection)}registerFadeDuration(n){const a=n+this.timeAdded;a<Yr.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Gc(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(n,a,c){if(this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(u,h){const x={};if(!h)return x;for(const y of u){const A=y.layerIds.map(T=>h.getLayer(T)).filter(Boolean);if(A.length!==0){y.layers=A,y.stateDependentLayerIds&&(y.stateDependentLayers=y.stateDependentLayerIds.map(T=>A.filter(D=>D.id===T)[0]));for(const T of A)x[T.id]=y}}return x}(n.buckets,a.style),this.hasSymbolBuckets=!1;for(const u in this.buckets){const h=this.buckets[u];if(h instanceof gl){if(this.hasSymbolBuckets=!0,!c)break;h.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const u in this.buckets){const h=this.buckets[u];if(h instanceof gl&&h.hasRTLText){this.hasRTLText=!0,P.isLoading()||P.isLoaded()||b()!=="deferred"||S();break}}this.queryPadding=0;for(const u in this.buckets){const h=this.buckets[u];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(u).queryRadius(h))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage),n.lineAtlas&&(this.lineAtlas=n.lineAtlas)}else this.collisionBoxArray=new Tn}unloadVectorData(){if(this.hasData()){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(n){return this.buckets[n.id]}upload(n){for(const c in this.buckets){const u=this.buckets[c];u.uploadPending()&&u.upload(n)}const a=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new oh(n,this.imageAtlas.image,a.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new oh(n,this.glyphAtlasImage,a.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new oh(n,this.lineAtlas.image,a.ALPHA),this.lineAtlas.uploaded=!0)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,a,c,u,h,x,y,A){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:u,pixelPosMatrix:y,transform:x,params:h,tileTransform:this.tileTransform},n,a,c):{}}querySourceFeatures(n,a){const c=this.latestFeatureIndex;if(!c||!c.rawTileData)return;const u=c.loadVTLayers(),h=a?a.sourceLayer:"",x=u._geojsonTileLayer||u[h];if(!x)return;const y=Hd(a&&a.filter),{z:A,x:T,y:D}=this.tileID.canonical,k={z:A,x:T,y:D};for(let I=0;I<x.length;I++){const z=x.feature(I);if(y.needGeometry){const J=Vc(z,!0);if(!y.filter(new M(this.tileID.overscaledZ),J,this.tileID.canonical))continue}else if(!y.filter(new M(this.tileID.overscaledZ),z))continue;const j=c.getId(z,h),G=new iA(z,A,T,D,j);G.tile=k,n.push(G)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const a=this.expirationTime;if(n.cacheControl){const c=_o(n.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const c=Date.now();let u=!1;if(this.expirationTime>c)u=!1;else if(a)if(this.expirationTime<a)u=!0;else{const h=this.expirationTime-a;h?this.expirationTime=c+Math.max(h,3e4):u=!0}else u=!0;u?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,a){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0||!a)return;const c=this.latestFeatureIndex.loadVTLayers(),u=a.style.listImages();for(const h in this.buckets){if(!a.style.hasLayer(h))continue;const x=this.buckets[h],y=x.layers[0].sourceLayer||"_geojsonTileLayer",A=c[y],T=n[y];if(!A||!T||Object.keys(T).length===0)continue;if(x.update(T,A,u,this.imageAtlas&&this.imageAtlas.patternPositions||{}),x instanceof q0||x instanceof O0){const k=a.style._getSourceCache(x.layers[0].source);a._terrain&&a._terrain.enabled&&k&&x.programConfigurations.needsUpload&&a._terrain._clearRenderCacheForTile(k.id,this.tileID)}const D=a&&a.style&&a.style.getLayer(h);D&&(this.queryPadding=Math.max(this.queryPadding,D.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Yr.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=Yr.now()+n}setTexture(n,a){const c=a.context,u=c.gl;this.texture=this.texture||a.getTileTexture(n.width),this.texture?this.texture.update(n,{useMipmap:!0}):(this.texture=new oh(c,n,u.RGBA,{useMipmap:!0}),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE))}setDependencies(n,a){const c={};for(const u of a)c[u]=!0;this.dependencies[n]=c}hasDependency(n,a){for(const c of n){const u=this.dependencies[c];if(u){for(const h of a)if(u[h])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(n,a){if(!a||a.name==="mercator"||this._tileDebugBuffer)return;const c=Si(dA,this.tileID.canonical,this.tileTransform)[0],u=new Qt,h=new Ga;for(let x=0;x<c.length;x++){const{x:y,y:A}=c[x];u.emplaceBack(y,A),h.emplaceBack(x)}h.emplaceBack(0),this._tileDebugIndexBuffer=n.createIndexBuffer(h),this._tileDebugBuffer=n.createVertexBuffer(u,Fm.members),this._tileDebugSegments=lo.simpleSegment(0,0,u.length,h.length)}_makeTileBoundsBuffers(n,a){if(this._tileBoundsBuffer||!a||a.name==="mercator")return;const c=Si(dA,this.tileID.canonical,this.tileTransform)[0];let u,h;if(this.isRaster){const x=function(y,A){const T=Gc(y,A),D=Math.pow(2,y.z);for(let J=0;J<Gs;J++)for(let st=0;st<Gs;st++){const ht=lr((y.x+(st+lA(st))/Ir)/D),it=Yo((y.y+(J+lA(J))/Ir)/D),mt=A.project(ht,it),xt=J*Gs+st;qs[2*xt+0]=Math.round((mt.x*T.scale-T.x)*De),qs[2*xt+1]=Math.round((mt.y*T.scale-T.y)*De)}vl.fill(0),sg.fill(0);for(let J=2045;J>=0;J--){const st=4*J,ht=xl[st+0],it=xl[st+1],mt=xl[st+2],xt=xl[st+3],gt=ht+mt>>1,It=it+xt>>1,kt=gt+It-it,$t=It+ht-gt,Jt=it*Gs+ht,Lt=xt*Gs+mt,Wt=It*Gs+gt,Ht=Math.hypot((qs[2*Jt+0]+qs[2*Lt+0])/2-qs[2*Wt+0],(qs[2*Jt+1]+qs[2*Lt+1])/2-qs[2*Wt+1])>=16;vl[Wt]=vl[Wt]||(Ht?1:0),J<1022&&(vl[Wt]=vl[Wt]||vl[(it+$t>>1)*Gs+(ht+kt>>1)]||vl[(xt+$t>>1)*Gs+(mt+kt>>1)])}const k=new qt,I=new Ae;let z=0;function j(J,st){const ht=st*Gs+J;return sg[ht]===0&&(k.emplaceBack(qs[2*ht+0],qs[2*ht+1],J*De/Ir,st*De/Ir),sg[ht]=++z),sg[ht]-1}function G(J,st,ht,it,mt,xt){const gt=J+ht>>1,It=st+it>>1;if(Math.abs(J-mt)+Math.abs(st-xt)>1&&vl[It*Gs+gt])G(mt,xt,J,st,gt,It),G(ht,it,mt,xt,gt,It);else{const kt=j(J,st),$t=j(ht,it),Jt=j(mt,xt);I.emplaceBack(kt,$t,Jt)}}return G(0,0,Ir,Ir,Ir,0),G(Ir,Ir,0,0,0,Ir),{vertices:k,indices:I}}(this.tileID.canonical,a);u=x.vertices,h=x.indices}else{u=new qt,h=new Ae;for(const{x:y,y:A}of c)u.emplaceBack(y,A,0,0);const x=Iv(u.int16,void 0,4);for(let y=0;y<x.length;y+=3)h.emplaceBack(x[y],x[y+1],x[y+2])}this._tileBoundsBuffer=n.createVertexBuffer(u,cA.members),this._tileBoundsIndexBuffer=n.createIndexBuffer(h),this._tileBoundsSegments=lo.simpleSegment(0,0,u.length,h.length)}_makeGlobeTileDebugBuffers(n,a){const c=a.projection;if(!c||c.name!=="globe"||a.freezeTileCoverage)return;const u=this.tileID.canonical,h=zm(k3(u,a)),x=ou(a.zoom);let y;x>0&&(y=lv(new Float64Array(16),a.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(n,u,a,h,y,x),this._makeGlobeTileDebugTextBuffer(n,u,a,h,y,x)}_globePoint(n,a,c,u,h,x,y){let A=Lm(n,a,c);if(x){const T=1<<c.z,D=Us(u.center.lng),k=$s(u.center.lat),I=(c.x+.5)/T-D;let z=0;I>.5?z=-1:I<-.5&&(z=1);let j=(n/De+c.x)/T+z,G=(a/De+c.y)/T;j=(j-D)*u._pixelsPerMercatorPixel+D,G=(G-k)*u._pixelsPerMercatorPixel+k;const J=[j*u.worldSize,G*u.worldSize,0];no(J,J,x),A=Oc(A,J,y)}return no(A,A,h)}_makeGlobeTileDebugBorderBuffer(n,a,c,u,h,x){const y=new Qt,A=new Ga,T=new Mt,D=(I,z,j,G,J)=>{const st=(j-I)/(J-1),ht=(G-z)/(J-1),it=y.length;for(let mt=0;mt<J;mt++){const xt=I+mt*st,gt=z+mt*ht;y.emplaceBack(xt,gt);const It=this._globePoint(xt,gt,a,c,u,h,x);T.emplaceBack(It[0],It[1],It[2]),A.emplaceBack(it+mt)}},k=De;D(0,0,k,0,16),D(k,0,k,k,16),D(k,k,0,k,16),D(0,k,0,0,16),this._tileDebugIndexBuffer=n.createIndexBuffer(A),this._tileDebugBuffer=n.createVertexBuffer(y,Fm.members),this._globeTileDebugBorderBuffer=n.createVertexBuffer(T,P3.members),this._tileDebugSegments=lo.simpleSegment(0,0,y.length,A.length)}_makeGlobeTileDebugTextBuffer(n,a,c,u,h,x){const y=De/4,A=new Qt,T=new Ae,D=new Mt,k=25;T.reserve(32),A.reserve(k),D.reserve(k);const I=(z,j)=>k*z+j;for(let z=0;z<k;z++){const j=z*y;for(let G=0;G<k;G++){const J=G*y;A.emplaceBack(J,j);const st=this._globePoint(J,j,a,c,u,h,x);D.emplaceBack(st[0],st[1],st[2])}}for(let z=0;z<4;z++)for(let j=0;j<4;j++){const G=I(z,j),J=I(z,j+1),st=I(z+1,j),ht=I(z+1,j+1);T.emplaceBack(G,J,st),T.emplaceBack(st,J,ht)}this._tileDebugTextIndexBuffer=n.createIndexBuffer(T),this._tileDebugTextBuffer=n.createVertexBuffer(A,Fm.members),this._globeTileDebugTextBuffer=n.createVertexBuffer(D,P3.members),this._tileDebugTextSegments=lo.simpleSegment(0,0,k,32)}}class f7{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,a,c){const u=String(a);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][u]=this.stateChanges[n][u]||{},He(this.stateChanges[n][u],c),this.deletedStates[n]===null){this.deletedStates[n]={};for(const h in this.state[n])h!==u&&(this.deletedStates[n][h]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][u]===null){this.deletedStates[n][u]={};for(const h in this.state[n][u])c[h]||(this.deletedStates[n][u][h]=null)}else for(const h in c)this.deletedStates[n]&&this.deletedStates[n][u]&&this.deletedStates[n][u][h]===null&&delete this.deletedStates[n][u][h]}removeFeatureState(n,a,c){if(this.deletedStates[n]===null)return;const u=String(a);if(this.deletedStates[n]=this.deletedStates[n]||{},c&&a!==void 0)this.deletedStates[n][u]!==null&&(this.deletedStates[n][u]=this.deletedStates[n][u]||{},this.deletedStates[n][u][c]=null);else if(a!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][u])for(c in this.deletedStates[n][u]={},this.stateChanges[n][u])this.deletedStates[n][u][c]=null;else this.deletedStates[n][u]=null;else this.deletedStates[n]=null}getState(n,a){const c=String(a),u=He({},(this.state[n]||{})[c],(this.stateChanges[n]||{})[c]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const h=this.deletedStates[n][a];if(h===null)return{};for(const x in h)delete u[x]}return u}initializeTileState(n,a){n.setFeatureState(this.state,a)}coalesceChanges(n,a){const c={};for(const u in this.stateChanges){this.state[u]=this.state[u]||{};const h={};for(const x in this.stateChanges[u])this.state[u][x]||(this.state[u][x]={}),He(this.state[u][x],this.stateChanges[u][x]),h[x]=this.state[u][x];c[u]=h}for(const u in this.deletedStates){this.state[u]=this.state[u]||{};const h={};if(this.deletedStates[u]===null)for(const x in this.state[u])h[x]={},this.state[u][x]={};else for(const x in this.deletedStates[u]){if(this.deletedStates[u][x]===null)this.state[u][x]={};else if(this.state[u][x])for(const y of Object.keys(this.deletedStates[u][x]))delete this.state[u][x][y];h[x]=this.state[u][x]}c[u]=c[u]||{},He(c[u],h)}if(this.stateChanges={},this.deletedStates={},Object.keys(c).length!==0)for(const u in n)n[u].setFeatureState(c,a)}}class uA{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,a){const c=this.toIdx(n,a);return{min:this.minimums[c],max:this.maximums[c]}}isLeaf(n,a){return this.leaves[this.toIdx(n,a)]}toIdx(n,a){return a*this.size+n}}function pA(o,n,a,c){let u=0,h=Number.MAX_VALUE;for(let x=0;x<3;x++)if(Math.abs(c[x])<1e-15){if(a[x]<o[x]||a[x]>n[x])return null}else{const y=1/c[x];let A=(o[x]-a[x])*y,T=(n[x]-a[x])*y;if(A>T){const D=A;A=T,T=D}if(A>u&&(u=A),T<h&&(h=T),u>h)return null}return u}function mA(o,n,a,c,u,h,x,y,A,T,D){const k=c-o,I=u-n,z=h-a,j=x-o,G=y-n,J=A-a,st=D[1]*J-D[2]*G,ht=D[2]*j-D[0]*J,it=D[0]*G-D[1]*j,mt=k*st+I*ht+z*it;if(Math.abs(mt)<1e-15)return null;const xt=1/mt,gt=T[0]-o,It=T[1]-n,kt=T[2]-a,$t=(gt*st+It*ht+kt*it)*xt;if($t<0||$t>1)return null;const Jt=It*z-kt*I,Lt=kt*k-gt*z,Wt=gt*I-It*k,Ht=(D[0]*Jt+D[1]*Lt+D[2]*Wt)*xt;return Ht<0||$t+Ht>1?null:(j*Jt+G*Lt+J*Wt)*xt}function hA(o,n,a){return(o-n)/(a-n)}function fA(o,n,a,c,u,h,x,y,A){const T=1<<a,D=h-c,k=x-u,I=(o+1)/T*D+c,z=(n+0)/T*k+u,j=(n+1)/T*k+u;y[0]=(o+0)/T*D+c,y[1]=z,A[0]=I,A[1]=j}class gA{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const a=function(h){const x=Math.ceil(Math.log2(h.dim/8)),y=[];let A=Math.ceil(Math.pow(2,x));const T=1/A,D=(z,j,G,J,st)=>{const ht=J?1:0,it=(z+1)*G-ht,mt=j*G,xt=(j+1)*G-ht;st[0]=z*G,st[1]=mt,st[2]=it,st[3]=xt};let k=new uA(A);const I=[];for(let z=0;z<A*A;z++){D(z%A,Math.floor(z/A),T,!1,I);const j=yl(I[0],I[1],h),G=yl(I[2],I[1],h),J=yl(I[2],I[3],h),st=yl(I[0],I[3],h);k.minimums.push(Math.min(j,G,J,st)),k.maximums.push(Math.max(j,G,J,st)),k.leaves.push(1)}for(y.push(k),A/=2;A>=1;A/=2){const z=y[y.length-1];k=new uA(A);for(let j=0;j<A*A;j++){D(j%A,Math.floor(j/A),2,!0,I);const G=z.getElevation(I[0],I[1]),J=z.getElevation(I[2],I[1]),st=z.getElevation(I[2],I[3]),ht=z.getElevation(I[0],I[3]),it=z.isLeaf(I[0],I[1]),mt=z.isLeaf(I[2],I[1]),xt=z.isLeaf(I[2],I[3]),gt=z.isLeaf(I[0],I[3]),It=Math.min(G.min,J.min,st.min,ht.min),kt=Math.max(G.max,J.max,st.max,ht.max),$t=it&&mt&&xt&&gt;k.maximums.push(kt),k.minimums.push(It),k.leaves.push(kt-It<=5&&$t?1:0)}y.push(k)}return y}(this.dem),c=a.length-1,u=a[c];this._addNode(u.minimums[0],u.maximums[0],u.leaves[0]),this._construct(a,0,0,c,0)}raycastRoot(n,a,c,u,h,x,y=1){return pA([n,a,-100],[c,u,this.maximums[0]*y],h,x)}raycast(n,a,c,u,h,x,y=1){if(!this.nodeCount)return null;const A=this.raycastRoot(n,a,c,u,h,x,y);if(A==null)return null;const T=[],D=[],k=[],I=[],z=[{idx:0,t:A,nodex:0,nodey:0,depth:0}];for(;z.length>0;){const{idx:j,t:G,nodex:J,nodey:st,depth:ht}=z.pop();if(this.leaves[j]){fA(J,st,ht,n,a,c,u,k,I);const mt=1<<ht,xt=(J+0)/mt,gt=(J+1)/mt,It=(st+0)/mt,kt=(st+1)/mt,$t=yl(xt,It,this.dem)*y,Jt=yl(gt,It,this.dem)*y,Lt=yl(gt,kt,this.dem)*y,Wt=yl(xt,kt,this.dem)*y,Ht=mA(k[0],k[1],$t,I[0],k[1],Jt,I[0],I[1],Lt,h,x),Kt=mA(I[0],I[1],Lt,k[0],I[1],Wt,k[0],k[1],$t,h,x),ae=Math.min(Ht!==null?Ht:Number.MAX_VALUE,Kt!==null?Kt:Number.MAX_VALUE);if(ae!==Number.MAX_VALUE)return ae;{const Vt=Nm([],h,x,G);if(xA($t,Jt,Wt,Lt,hA(Vt[0],k[0],I[0]),hA(Vt[1],k[1],I[1]))>=Vt[2])return G}continue}let it=0;for(let mt=0;mt<this._siblingOffset.length;mt++){fA((J<<1)+this._siblingOffset[mt][0],(st<<1)+this._siblingOffset[mt][1],ht+1,n,a,c,u,k,I),k[2]=-100,I[2]=this.maximums[this.childOffsets[j]+mt]*y;const xt=pA(k,I,h,x);if(xt!=null){const gt=xt;T[mt]=gt;let It=!1;for(let kt=0;kt<it&&!It;kt++)gt>=T[D[kt]]&&(D.splice(kt,0,mt),It=!0);It||(D[it]=mt),it++}}for(let mt=0;mt<it;mt++){const xt=D[mt];z.push({idx:this.childOffsets[j]+xt,t:T[xt],nodex:(J<<1)+this._siblingOffset[xt][0],nodey:(st<<1)+this._siblingOffset[xt][1],depth:ht+1})}}return null}_addNode(n,a,c){return this.minimums.push(n),this.maximums.push(a),this.leaves.push(c),this.childOffsets.push(0),this.nodeCount++}_construct(n,a,c,u,h){if(n[u].isLeaf(a,c)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const x=u-1,y=n[x];let A=0,T=0;for(let D=0;D<this._siblingOffset.length;D++){const k=2*a+this._siblingOffset[D][0],I=2*c+this._siblingOffset[D][1],z=y.getElevation(k,I),j=y.isLeaf(k,I),G=this._addNode(z.min,z.max,j);j&&(A|=1<<D),T||(T=G)}for(let D=0;D<this._siblingOffset.length;D++)A&1<<D||this._construct(n,2*a+this._siblingOffset[D][0],2*c+this._siblingOffset[D][1],x,T+D)}}function xA(o,n,a,c,u,h){return sn(sn(o,a,h),sn(n,c,h),u)}function yl(o,n,a){const c=a.dim,u=Zt(o*c-.5,0,c-1),h=Zt(n*c-.5,0,c-1),x=Math.floor(u),y=Math.floor(h),A=Math.min(x+1,c-1),T=Math.min(y+1,c-1);return xA(a.get(x,y),a.get(A,y),a.get(x,T),a.get(A,T),u-x,h-y)}const vA={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function g7(o,n,a){return(256*o*256+256*n+a)/10-1e4}function x7(o,n,a){return 256*o+n+a/256-32768}class ig{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,a,c,u=!1,h=!1){if(this.uid=n,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(c&&c!=="mapbox"&&c!=="terrarium")return gn(`"${c}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const x=this.dim=a.height-2,y=new Uint32Array(a.data.buffer);if(this.pixels=new Uint8Array(a.data.buffer),this.encoding=c||"mapbox",this.borderReady=u,!u){for(let A=0;A<x;A++)y[this._idx(-1,A)]=y[this._idx(0,A)],y[this._idx(x,A)]=y[this._idx(x-1,A)],y[this._idx(A,-1)]=y[this._idx(A,0)],y[this._idx(A,x)]=y[this._idx(A,x-1)];y[this._idx(-1,-1)]=y[this._idx(0,0)],y[this._idx(x,-1)]=y[this._idx(x-1,0)],y[this._idx(-1,x)]=y[this._idx(0,x-1)],y[this._idx(x,x)]=y[this._idx(x-1,x-1)],h&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new gA(this)}get(n,a,c=!1){c&&(n=Zt(n,-1,this.dim),a=Zt(a,-1,this.dim));const u=4*this._idx(n,a);return(this.encoding==="terrarium"?x7:g7)(this.pixels[u],this.pixels[u+1],this.pixels[u+2])}static getUnpackVector(n){return vA[n]}get unpackVector(){return vA[this.encoding]}_idx(n,a){if(n<-1||n>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(n+1)}static pack(n,a){const c=[0,0,0,0],u=ig.getUnpackVector(a);let h=Math.floor((n+u[3])/u[2]);return c[2]=h%256,h=Math.floor(h/256),c[1]=h%256,h=Math.floor(h/256),c[0]=h,c}getPixels(){return new Wa({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,a,c){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let u=a*this.dim,h=a*this.dim+this.dim,x=c*this.dim,y=c*this.dim+this.dim;switch(a){case-1:u=h-1;break;case 1:h=u+1}switch(c){case-1:x=y-1;break;case 1:y=x+1}const A=-a*this.dim,T=-c*this.dim;for(let D=x;D<y;D++)for(let k=u;k<h;k++){const I=4*this._idx(k,D),z=4*this._idx(k+A,D+T);this.pixels[I+0]=n.pixels[z+0],this.pixels[I+1]=n.pixels[z+1],this.pixels[I+2]=n.pixels[z+2],this.pixels[I+3]=n.pixels[z+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}ve(ig,"DEMData"),ve(gA,"DemMinMaxQuadTree",{omit:["dem"]});class v7{constructor(n,a){this.max=n,this.onRemove=a,this.reset()}reset(){for(const n in this.data)for(const a of this.data[n])a.timeout&&clearTimeout(a.timeout),this.onRemove(a.value);return this.data={},this.order=[],this}add(n,a,c){const u=n.wrapped().key;this.data[u]===void 0&&(this.data[u]=[]);const h={value:a,timeout:void 0};if(c!==void 0&&(h.timeout=setTimeout(()=>{this.remove(n,h)},c)),this.data[u].push(h),this.order.push(u),this.order.length>this.max){const x=this._getAndRemoveByKey(this.order[0]);x&&this.onRemove(x)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const a=this.data[n].shift();return a.timeout&&clearTimeout(a.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),a.value}getByKey(n){const a=this.data[n];return a?a[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,a){if(!this.has(n))return this;const c=n.wrapped().key,u=a===void 0?0:this.data[c].indexOf(a),h=this.data[c][u];return this.data[c].splice(u,1),h.timeout&&clearTimeout(h.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(h.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this}filter(n){const a=[];for(const c in this.data)for(const u of this.data[c])n(u.value)||a.push(u);for(const c of a)this.remove(c.value.tileID,c)}}class vu{constructor(n,a,c){this.func=n,this.mask=a,this.range=c}}vu.ReadOnly=!1,vu.ReadWrite=!0,vu.disabled=new vu(519,vu.ReadOnly,[0,1]);const ey=7680;class ny{constructor(n,a,c,u,h,x){this.test=n,this.ref=a,this.mask=c,this.fail=u,this.depthFail=h,this.pass=x}}ny.disabled=new ny({func:519,mask:0},0,0,ey,ey,ey);class Ws{constructor(n,a,c){this.blendFunction=n,this.blendColor=a,this.mask=c}}Ws.Replace=[1,0],Ws.disabled=new Ws(Ws.Replace,eo.transparent,[!1,!1,!1,!1]),Ws.unblended=new Ws(Ws.Replace,eo.transparent,[!0,!0,!0,!0]),Ws.alphaBlended=new Ws([1,771],eo.transparent,[!0,!0,!0,!0]);const oy=1029,ay=2305;class fs{constructor(n,a,c){this.enable=n,this.mode=a,this.frontFace=c}}fs.disabled=new fs(!1,oy,ay),fs.backCCW=new fs(!0,oy,ay),fs.backCW=new fs(!0,oy,2304),fs.frontCW=new fs(!0,1028,2304),fs.frontCCW=new fs(!0,1028,ay);class qc extends lc{constructor(n,a,c){super(),this.id=n,this._onlySymbols=c,a.on("data",u=>{u.dataType==="source"&&u.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&u.dataType==="source"&&u.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),a.on("error",()=>{this._sourceErrored=!0}),this._source=a,this._tiles={},this._cache=new v7(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=a.minTileCacheSize,this._maxTileCacheSize=a.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new f7,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(n){this.map=n,this._minTileCacheSize=this._minTileCacheSize===void 0&&n?n._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&n?n._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const a=this._tiles[n];if(a.state!=="loaded"&&a.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(n,a){return n.isSymbolTile=this._onlySymbols,this._source.loadTile(n,a)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){if(this._source.abortTile)return this._source.abortTile(n,()=>{})}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const a in this._tiles){const c=this._tiles[a];c.upload(n),c.prepare(this.map.style.imageManager)}}getIds(){return Ze(this._tiles).map(n=>n.tileID).sort(yA).map(n=>n.key)}getRenderableIds(n){const a=[];for(const c in this._tiles)this._isIdRenderable(+c,n)&&a.push(this._tiles[c]);return n?a.sort((c,u)=>{const h=c.tileID,x=u.tileID,y=new Dt(h.canonical.x,h.canonical.y)._rotate(this.transform.angle),A=new Dt(x.canonical.x,x.canonical.y)._rotate(this.transform.angle);return h.overscaledZ-x.overscaledZ||A.y-y.y||A.x-y.x}).map(c=>c.tileID.key):a.map(c=>c.tileID).sort(yA).map(c=>c.key)}hasRenderableParent(n){const a=this.findLoadedParent(n,0);return!!a&&this._isIdRenderable(a.tileID.key)}_isIdRenderable(n,a){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(a||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(+n,"reloading")}}_reloadTile(n,a){const c=this._tiles[n];c&&(c.state!=="loading"&&(c.state=a),this._loadTile(c,this._tileLoaded.bind(this,c,n,a)))}_tileLoaded(n,a,c,u){if(u)if(n.state="errored",u.status!==404)this._source.fire(new Qr(u,{tile:n}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const h=this.map.painter.terrain;this.update(this.transform,h.getScaledDemTileSize(),!0),h.resetTileLookupCache(this.id)}else this.update(this.transform);else n.timeAdded=Yr.now(),c==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(a,n),this._source.type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),this._source.fire(new pi("data",{dataType:"source",tile:n,coord:n.tileID,sourceCacheId:this.id}))}_backfillDEM(n){const a=this.getRenderableIds();for(let u=0;u<a.length;u++){const h=a[u];if(n.neighboringTiles&&n.neighboringTiles[h]){const x=this.getTileByID(h);c(n,x),c(x,n)}}function c(u,h){if(!u.dem||u.dem.borderReady)return;u.needsHillshadePrepare=!0,u.needsDEMTextureUpload=!0;let x=h.tileID.canonical.x-u.tileID.canonical.x;const y=h.tileID.canonical.y-u.tileID.canonical.y,A=Math.pow(2,u.tileID.canonical.z),T=h.tileID.key;x===0&&y===0||Math.abs(y)>1||(Math.abs(x)>1&&(Math.abs(x+A)===1?x+=A:Math.abs(x-A)===1&&(x-=A)),h.dem&&u.dem&&(u.dem.backfillBorder(h.dem,x,y),u.neighboringTiles&&u.neighboringTiles[T]&&(u.neighboringTiles[T].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,a,c,u){for(const h in this._tiles){let x=this._tiles[h];if(u[h]||!x.hasData()||x.tileID.overscaledZ<=a||x.tileID.overscaledZ>c)continue;let y=x.tileID;for(;x&&x.tileID.overscaledZ>a+1;){const T=x.tileID.scaledTo(x.tileID.overscaledZ-1);x=this._tiles[T.key],x&&x.hasData()&&(y=T)}let A=y;for(;A.overscaledZ>a;)if(A=A.scaledTo(A.overscaledZ-1),n[A.key]){u[y.key]=y;break}}}findLoadedParent(n,a){if(n.key in this._loadedParentTiles){const c=this._loadedParentTiles[n.key];return c&&c.tileID.overscaledZ>=a?c:null}for(let c=n.overscaledZ-1;c>=a;c--){const u=n.scaledTo(c),h=this._getLoadedTile(u);if(h)return h}}_getLoadedTile(n){const a=this._tiles[n.key];return a&&a.hasData()?a:this._cache.getByKey(this._source.reparseOverscaled?n.wrapped().key:n.canonical.key)}updateCacheSize(n,a){a=a||this._source.tileSize;const c=Math.ceil(n.width/a)+1,u=Math.ceil(n.height/a)+1,h=Math.floor(c*u*5),x=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,h):h,y=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(y)}handleWrapJump(n){const a=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,a){const c={};for(const u in this._tiles){const h=this._tiles[u];h.tileID=h.tileID.unwrapTo(h.tileID.wrap+a),c[h.tileID.key]=h}this._tiles=c;for(const u in this._timers)clearTimeout(this._timers[u]),delete this._timers[u];for(const u in this._tiles)this._setTileReloadTimer(+u,this._tiles[u])}}update(n,a,c){if(this.transform=n,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!c)return;let u;this.updateCacheSize(n,a),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?u=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(y=>new fa(y.canonical.z,y.wrap,y.canonical.z,y.canonical.x,y.canonical.y)):(u=n.coveringTiles({tileSize:a||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!c,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(u=u.filter(y=>this._source.hasTile(y)))):u=[];const h=this._updateRetainedTiles(u);if(_A(this._source.type)&&u.length!==0){const y={},A={},T=Object.keys(h);for(const k of T){const I=h[k],z=this._tiles[k];if(!z||z.fadeEndTime&&z.fadeEndTime<=Yr.now())continue;const j=this.findLoadedParent(I,Math.max(I.overscaledZ-qc.maxOverzooming,this._source.minzoom));j&&(this._addTile(j.tileID),y[j.tileID.key]=j.tileID),A[k]=I}const D=u[u.length-1].overscaledZ;for(const k in this._tiles){const I=this._tiles[k];if(h[k]||!I.hasData())continue;let z=I.tileID;for(;z.overscaledZ>D;){z=z.scaledTo(z.overscaledZ-1);const j=this._tiles[z.key];if(j&&j.hasData()&&A[z.key]){h[k]=I.tileID;break}}}for(const k in y)h[k]||(this._coveredTiles[k]=!0,h[k]=y[k])}for(const y in h)this._tiles[y].clearFadeHold();const x=function(y,A){const T=[];for(const D in y)D in A||T.push(D);return T}(this._tiles,h);for(const y of x){const A=this._tiles[y];A.hasSymbolBuckets&&!A.holdingForFade()?A.setHoldDuration(this.map._fadeDuration):A.hasSymbolBuckets&&!A.symbolFadeFinished()||this._removeTile(+y)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(+n)}_updateRetainedTiles(n){const a={};if(n.length===0)return a;const c={},u=n.reduce((T,D)=>Math.min(T,D.overscaledZ),1/0),h=n[0].overscaledZ,x=Math.max(h-qc.maxOverzooming,this._source.minzoom),y=Math.max(h+qc.maxUnderzooming,this._source.minzoom),A={};for(const T of n){const D=this._addTile(T);a[T.key]=T,D.hasData()||u<this._source.maxzoom&&(A[T.key]=T)}this._retainLoadedChildren(A,u,y,a);for(const T of n){let D=this._tiles[T.key];if(D.hasData())continue;if(T.canonical.z>=this._source.maxzoom){const I=T.children(this._source.maxzoom)[0],z=this.getTile(I);if(z&&z.hasData()){a[I.key]=I;continue}}else{const I=T.children(this._source.maxzoom);if(a[I[0].key]&&a[I[1].key]&&a[I[2].key]&&a[I[3].key])continue}let k=D.wasRequested();for(let I=T.overscaledZ-1;I>=x;--I){const z=T.scaledTo(I);if(c[z.key]||(c[z.key]=!0,D=this.getTile(z),!D&&k&&(D=this._addTile(z)),D&&(a[z.key]=z,k=D.wasRequested(),D.hasData())))break}}return a}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const a=[];let c,u=this._tiles[n].tileID;for(;u.overscaledZ>0;){if(u.key in this._loadedParentTiles){c=this._loadedParentTiles[u.key];break}a.push(u.key);const h=u.scaledTo(u.overscaledZ-1);if(c=this._getLoadedTile(h),c)break;u=h}for(const h of a)this._loadedParentTiles[h]=c}}_addTile(n){let a=this._tiles[n.key];if(a)return a;a=this._cache.getAndRemove(n),a&&(this._setTileReloadTimer(n.key,a),a.tileID=n,this._state.initializeTileState(a,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,a)));const c=!!a;if(!c){const u=this.map?this.map.painter:null;a=new ty(n,this._source.tileSize*n.overscaleFactor(),this.transform.tileZoom,u,this._isRaster),this._loadTile(a,this._tileLoaded.bind(this,a,n.key,a.state))}return a?(a.uses++,this._tiles[n.key]=a,c||this._source.fire(new pi("dataloading",{tile:a,coord:a.tileID,dataType:"source"})),a):null}_setTileReloadTimer(n,a){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const c=a.getExpiryTimeout();c&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},c))}_removeTile(n){const a=this._tiles[n];a&&(a.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),a.uses>0||(a.hasData()&&a.state!=="reloading"?this._cache.add(a.tileID,a,a.getExpiryTimeout()):(a.aborted=!0,this._abortTile(a),this._unloadTile(a))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(+n);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(n,a,c){const u=[],h=this.transform;if(!h)return u;const x=h.projection.name==="globe",y=Us(h.center.lng);for(const A in this._tiles){const T=this._tiles[A];if(c&&T.clearQueryDebugViz(),T.holdingForFade())continue;let D;if(x){const k=T.tileID.canonical;if(k.z===0){const I=[Math.abs(Zt(y,...ah(k,-1))-y),Math.abs(Zt(y,...ah(k,1))-y)];D=[0,2*I.indexOf(Math.min(...I))-1]}else{const I=[Math.abs(Zt(y,...ah(k,-1))-y),Math.abs(Zt(y,...ah(k,0))-y),Math.abs(Zt(y,...ah(k,1))-y)];D=[I.indexOf(Math.min(...I))-1]}}else D=[0];for(const k of D){const I=n.containsTile(T,h,a,k);I&&u.push(I)}}return u}getVisibleCoordinates(n){const a=this.getRenderableIds(n).map(c=>this._tiles[c].tileID);for(const c of a)c.projMatrix=this.transform.calculateProjMatrix(c.toUnwrapped());return a}hasTransition(){if(this._source.hasTransition())return!0;if(_A(this._source.type))for(const n in this._tiles){const a=this._tiles[n];if(a.fadeEndTime!==void 0&&a.fadeEndTime>=Yr.now())return!0}return!1}setFeatureState(n,a,c){this._state.updateState(n=n||"_geojsonTileLayer",a,c)}removeFeatureState(n,a,c){this._state.removeFeatureState(n=n||"_geojsonTileLayer",a,c)}getFeatureState(n,a){return this._state.getState(n=n||"_geojsonTileLayer",a)}setDependencies(n,a,c){const u=this._tiles[n];u&&u.setDependencies(a,c)}reloadTilesForDependencies(n,a){for(const c in this._tiles)this._tiles[c].hasDependency(n,a)&&this._reloadTile(+c,"reloading");this._cache.filter(c=>!c.hasDependency(n,a))}_preloadTiles(n,a){if(!this._sourceLoaded){const y=()=>{this._sourceLoaded&&(this._source.off("data",y),this._preloadTiles(n,a))};return void this._source.on("data",y)}const c=new Map,u=Array.isArray(n)?n:[n],h=this.map.painter.terrain,x=this.usedForTerrain&&h?h.getScaledDemTileSize():this._source.tileSize;for(const y of u){const A=y.coveringTiles({tileSize:x,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const T of A)c.set(T.key,T);this.usedForTerrain&&y.updateElevation(!1)}Ce(Array.from(c.values()),(y,A)=>{const T=new ty(y,this._source.tileSize*y.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(T,D=>{this._source.type==="raster-dem"&&T.dem&&this._backfillDEM(T),A(D,T)})},a)}}function yA(o,n){const a=Math.abs(2*o.wrap)-+(o.wrap<0),c=Math.abs(2*n.wrap)-+(n.wrap<0);return o.overscaledZ-n.overscaledZ||c-a||n.canonical.y-o.canonical.y||n.canonical.x-o.canonical.x}function _A(o){return o==="raster"||o==="image"||o==="video"||o==="custom"}function ah(o,n){const a=1<<o.z;return[o.x/a+n,(o.x+1)/a+n]}qc.maxOverzooming=10,qc.maxUnderzooming=3;class lg{constructor(n,a,c){this._demTile=n,this._dem=this._demTile.dem,this._scale=a,this._offset=c}static create(n,a,c){const u=c||n.findDEMTileFor(a);if(!u||!u.dem)return;const h=u.dem,x=u.tileID,y=1<<a.canonical.z-x.canonical.z;return new lg(u,u.tileSize/De/y,[(a.canonical.x/y-x.canonical.x)*h.dim,(a.canonical.y/y-x.canonical.y)*h.dim])}tileCoordToPixel(n,a){const c=a*this._scale+this._offset[1],u=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(c);return new Dt(u,h)}getElevationAt(n,a,c,u){const h=n*this._scale+this._offset[0],x=a*this._scale+this._offset[1],y=Math.floor(h),A=Math.floor(x),T=this._dem;return u=!!u,c?sn(sn(T.get(y,A,u),T.get(y,A+1,u),x-A),sn(T.get(y+1,A,u),T.get(y+1,A+1,u),x-A),h-y):T.get(y,A,u)}getElevationAtPixel(n,a,c){return this._dem.get(n,a,!!c)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*ps(1,n)*this._dem.stride}}class bA{constructor(n,a){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new yi(De,16,0),this.featureIndexArray=new Nc,this.promoteId=a}insert(n,a,c,u,h,x=0){const y=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,u,h,x);const A=this.grid;for(let T=0;T<a.length;T++){const D=a[T],k=[1/0,1/0,-1/0,-1/0];for(let I=0;I<D.length;I++){const z=D[I];k[0]=Math.min(k[0],z.x),k[1]=Math.min(k[1],z.y),k[2]=Math.max(k[2],z.x),k[3]=Math.max(k[3],z.y)}k[0]<De&&k[1]<De&&k[2]>=0&&k[3]>=0&&A.insert(y,k[0],k[1],k[2],k[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new zv(new Z0(this.rawTileData)).layers,this.sourceLayerCoder=new sA(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,a,c,u){this.loadVTLayers();const h=n.params||{},x=Hd(h.filter),y=n.tileResult,A=n.transform,T=y.bufferedTilespaceBounds,D=this.grid.query(T.min.x,T.min.y,T.max.x,T.max.y,(j,G,J,st)=>W3(y.bufferedTilespaceGeometry,j,G,J,st));D.sort(y7);let k=null;A.elevation&&D.length>0&&(k=lg.create(A.elevation,this.tileID));const I={};let z;for(let j=0;j<D.length;j++){const G=D[j];if(G===z)continue;z=G;const J=this.featureIndexArray.get(G);let st=null;this.loadMatchingFeature(I,J,x,h.layers,h.availableImages,a,c,u,(ht,it,mt,xt=0)=>(st||(st=Si(ht,this.tileID.canonical,n.tileTransform)),it.queryIntersectsFeature(y,ht,mt,st,this.z,n.transform,n.pixelPosMatrix,k,xt)))}return I}loadMatchingFeature(n,a,c,u,h,x,y,A,T){const{featureIndex:D,bucketIndex:k,sourceLayerIndex:I,layoutVertexArrayOffset:z}=a,j=this.bucketLayerIDs[k];if(u&&!function(ht,it){for(let mt=0;mt<ht.length;mt++)if(it.indexOf(ht[mt])>=0)return!0;return!1}(u,j))return;const G=this.sourceLayerCoder.decode(I),J=this.vtLayers[G].feature(D);if(c.needGeometry){const ht=Vc(J,!0);if(!c.filter(new M(this.tileID.overscaledZ),ht,this.tileID.canonical))return}else if(!c.filter(new M(this.tileID.overscaledZ),J))return;const st=this.getId(J,G);for(let ht=0;ht<j.length;ht++){const it=j[ht];if(u&&u.indexOf(it)<0)continue;const mt=x[it];if(!mt)continue;let xt={};st!==void 0&&A&&(xt=A.getState(mt.sourceLayer||"_geojsonTileLayer",st));const gt=He({},y[it]);gt.paint=wA(gt.paint,mt.paint,J,xt,h),gt.layout=wA(gt.layout,mt.layout,J,xt,h);const It=!T||T(J,mt,xt,z);if(!It)continue;const kt=new iA(J,this.z,this.x,this.y,st);kt.layer=gt;let $t=n[it];$t===void 0&&($t=n[it]=[]),$t.push({featureIndex:D,feature:kt,intersectionZ:It})}}lookupSymbolFeatures(n,a,c,u,h,x,y,A){const T={};this.loadVTLayers();const D=Hd(h);for(const k of n)this.loadMatchingFeature(T,{bucketIndex:c,sourceLayerIndex:u,featureIndex:k,layoutVertexArrayOffset:0},D,x,y,A,a);return T}loadFeature(n){const{featureIndex:a,sourceLayerIndex:c}=n;this.loadVTLayers();const u=this.sourceLayerCoder.decode(c),h=this.vtFeatures[u];if(h[a])return h[a];const x=this.vtLayers[u].feature(a);return h[a]=x,x}hasLayer(n){for(const a of this.bucketLayerIDs)for(const c of a)if(n===c)return!0;return!1}getId(n,a){let c=n.id;if(this.promoteId){const u=typeof this.promoteId=="string"?this.promoteId:this.promoteId[a];u!=null&&(c=n.properties[u]),typeof c=="boolean"&&(c=Number(c))}return c}}function wA(o,n,a,c,u){return qe(o,(h,x)=>{const y=n instanceof rt?n.get(x):null;return y&&y.evaluate?y.evaluate(a,c,u):y})}function y7(o,n){return n-o}ve(bA,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class CA{constructor(n,a){this.width=n,this.height=a,this.nextRow=0,this.image=new Ei({width:n,height:a}),this.positions={},this.uploaded=!1}getDash(n,a){const c=this.getKey(n,a);return this.positions[c]}trim(){const n=this.width,a=this.height=Mo(this.nextRow);this.image.resize({width:n,height:a})}getKey(n,a){return n.join(",")+a}getDashRanges(n,a,c){const u=[];let h=n.length%2==1?-n[n.length-1]*c:0,x=n[0]*c,y=!0;u.push({left:h,right:x,isDash:y,zeroLength:n[0]===0});let A=n[0];for(let T=1;T<n.length;T++){y=!y;const D=n[T];h=A*c,A+=D,x=A*c,u.push({left:h,right:x,isDash:y,zeroLength:D===0})}return u}addRoundDash(n,a,c){const u=a/2;for(let h=-c;h<=c;h++){const x=this.width*(this.nextRow+c+h);let y=0,A=n[y];for(let T=0;T<this.width;T++){T/A.right>1&&(A=n[++y]);const D=Math.abs(T-A.left),k=Math.abs(T-A.right),I=Math.min(D,k);let z;const j=h/c*(u+1);if(A.isDash){const G=u-Math.abs(j);z=Math.sqrt(I*I+G*G)}else z=u-Math.sqrt(I*I+j*j);this.image.data[x+T]=Math.max(0,Math.min(255,z+128))}}}addRegularDash(n,a){for(let A=n.length-1;A>=0;--A){const T=n[A],D=n[A+1];T.zeroLength?n.splice(A,1):D&&D.isDash===T.isDash&&(D.left=T.left,n.splice(A,1))}const c=n[0],u=n[n.length-1];c.isDash===u.isDash&&(c.left=u.left-this.width,u.right=c.right+this.width);const h=this.width*this.nextRow;let x=0,y=n[x];for(let A=0;A<this.width;A++){A/y.right>1&&(y=n[++x]);const T=Math.abs(A-y.left),D=Math.abs(A-y.right),k=Math.min(T,D);this.image.data[h+A]=Math.max(0,Math.min(255,(y.isDash?k:-k)+a+128))}}addDash(n,a){const c=this.getKey(n,a);if(this.positions[c])return this.positions[c];const u=a==="round",h=u?7:0,x=2*h+1;if(this.nextRow+x>this.height)return gn("LineAtlas out of space"),null;n.length===0&&n.push(1);let y=0;for(let D=0;D<n.length;D++)n[D]<0&&(gn("Negative value is found in line dasharray, replacing values with 0"),n[D]=0),y+=n[D];if(y!==0){const D=this.width/y,k=this.getDashRanges(n,this.width,D);u?this.addRoundDash(k,D,h):this.addRegularDash(k,a==="square"?.5*D:0)}const A=this.nextRow+h;this.nextRow+=x;const T={tl:[A,h],br:[y,0]};return this.positions[c]=T,T}}ve(CA,"LineAtlas");const AA=1*hs;class TA{constructor(n){const a={},c=[];for(const y in n){const A=n[y],T=a[y]={};for(const D in A.glyphs){const k=A.glyphs[+D];if(!k||k.bitmap.width===0||k.bitmap.height===0)continue;const I=k.metrics.localGlyph?AA:1,z={x:0,y:0,w:k.bitmap.width+2*I,h:k.bitmap.height+2*I};c.push(z),T[D]=z}}const{w:u,h}=Uv(c),x=new Ei({width:u||1,height:h||1});for(const y in n){const A=n[y];for(const T in A.glyphs){const D=A.glyphs[+T];if(!D||D.bitmap.width===0||D.bitmap.height===0)continue;const k=a[y][T],I=D.metrics.localGlyph?AA:1;Ei.copy(D.bitmap,x,{x:0,y:0},{x:k.x+I,y:k.y+I},D.bitmap)}}this.image=x,this.positions=a}}ve(TA,"GlyphAtlas");class _7{constructor(n){this.tileID=new fa(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.tileZoom=n.tileZoom,this.uid=n.uid,this.zoom=n.zoom,this.canonical=n.tileID.canonical,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId,this.enableTerrain=!!n.enableTerrain,this.isSymbolTile=n.isSymbolTile,this.tileTransform=Gc(n.tileID.canonical,n.projection),this.projection=n.projection}parse(n,a,c,u,h){this.status="parsing",this.data=n,this.collisionBoxArray=new Tn;const x=new sA(Object.keys(n.layers).sort()),y=new bA(this.tileID,this.promoteId);y.bucketLayerIDs=[];const A={},T=new CA(256,256),D={featureIndex:y,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:T,availableImages:c},k=a.familiesBySource[this.source];for(const xt in k){const gt=n.layers[xt];if(!gt)continue;let It=!1,kt=!1;for(const Lt of k[xt])Lt[0].type==="symbol"?It=!0:kt=!0;if(this.isSymbolTile===!0&&!It||this.isSymbolTile===!1&&!kt)continue;gt.version===1&&gn(`Vector tile source "${this.source}" layer "${xt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const $t=x.encode(xt),Jt=[];for(let Lt=0;Lt<gt.length;Lt++){const Wt=gt.feature(Lt),Ht=y.getId(Wt,xt);Jt.push({feature:Wt,id:Ht,index:Lt,sourceLayerIndex:$t})}for(const Lt of k[xt]){const Wt=Lt[0];this.isSymbolTile!==void 0&&Wt.type==="symbol"!==this.isSymbolTile||Wt.minzoom&&this.zoom<Math.floor(Wt.minzoom)||Wt.maxzoom&&this.zoom>=Wt.maxzoom||Wt.visibility!=="none"&&(ry(Lt,this.zoom,c),(A[Wt.id]=Wt.createBucket({index:y.bucketLayerIDs.length,layers:Lt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:$t,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:c})).populate(Jt,D,this.tileID.canonical,this.tileTransform),y.bucketLayerIDs.push(Lt.map(Ht=>Ht.id)))}}let I,z,j,G;T.trim();const J={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},st=()=>{if(I)return h(I);if(z&&j&&G){const xt=new TA(z),gt=new BC(j,G);for(const It in A){const kt=A[It];kt instanceof gl?(ry(kt.layers,this.zoom,c),WI(kt,z,xt.positions,j,gt.iconPositions,this.showCollisionBoxes,c,this.tileID.canonical,this.tileZoom,this.projection)):kt.hasPattern&&(kt instanceof q0||kt instanceof O0||kt instanceof Wm)&&(ry(kt.layers,this.zoom,c),kt.addFeatures(D,this.tileID.canonical,gt.patternPositions,c,this.tileTransform))}this.status="done",h(null,{buckets:Ze(A).filter(It=>!It.isEmpty()),featureIndex:y,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xt.image,lineAtlas:T,imageAtlas:gt,glyphMap:this.returnDependencies?z:null,iconMap:this.returnDependencies?j:null,glyphPositions:this.returnDependencies?xt.positions:null})}},ht=qe(D.glyphDependencies,xt=>Object.keys(xt).map(Number));Object.keys(ht).length?u.send("getGlyphs",{uid:this.uid,stacks:ht},(xt,gt)=>{I||(I=xt,z=gt,st())},void 0,!1,J):z={};const it=Object.keys(D.iconDependencies);it.length?u.send("getImages",{icons:it,source:this.source,tileID:this.tileID,type:"icons"},(xt,gt)=>{I||(I=xt,j=gt,st())},void 0,!1,J):j={};const mt=Object.keys(D.patternDependencies);mt.length?u.send("getImages",{icons:mt,source:this.source,tileID:this.tileID,type:"patterns"},(xt,gt)=>{I||(I=xt,G=gt,st())},void 0,!1,J):G={},st()}}function ry(o,n,a){const c=new M(n);for(const u of o)u.recalculate(c,a)}class SA{constructor(n){this.entries={},this.scheduler=n}request(n,a,c,u){const h=this.entries[n]=this.entries[n]||{callbacks:[]};if(h.result){const[x,y]=h.result;return this.scheduler?this.scheduler.add(()=>{u(x,y)},a):u(x,y),()=>{}}return h.callbacks.push(u),h.cancel||(h.cancel=c((x,y)=>{h.result=[x,y];for(const A of h.callbacks)this.scheduler?this.scheduler.add(()=>{A(x,y)},a):A(x,y);setTimeout(()=>delete this.entries[n],3e3)})),()=>{h.result||(h.callbacks=h.callbacks.filter(x=>x!==u),h.callbacks.length||(h.cancel(),delete this.entries[n]))}}}function EA(o,n,a){const c=JSON.stringify(o.request);return o.data&&(this.deduped.entries[c]={result:[null,o.data]}),this.deduped.request(c,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom},u=>{const h=Oe(o.request,(x,y,A,T)=>{x?u(x):y&&u(null,{vectorTile:a?void 0:new zv(new Z0(y)),rawData:y,cacheControl:A,expires:T})});return()=>{h.cancel(),u()}},n)}const PA=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class sy{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,c]=new Uint8Array(n,0,2);if(a!==219)throw new Error("Data does not appear to be in a KDBush format.");const u=c>>4;if(u!==1)throw new Error(`Got v${u} data when expected v1.`);const h=PA[15&c];if(!h)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(n,2,1),[y]=new Uint32Array(n,4,1);return new sy(y,x,h,n)}constructor(n,a=64,c=Float64Array,u){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=c,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=PA.indexOf(this.ArrayType),x=2*n*this.ArrayType.BYTES_PER_ELEMENT,y=n*this.IndexArrayType.BYTES_PER_ELEMENT,A=(8-y%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${c}.`);u&&u instanceof ArrayBuffer?(this.data=u,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+y+A,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+x+y+A),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+y+A,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=n)}add(n,a){const c=this._pos>>1;return this.ids[c]=c,this.coords[this._pos++]=n,this.coords[this._pos++]=a,c}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return iy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,a,c,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:x,nodeSize:y}=this,A=[0,h.length-1,0],T=[];for(;A.length;){const D=A.pop()||0,k=A.pop()||0,I=A.pop()||0;if(k-I<=y){for(let J=I;J<=k;J++){const st=x[2*J],ht=x[2*J+1];st>=n&&st<=c&&ht>=a&&ht<=u&&T.push(h[J])}continue}const z=I+k>>1,j=x[2*z],G=x[2*z+1];j>=n&&j<=c&&G>=a&&G<=u&&T.push(h[z]),(D===0?n<=j:a<=G)&&(A.push(I),A.push(z-1),A.push(1-D)),(D===0?c>=j:u>=G)&&(A.push(z+1),A.push(k),A.push(1-D))}return T}within(n,a,c){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:u,coords:h,nodeSize:x}=this,y=[0,u.length-1,0],A=[],T=c*c;for(;y.length;){const D=y.pop()||0,k=y.pop()||0,I=y.pop()||0;if(k-I<=x){for(let J=I;J<=k;J++)MA(h[2*J],h[2*J+1],n,a)<=T&&A.push(u[J]);continue}const z=I+k>>1,j=h[2*z],G=h[2*z+1];MA(j,G,n,a)<=T&&A.push(u[z]),(D===0?n-c<=j:a-c<=G)&&(y.push(I),y.push(z-1),y.push(1-D)),(D===0?n+c>=j:a+c>=G)&&(y.push(z+1),y.push(k),y.push(1-D))}return A}}function iy(o,n,a,c,u,h){if(u-c<=a)return;const x=c+u>>1;DA(o,n,x,c,u,h),iy(o,n,a,c,x-1,1-h),iy(o,n,a,x+1,u,1-h)}function DA(o,n,a,c,u,h){for(;u>c;){if(u-c>600){const T=u-c+1,D=a-c+1,k=Math.log(T),I=.5*Math.exp(2*k/3),z=.5*Math.sqrt(k*I*(T-I)/T)*(D-T/2<0?-1:1);DA(o,n,a,Math.max(c,Math.floor(a-D*I/T+z)),Math.min(u,Math.floor(a+(T-D)*I/T+z)),h)}const x=n[2*a+h];let y=c,A=u;for(rh(o,n,c,a),n[2*u+h]>x&&rh(o,n,c,u);y<A;){for(rh(o,n,y,A),y++,A--;n[2*y+h]<x;)y++;for(;n[2*A+h]>x;)A--}n[2*c+h]===x?rh(o,n,c,A):(A++,rh(o,n,A,u)),A<=a&&(c=A+1),a<=A&&(u=A-1)}}function rh(o,n,a,c){ly(o,a,c),ly(n,2*a,2*c),ly(n,2*a+1,2*c+1)}function ly(o,n,a){const c=o[n];o[n]=o[a],o[a]=c}function MA(o,n,a,c){const u=o-a,h=n-c;return u*u+h*h}i.ARRAY_TYPE=qa,i.AUTH_ERR_MSG=vt,i.Aabb=ha,i.Actor=class{constructor(o,n,a){this.target=o,this.parent=n,this.mapId=a,this.callbacks={},this.cancelCallbacks={},qo(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Rn()?o:E,this.scheduler=new m7}send(o,n,a,c,u=!1,h){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(a.metadata=h,this.callbacks[x]=a);const y=Ns(this.globalScope)?void 0:[];return this.target.postMessage({id:x,type:o,hasCallback:!!a,targetMapId:c,mustQueue:u,sourceMapId:this.mapId,data:ll(n,y)},y),{cancel:()=>{a&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:c,sourceMapId:this.mapId})}}}receive(o){const n=o.data,a=n.id;if(a&&(!n.targetMapId||this.mapId===n.targetMapId))if(n.type==="<cancel>"){const c=this.cancelCallbacks[a];delete this.cancelCallbacks[a],c&&c.cancel()}else if(n.mustQueue||Rn()){const c=this.callbacks[a];this.cancelCallbacks[a]=this.scheduler.add(()=>this.processTask(a,n),c&&c.metadata||{type:"message"})}else this.processTask(a,n)}processTask(o,n){if(n.type==="<response>"){const a=this.callbacks[o];delete this.callbacks[o],a&&(n.error?a(_i(n.error)):a(null,_i(n.data)))}else{const a=Ns(this.globalScope)?void 0:[],c=n.hasCallback?(h,x)=>{delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:h?ll(h):null,data:ll(x,a)},a)}:h=>{},u=_i(n.data);if(this.parent[n.type])this.parent[n.type](n.sourceMapId,u,c);else if(this.parent.getWorkerSource){const h=n.type.split(".");this.parent.getWorkerSource(n.sourceMapId,h[0],u.source)[h[1]](u,c)}else c(new Error(`Could not find function ${n.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},i.CanonicalTileID=G0,i.Color=eo,i.ColorMode=Ws,i.CullFaceMode=fs,i.DEMData=ig,i.DataConstantProperty=U,i.DedupedRequest=SA,i.DepthMode=vu,i.EXTENT=De,i.Elevation=class{isDataAvailableAtPoint(o){const n=this._source();if(this.isUsingMockSource()||!n||o.y<0||o.y>1)return!1;const a=n.getSource().maxzoom,c=1<<a,u=Math.floor(o.x),h=Math.floor((o.x-u)*c),x=Math.floor(o.y*c),y=this.findDEMTileFor(new fa(a,u,a,h,x));return!(!y||!y.dem)}getAtPointOrZero(o,n=0){return this.getAtPoint(o,n)||0}getAtPoint(o,n,a=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const c=this._source();if(!c||o.y<0||o.y>1)return n;const u=c.getSource().maxzoom,h=1<<u,x=Math.floor(o.x),y=o.x-x,A=new fa(u,x,u,Math.floor(y*h),Math.floor(o.y*h)),T=this.findDEMTileFor(A);if(!T||!T.dem)return n;const D=T.dem,k=1<<T.tileID.canonical.z,I=(y*k-T.tileID.canonical.x)*D.dim,z=(o.y*k-T.tileID.canonical.y)*D.dim,j=Math.floor(I),G=Math.floor(z);return(a?this.exaggeration():1)*sn(sn(D.get(j,G),D.get(j,G+1),z-G),sn(D.get(j+1,G),D.get(j+1,G+1),z-G),I-j)}getAtTileOffset(o,n,a){const c=1<<o.canonical.z;return this.getAtPointOrZero(new au(o.wrap+(o.canonical.x+n/De)/c,(o.canonical.y+a/De)/c))}getAtTileOffsetFunc(o,n,a,c){return u=>{const h=this.getAtTileOffset(o,u.x,u.y),x=c.upVector(o.canonical,u.x,u.y);return ir(x,x,h*c.upVectorScale(o.canonical,n,a).metersToTile),x}}getForTilePoints(o,n,a,c){if(this.isUsingMockSource())return!1;const u=lg.create(this,o,c);return!!u&&(n.forEach(h=>{h[2]=this.exaggeration()*u.getElevationAt(h[0],h[1],a)}),!0)}getMinMaxForTile(o){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(o);if(!n||!n.dem)return null;const a=n.dem.tree,c=n.tileID,u=1<<o.canonical.z-c.canonical.z;let h=o.canonical.x/u-c.canonical.x,x=o.canonical.y/u-c.canonical.y,y=0;for(let A=0;A<o.canonical.z-c.canonical.z&&!a.leaves[y];A++){h*=2,x*=2;const T=2*Math.floor(x)+Math.floor(h);y=a.childOffsets[y]+T,h%=1,x%=1}return{min:this.exaggeration()*a.minimums[y],max:this.exaggeration()*a.maximums[y]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(o,n,a){throw new Error("Pure virtual method called.")}pointCoordinate(o){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(o){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},i.ErrorEvent=Qr,i.EvaluationParameters=M,i.Event=pi,i.Evented=lc,i.FillExtrusionBucket=Wm,i.Frustum=fv,i.FrustumCorners=hv,i.GLOBE_RADIUS=Os,i.GLOBE_SCALE_MATCH_LATITUDE=45,i.GLOBE_ZOOM_THRESHOLD_MAX=D3,i.GLOBE_ZOOM_THRESHOLD_MIN=gv,i.GlobeSharedBuffers=class{constructor(o){this._createGrid(o),this._createPoles(o)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const o of this._poleSegments)o.destroy();for(const o of this._gridSegments)o.withSkirts.destroy(),o.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const o of this._wireframeSegments)o.destroy()}}_fillGridMeshWithLods(o,n){const a=new Qt,c=new Ae,u=[],h=o+1+2,x=n[0]+1,y=n[0]+1+(1+n.length),A=(T,D,k)=>{let I=T===h-1?T-2:T===0?T:T-1;return I+=k?24575:0,[I,D]};for(let T=0;T<h;++T)a.emplaceBack(...A(T,0,!0));for(let T=0;T<x;++T)for(let D=0;D<h;++D)a.emplaceBack(...A(D,T,(D===0||D===h-1)&&!0));for(let T=0;T<n.length;++T){const D=n[T];for(let k=0;k<h;++k)a.emplaceBack(...A(k,D,!0))}for(let T=0;T<n.length;++T){const D=c.length,k=n[T]+1+2,I=new Ae;for(let G=0;G<k-1;G++){const J=G===k-2,st=J?h*(y-n.length+T-G):h;for(let ht=0;ht<h-1;ht++){const it=G*h+ht;G===0||J||ht===0||ht===h-2?(I.emplaceBack(it+1,it,it+st),I.emplaceBack(it+st,it+st+1,it+1)):(c.emplaceBack(it+1,it,it+st),c.emplaceBack(it+st,it+st+1,it+1))}}const z=lo.simpleSegment(0,D,a.length,c.length-D);for(let G=0;G<I.uint16.length;G+=3)c.emplaceBack(I.uint16[G],I.uint16[G+1],I.uint16[G+2]);const j=lo.simpleSegment(0,D,a.length,c.length-D);u.push({withoutSkirts:z,withSkirts:j})}return{vertices:a,indices:c,segments:u}}_createGrid(o){const n=this._fillGridMeshWithLods(jc,Rm);this._gridSegments=n.segments,this._gridBuffer=o.createVertexBuffer(n.vertices,Fm.members),this._gridIndexBuffer=o.createIndexBuffer(n.indices,!0)}_createPoles(o){const n=new Ae;for(let u=0;u<=jc;u++)n.emplaceBack(0,u+1,u+2);this._poleIndexBuffer=o.createIndexBuffer(n,!0);const a=new An,c=new An;this._poleSegments=[];for(let u=0,h=0;u<gv;u++){const x=360/(1<<u);a.emplaceBack(0,-Os,0,.5,0),c.emplaceBack(0,-Os,0,.5,1);for(let y=0;y<=jc;y++){const A=y/jc,T=sn(0,x,A),[D,k,I]=eu(mN,hN,T,Os);a.emplaceBack(D,k,I,A,0),c.emplaceBack(D,k,I,A,1)}this._poleSegments.push(lo.simpleSegment(h,0,66,64)),h+=66}this._poleNorthVertexBuffer=o.createVertexBuffer(a,E3,!1),this._poleSouthVertexBuffer=o.createVertexBuffer(c,E3,!1)}getGridBuffers(o,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[o].withSkirts:this._gridSegments[o].withoutSkirts]}getPoleBuffers(o){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[o]]}getWirefameBuffers(o,n){if(!this._wireframeSegments){const a=new Io,c=jc,u=c+1+2,h=1;this._wireframeSegments=[];for(let x=0,y=0;x<Rm.length;x++){const A=Rm[x];for(let D=h;D<A+h;D++)for(let k=h;k<c+h;k++){const I=D*u+k;a.emplaceBack(I,I+1),a.emplaceBack(I,I+u),a.emplaceBack(I,I+u+1)}const T=A*c*3;this._wireframeSegments.push(lo.simpleSegment(0,y,(A+1)*u,T)),y+=T}this._wireframeIndexBuffer=o.createIndexBuffer(a)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[n]]}},i.GlyphManager=mu,i.ImagePosition=$v,i.KDBush=sy,i.LivePerformanceUtils=R2,i.LngLat=Sn,i.LngLatBounds=pl,i.LocalGlyphMode=Wv,i.MAX_MERCATOR_LATITUDE=Qo,i.MercatorCoordinate=au,i.ONE_EM=Oo,i.OverscaledTileID=fa,i.PerformanceMarkers=qi,i.Point=Dt,i.Properties=ut,i.RGBAImage=Wa,i.Ray=mv,i.RequestManager=class{constructor(o,n,a){this._transformRequestFn=o,this._customAccessToken=n,this._silenceAuthErrors=!!a,this._createSkuToken()}_createSkuToken(){const o=function(){let n="";for(let a=0;a<10;a++)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Z,n].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(o,n){return this._transformRequestFn&&this._transformRequestFn(o,n)||{url:o}}normalizeStyleURL(o,n){if(!Ct(o))return o;const a=le(o);return a.path=`/styles/v1${a.path}`,this._makeAPIURL(a,this._customAccessToken||n)}normalizeGlyphsURL(o,n){if(!Ct(o))return o;const a=le(o);return a.path=`/fonts/v1${a.path}`,this._makeAPIURL(a,this._customAccessToken||n)}normalizeSourceURL(o,n,a,c){if(!Ct(o))return o;const u=le(o);return u.path=`/v4/${u.authority}.json`,u.params.push("secure"),a&&u.params.push(`language=${a}`),c&&u.params.push(`worldview=${c}`),this._makeAPIURL(u,this._customAccessToken||n)}normalizeSpriteURL(o,n,a,c){const u=le(o);return Ct(o)?(u.path=`/styles/v1${u.path}/sprite${n}${a}`,this._makeAPIURL(u,this._customAccessToken||c)):(u.path+=`${n}${a}`,ne(u))}normalizeTileURL(o,n,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!Ct(o))return o;const c=le(o);c.path=c.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${n||a&&c.authority!=="raster"&&a===512?"@2x":""}${V.supported?".webp":"$1"}`),c.authority==="raster"?c.path=`/${N.RASTER_URL_PREFIX}${c.path}`:(c.path=c.path.replace(/^.+\/v4\//,"/"),c.path=`/${N.TILE_URL_VERSION}${c.path}`);const u=this._customAccessToken||function(h){for(const x of h){const y=x.match(/^access_token=(.*)$/);if(y)return y[1]}return null}(c.params)||N.ACCESS_TOKEN;return N.REQUIRE_ACCESS_TOKEN&&u&&this._skuToken&&c.params.push(`sku=${this._skuToken}`),this._makeAPIURL(c,u)}canonicalizeTileURL(o,n){const a=le(o);if(!a.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!a.path.match(/\.[\w]+$/))return o;let c="mapbox://";a.path.match(/^\/raster\/v1\//)?c+=`raster/${a.path.replace(`/${N.RASTER_URL_PREFIX}/`,"")}`:c+=`tiles/${a.path.replace(`/${N.TILE_URL_VERSION}/`,"")}`;let u=a.params;return n&&(u=u.filter(h=>!h.match(/^access_token=/))),u.length&&(c+=`?${u.join("&")}`),c}canonicalizeTileset(o,n){const a=!!n&&Ct(n),c=[];for(const u of o.tiles||[])Pt(u)?c.push(this.canonicalizeTileURL(u,a)):c.push(u);return c}_makeAPIURL(o,n){const a="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",c=le(N.API_URL);if(o.protocol=c.protocol,o.authority=c.authority,o.protocol==="http"){const u=o.params.indexOf("secure");u>=0&&o.params.splice(u,1)}if(c.path!=="/"&&(o.path=`${c.path}${o.path}`),!N.REQUIRE_ACCESS_TOKEN)return ne(o);if(n=n||N.ACCESS_TOKEN,!this._silenceAuthErrors){if(!n)throw new Error(`An API access token is required to use Mapbox GL. ${a}`);if(n[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${a}`)}return o.params=o.params.filter(u=>u.indexOf("access_token")===-1),o.params.push(`access_token=${n||""}`),ne(o)}},i.ResourceType=Xr,i.SegmentVector=lo,i.SourceCache=qc,i.StencilMode=ny,i.StructArrayLayout1ui2=Ga,i.StructArrayLayout2f1f2i16=Me,i.StructArrayLayout2i4=Qt,i.StructArrayLayout2ui4=Io,i.StructArrayLayout3f12=Ye,i.StructArrayLayout3ui6=Ae,i.StructArrayLayout4i8=qt,i.StructArrayLayout5f20=An,i.Texture=oh,i.Tile=ty,i.Transitionable=O,i.Uniform1f=E0,i.Uniform1i=class extends Ci{constructor(o){super(o),this.current=0}set(o,n,a){this.fetchUniformLocation(o,n)&&this.current!==a&&(this.current=a,this.gl.uniform1i(this.location,a))}},i.Uniform2f=class extends Ci{constructor(o){super(o),this.current=[0,0]}set(o,n,a){this.fetchUniformLocation(o,n)&&(a[0]===this.current[0]&&a[1]===this.current[1]||(this.current=a,this.gl.uniform2f(this.location,a[0],a[1])))}},i.Uniform3f=class extends Ci{constructor(o){super(o),this.current=[0,0,0]}set(o,n,a){this.fetchUniformLocation(o,n)&&(a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]||(this.current=a,this.gl.uniform3f(this.location,a[0],a[1],a[2])))}},i.Uniform4f=d3,i.UniformColor=u3,i.UniformMatrix2f=class extends Ci{constructor(o){super(o),this.current=YB}set(o,n,a){if(this.fetchUniformLocation(o,n)){for(let c=0;c<4;c++)if(a[c]!==this.current[c]){this.current=a,this.gl.uniformMatrix2fv(this.location,!1,a);break}}}},i.UniformMatrix3f=class extends Ci{constructor(o){super(o),this.current=KB}set(o,n,a){if(this.fetchUniformLocation(o,n)){for(let c=0;c<9;c++)if(a[c]!==this.current[c]){this.current=a,this.gl.uniformMatrix3fv(this.location,!1,a);break}}}},i.UniformMatrix4f=class extends Ci{constructor(o){super(o),this.current=XB}set(o,n,a){if(this.fetchUniformLocation(o,n)){if(a[12]!==this.current[12]||a[0]!==this.current[0])return this.current=a,void this.gl.uniformMatrix4fv(this.location,!1,a);for(let c=1;c<16;c++)if(a[c]!==this.current[c]){this.current=a,this.gl.uniformMatrix4fv(this.location,!1,a);break}}}},i.UnwrappedTileID=xC,i.ValidationError=ge,i.VectorTileFeature=U0,i.VectorTileWorkerSource=class extends lc{constructor(o,n,a,c,u){super(),this.actor=o,this.layerIndex=n,this.availableImages=a,this.loadVectorData=u||EA,this.loading={},this.loaded={},this.deduped=new SA(o.scheduler),this.isSpriteLoaded=c,this.scheduler=o.scheduler}loadTile(o,n){const a=o.uid,c=o&&o.request,u=c&&c.collectResourceTiming,h=this.loading[a]=new _7(o);h.abort=this.loadVectorData(o,(x,y)=>{const A=!this.loading[a];if(delete this.loading[a],A||x||!y)return h.status="done",A||(this.loaded[a]=h),n(x);const T=y.rawData,D={};y.expires&&(D.expires=y.expires),y.cacheControl&&(D.cacheControl=y.cacheControl),h.vectorTile=y.vectorTile||new zv(new Z0(T));const k=()=>{h.parse(h.vectorTile,this.layerIndex,this.availableImages,this.actor,(I,z)=>{if(I||!z)return n(I);const j={};if(u){const G=Bp(c);G.length>0&&(j.resourceTiming=JSON.parse(JSON.stringify(G)))}n(null,He({rawTileData:T.slice(0)},z,D,j))})};this.isSpriteLoaded?k():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(k,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom}):k()}),this.loaded=this.loaded||{},this.loaded[a]=h})}reloadTile(o,n){const a=this.loaded,c=o.uid,u=this;if(a&&a[c]){const h=a[c];h.showCollisionBoxes=o.showCollisionBoxes,h.enableTerrain=!!o.enableTerrain,h.projection=o.projection,h.tileTransform=Gc(o.tileID.canonical,o.projection);const x=(y,A)=>{const T=h.reloadCallback;T&&(delete h.reloadCallback,h.parse(h.vectorTile,u.layerIndex,this.availableImages,u.actor,T)),n(y,A)};h.status==="parsing"?h.reloadCallback=x:h.status==="done"&&(h.vectorTile?h.parse(h.vectorTile,this.layerIndex,this.availableImages,this.actor,x):x())}}abortTile(o,n){const a=o.uid,c=this.loading[a];c&&(c.abort&&c.abort(),delete this.loading[a]),n()}removeTile(o,n){const a=this.loaded,c=o.uid;a&&a[c]&&delete a[c],n()}},i.WritingMode=cr,i.ZoomDependentExpression=Sc,i.add=Ti,i.addDynamicAttributes=ag,i.adjoint=function(o,n){var a=n[0],c=n[1],u=n[2],h=n[3],x=n[4],y=n[5],A=n[6],T=n[7],D=n[8];return o[0]=x*D-y*T,o[1]=u*T-c*D,o[2]=c*y-u*x,o[3]=y*A-h*D,o[4]=a*D-u*A,o[5]=u*h-a*y,o[6]=h*T-x*A,o[7]=c*A-a*T,o[8]=a*x-c*h,o},i.asyncAll=Ce,i.bezier=Be,i.bindAll=qo,i.boundsAttributes=cA,i.bufferConvexPolygon=function(o,n){const a=[];for(let c=0;c<o.length;c++){const u=fe(c-1,-1,o.length-1),h=fe(c+1,-1,o.length-1),x=o[c],y=o[h],A=o[u].sub(x).unit(),T=y.sub(x).unit(),D=T.angleWithSep(A.x,A.y),k=A.add(T).unit().mult(-1*n/Math.sin(D/2));a.push(x.add(k))}return a},i.cacheEntryPossiblyAdded=function(o){Rs++,Rs>or&&(o.getActor().send("enforceCacheSizeLimit",Is),Rs=0)},i.calculateGlobeLabelMatrix=function(o,n){const{x:a,y:c}=o.point,u=I3(a,c,o.worldSize/o._pixelsPerMercatorPixel,0,0);return Rc(u,u,yv(Vs(n)))},i.calculateGlobeMatrix=function(o){const{x:n,y:a}=o.point,{lng:c,lat:u}=o._center;return I3(n,a,o.worldSize,c,u)},i.calculateGlobeMercatorMatrix=function(o){const n=o.pixelsPerMeter,a=n/ps(1,o.center.lat),c=ds(new Float64Array(16));return Dm(c,c,[o.point.x,o.point.y,0]),Lc(c,c,[a,a,n]),Float32Array.from(c)},i.circumferenceAtLatitude=bv,i.clamp=Zt,i.clearTileCache=function(o){if(!Fs())return;const n=E.caches.delete(Wr);o&&n.catch(o).then(()=>o())},i.clipLine=qC,i.clone=function(o){var n=new qa(16);return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n},i.clone$1=Eo,i.collisionCircleLayout=vI,i.config=N,i.conjugate=function(o,n){return o[0]=-n[0],o[1]=-n[1],o[2]=-n[2],o[3]=n[3],o},i.create=function(){var o=new qa(16);return qa!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},i.create$1=h3,i.createExpression=rl,i.createLayout=At,i.createStyleLayer=function(o){return o.type==="custom"?new c7(o):new u7[o.type](o)},i.cross=pv,i.degToRad=xe,i.distance=function(o,n){return Math.hypot(n[0]-o[0],n[1]-o[1],n[2]-o[2])},i.div=function(o,n,a){return o[0]=n[0]/a[0],o[1]=n[1]/a[1],o[2]=n[2]/a[2],o},i.dot=kr,i.earthRadius=jm,i.ease=Ot,i.easeCubicInOut=Fe,i.ecefToLatLng=function([o,n,a]){const c=Math.hypot(o,n,a),u=Math.atan2(o,a),h=.5*Math.PI-Math.acos(-n/c);return new Sn(ce(u),ce(h))},i.emitValidationErrors=b0,i.endsWith=nr,i.enforceCacheSizeLimit=function(o){Hr(),na&&na.then(n=>{n.keys().then(a=>{for(let c=0;c<a.length-o;c++)n.delete(a[c])})})},i.evaluateSizeForFeature=W0,i.evaluateSizeForZoom=cu,i.evaluateVariableOffset=KC,i.evented=v,i.exactEquals=function(o,n){return o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2]&&o[3]===n[3]},i.exactEquals$1=function(o,n){return o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2]},i.exported=Yr,i.exported$1=V,i.extend=He,i.extend$1=Jr,i.fillExtrusionHeightLift=hC,i.filterObject=ca,i.fromMat4=function(o,n){return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[4],o[4]=n[5],o[5]=n[6],o[6]=n[8],o[7]=n[9],o[8]=n[10],o},i.fromQuat=function(o,n){var a=n[0],c=n[1],u=n[2],h=n[3],x=a+a,y=c+c,A=u+u,T=a*x,D=c*x,k=c*y,I=u*x,z=u*y,j=u*A,G=h*x,J=h*y,st=h*A;return o[0]=1-k-j,o[1]=D+st,o[2]=I-J,o[3]=0,o[4]=D-st,o[5]=1-T-j,o[6]=z+G,o[7]=0,o[8]=I+J,o[9]=z-G,o[10]=1-T-k,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},i.fromRotation=function(o,n){var a=Math.sin(n),c=Math.cos(n);return o[0]=c,o[1]=a,o[2]=0,o[3]=-a,o[4]=c,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},i.fromScaling=g3,i.furthestTileCorner=function(o){const n=Math.round((o+45+360)%360/90)%4;return en[n]},i.getAABBPointSquareDist=function(o,n,a){let c=0;for(let u=0;u<2;++u){const h=a?a[u]:0;o[u]>h&&(c+=(o[u]-h)*(o[u]-h)),n[u]<h&&(c+=(h-n[u])*(h-n[u]))}return c},i.getAnchorAlignment=qv,i.getAnchorJustification=Zv,i.getBounds=function(o){let n=1/0,a=1/0,c=-1/0,u=-1/0;for(const h of o)n=Math.min(n,h.x),a=Math.min(a,h.y),c=Math.max(c,h.x),u=Math.max(u,h.y);return{min:new Dt(n,a),max:new Dt(c,u)}},i.getColumn=Cr,i.getDefaultExportFromCjs=dt,i.getGridMatrix=function(o,n,a,c){const u=n.getNorth(),h=n.getSouth(),x=n.getWest(),y=n.getEast(),A=1<<o.z,T=y-x,D=u-h,k=T/jc,I=-D/Rm[a],z=[0,k,0,I,0,0,u,x,0];if(o.z>0){const j=180/c;f3(z,z,[j/T+1,0,0,0,j/D+1,0,-.5*j/k,.5*j/I,1])}return z[2]=A,z[5]=o.x,z[8]=o.y,z},i.getImage=pt,i.getJSON=function(o,n){return Kr(He(o,{type:"json"}),n)},i.getLatitudinalLod=function(o){const n=Qo-5;o=Zt(o,-n,n)/n*90;const a=Math.pow(Math.abs(Math.sin(xe(o))),3);return Math.round(a*(Rm.length-1))},i.getMapSessionAPI=ko,i.getPerformanceMeasurement=Bp,i.getProjection=aA,i.getRTLTextPluginStatus=b,i.getReferrer=Ho,i.getTilePoint=function(o,{x:n,y:a},c=0){return new Dt(((n-c)*o.scale-o.x)*De,(a*o.scale-o.y)*De)},i.getTileVec3=function(o,n,a=0){return tu(((n.x-a)*o.scale-o.x)*De,(n.y*o.scale-o.y)*De,z3(n.z,n.y))},i.getVideo=function(o,n){const a=E.document.createElement("video");a.muted=!0,a.onloadstart=function(){n(null,a)};for(let c=0;c<o.length;c++){const u=E.document.createElement("source");bn(o[c])||(a.crossOrigin="Anonymous"),u.src=o[c],a.appendChild(u)}return{cancel:()=>{}}},i.globeCenterToScreenPoint=function(o){const n=[0,0,0],a=ds(new Float64Array(16));return Rc(a,o.pixelMatrix,o.globeMatrix),no(n,n,a),new Dt(n[0],n[1])},i.globeDenormalizeECEF=yv,i.globeECEFOrigin=function(o,n){const a=[0,0,0];return no(a,a,zm(Vs(n.canonical))),no(a,a,o),a},i.globeMetersToEcef=M0,i.globeNormalizeECEF=zm,i.globePixelsToTileUnits=function(o,n){return De/(512*Math.pow(2,o))*B0(Vs(n))},i.globePoleMatrixForTile=function(o,n,a){const c=ds(new Float64Array(16)),u=(n/(1<<o)-.5)*Math.PI*2;return D0(c,a.globeMatrix,u),Float32Array.from(c)},i.globeTileBounds=Vs,i.globeTiltAtLngLat=F3,i.globeToMercatorTransition=ou,i.globeUseCustomAntiAliasing=function(o,n,a){const c=ou(a.zoom),u=o.style.map._antialias,h=!!n.extStandardDerivatives,x=n.extStandardDerivativesForceOff||o.terrain&&o.terrain.exaggeration()>0;return c===0&&!u&&!x&&h},i.identity=ds,i.identity$1=A3,i.invert=lv,i.isFullscreen=function(){return!!E.document.fullscreenElement||!!E.document.webkitFullscreenElement},i.isLngLatBehindGlobe=_v,i.isMapAuthenticated=function(o){return aa.has(o)},i.isMapboxURL=Ct,i.isSafariWithAntialiasingBug=function(o){const n=o.navigator?o.navigator.userAgent:null;return!!Ns(o)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},i.latFromMercatorY=Yo,i.latLngToECEF=nu,i.len=sN,i.length=Mm,i.length$1=function(o){return Math.hypot(o[0],o[1],o[2],o[3])},i.lngFromMercatorX=lr,i.loadVectorTile=EA,i.makeRequest=Kr,i.mapValue=function(o,n,a,c,u){return Zt((o-n)/(a-n)*(u-c)+c,c,u)},i.mercatorScale=j3,i.mercatorXfromLng=Us,i.mercatorYfromLat=$s,i.mercatorZfromAltitude=ps,i.mul=aN,i.mul$1=rN,i.multiply=Rc,i.multiply$1=f3,i.multiply$2=y3,i.nextPowerOfTwo=Mo,i.normalize=ma,i.normalize$1=iN,i.normalize$2=w3,i.number=sn,i.ortho=function(o,n,a,c,u,h,x){var y=1/(n-a),A=1/(c-u),T=1/(h-x);return o[0]=-2*y,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*A,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*T,o[11]=0,o[12]=(n+a)*y,o[13]=(u+c)*A,o[14]=(x+h)*T,o[15]=1,o},i.pbf=AC,i.perspective=function(o,n,a,c,u){var h,x=1/Math.tan(n/2);return o[0]=x/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,u!=null&&u!==1/0?(o[10]=(u+c)*(h=1/(c-u)),o[14]=2*u*c*h):(o[10]=-1,o[14]=-2*c),o},i.pick=function(o,n){const a={};for(let c=0;c<n.length;c++){const u=n[c];u in o&&(a[u]=o[u])}return a},i.plugin=P,i.pointGeometry=Ft,i.polesInViewport=function(o){const n=ds(new Float64Array(16));Rc(n,o.pixelMatrix,o.globeMatrix);const a=[0,Br,0],c=[0,Nr,0];return no(a,a,n),no(c,c,n),[a[0]>0&&a[0]<=o.width&&a[1]>0&&a[1]<=o.height&&!_v(o,new Sn(o.center.lat,90)),c[0]>0&&c[0]<=o.width&&c[1]>0&&c[1]<=o.height&&!_v(o,new Sn(o.center.lat,-90))]},i.polygonContainsPoint=Uc,i.polygonIntersectsBox=W3,i.polygonIntersectsPolygon=U3,i.polygonizeBounds=function(o,n,a=0,c=!0){const u=new Dt(a,a),h=o.sub(u),x=n.add(u),y=[h,new Dt(x.x,h.y),x,new Dt(h.x,x.y)];return c&&y.push(h.clone()),y},i.posAttributes=Fm,i.postMapLoadEvent=ro,i.postPerformanceEvent=bo,i.postTurnstileEvent=on,i.potpack=Uv,i.prevPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.floor(Math.log(o)/Math.LN2))},i.radToDeg=ce,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.registerForPluginStateChange=function(o){return o({pluginStatus:m,pluginURL:s}),v.on("pluginStateChange",o),o},i.removeAuthState=function(o){aa.delete(o)},i.renderColorRamp=Dv,i.resample=O3,i.rotateX=cv,i.rotateX$1=T3,i.rotateY=D0,i.rotateY$1=S3,i.rotateZ=function(o,n,a){var c=Math.sin(a),u=Math.cos(a),h=n[0],x=n[1],y=n[2],A=n[3],T=n[4],D=n[5],k=n[6],I=n[7];return n!==o&&(o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[0]=h*u+T*c,o[1]=x*u+D*c,o[2]=y*u+k*c,o[3]=A*u+I*c,o[4]=T*u-h*c,o[5]=D*u-x*c,o[6]=k*u-y*c,o[7]=I*u-A*c,o},i.rotateZ$1=function(o,n,a){a*=.5;var c=n[0],u=n[1],h=n[2],x=n[3],y=Math.sin(a),A=Math.cos(a);return o[0]=c*A+u*y,o[1]=u*A-c*y,o[2]=h*A+x*y,o[3]=x*A-h*y,o},i.scale=Lc,i.scale$1=b3,i.scale$2=ir,i.scaleAndAdd=Nm,i.set=function(o,n,a,c){return o[0]=n,o[1]=a,o[2]=c,o},i.setCacheLimits=function(o,n){Is=o,or=n},i.setColumn=function(o,n,a){o[4*n+0]=a[0],o[4*n+1]=a[1],o[4*n+2]=a[2],o[4*n+3]=a[3]},i.setRTLTextPlugin=function(o,n,a=!1){if(m===Am||m===Tm||m===Sm)throw new Error("setRTLTextPlugin cannot be called multiple times.");s=Yr.resolveURL(o),m=Am,cl=n,f(),a||S()},i.smoothstep=we,i.spec=Ut,i.squaredLength=function(o){var n=o[0],a=o[1],c=o[2];return n*n+a*a+c*c},i.storeAuthState=function(o,n){n?aa.add(o):aa.delete(o)},i.sub=us,i.subtract=uv,i.symbolSize=yI,i.tileAABB=function(o,n,a,c,u,h,x,y,A){if(A.name==="globe")return pN(o,n,new G0(a,c,u));const T=Gc({z:a,x:c,y:u},A);return new ha([(h+T.x/T.scale)*n,n*(T.y/T.scale),x],[(h+T.x2/T.scale)*n,n*(T.y2/T.scale),y])},i.tileCornersToBounds=k0,i.tileTransform=Gc,i.transformMat3=function(o,n,a){var c=n[0],u=n[1],h=n[2];return o[0]=c*a[0]+u*a[3]+h*a[6],o[1]=c*a[1]+u*a[4]+h*a[7],o[2]=c*a[2]+u*a[5]+h*a[8],o},i.transformMat4=no,i.transformMat4$1=zc,i.transformQuat=_3,i.transitionTileAABBinECEF=k3,i.translate=Dm,i.transpose=function(o,n){if(o===n){var a=n[1],c=n[2],u=n[5];o[1]=n[3],o[2]=n[6],o[3]=a,o[5]=n[7],o[6]=c,o[7]=u}else o[0]=n[0],o[1]=n[3],o[2]=n[6],o[3]=n[1],o[4]=n[4],o[5]=n[7],o[6]=n[2],o[7]=n[5],o[8]=n[8];return o},i.triggerPluginCompletionEvent=d,i.uniqueId=cn,i.updateGlobeVertexNormal=function(o,n,a,c,u){const h=5*n+2;o.float32[h+0]=a,o.float32[h+1]=c,o.float32[h+2]=u},i.validateCustomStyleLayer=function(o){const n=[],a=o.id;return a===void 0&&n.push({message:`layers.${a}: missing required property "id"`}),o.render===void 0&&n.push({message:`layers.${a}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&n.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),n},i.validateFilter=o=>$a(kc(o)),i.validateFog=o=>$a(v0(o)),i.validateLayer=o=>$a(h0(o)),i.validateLight=o=>$a(x0(o)),i.validateSource=o=>$a(g0(o)),i.validateStyle=_0,i.validateTerrain=o=>$a(ym(o)),i.values=Ze,i.vectorTile=V0,i.version=B,i.warnOnce=gn,i.window=E,i.wrap=fe}),_(["./shared"],function(i){function E(ct){if(typeof ct=="number"||typeof ct=="boolean"||typeof ct=="string"||ct==null)return JSON.stringify(ct);if(Array.isArray(ct)){let K="[";for(const pt of ct)K+=`${E(pt)},`;return`${K}]`}let X="{";for(const K of Object.keys(ct).sort())X+=`${K}:${E(ct[K])},`;return`${X}}`}function B(ct){let X="";for(const K of i.refProperties)X+=`/${E(ct[K])}`;return X}class F{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,K){for(const vt of X)this._layerConfigs[vt.id]=vt,(this._layers[vt.id]=i.createStyleLayer(vt)).compileFilter(),this.keyCache[vt.id]&&delete this.keyCache[vt.id];for(const vt of K)delete this.keyCache[vt],delete this._layerConfigs[vt],delete this._layers[vt];this.familiesBySource={};const pt=function(vt,Ct){const Pt={};for(let wt=0;wt<vt.length;wt++){const jt=Ct&&Ct[vt[wt].id]||B(vt[wt]);Ct&&(Ct[vt[wt].id]=jt);let se=Pt[jt];se||(se=Pt[jt]=[]),se.push(vt[wt])}const Et=[];for(const wt in Pt)Et.push(Pt[wt]);return Et}(i.values(this._layerConfigs),this.keyCache);for(const vt of pt){const Ct=vt.map(le=>this._layers[le.id]),Pt=Ct[0];if(Pt.visibility==="none")continue;const Et=Pt.source||"";let wt=this.familiesBySource[Et];wt||(wt=this.familiesBySource[Et]={});const jt=Pt.sourceLayer||"_geojsonTileLayer";let se=wt[jt];se||(se=wt[jt]=[]),se.push(Ct)}}}class N{loadTile(X,K){const{uid:pt,encoding:vt,rawImageData:Ct,padding:Pt,buildQuadTree:Et}=X,wt=i.window.ImageBitmap&&Ct instanceof i.window.ImageBitmap?this.getImageData(Ct,Pt):Ct;K(null,new i.DEMData(pt,wt,vt,Pt<1,Et))}getImageData(X,K){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const pt=this.offscreenCanvasContext.getImageData(-K,-K,X.width+2*K,X.height+2*K);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),pt}}function V(ct,X){if(ct.length!==0){Q(ct[0],X);for(var K=1;K<ct.length;K++)Q(ct[K],!X)}}function Q(ct,X){for(var K=0,pt=0,vt=0,Ct=ct.length,Pt=Ct-1;vt<Ct;Pt=vt++){var Et=(ct[vt][0]-ct[Pt][0])*(ct[Pt][1]+ct[vt][1]),wt=K+Et;pt+=Math.abs(K)>=Math.abs(Et)?K-wt+Et:Et-wt+K,K=wt}K+pt>=0!=!!X&&ct.reverse()}var H=i.getDefaultExportFromCjs(function ct(X,K){var pt,vt=X&&X.type;if(vt==="FeatureCollection")for(pt=0;pt<X.features.length;pt++)ct(X.features[pt],K);else if(vt==="GeometryCollection")for(pt=0;pt<X.geometries.length;pt++)ct(X.geometries[pt],K);else if(vt==="Feature")ct(X.geometry,K);else if(vt==="Polygon")V(X.coordinates,K);else if(vt==="MultiPolygon")for(pt=0;pt<X.coordinates.length;pt++)V(X.coordinates[pt],K);return X});const tt=i.VectorTileFeature.prototype.toGeoJSON;var W={exports:{}},$=i.pointGeometry,Z=i.vectorTile.VectorTileFeature,dt=ft;function ft(ct,X){this.options=X||{},this.features=ct,this.length=ct.length}function St(ct,X){this.id=typeof ct.id=="number"?ct.id:void 0,this.type=ct.type,this.rawGeometry=ct.type===1?[ct.geometry]:ct.geometry,this.properties=ct.tags,this.extent=X||4096}ft.prototype.feature=function(ct){return new St(this.features[ct],this.options.extent)},St.prototype.loadGeometry=function(){var ct=this.rawGeometry;this.geometry=[];for(var X=0;X<ct.length;X++){for(var K=ct[X],pt=[],vt=0;vt<K.length;vt++)pt.push(new $(K[vt][0],K[vt][1]));this.geometry.push(pt)}return this.geometry},St.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ct=this.geometry,X=1/0,K=-1/0,pt=1/0,vt=-1/0,Ct=0;Ct<ct.length;Ct++)for(var Pt=ct[Ct],Et=0;Et<Pt.length;Et++){var wt=Pt[Et];X=Math.min(X,wt.x),K=Math.max(K,wt.x),pt=Math.min(pt,wt.y),vt=Math.max(vt,wt.y)}return[X,pt,K,vt]},St.prototype.toGeoJSON=Z.prototype.toGeoJSON;var zt=i.pbf,Ft=dt;function ie(ct){var X=new zt;return function(K,pt){for(var vt in K.layers)pt.writeMessage(3,Dt,K.layers[vt])}(ct,X),X.finish()}function Dt(ct,X){var K;X.writeVarintField(15,ct.version||1),X.writeStringField(1,ct.name||""),X.writeVarintField(5,ct.extent||4096);var pt={keys:[],values:[],keycache:{},valuecache:{}};for(K=0;K<ct.length;K++)pt.feature=ct.feature(K),X.writeMessage(2,Ie,pt);var vt=pt.keys;for(K=0;K<vt.length;K++)X.writeStringField(3,vt[K]);var Ct=pt.values;for(K=0;K<Ct.length;K++)X.writeMessage(4,Fe,Ct[K])}function Ie(ct,X){var K=ct.feature;K.id!==void 0&&X.writeVarintField(1,K.id),X.writeMessage(2,Te,ct),X.writeVarintField(3,K.type),X.writeMessage(4,en,K)}function Te(ct,X){var K=ct.feature,pt=ct.keys,vt=ct.values,Ct=ct.keycache,Pt=ct.valuecache;for(var Et in K.properties){var wt=K.properties[Et],jt=Ct[Et];if(wt!==null){jt===void 0&&(pt.push(Et),Ct[Et]=jt=pt.length-1),X.writeVarint(jt);var se=typeof wt;se!=="string"&&se!=="boolean"&&se!=="number"&&(wt=JSON.stringify(wt));var le=se+":"+wt,ne=Pt[le];ne===void 0&&(vt.push(wt),Pt[le]=ne=vt.length-1),X.writeVarint(ne)}}}function xe(ct,X){return(X<<3)+(7&ct)}function ce(ct){return ct<<1^ct>>31}function en(ct,X){for(var K=ct.loadGeometry(),pt=ct.type,vt=0,Ct=0,Pt=K.length,Et=0;Et<Pt;Et++){var wt=K[Et],jt=1;pt===1&&(jt=wt.length),X.writeVarint(xe(1,jt));for(var se=pt===3?wt.length-1:wt.length,le=0;le<se;le++){le===1&&pt!==1&&X.writeVarint(xe(2,se-1));var ne=wt[le].x-vt,Ve=wt[le].y-Ct;X.writeVarint(ce(ne)),X.writeVarint(ce(Ve)),vt+=ne,Ct+=Ve}pt===3&&X.writeVarint(xe(7,1))}}function Fe(ct,X){var K=typeof ct;K==="string"?X.writeStringField(1,ct):K==="boolean"?X.writeBooleanField(7,ct):K==="number"&&(ct%1!=0?X.writeDoubleField(3,ct):ct<0?X.writeSVarintField(6,ct):X.writeVarintField(5,ct))}W.exports=ie,W.exports.fromVectorTileJs=ie,W.exports.fromGeojsonVt=function(ct,X){X=X||{};var K={};for(var pt in ct)K[pt]=new Ft(ct[pt].features,X),K[pt].name=pt,K[pt].version=X.version,K[pt].extent=X.extent;return ie({layers:K})},W.exports.GeoJSONWrapper=Ft;var Be=i.getDefaultExportFromCjs(W.exports);const Ot={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ct=>ct},Zt=Math.fround||(we=new Float32Array(1),ct=>(we[0]=+ct,we[0]));var we;const fe=3,Ce=5,Ze=6;class He{constructor(X){this.options=Object.assign(Object.create(Ot),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:K,minZoom:pt,maxZoom:vt}=this.options;K&&console.time("total time");const Ct=`prepare ${X.length} points`;K&&console.time(Ct),this.points=X;const Pt=[];for(let wt=0;wt<X.length;wt++){const jt=X[wt];if(!jt.geometry)continue;const[se,le]=jt.geometry.coordinates,ne=Zt(yo(se)),Ve=Zt(Mo(le));Pt.push(ne,Ve,1/0,wt,-1,1),this.options.reduce&&Pt.push(0)}let Et=this.trees[vt+1]=this._createTree(Pt);K&&console.timeEnd(Ct);for(let wt=vt;wt>=pt;wt--){const jt=+Date.now();Et=this.trees[wt]=this._createTree(this._cluster(Et,wt)),K&&console.log("z%d: %d clusters in %dms",wt,Et.numItems,+Date.now()-jt)}return K&&console.timeEnd("total time"),this}getClusters(X,K){let pt=((X[0]+180)%360+360)%360-180;const vt=Math.max(-90,Math.min(90,X[1]));let Ct=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Pt=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)pt=-180,Ct=180;else if(pt>Ct){const le=this.getClusters([pt,vt,180,Pt],K),ne=this.getClusters([-180,vt,Ct,Pt],K);return le.concat(ne)}const Et=this.trees[this._limitZoom(K)],wt=Et.range(yo(pt),Mo(Pt),yo(Ct),Mo(vt)),jt=Et.data,se=[];for(const le of wt){const ne=this.stride*le;se.push(jt[ne+Ce]>1?to(jt,ne,this.clusterProps):this.points[jt[ne+fe]])}return se}getChildren(X){const K=this._getOriginId(X),pt=this._getOriginZoom(X),vt="No cluster with the specified id.",Ct=this.trees[pt];if(!Ct)throw new Error(vt);const Pt=Ct.data;if(K*this.stride>=Pt.length)throw new Error(vt);const Et=this.options.radius/(this.options.extent*Math.pow(2,pt-1)),wt=Ct.within(Pt[K*this.stride],Pt[K*this.stride+1],Et),jt=[];for(const se of wt){const le=se*this.stride;Pt[le+4]===X&&jt.push(Pt[le+Ce]>1?to(Pt,le,this.clusterProps):this.points[Pt[le+fe]])}if(jt.length===0)throw new Error(vt);return jt}getLeaves(X,K,pt){const vt=[];return this._appendLeaves(vt,X,K=K||10,pt=pt||0,0),vt}getTile(X,K,pt){const vt=this.trees[this._limitZoom(X)],Ct=Math.pow(2,X),{extent:Pt,radius:Et}=this.options,wt=Et/Pt,jt=(pt-wt)/Ct,se=(pt+1+wt)/Ct,le={features:[]};return this._addTileFeatures(vt.range((K-wt)/Ct,jt,(K+1+wt)/Ct,se),vt.data,K,pt,Ct,le),K===0&&this._addTileFeatures(vt.range(1-wt/Ct,jt,1,se),vt.data,Ct,pt,Ct,le),K===Ct-1&&this._addTileFeatures(vt.range(0,jt,wt/Ct,se),vt.data,-1,pt,Ct,le),le.features.length?le:null}getClusterExpansionZoom(X){let K=this._getOriginZoom(X)-1;for(;K<=this.options.maxZoom;){const pt=this.getChildren(X);if(K++,pt.length!==1)break;X=pt[0].properties.cluster_id}return K}_appendLeaves(X,K,pt,vt,Ct){const Pt=this.getChildren(K);for(const Et of Pt){const wt=Et.properties;if(wt&&wt.cluster?Ct+wt.point_count<=vt?Ct+=wt.point_count:Ct=this._appendLeaves(X,wt.cluster_id,pt,vt,Ct):Ct<vt?Ct++:X.push(Et),X.length===pt)break}return Ct}_createTree(X){const K=new i.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let pt=0;pt<X.length;pt+=this.stride)K.add(X[pt],X[pt+1]);return K.finish(),K.data=X,K}_addTileFeatures(X,K,pt,vt,Ct,Pt){for(const Et of X){const wt=Et*this.stride,jt=K[wt+Ce]>1;let se,le,ne;if(jt)se=cn(K,wt,this.clusterProps),le=K[wt],ne=K[wt+1];else{const Ue=this.points[K[wt+fe]];se=Ue.properties;const[Ke,on]=Ue.geometry.coordinates;le=yo(Ke),ne=Mo(on)}const Ve={type:1,geometry:[[Math.round(this.options.extent*(le*Ct-pt)),Math.round(this.options.extent*(ne*Ct-vt))]],tags:se};let Xe;Xe=jt||this.options.generateId?K[wt+fe]:this.points[K[wt+fe]].id,Xe!==void 0&&(Ve.id=Xe),Pt.features.push(Ve)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,K){const{radius:pt,extent:vt,reduce:Ct,minPoints:Pt}=this.options,Et=pt/(vt*Math.pow(2,K)),wt=X.data,jt=[],se=this.stride;for(let le=0;le<wt.length;le+=se){if(wt[le+2]<=K)continue;wt[le+2]=K;const ne=wt[le],Ve=wt[le+1],Xe=X.within(wt[le],wt[le+1],Et),Ue=wt[le+Ce];let Ke=Ue;for(const on of Xe){const $n=on*se;wt[$n+2]>K&&(Ke+=wt[$n+Ce])}if(Ke>Ue&&Ke>=Pt){let on,$n=ne*Ue,ro=Ve*Ue,Zo=-1;const bo=((le/se|0)<<5)+(K+1)+this.points.length;for(const Ar of Xe){const ko=Ar*se;if(wt[ko+2]<=K)continue;wt[ko+2]=K;const aa=wt[ko+Ce];$n+=wt[ko]*aa,ro+=wt[ko+1]*aa,wt[ko+4]=bo,Ct&&(on||(on=this._map(wt,le,!0),Zo=this.clusterProps.length,this.clusterProps.push(on)),Ct(on,this._map(wt,ko)))}wt[le+4]=bo,jt.push($n/Ke,ro/Ke,1/0,bo,-1,Ke),Ct&&jt.push(Zo)}else{for(let on=0;on<se;on++)jt.push(wt[le+on]);if(Ke>1)for(const on of Xe){const $n=on*se;if(!(wt[$n+2]<=K)){wt[$n+2]=K;for(let ro=0;ro<se;ro++)jt.push(wt[$n+ro])}}}}return jt}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,K,pt){if(X[K+Ce]>1){const Pt=this.clusterProps[X[K+Ze]];return pt?Object.assign({},Pt):Pt}const vt=this.points[X[K+fe]].properties,Ct=this.options.map(vt);return pt&&Ct===vt?Object.assign({},Ct):Ct}}function to(ct,X,K){return{type:"Feature",id:ct[X+fe],properties:cn(ct,X,K),geometry:{type:"Point",coordinates:[(pt=ct[X],360*(pt-.5)),Sa(ct[X+1])]}};var pt}function cn(ct,X,K){const pt=ct[X+Ce],vt=pt>=1e4?`${Math.round(pt/1e3)}k`:pt>=1e3?Math.round(pt/100)/10+"k":pt,Ct=ct[X+Ze],Pt=Ct===-1?{}:Object.assign({},K[Ct]);return Object.assign(Pt,{cluster:!0,cluster_id:ct[X+fe],point_count:pt,point_count_abbreviated:vt})}function yo(ct){return ct/360+.5}function Mo(ct){const X=Math.sin(ct*Math.PI/180),K=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return K<0?0:K>1?1:K}function Sa(ct){const X=(180-360*ct)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function qo(ct,X,K,pt){for(var vt,Ct=pt,Pt=K-X>>1,Et=K-X,wt=ct[X],jt=ct[X+1],se=ct[K],le=ct[K+1],ne=X+3;ne<K;ne+=3){var Ve=nr(ct[ne],ct[ne+1],wt,jt,se,le);if(Ve>Ct)vt=ne,Ct=Ve;else if(Ve===Ct){var Xe=Math.abs(ne-Pt);Xe<Et&&(vt=ne,Et=Xe)}}Ct>pt&&(vt-X>3&&qo(ct,X,vt,pt),ct[vt+2]=Ct,K-vt>3&&qo(ct,vt,K,pt))}function nr(ct,X,K,pt,vt,Ct){var Pt=vt-K,Et=Ct-pt;if(Pt!==0||Et!==0){var wt=((ct-K)*Pt+(X-pt)*Et)/(Pt*Pt+Et*Et);wt>1?(K=vt,pt=Ct):wt>0&&(K+=Pt*wt,pt+=Et*wt)}return(Pt=ct-K)*Pt+(Et=X-pt)*Et}function qe(ct,X,K,pt){var vt={id:ct===void 0?null:ct,type:X,geometry:K,tags:pt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ct){var Pt=Ct.geometry,Et=Ct.type;if(Et==="Point"||Et==="MultiPoint"||Et==="LineString")ca(Ct,Pt);else if(Et==="Polygon"||Et==="MultiLineString")for(var wt=0;wt<Pt.length;wt++)ca(Ct,Pt[wt]);else if(Et==="MultiPolygon")for(wt=0;wt<Pt.length;wt++)for(var jt=0;jt<Pt[wt].length;jt++)ca(Ct,Pt[wt][jt])}(vt),vt}function ca(ct,X){for(var K=0;K<X.length;K+=3)ct.minX=Math.min(ct.minX,X[K]),ct.minY=Math.min(ct.minY,X[K+1]),ct.maxX=Math.max(ct.maxX,X[K]),ct.maxY=Math.max(ct.maxY,X[K+1])}function Eo(ct,X,K,pt){if(X.geometry){var vt=X.geometry.coordinates,Ct=X.geometry.type,Pt=Math.pow(K.tolerance/((1<<K.maxZoom)*K.extent),2),Et=[],wt=X.id;if(K.promoteId?wt=X.properties[K.promoteId]:K.generateId&&(wt=pt||0),Ct==="Point")br(vt,Et);else if(Ct==="MultiPoint")for(var jt=0;jt<vt.length;jt++)br(vt[jt],Et);else if(Ct==="LineString")gn(vt,Et,Pt,!1);else if(Ct==="MultiLineString"){if(K.lineMetrics){for(jt=0;jt<vt.length;jt++)gn(vt[jt],Et=[],Pt,!1),ct.push(qe(wt,"LineString",Et,X.properties));return}Wo(vt,Et,Pt,!1)}else if(Ct==="Polygon")Wo(vt,Et,Pt,!0);else{if(Ct!=="MultiPolygon"){if(Ct==="GeometryCollection"){for(jt=0;jt<X.geometry.geometries.length;jt++)Eo(ct,{id:wt,geometry:X.geometry.geometries[jt],properties:X.properties},K,pt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(jt=0;jt<vt.length;jt++){var se=[];Wo(vt[jt],se,Pt,!0),Et.push(se)}}ct.push(qe(wt,Ct,Et,X.properties))}}function br(ct,X){X.push(Bs(ct[0])),X.push(Rn(ct[1])),X.push(0)}function gn(ct,X,K,pt){for(var vt,Ct,Pt=0,Et=0;Et<ct.length;Et++){var wt=Bs(ct[Et][0]),jt=Rn(ct[Et][1]);X.push(wt),X.push(jt),X.push(0),Et>0&&(Pt+=pt?(vt*jt-wt*Ct)/2:Math.sqrt(Math.pow(wt-vt,2)+Math.pow(jt-Ct,2))),vt=wt,Ct=jt}var se=X.length-3;X[2]=1,qo(X,0,se,K),X[se+2]=1,X.size=Math.abs(Pt),X.start=0,X.end=X.size}function Wo(ct,X,K,pt){for(var vt=0;vt<ct.length;vt++){var Ct=[];gn(ct[vt],Ct,K,pt),X.push(Ct)}}function Bs(ct){return ct/360+.5}function Rn(ct){var X=Math.sin(ct*Math.PI/180),K=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return K<0?0:K>1?1:K}function _o(ct,X,K,pt,vt,Ct,Pt,Et){if(pt/=X,Ct>=(K/=X)&&Pt<pt)return ct;if(Pt<K||Ct>=pt)return null;for(var wt=[],jt=0;jt<ct.length;jt++){var se=ct[jt],le=se.geometry,ne=se.type,Ve=vt===0?se.minX:se.minY,Xe=vt===0?se.maxX:se.maxY;if(Ve>=K&&Xe<pt)wt.push(se);else if(!(Xe<K||Ve>=pt)){var Ue=[];if(ne==="Point"||ne==="MultiPoint")ui(le,Ue,K,pt,vt);else if(ne==="LineString")Ns(le,Ue,K,pt,vt,!1,Et.lineMetrics);else if(ne==="MultiLineString")Cr(le,Ue,K,pt,vt,!1);else if(ne==="Polygon")Cr(le,Ue,K,pt,vt,!0);else if(ne==="MultiPolygon")for(var Ke=0;Ke<le.length;Ke++){var on=[];Cr(le[Ke],on,K,pt,vt,!0),on.length&&Ue.push(on)}if(Ue.length){if(Et.lineMetrics&&ne==="LineString"){for(Ke=0;Ke<Ue.length;Ke++)wt.push(qe(se.id,ne,Ue[Ke],se.tags));continue}ne!=="LineString"&&ne!=="MultiLineString"||(Ue.length===1?(ne="LineString",Ue=Ue[0]):ne="MultiLineString"),ne!=="Point"&&ne!=="MultiPoint"||(ne=Ue.length===3?"Point":"MultiPoint"),wt.push(qe(se.id,ne,Ue,se.tags))}}}return wt.length?wt:null}function ui(ct,X,K,pt,vt){for(var Ct=0;Ct<ct.length;Ct+=3){var Pt=ct[Ct+vt];Pt>=K&&Pt<=pt&&(X.push(ct[Ct]),X.push(ct[Ct+1]),X.push(ct[Ct+2]))}}function Ns(ct,X,K,pt,vt,Ct,Pt){for(var Et,wt,jt=wr(ct),se=vt===0?Is:or,le=ct.start,ne=0;ne<ct.length-3;ne+=3){var Ve=ct[ne],Xe=ct[ne+1],Ue=ct[ne+2],Ke=ct[ne+3],on=ct[ne+4],$n=vt===0?Ve:Xe,ro=vt===0?Ke:on,Zo=!1;Pt&&(Et=Math.sqrt(Math.pow(Ve-Ke,2)+Math.pow(Xe-on,2))),$n<K?ro>K&&(wt=se(jt,Ve,Xe,Ke,on,K),Pt&&(jt.start=le+Et*wt)):$n>pt?ro<pt&&(wt=se(jt,Ve,Xe,Ke,on,pt),Pt&&(jt.start=le+Et*wt)):Wr(jt,Ve,Xe,Ue),ro<K&&$n>=K&&(wt=se(jt,Ve,Xe,Ke,on,K),Zo=!0),ro>pt&&$n<=pt&&(wt=se(jt,Ve,Xe,Ke,on,pt),Zo=!0),!Ct&&Zo&&(Pt&&(jt.end=le+Et*wt),X.push(jt),jt=wr(ct)),Pt&&(le+=Et)}var bo=ct.length-3;Ve=ct[bo],Xe=ct[bo+1],Ue=ct[bo+2],($n=vt===0?Ve:Xe)>=K&&$n<=pt&&Wr(jt,Ve,Xe,Ue),bo=jt.length-3,Ct&&bo>=3&&(jt[bo]!==jt[0]||jt[bo+1]!==jt[1])&&Wr(jt,jt[0],jt[1],jt[2]),jt.length&&X.push(jt)}function wr(ct){var X=[];return X.size=ct.size,X.start=ct.start,X.end=ct.end,X}function Cr(ct,X,K,pt,vt,Ct){for(var Pt=0;Pt<ct.length;Pt++)Ns(ct[Pt],X,K,pt,vt,Ct,!1)}function Wr(ct,X,K,pt){ct.push(X),ct.push(K),ct.push(pt)}function Is(ct,X,K,pt,vt,Ct){var Pt=(Ct-X)/(pt-X);return ct.push(Ct),ct.push(K+(vt-K)*Pt),ct.push(1),Pt}function or(ct,X,K,pt,vt,Ct){var Pt=(Ct-K)/(vt-K);return ct.push(X+(pt-X)*Pt),ct.push(Ct),ct.push(1),Pt}function na(ct,X){for(var K=[],pt=0;pt<ct.length;pt++){var vt,Ct=ct[pt],Pt=Ct.type;if(Pt==="Point"||Pt==="MultiPoint"||Pt==="LineString")vt=oa(Ct.geometry,X);else if(Pt==="MultiLineString"||Pt==="Polygon"){vt=[];for(var Et=0;Et<Ct.geometry.length;Et++)vt.push(oa(Ct.geometry[Et],X))}else if(Pt==="MultiPolygon")for(vt=[],Et=0;Et<Ct.geometry.length;Et++){for(var wt=[],jt=0;jt<Ct.geometry[Et].length;jt++)wt.push(oa(Ct.geometry[Et][jt],X));vt.push(wt)}K.push(qe(Ct.id,Pt,vt,Ct.tags))}return K}function oa(ct,X){var K=[];K.size=ct.size,ct.start!==void 0&&(K.start=ct.start,K.end=ct.end);for(var pt=0;pt<ct.length;pt+=3)K.push(ct[pt]+X,ct[pt+1],ct[pt+2]);return K}function Fs(ct,X){if(ct.transformed)return ct;var K,pt,vt,Ct=1<<ct.z,Pt=ct.x,Et=ct.y;for(K=0;K<ct.features.length;K++){var wt=ct.features[K],jt=wt.geometry,se=wt.type;if(wt.geometry=[],se===1)for(pt=0;pt<jt.length;pt+=2)wt.geometry.push(Hr(jt[pt],jt[pt+1],X,Ct,Pt,Et));else for(pt=0;pt<jt.length;pt++){var le=[];for(vt=0;vt<jt[pt].length;vt+=2)le.push(Hr(jt[pt][vt],jt[pt][vt+1],X,Ct,Pt,Et));wt.geometry.push(le)}}return ct.transformed=!0,ct}function Hr(ct,X,K,pt,vt,Ct){return[Math.round(K*(ct*pt-vt)),Math.round(K*(X*pt-Ct))]}function Zr(ct,X,K,pt,vt){for(var Ct=X===vt.maxZoom?0:vt.tolerance/((1<<X)*vt.extent),Pt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:K,y:pt,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Et=0;Et<ct.length;Et++){Pt.numFeatures++,Rs(Pt,ct[Et],Ct,vt);var wt=ct[Et].minX,jt=ct[Et].minY,se=ct[Et].maxX,le=ct[Et].maxY;wt<Pt.minX&&(Pt.minX=wt),jt<Pt.minY&&(Pt.minY=jt),se>Pt.maxX&&(Pt.maxX=se),le>Pt.maxY&&(Pt.maxY=le)}return Pt}function Rs(ct,X,K,pt){var vt=X.geometry,Ct=X.type,Pt=[];if(Ct==="Point"||Ct==="MultiPoint")for(var Et=0;Et<vt.length;Et+=3)Pt.push(vt[Et]),Pt.push(vt[Et+1]),ct.numPoints++,ct.numSimplified++;else if(Ct==="LineString")Xr(Pt,vt,ct,K,!1,!1);else if(Ct==="MultiLineString"||Ct==="Polygon")for(Et=0;Et<vt.length;Et++)Xr(Pt,vt[Et],ct,K,Ct==="Polygon",Et===0);else if(Ct==="MultiPolygon")for(var wt=0;wt<vt.length;wt++){var jt=vt[wt];for(Et=0;Et<jt.length;Et++)Xr(Pt,jt[Et],ct,K,!0,Et===0)}if(Pt.length){var se=X.tags||null;if(Ct==="LineString"&&pt.lineMetrics){for(var le in se={},X.tags)se[le]=X.tags[le];se.mapbox_clip_start=vt.start/vt.size,se.mapbox_clip_end=vt.end/vt.size}var ne={geometry:Pt,type:Ct==="Polygon"||Ct==="MultiPolygon"?3:Ct==="LineString"||Ct==="MultiLineString"?2:1,tags:se};X.id!==null&&(ne.id=X.id),ct.features.push(ne)}}function Xr(ct,X,K,pt,vt,Ct){var Pt=pt*pt;if(pt>0&&X.size<(vt?Pt:pt))K.numPoints+=X.length/3;else{for(var Et=[],wt=0;wt<X.length;wt+=3)(pt===0||X[wt+2]>Pt)&&(K.numSimplified++,Et.push(X[wt]),Et.push(X[wt+1])),K.numPoints++;vt&&function(jt,se){for(var le=0,ne=0,Ve=jt.length,Xe=Ve-2;ne<Ve;Xe=ne,ne+=2)le+=(jt[ne]-jt[Xe])*(jt[ne+1]+jt[Xe+1]);if(le>0===se)for(ne=0,Ve=jt.length;ne<Ve/2;ne+=2){var Ue=jt[ne],Ke=jt[ne+1];jt[ne]=jt[Ve-2-ne],jt[ne+1]=jt[Ve-1-ne],jt[Ve-2-ne]=Ue,jt[Ve-1-ne]=Ke}}(Et,Ct),ct.push(Et)}}function ja(ct,X){var K=(X=this.options=function(vt,Ct){for(var Pt in Ct)vt[Pt]=Ct[Pt];return vt}(Object.create(this.options),X)).debug;if(K&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var pt=function(vt,Ct){var Pt=[];if(vt.type==="FeatureCollection")for(var Et=0;Et<vt.features.length;Et++)Eo(Pt,vt.features[Et],Ct,Et);else Eo(Pt,vt.type==="Feature"?vt:{geometry:vt},Ct);return Pt}(ct,X);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),pt=function(vt,Ct){var Pt=Ct.buffer/Ct.extent,Et=vt,wt=_o(vt,1,-1-Pt,Pt,0,-1,2,Ct),jt=_o(vt,1,1-Pt,2+Pt,0,-1,2,Ct);return(wt||jt)&&(Et=_o(vt,1,-Pt,1+Pt,0,-1,2,Ct)||[],wt&&(Et=na(wt,1).concat(Et)),jt&&(Et=Et.concat(na(jt,-1)))),Et}(pt,X),pt.length&&this.splitTile(pt,0,0,0),K&&(pt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ho(ct,X,K){return 32*((1<<ct)*K+X)+ct}function Kr(ct,X){const K=ct.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const pt=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!pt)return X(null,null);const vt=new class{constructor(Pt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=Pt.length,this._features=Pt}feature(Pt){return new class{constructor(Et){this._feature=Et,this.extent=i.EXTENT,this.type=Et.type,this.properties=Et.tags,"id"in Et&&!isNaN(Et.id)&&(this.id=parseInt(Et.id,10))}loadGeometry(){if(this._feature.type===1){const Et=[];for(const wt of this._feature.geometry)Et.push([new i.Point(wt[0],wt[1])]);return Et}{const Et=[];for(const wt of this._feature.geometry){const jt=[];for(const se of wt)jt.push(new i.Point(se[0],se[1]));Et.push(jt)}return Et}}toGeoJSON(Et,wt,jt){return tt.call(this,Et,wt,jt)}}(this._features[Pt])}}(pt.features);let Ct=Be(vt);Ct.byteOffset===0&&Ct.byteLength===Ct.buffer.byteLength||(Ct=new Uint8Array(Ct)),X(null,{vectorTile:vt,rawData:Ct.buffer})}ja.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ja.prototype.splitTile=function(ct,X,K,pt,vt,Ct,Pt){for(var Et=[ct,X,K,pt],wt=this.options,jt=wt.debug;Et.length;){pt=Et.pop(),K=Et.pop(),X=Et.pop(),ct=Et.pop();var se=1<<X,le=Ho(X,K,pt),ne=this.tiles[le];if(!ne&&(jt>1&&console.time("creation"),ne=this.tiles[le]=Zr(ct,X,K,pt,wt),this.tileCoords.push({z:X,x:K,y:pt}),jt)){jt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,K,pt,ne.numFeatures,ne.numPoints,ne.numSimplified),console.timeEnd("creation"));var Ve="z"+X;this.stats[Ve]=(this.stats[Ve]||0)+1,this.total++}if(ne.source=ct,vt){if(X===wt.maxZoom||X===vt)continue;var Xe=1<<vt-X;if(K!==Math.floor(Ct/Xe)||pt!==Math.floor(Pt/Xe))continue}else if(X===wt.indexMaxZoom||ne.numPoints<=wt.indexMaxPoints)continue;if(ne.source=null,ct.length!==0){jt>1&&console.time("clipping");var Ue,Ke,on,$n,ro,Zo,bo=.5*wt.buffer/wt.extent,Ar=.5-bo,ko=.5+bo,aa=1+bo;Ue=Ke=on=$n=null,ro=_o(ct,se,K-bo,K+ko,0,ne.minX,ne.maxX,wt),Zo=_o(ct,se,K+Ar,K+aa,0,ne.minX,ne.maxX,wt),ct=null,ro&&(Ue=_o(ro,se,pt-bo,pt+ko,1,ne.minY,ne.maxY,wt),Ke=_o(ro,se,pt+Ar,pt+aa,1,ne.minY,ne.maxY,wt),ro=null),Zo&&(on=_o(Zo,se,pt-bo,pt+ko,1,ne.minY,ne.maxY,wt),$n=_o(Zo,se,pt+Ar,pt+aa,1,ne.minY,ne.maxY,wt),Zo=null),jt>1&&console.timeEnd("clipping"),Et.push(Ue||[],X+1,2*K,2*pt),Et.push(Ke||[],X+1,2*K,2*pt+1),Et.push(on||[],X+1,2*K+1,2*pt),Et.push($n||[],X+1,2*K+1,2*pt+1)}}},ja.prototype.getTile=function(ct,X,K){var pt=this.options,vt=pt.extent,Ct=pt.debug;if(ct<0||ct>24)return null;var Pt=1<<ct,Et=Ho(ct,X=(X%Pt+Pt)%Pt,K);if(this.tiles[Et])return Fs(this.tiles[Et],vt);Ct>1&&console.log("drilling down to z%d-%d-%d",ct,X,K);for(var wt,jt=ct,se=X,le=K;!wt&&jt>0;)jt--,se=Math.floor(se/2),le=Math.floor(le/2),wt=this.tiles[Ho(jt,se,le)];return wt&&wt.source?(Ct>1&&console.log("found parent tile z%d-%d-%d",jt,se,le),Ct>1&&console.time("drilling down"),this.splitTile(wt.source,jt,se,le,ct,X,K),Ct>1&&console.timeEnd("drilling down"),this.tiles[Et]?Fs(this.tiles[Et],vt):null):null};class Oe extends i.VectorTileWorkerSource{constructor(X,K,pt,vt,Ct){super(X,K,pt,vt,Kr),Ct&&(this.loadGeoJSON=Ct)}loadData(X,K){const pt=X&&X.request,vt=pt&&pt.collectResourceTiming;this.loadGeoJSON(X,(Ct,Pt)=>{if(Ct||!Pt)return K(Ct);if(typeof Pt!="object")return K(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{H(Pt,!0);try{if(X.filter){const wt=i.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(wt.result==="error")throw new Error(wt.value.map(se=>`${se.key}: ${se.message}`).join(", "));Pt={type:"FeatureCollection",features:Pt.features.filter(se=>wt.value.evaluate({zoom:0},se))}}this._geoJSONIndex=X.cluster?new He(function({superclusterOptions:wt,clusterProperties:jt}){if(!jt||!wt)return wt;const se={},le={},ne={accumulated:null,zoom:0},Ve={properties:null},Xe=Object.keys(jt);for(const Ue of Xe){const[Ke,on]=jt[Ue],$n=i.createExpression(on),ro=i.createExpression(typeof Ke=="string"?[Ke,["accumulated"],["get",Ue]]:Ke);se[Ue]=$n.value,le[Ue]=ro.value}return wt.map=Ue=>{Ve.properties=Ue;const Ke={};for(const on of Xe)Ke[on]=se[on].evaluate(ne,Ve);return Ke},wt.reduce=(Ue,Ke)=>{Ve.properties=Ke;for(const on of Xe)ne.accumulated=Ue[on],Ue[on]=le[on].evaluate(ne,Ve)},wt}(X)).load(Pt.features):function(wt,jt){return new ja(wt,jt)}(Pt,X.geojsonVtOptions)}catch(wt){return K(wt)}this.loaded={};const Et={};if(vt){const wt=i.getPerformanceMeasurement(pt);wt&&(Et.resourceTiming={},Et.resourceTiming[X.source]=JSON.parse(JSON.stringify(wt)))}K(null,Et)}})}reloadTile(X,K){const pt=this.loaded;return pt&&pt[X.uid]?super.reloadTile(X,K):this.loadTile(X,K)}loadGeoJSON(X,K){if(X.request)i.getJSON(X.request,K);else{if(typeof X.data!="string")return K(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));try{return K(null,JSON.parse(X.data))}catch{return K(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(X,K){try{K(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(pt){K(pt)}}getClusterChildren(X,K){try{K(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(pt){K(pt)}}getClusterLeaves(X,K){try{K(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(pt){K(pt)}}}class bn{constructor(X){this.self=X,this.actor=new i.Actor(X,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=i.getProjection({name:"mercator"}),this.workerSourceTypes={vector:i.VectorTileWorkerSource,geojson:Oe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(K,pt)=>{if(this.workerSourceTypes[K])throw new Error(`Worker source with name "${K}" already registered.`);this.workerSourceTypes[K]=pt},this.self.registerRTLTextPlugin=K=>{if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=K.applyArabicShaping,i.plugin.processBidirectionalText=K.processBidirectionalText,i.plugin.processStyledBidirectionalText=K.processStyledBidirectionalText}}clearCaches(X,K,pt){delete this.layerIndexes[X],delete this.availableImages[X],delete this.workerSources[X],delete this.demWorkerSources[X],pt()}checkIfReady(X,K,pt){pt()}setReferrer(X,K){this.referrer=K}spriteLoaded(X,K){this.isSpriteLoaded[X]=K;for(const pt in this.workerSources[X]){const vt=this.workerSources[X][pt];for(const Ct in vt)vt[Ct]instanceof i.VectorTileWorkerSource&&(vt[Ct].isSpriteLoaded=K,vt[Ct].fire(new i.Event("isSpriteLoaded")))}}setImages(X,K,pt){this.availableImages[X]=K;for(const vt in this.workerSources[X]){const Ct=this.workerSources[X][vt];for(const Pt in Ct)Ct[Pt].availableImages=K}pt()}enableTerrain(X,K,pt){this.terrain=K,pt()}setProjection(X,K){this.projections[X]=i.getProjection(K)}setLayers(X,K,pt){this.getLayerIndex(X).replace(K),pt()}updateLayers(X,K,pt){this.getLayerIndex(X).update(K.layers,K.removedIds),pt()}loadTile(X,K,pt){const vt=this.enableTerrain?i.extend({enableTerrain:this.terrain},K):K;vt.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,K.type,K.source).loadTile(vt,pt)}loadDEMTile(X,K,pt){const vt=this.enableTerrain?i.extend({buildQuadTree:this.terrain},K):K;this.getDEMWorkerSource(X,K.source).loadTile(vt,pt)}reloadTile(X,K,pt){const vt=this.enableTerrain?i.extend({enableTerrain:this.terrain},K):K;vt.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,K.type,K.source).reloadTile(vt,pt)}abortTile(X,K,pt){this.getWorkerSource(X,K.type,K.source).abortTile(K,pt)}removeTile(X,K,pt){this.getWorkerSource(X,K.type,K.source).removeTile(K,pt)}removeSource(X,K,pt){if(!this.workerSources[X]||!this.workerSources[X][K.type]||!this.workerSources[X][K.type][K.source])return;const vt=this.workerSources[X][K.type][K.source];delete this.workerSources[X][K.type][K.source],vt.removeSource!==void 0?vt.removeSource(K,pt):pt()}loadWorkerSource(X,K,pt){try{this.self.importScripts(K.url),pt()}catch(vt){pt(vt.toString())}}syncRTLPluginState(X,K,pt){try{i.plugin.setState(K);const vt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&vt!=null){this.self.importScripts(vt);const Ct=i.plugin.isParsed();pt(Ct?void 0:new Error(`RTL Text Plugin failed to import scripts from ${vt}`),Ct)}}catch(vt){pt(vt.toString())}}getAvailableImages(X){let K=this.availableImages[X];return K||(K=[]),K}getLayerIndex(X){let K=this.layerIndexes[X];return K||(K=this.layerIndexes[X]=new F),K}getWorkerSource(X,K,pt){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][K]||(this.workerSources[X][K]={}),!this.workerSources[X][K][pt]){const vt={send:(Ct,Pt,Et,wt,jt,se)=>{this.actor.send(Ct,Pt,Et,X,jt,se)},scheduler:this.actor.scheduler};this.workerSources[X][K][pt]=new this.workerSourceTypes[K](vt,this.getLayerIndex(X),this.getAvailableImages(X),this.isSpriteLoaded[X])}return this.workerSources[X][K][pt]}getDEMWorkerSource(X,K){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][K]||(this.demWorkerSources[X][K]=new N),this.demWorkerSources[X][K]}enforceCacheSizeLimit(X,K){i.enforceCacheSizeLimit(K)}getWorkerPerformanceMetrics(X,K,pt){pt(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new bn(self)),bn}),_(["./shared"],function(i){function E(m,s){if(Array.isArray(m)){if(!Array.isArray(s)||m.length!==s.length)return!1;for(let d=0;d<m.length;d++)if(!E(m[d],s[d]))return!1;return!0}if(typeof m=="object"&&m!==null&&s!==null){if(typeof s!="object"||Object.keys(m).length!==Object.keys(s).length)return!1;for(const d in m)if(!E(m[d],s[d]))return!1;return!0}return m===s}var B=F;function F(m){return!function(s){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var f,v,b=new Blob([""],{type:"text/javascript"}),S=URL.createObjectURL(b);try{v=new Worker(S),f=!0}catch{f=!1}return v&&v.terminate(),URL.revokeObjectURL(S),f}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var f=document.createElement("canvas");f.width=f.height=1;var v=f.getContext("2d");if(!v)return!1;var b=v.getImageData(0,0,1,1);return b&&b.width===f.width}()?(N[d=s&&s.failIfMajorPerformanceCaveat]===void 0&&(N[d]=function(f){var v,b=function(S){var P=document.createElement("canvas"),M=Object.create(F.webGLContextAttributes);return M.failIfMajorPerformanceCaveat=S,P.getContext("webgl",M)||P.getContext("experimental-webgl",M)}(f);if(!b)return!1;try{v=b.createShader(b.VERTEX_SHADER)}catch{return!1}return!(!v||b.isContextLost())&&(b.shaderSource(v,"void main() {}"),b.compileShader(v),b.getShaderParameter(v,b.COMPILE_STATUS)===!0)}(d)),N[d]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var d}(m)}var N={};function V(m,s,d){const f=i.window.document.createElement(m);return s!==void 0&&(f.className=s),d&&d.appendChild(f),f}function Q(m,s,d){const f=i.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const v of Object.keys(s))f.setAttributeNS(null,v,s[v]);return d&&d.appendChild(f),f}F.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const H=i.window.document&&i.window.document.documentElement.style,tt=H&&H.userSelect!==void 0?"userSelect":"WebkitUserSelect";let W;function $(){H&&tt&&(W=H[tt],H[tt]="none")}function Z(){H&&tt&&(H[tt]=W)}function dt(m){m.preventDefault(),m.stopPropagation(),i.window.removeEventListener("click",dt,!0)}function ft(){i.window.addEventListener("click",dt,!0),i.window.setTimeout(()=>{i.window.removeEventListener("click",dt,!0)},0)}function St(m,s){const d=m.getBoundingClientRect();return ie(m,d,s)}function zt(m,s){const d=m.getBoundingClientRect(),f=[];for(let v=0;v<s.length;v++)f.push(ie(m,d,s[v]));return f}function Ft(m){return i.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function ie(m,s,d){const f=m.offsetWidth===s.width?1:m.offsetWidth/s.width;return new i.Point((d.clientX-s.left)*f,(d.clientY-s.top)*f)}function Dt(m,s){var d=s[0],f=s[1],v=s[2],b=s[3],S=d*b-v*f;return S?(m[0]=b*(S=1/S),m[1]=-f*S,m[2]=-v*S,m[3]=d*S,m):null}function Ie(m){const{userImage:s}=m;return!!(s&&s.render&&s.render())&&(m.data.replace(new Uint8Array(s.data.buffer)),!0)}class Te extends i.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:d,callback:f}of this.requestors)this._notify(d,f);this.requestors=[]}}hasImage(s){return!!this.getImage(s)}getImage(s){return this.images[s]}addImage(s,d){this._validate(s,d)&&(this.images[s]=d)}_validate(s,d){let f=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new i.ErrorEvent(new Error(`Image "${s}" has invalid "stretchX" value`))),f=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new i.ErrorEvent(new Error(`Image "${s}" has invalid "stretchY" value`))),f=!1),this._validateContent(d.content,d)||(this.fire(new i.ErrorEvent(new Error(`Image "${s}" has invalid "content" value`))),f=!1),f}_validateStretch(s,d){if(!s)return!0;let f=0;for(const v of s){if(v[0]<f||v[1]<v[0]||d<v[1])return!1;f=v[1]}return!0}_validateContent(s,d){return!(s&&(s.length!==4||s[0]<0||d.data.width<s[0]||s[1]<0||d.data.height<s[1]||s[2]<0||d.data.width<s[2]||s[3]<0||d.data.height<s[3]||s[2]<s[0]||s[3]<s[1]))}updateImage(s,d){d.version=this.images[s].version+1,this.images[s]=d,this.updatedImages[s]=!0}removeImage(s){const d=this.images[s];delete this.images[s],delete this.patterns[s],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s,d){let f=!0;if(!this.isLoaded())for(const v of s)this.images[v]||(f=!1);this.isLoaded()||f?this._notify(s,d):this.requestors.push({ids:s,callback:d})}_notify(s,d){const f={};for(const v of s){this.images[v]||this.fire(new i.Event("styleimagemissing",{id:v}));const b=this.images[v];b?f[v]={data:b.data.clone(),pixelRatio:b.pixelRatio,sdf:b.sdf,version:b.version,stretchX:b.stretchX,stretchY:b.stretchY,content:b.content,hasRenderCallback:!!(b.userImage&&b.userImage.render)}:i.warnOnce(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,f)}getPixelSize(){const{width:s,height:d}=this.atlasImage;return{width:s,height:d}}getPattern(s){const d=this.patterns[s],f=this.getImage(s);if(!f)return null;if(d&&d.position.version===f.version)return d.position;if(d)d.position.version=f.version;else{const v={w:f.data.width+2,h:f.data.height+2,x:0,y:0},b=new i.ImagePosition(v,f);this.patterns[s]={bin:v,position:b}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const d=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(s,this.atlasImage,d.RGBA),this.atlasTexture&&this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const b in this.patterns)s.push(this.patterns[b].bin);const{w:d,h:f}=i.potpack(s),v=this.atlasImage;v.resize({width:d||1,height:f||1});for(const b in this.patterns){const{bin:S}=this.patterns[b],P=S.x+1,M=S.y+1,L=this.images[b].data,R=L.width,O=L.height;i.RGBAImage.copy(L,v,{x:0,y:0},{x:P,y:M},{width:R,height:O}),i.RGBAImage.copy(L,v,{x:0,y:O-1},{x:P,y:M-1},{width:R,height:1}),i.RGBAImage.copy(L,v,{x:0,y:0},{x:P,y:M+O},{width:R,height:1}),i.RGBAImage.copy(L,v,{x:R-1,y:0},{x:P-1,y:M},{width:1,height:O}),i.RGBAImage.copy(L,v,{x:0,y:0},{x:P+R,y:M},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const d of s){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const f=this.images[d];Ie(f)&&this.updateImage(d,f)}}}const xe=new i.Properties({anchor:new i.DataConstantProperty(i.spec.light.anchor),position:new class{constructor(){this.specification=i.spec.light.position}possiblyEvaluate(m,s){return function([d,f,v]){const b=i.degToRad(f+90),S=i.degToRad(v);return{x:d*Math.cos(b)*Math.sin(S),y:d*Math.sin(b)*Math.sin(S),z:d*Math.cos(S),azimuthal:f,polar:v}}(m.expression.evaluate(s))}interpolate(m,s,d){return{x:i.number(m.x,s.x,d),y:i.number(m.y,s.y,d),z:i.number(m.z,s.z,d),azimuthal:i.number(m.azimuthal,s.azimuthal,d),polar:i.number(m.polar,s.polar,d)}}},color:new i.DataConstantProperty(i.spec.light.color),intensity:new i.DataConstantProperty(i.spec.light.intensity)});class ce extends i.Evented{constructor(s){super(),this._transitionable=new i.Transitionable(xe),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,d={}){if(!this._validate(i.validateLight,s,d))for(const f in s){const v=s[f];i.endsWith(f,"-transition")?this._transitionable.setTransition(f.slice(0,-11),v):this._transitionable.setValue(f,v)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,f){return(!f||f.validate!==!1)&&i.emitValidationErrors(this,s.call(i.validateStyle,i.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:i.spec})))}}const en=new i.Properties({source:new i.DataConstantProperty(i.spec.terrain.source),exaggeration:new i.DataConstantProperty(i.spec.terrain.exaggeration)});let Fe=class extends i.Evented{constructor(m,s){super(),this._transitionable=new i.Transitionable(en),this.set(m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=s}get(){return this._transitionable.serialize()}set(m){for(const s in m){const d=m[s];i.endsWith(s,"-transition")?this._transitionable.setTransition(s.slice(0,-11),d):this._transitionable.setValue(s,d)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}};function Be(m,s,d,f){const v=i.smoothstep(45,65,d),[b,S]=Ot(m,f),P=i.length(s);let M=1-Math.min(1,Math.exp((P-b)/(S-b)*-6));return M*=M*M,M=Math.min(1,1.00747*M),M*v*m.alpha}function Ot(m,s){const d=.5/Math.tan(.5*s);return[m.range[0]+d,m.range[1]+d]}const Zt=new i.Properties({range:new i.DataConstantProperty(i.spec.fog.range),color:new i.DataConstantProperty(i.spec.fog.color),"high-color":new i.DataConstantProperty(i.spec.fog["high-color"]),"space-color":new i.DataConstantProperty(i.spec.fog["space-color"]),"horizon-blend":new i.DataConstantProperty(i.spec.fog["horizon-blend"]),"star-intensity":new i.DataConstantProperty(i.spec.fog["star-intensity"])});class we extends i.Evented{constructor(s,d){super(),this._transitionable=new i.Transitionable(Zt),this.set(s),this._transitioning=this._transitionable.untransitioned(),this._transform=d}get state(){const s=this._transform,d=s.projection.name==="globe",f=i.globeToMercatorTransition(s.zoom),v=this.properties.get("range"),b=[.5,3];return{range:d?[i.number(b[0],v[0],f),i.number(b[1],v[1],f)]:v,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(s,d={}){if(!this._validate(i.validateFog,s,d)){for(const f of Object.keys(i.spec.fog))s&&s[f]===void 0&&(s[f]=i.spec.fog[f].default);for(const f in s){const v=s[f];i.endsWith(f,"-transition")?this._transitionable.setTransition(f.slice(0,-11),v):this._transitionable.setValue(f,v)}}}getOpacity(s){if(!this._transform.projection.supportsFog)return 0;const d=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:i.smoothstep(45,65,s))*d.a}getOpacityAtLatLng(s,d){return this._transform.projection.supportsFog?function(f,v,b){const S=i.MercatorCoordinate.fromLngLat(v),P=b.elevation?b.elevation.getAtPointOrZero(S):0,M=[S.x,S.y,P];return i.transformMat4(M,M,b.mercatorFogMatrix),Be(f,M,b.pitch,b._fov)}(this.state,s,d):0}getFovAdjustedRange(s){return this._transform.projection.supportsFog?Ot(this.state,s):[0,1]}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,f){return(!f||f.validate!==!1)&&i.emitValidationErrors(this,s.call(i.validateStyle,i.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:i.spec})))}}class fe{constructor(s,d){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=i.uniqueId();const f=this.workerPool.acquire(this.id);for(let v=0;v<f.length;v++){const b=new fe.Actor(f[v],d,this.id);b.name=`Worker ${v}`,this.actors.push(b)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(s,d,f){i.asyncAll(this.actors,(v,b)=>{v.send(s,d,b)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(s=>{s.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ce(m,s,d){return s*(i.EXTENT/(m.tileSize*Math.pow(2,d-m.tileID.overscaledZ)))}fe.Actor=i.Actor;class Ze{constructor(s,d,f,v){this.screenBounds=s,this.cameraPoint=d,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=f,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,v)}static createFromScreenPoints(s,d){let f,v;if(s instanceof i.Point||typeof s[0]=="number"){const b=i.Point.convert(s);f=[b],v=d.isPointAboveHorizon(b)}else{const b=i.Point.convert(s[0]),S=i.Point.convert(s[1]);f=[b,S],v=i.polygonizeBounds(b,S).every(P=>d.isPointAboveHorizon(P))}return new Ze(f,d.getCameraPoint(),v,d)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(s){return i.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],s)}bufferedCameraGeometry(s){const d=this.screenBounds[0],f=this.screenBounds.length===1?this.screenBounds[0].add(new i.Point(1,1)):this.screenBounds[1],v=i.polygonizeBounds(d,f,0,!1);return this.cameraPoint.y>f.y&&(this.cameraPoint.x>d.x&&this.cameraPoint.x<f.x?v.splice(3,0,this.cameraPoint):this.cameraPoint.x>=f.x?v[2]=this.cameraPoint:this.cameraPoint.x<=d.x&&(v[3]=this.cameraPoint)),i.bufferConvexPolygon(v,s)}bufferedCameraGeometryGlobe(s){const d=this.screenBounds[0],f=this.screenBounds.length===1?this.screenBounds[0].add(new i.Point(1,1)):this.screenBounds[1],v=i.polygonizeBounds(d,f,s),b=this.cameraPoint.clone();switch(3*((b.y>d.y)+(b.y>f.y))+((b.x>d.x)+(b.x>f.x))){case 0:v[0]=b,v[4]=b.clone();break;case 1:v.splice(1,0,b);break;case 2:v[1]=b;break;case 3:v.splice(4,0,b);break;case 5:v.splice(2,0,b);break;case 6:v[3]=b;break;case 7:v.splice(3,0,b);break;case 8:v[2]=b}return v}containsTile(s,d,f,v=0){const b=s.queryPadding/d._pixelsPerMercatorPixel+1,S=f?this._bufferedCameraMercator(b,d):this._bufferedScreenMercator(b,d);let P=s.tileID.wrap+(S.unwrapped?v:0);const M=S.polygon.map(rt=>i.getTilePoint(s.tileTransform,rt,P));if(!i.polygonIntersectsBox(M,0,0,i.EXTENT,i.EXTENT))return;P=s.tileID.wrap+(this.screenGeometryMercator.unwrapped?v:0);const L=this.screenGeometryMercator.polygon.map(rt=>i.getTileVec3(s.tileTransform,rt,P)),R=L.map(rt=>new i.Point(rt[0],rt[1])),O=d.getFreeCameraOptions().position||new i.MercatorCoordinate(0,0,0),Y=i.getTileVec3(s.tileTransform,O,P),nt=L.map(rt=>{const U=i.sub(rt,rt,Y);return i.normalize(U,U),new i.Ray(Y,U)}),at=Ce(s,1,d.zoom)*d._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:R,tilespaceRays:nt,bufferedTilespaceGeometry:M,bufferedTilespaceBounds:(ot=i.getBounds(M),ot.min.x=i.clamp(ot.min.x,0,i.EXTENT),ot.min.y=i.clamp(ot.min.y,0,i.EXTENT),ot.max.x=i.clamp(ot.max.x,0,i.EXTENT),ot.max.y=i.clamp(ot.max.y,0,i.EXTENT),ot),tile:s,tileID:s.tileID,pixelToTileUnitsFactor:at};var ot}_bufferedScreenMercator(s,d){const f=cn(s);if(this._screenRaycastCache[f])return this._screenRaycastCache[f];{let v;return v=d.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(s),d):{polygon:this.bufferedScreenGeometry(s).map(b=>d.pointCoordinate3D(b)),unwrapped:!0},this._screenRaycastCache[f]=v,v}}_bufferedCameraMercator(s,d){const f=cn(s);if(this._cameraRaycastCache[f])return this._cameraRaycastCache[f];{let v;return v=d.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(s),d):{polygon:this.bufferedCameraGeometry(s).map(b=>d.pointCoordinate3D(b)),unwrapped:!0},this._cameraRaycastCache[f]=v,v}}_projectAndResample(s,d){const f=function(b,S){const P=i.multiply([],S.pixelMatrix,S.globeMatrix),M=[0,-i.GLOBE_RADIUS,0,1],L=[0,i.GLOBE_RADIUS,0,1],R=[0,0,0,1];i.transformMat4$1(M,M,P),i.transformMat4$1(L,L,P),i.transformMat4$1(R,R,P);const O=new i.Point(M[0]/M[3],M[1]/M[3]),Y=new i.Point(L[0]/L[3],L[1]/L[3]),nt=i.polygonContainsPoint(b,O)&&M[3]<R[3],at=i.polygonContainsPoint(b,Y)&&L[3]<R[3];if(!nt&&!at)return null;const ot=function(_t,Tt,At){for(let Nt=1;Nt<_t.length;Nt++){const Qt=to(Tt.pointCoordinate3D(_t[Nt-1]).x),Mt=to(Tt.pointCoordinate3D(_t[Nt]).x);if(At<0){if(Qt<Mt)return{idx:Nt,t:-Qt/(Mt-1-Qt)}}else if(Mt<Qt)return{idx:Nt,t:(1-Qt)/(Mt+1-Qt)}}return null}(b,S,nt?-1:1);if(!ot)return null;const{idx:rt,t:U}=ot;let et=rt>1?He(b.slice(0,rt),S):[],lt=rt<b.length?He(b.slice(rt),S):[];et=et.map(_t=>new i.Point(to(_t.x),_t.y)),lt=lt.map(_t=>new i.Point(to(_t.x),_t.y));const ut=[...et];ut.length===0&&ut.push(lt[lt.length-1]);const yt=i.number(ut[ut.length-1].y,(lt.length===0?et[0]:lt[0]).y,U);let bt;return bt=nt?[new i.Point(0,yt),new i.Point(0,0),new i.Point(1,0),new i.Point(1,yt)]:[new i.Point(1,yt),new i.Point(1,1),new i.Point(0,1),new i.Point(0,yt)],ut.push(...bt),lt.length===0?ut.push(et[0]):ut.push(...lt),{polygon:ut.map(_t=>new i.MercatorCoordinate(_t.x,_t.y)),unwrapped:!1}}(s,d);if(f)return f;const v=function(b,S){let P=!1,M=-1/0,L=0;for(let O=0;O<b.length-1;O++)b[O].x>M&&(M=b[O].x,L=O);for(let O=0;O<b.length-1;O++){const Y=(L+O)%(b.length-1),nt=b[Y],at=b[Y+1];Math.abs(nt.x-at.x)>.5&&(nt.x<at.x?(nt.x+=1,Y===0&&(b[b.length-1].x+=1)):(at.x+=1,Y+1===b.length-1&&(b[0].x+=1)),P=!0)}const R=i.mercatorXfromLng(S.center.lng);return P&&R<Math.abs(R-1)&&b.forEach(O=>{O.x-=1}),{polygon:b,unwrapped:P}}(He(s,d).map(b=>new i.Point(to(b.x),b.y)),d);return{polygon:v.polygon.map(b=>new i.MercatorCoordinate(b.x,b.y)),unwrapped:v.unwrapped}}}function He(m,s){return i.resample(m,d=>{const f=s.pointCoordinate3D(d);d.x=f.x,d.y=f.y},1/256)}function to(m){return m<0?1+m%1:m%1}function cn(m){return 100*m|0}function yo(m,s,d,f,v){const b=function(S,P){if(S)return v(S);if(P){m.url&&P.tiles&&m.tiles&&delete m.tiles;const M=i.pick(i.extend(P,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);P.vector_layers&&(M.vectorLayers=P.vector_layers,M.vectorLayerIds=M.vectorLayers.map(L=>L.id)),M.tiles=s.canonicalizeTileset(M,m.url),v(null,M)}};return m.url?i.getJSON(s.transformRequest(s.normalizeSourceURL(m.url,null,d,f),i.ResourceType.Source),b):i.exported.frame(()=>b(null,m))}class Mo{constructor(s,d,f){this.bounds=i.LngLatBounds.convert(this.validateBounds(s)),this.minzoom=d||0,this.maxzoom=f||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const d=Math.pow(2,s.z),f=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*d),v=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*d),b=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*d),S=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*d);return s.x>=f&&s.x<b&&s.y>=v&&s.y<S}}class Sa{constructor(s,d,f){this.context=s;const v=s.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const qo={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class nr{constructor(s,d,f,v){this.length=d.length,this.attributes=f,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=s;const b=s.gl;this.buffer=b.createBuffer(),s.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,d){for(let f=0;f<this.attributes.length;f++){const v=d.attributes[this.attributes[f].name];v!==void 0&&s.enableVertexAttribArray(v)}}setVertexAttribPointers(s,d,f){for(let v=0;v<this.attributes.length;v++){const b=this.attributes[v],S=d.attributes[b.name];S!==void 0&&s.vertexAttribPointer(S,b.components,s[qo[b.type]],!1,this.itemSize,b.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class qe{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ca extends qe{getDefault(){return i.Color.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Eo extends qe{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class br extends qe{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class gn extends qe{getDefault(){return[!0,!0,!0,!0]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class Wo extends qe{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class Bs extends qe{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class Rn extends qe{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const d=this.current;(s.func!==d.func||s.ref!==d.ref||s.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class _o extends qe{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class ui extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=s,this.dirty=!1}}class Ns extends qe{getDefault(){return[0,1]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class wr extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=s,this.dirty=!1}}class Cr extends qe{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class Wr extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.BLEND):d.disable(d.BLEND),this.current=s,this.dirty=!1}}class Is extends qe{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class or extends qe{getDefault(){return i.Color.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class na extends qe{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class oa extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=s,this.dirty=!1}}class Fs extends qe{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class Hr extends qe{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}let Zr,Rs=class extends qe{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class Xr extends qe{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class ja extends qe{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class Ho extends qe{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class Kr extends qe{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Oe extends qe{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class bn extends qe{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class ct extends qe{getDefault(){return null}set(s){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class X extends qe{constructor(s){super(s),this.vao=s.extVertexArrayObject}getDefault(){return null}set(s){this.vao&&(s!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(s),this.current=s,this.dirty=!1)}}class K extends qe{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class pt extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class vt extends qe{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class Ct extends qe{constructor(s,d){super(s),this.context=s,this.parent=d}getDefault(){return null}}class Pt extends Ct{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class Et extends Ct{attachment(){return this.gl.DEPTH_ATTACHMENT}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,this.attachment(),d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class wt extends Et{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class jt{constructor(s,d,f,v){this.context=s,this.width=d,this.height=f;const b=this.framebuffer=s.gl.createFramebuffer();this.colorAttachment=new Pt(s,b),v&&(this.depthAttachment=new Et(s,b))}destroy(){const s=this.context.gl,d=this.colorAttachment.get();if(d&&s.deleteTexture(d),this.depthAttachment){const f=this.depthAttachment.get();f&&s.deleteRenderbuffer(f)}s.deleteFramebuffer(this.framebuffer)}}class se{constructor(s,d=!1){if(this.gl=s,this.isWebGL2=d,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),d){const f=s;this.extVertexArrayObject={createVertexArrayOES:f.createVertexArray.bind(s),deleteVertexArrayOES:f.deleteVertexArray.bind(s),bindVertexArrayOES:f.bindVertexArray.bind(s)}}this.clearColor=new ca(this),this.clearDepth=new Eo(this),this.clearStencil=new br(this),this.colorMask=new gn(this),this.depthMask=new Wo(this),this.stencilMask=new Bs(this),this.stencilFunc=new Rn(this),this.stencilOp=new _o(this),this.stencilTest=new ui(this),this.depthRange=new Ns(this),this.depthTest=new wr(this),this.depthFunc=new Cr(this),this.blend=new Wr(this),this.blendFunc=new Is(this),this.blendColor=new or(this),this.blendEquation=new na(this),this.cullFace=new oa(this),this.cullFaceSide=new Fs(this),this.frontFace=new Hr(this),this.program=new Rs(this),this.activeTexture=new Xr(this),this.viewport=new ja(this),this.bindFramebuffer=new Ho(this),this.bindRenderbuffer=new Kr(this),this.bindTexture=new Oe(this),this.bindVertexBuffer=new bn(this),this.bindElementBuffer=new ct(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new X(this),this.pixelStoreUnpack=new K(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=s.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=s.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=s.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),d||(this.extTextureHalfFloat=s.getExtension("OES_texture_half_float")),(d||this.extTextureHalfFloat&&s.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=s.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=d||s.getExtension("OES_standard_derivatives"),this.extTimerQuery=s.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,d){return new Sa(this,s,d)}createVertexBuffer(s,d,f){return new nr(this,s,d,f)}createRenderbuffer(s,d,f){const v=this.gl,b=v.createRenderbuffer();return this.bindRenderbuffer.set(b),v.renderbufferStorage(v.RENDERBUFFER,s,d,f),this.bindRenderbuffer.set(null),b}createFramebuffer(s,d,f){return new jt(this,s,d,f)}clear({color:s,depth:d,stencil:f}){const v=this.gl;let b=0;s&&(b|=v.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(b|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),f!==void 0&&(b|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),v.clear(b)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){E(s.blendFunction,i.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class le extends i.Evented{constructor(s,d,f,v){if(super(),this.id=s,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(d,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v),this._tileWorkers={},this._deduped=new i.DedupedRequest}load(s){this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,f=this.map._worldview;this._tileJSONRequest=yo(this._options,this.map._requestManager,d,f,(v,b)=>{this._tileJSONRequest=null,this._loaded=!0,v?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),f&&f.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${f}`),this.fire(new i.ErrorEvent(v))):b&&(i.extend(this,b),b.bounds&&(this.tileBounds=new Mo(b.bounds,this.minzoom,this.maxzoom)),i.postTurnstileEvent(b.tiles,this.map._requestManager._customAccessToken),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))),s&&s(v)})}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(s){return this._options.tiles=s,this.reload(),this}setUrl(s){return this.url=s,this._options.url=s,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return i.extend({},this._options)}loadTile(s,d){const f=this.map._requestManager.normalizeTileURL(s.tileID.canonical.url(this.tiles,this.scheme)),v={request:this.map._requestManager.transformRequest(f,i.ResourceType.Tile),data:void 0,uid:s.uid,tileID:s.tileID,tileZoom:s.tileZoom,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:s.isSymbolTile};if(v.request.collectResourceTiming=this._collectResourceTiming,s.actor&&s.state!=="expired")s.state==="loading"?s.reloadCallback=d:s.request=s.actor.send("reloadTile",v,b.bind(this));else if(s.actor=this._tileWorkers[f]=this._tileWorkers[f]||this.dispatcher.getActor(),this.dispatcher.ready)s.request=s.actor.send("loadTile",v,b.bind(this),void 0,!0);else{const S=i.loadVectorTile.call({deduped:this._deduped},v,(P,M)=>{P||!M?b.call(this,P):(v.data={cacheControl:M.cacheControl,expires:M.expires,rawData:M.rawData.slice(0)},s.actor&&s.actor.send("loadTile",v,b.bind(this),void 0,!0))},!0);s.request={cancel:S}}function b(S,P){return delete s.request,s.aborted?d(null):S&&S.status!==404?d(S):(P&&P.resourceTiming&&(s.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&s.setExpiryData(P),s.loadVectorData(P,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),d(null),void(s.reloadCallback&&(this.loadTile(s,s.reloadCallback),s.reloadCallback=null)))}}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.actor&&s.actor.send("abortTile",{uid:s.uid,type:this.type,source:this.id})}unloadTile(s){s.unloadVectorData(),s.actor&&s.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class ne extends i.Evented{constructor(s,d,f,v){super(),this.id=s,this.dispatcher=f,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},d),i.extend(this,i.pick(d,["url","scheme","tileSize"]))}load(s){this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yo(this._options,this.map._requestManager,null,null,(d,f)=>{this._tileJSONRequest=null,this._loaded=!0,d?this.fire(new i.ErrorEvent(d)):f&&(i.extend(this,f),f.bounds&&(this.tileBounds=new Mo(f.bounds,this.minzoom,this.maxzoom)),i.postTurnstileEvent(f.tiles),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))),s&&s(d)})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(s){return this._options.tiles=s,this.reload(),this}setUrl(s){return this.url=s,this._options.url=s,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return i.extend({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s,d){const f=i.exported.devicePixelRatio>=2,v=this.map._requestManager.normalizeTileURL(s.tileID.canonical.url(this.tiles,this.scheme),f,this.tileSize);s.request=i.getImage(this.map._requestManager.transformRequest(v,i.ResourceType.Tile),(b,S,P,M)=>(delete s.request,s.aborted?(s.state="unloaded",d(null)):b?(s.state="errored",d(b)):S?(this.map._refreshExpiredTiles&&s.setExpiryData({cacheControl:P,expires:M}),s.setTexture(S,this.map.painter),s.state="loaded",i.cacheEntryPossiblyAdded(this.dispatcher),void d(null)):d(null)))}static loadTileData(s,d,f){s.setTexture(d,f)}static unloadTileData(s,d){s.texture&&d.saveTileTexture(s.texture)}abortTile(s,d){s.request&&(s.request.cancel(),delete s.request),d()}unloadTile(s,d){s.texture&&this.map.painter.saveTileTexture(s.texture),d()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Ve(m,s,d,f,v,b,S,P){const M=[m,d,v,s,f,b,1,1,1],L=[S,P,1],R=i.adjoint([],M),[O,Y,nt]=i.transformMat3(L,L,i.transpose(R,R));return i.multiply$1(M,[O,0,0,0,Y,0,0,0,nt],M)}class Xe extends i.Evented{constructor(s,d,f,v){super(),this.id=s,this.dispatcher=f,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d,this._dirty=!1}load(s,d){this._loaded=d||!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),(f,v)=>{if(this._imageRequest=null,this._loaded=!0,f)this.fire(new i.ErrorEvent(f));else if(v){const{HTMLImageElement:b}=i.window;this.image=v instanceof b?i.exported.getImageData(v):v,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,s&&(this.coordinates=s),this._finishLoading()}})}loaded(){return this._loaded}updateImage(s){return this.image&&s.url?(this._imageRequest&&s.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=s.url,this.load(s.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(s){this.coordinates=s,this._boundsArray=void 0;const d=s.map(i.MercatorCoordinate.fromLngLat);return this.tileID=function(f){let v=1/0,b=1/0,S=-1/0,P=-1/0;for(const O of f)v=Math.min(v,O.x),b=Math.min(b,O.y),S=Math.max(S,O.x),P=Math.max(P,O.y);const M=Math.max(S-v,P-b),L=Math.max(0,Math.floor(-Math.log(M)/Math.LN2)),R=Math.pow(2,L);return new i.CanonicalTileID(L,Math.floor((v+S)/2*R),Math.floor((b+P)/2*R))}(d),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(s){for(const M in this.tiles){const L=this.tiles[M];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}if(this._boundsArray)return;const d=i.tileTransform(this.tileID,this.map.transform.projection),[f,v,b,S]=this.coordinates.map(M=>{const L=d.projection.project(M[0],M[1]);return i.getTilePoint(d,L)._round()});this.perspectiveTransform=function(M,L,R,O,Y,nt,at,ot,rt,U){const et=Ve(0,0,M,0,0,L,M,L),lt=Ve(R,O,Y,nt,at,ot,rt,U);return i.multiply$1(lt,i.adjoint(et,et),lt),[lt[6]/lt[8]*M/i.EXTENT,lt[7]/lt[8]*L/i.EXTENT]}(this.width,this.height,f.x,f.y,v.x,v.y,S.x,S.y,b.x,b.y);const P=this._boundsArray=new i.StructArrayLayout4i8;P.emplaceBack(f.x,f.y,0,0),P.emplaceBack(v.x,v.y,i.EXTENT,0),P.emplaceBack(S.x,S.y,0,i.EXTENT),P.emplaceBack(b.x,b.y,i.EXTENT,i.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=s.createVertexBuffer(P,i.boundsAttributes.members),this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const s=this.map.painter.context,d=s.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new i.Texture(s,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(s)}loadTile(s,d){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={},d(null)):(s.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ue={vector:le,raster:ne,"raster-dem":class extends ne{constructor(m,s,d,f){super(m,s,d,f),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},s),this.encoding=s.encoding||"mapbox"}loadTile(m,s){const d=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function f(v,b){v&&(m.state="errored",s(v)),b&&(m.dem=b,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",s(null))}m.request=i.getImage(this.map._requestManager.transformRequest(d,i.ResourceType.Tile),(function(v,b,S,P){if(delete m.request,m.aborted)m.state="unloaded",s(null);else if(v)m.state="errored",s(v);else if(b){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:S,expires:P});const M=i.window.ImageBitmap&&b instanceof i.window.ImageBitmap&&(Zr==null&&(Zr=i.window.OffscreenCanvas&&new i.window.OffscreenCanvas(1,1).getContext("2d")&&typeof i.window.createImageBitmap=="function"),Zr),L=1-(b.width-i.prevPowerOfTwo(b.width))/2;L<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const R=M?b:i.exported.getImageData(b,L),O={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:R,encoding:this.encoding,padding:L};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",O,f.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(m){const s=m.canonical,d=Math.pow(2,s.z),f=(s.x-1+d)%d,v=s.x===0?m.wrap-1:m.wrap,b=(s.x+1+d)%d,S=s.x+1===d?m.wrap+1:m.wrap,P={};return P[new i.OverscaledTileID(m.overscaledZ,v,s.z,f,s.y).key]={backfilled:!1},P[new i.OverscaledTileID(m.overscaledZ,S,s.z,b,s.y).key]={backfilled:!1},s.y>0&&(P[new i.OverscaledTileID(m.overscaledZ,v,s.z,f,s.y-1).key]={backfilled:!1},P[new i.OverscaledTileID(m.overscaledZ,m.wrap,s.z,s.x,s.y-1).key]={backfilled:!1},P[new i.OverscaledTileID(m.overscaledZ,S,s.z,b,s.y-1).key]={backfilled:!1}),s.y+1<d&&(P[new i.OverscaledTileID(m.overscaledZ,v,s.z,f,s.y+1).key]={backfilled:!1},P[new i.OverscaledTileID(m.overscaledZ,m.wrap,s.z,s.x,s.y+1).key]={backfilled:!1},P[new i.OverscaledTileID(m.overscaledZ,S,s.z,b,s.y+1).key]={backfilled:!1}),P}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends i.Evented{constructor(m,s,d,f){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(f),this._data=s.data,this._options=i.extend({},s),this._collectResourceTiming=s.collectResourceTiming,s.maxzoom!==void 0&&(this.maxzoom=s.maxzoom),s.type&&(this.type=s.type),s.attribution&&(this.attribution=s.attribution),this.promoteId=s.promoteId;const v=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:s.cluster||!1,geojsonVtOptions:{buffer:(s.buffer!==void 0?s.buffer:128)*v,tolerance:(s.tolerance!==void 0?s.tolerance:.375)*v,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:s.lineMetrics||!1,generateId:s.generateId||!1},superclusterOptions:{maxZoom:s.clusterMaxZoom!==void 0?s.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,s.clusterMinPoints||2),extent:i.EXTENT,radius:(s.clusterRadius!==void 0?s.clusterRadius:50)*v,log:!1,generateId:s.generateId||!1},clusterProperties:s.clusterProperties,filter:s.filter},s.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,s){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},s),this}getClusterChildren(m,s){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},s),this}getClusterLeaves(m,s,d,f){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:s,offset:d},f),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new i.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=i.extend({},this.workerOptions),s=this._data;typeof s=="string"?(m.request=this.map._requestManager.transformRequest(i.exported.resolveURL(s),i.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(s),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(d,f)=>{if(this._loaded=!0,this._pendingLoad=null,d)this.fire(new i.ErrorEvent(d));else{const v={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&f&&f.resourceTiming&&f.resourceTiming[this.id]&&(v.resourceTiming=f.resourceTiming[this.id]),this.fire(new i.Event("data",v)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,s){const d=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(d,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(f,v)=>(delete m.request,m.unloadVectorData(),m.aborted?s(null):f?s(f):(m.loadVectorData(v,this.map.painter,d==="reloadTile"),s(null))),void 0,d==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return i.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Xe{constructor(m,s,d,f){super(m,s,d,f),this.roundZoom=!0,this.type="video",this.options=s}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const s of m.urls)this.urls.push(this.map._requestManager.transformRequest(s,i.ResourceType.Source).url);i.getVideo(this.urls,(s,d)=>{this._loaded=!0,s?this.fire(new i.ErrorEvent(s)):d&&(this.video=d,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const s=this.video.seekable;m<s.start(0)||m>s.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${s.start(0)} and ${s.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,s=m.gl;this.texture?this.video.paused||(this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE),s.texSubImage2D(s.TEXTURE_2D,0,0,0,s.RGBA,s.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(m,this.video,s.RGBA),this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Xe,canvas:class extends Xe{constructor(m,s,d,f){super(m,s,d,f),s.coordinates?Array.isArray(s.coordinates)&&s.coordinates.length===4&&!s.coordinates.some(v=>!Array.isArray(v)||v.length!==2||v.some(b=>typeof b!="number"))||this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),s.animate&&typeof s.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),s.canvas?typeof s.canvas=="string"||s.canvas instanceof i.window.HTMLCanvasElement||this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=s,this.animate=s.animate===void 0||s.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const s=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(s,this.canvas,s.gl.RGBA,{premultiply:!0}),this._prepareData(s)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends i.Evented{constructor(m,s,d,f){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=d,this._implementation=s,this.setEventedParent(f),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new i.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new i.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Mo(this._implementation.bounds,this.minzoom,this.maxzoom)),s.update=this._update.bind(this),s.clearTiles=this._clearTiles.bind(this),s.coveringTiles=this._coveringTiles.bind(this),i.extend(this,i.pick(s,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return i.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:s,y:d,z:f}=m.canonical;return this._implementation.hasTile({x:s,y:d,z:f})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,s){const{x:d,y:f,z:v}=m.tileID.canonical,b=new i.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:d,y:f,z:v},{signal:b.signal})).then((function(S){return delete m.request,m.aborted?(m.state="unloaded",s(null)):S===void 0?(m.state="errored",s(null)):S===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",s(null)):function(P){return P instanceof i.window.ImageData||P instanceof i.window.HTMLCanvasElement||P instanceof i.window.ImageBitmap||P instanceof i.window.HTMLImageElement}(S)?(this.loadTileData(m,S),m.state="loaded",void s(null)):(m.state="errored",s(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(S=>{S.code!==20&&(m.state="errored",s(S))}),m.request.cancel=()=>b.abort()}loadTileData(m,s){ne.loadTileData(m,s,this._map.painter)}unloadTileData(m){ne.unloadTileData(m,this._map.painter)}unloadTile(m,s){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:d,y:f,z:v}=m.tileID.canonical;this._implementation.unloadTile({x:d,y:f,z:v})}s()}abortTile(m,s){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),s()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ke=function(m,s,d,f){const v=new Ue[s.type](m,s,d,f);if(v.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${v.id}`);return i.bindAll(["load","abort","unload","serialize","prepare"],v),v};function on(m,s){const d=i.identity([]);return i.scale(d,d,[.5*m.width,.5*-m.height,1]),i.translate(d,d,[1,-1,0]),i.multiply(d,d,m.calculateProjMatrix(s.toUnwrapped())),Float32Array.from(d)}function $n(m,s,d,f,v,b,S,P=!1){const M=m.tilesIn(f,S,P);M.sort(Zo);const L=[];for(const O of M)L.push({wrappedTileID:O.tile.tileID.wrapped().key,queryResults:O.tile.queryRenderedFeatures(s,d,m._state,O,v,b,on(m.transform,O.tile.tileID),P)});const R=function(O){const Y={},nt={};for(const at of O){const ot=at.queryResults,rt=at.wrappedTileID,U=nt[rt]=nt[rt]||{};for(const et in ot){const lt=ot[et],ut=U[et]=U[et]||{},yt=Y[et]=Y[et]||[];for(const bt of lt)ut[bt.featureIndex]||(ut[bt.featureIndex]=!0,yt.push(bt))}}return Y}(L);for(const O in R)R[O].forEach(Y=>{const nt=Y.feature,at=nt.layer;at&&at.type!=="background"&&at.type!=="sky"&&(nt.source=at.source,at["source-layer"]&&(nt.sourceLayer=at["source-layer"]),nt.state=nt.id!==void 0?m.getFeatureState(at["source-layer"],nt.id):{})});return R}function ro(m,s){const d=m.getRenderableIds().map(b=>m.getTileByID(b)),f=[],v={};for(let b=0;b<d.length;b++){const S=d[b],P=S.tileID.canonical.key;v[P]||(v[P]=!0,S.querySourceFeatures(f,s))}return f}function Zo(m,s){const d=m.tileID,f=s.tileID;return d.overscaledZ-f.overscaledZ||d.canonical.y-f.canonical.y||d.wrap-f.wrap||d.canonical.x-f.canonical.x}function bo(){return cl.workerClass!=null?new cl.workerClass:new i.window.Worker(cl.workerUrl)}const Ar="mapboxgl_preloaded_worker_pool";class ko{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<ko.workerCount;)this.workers.push(new bo);return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ar]}numActive(){return Object.keys(this.active).length}}let aa;function qi(){return aa||(aa=new ko),aa}function R2(m,s){const d={};for(const f in m)f!=="ref"&&(d[f]=m[f]);return i.refProperties.forEach(f=>{f in s&&(d[f]=s[f])}),d}function zf(m){m=m.slice();const s=Object.create(null);for(let d=0;d<m.length;d++)s[m[d].id]=m[d];for(let d=0;d<m.length;d++)"ref"in m[d]&&(m[d]=R2(m[d],s[m[d].ref]));return m}ko.workerCount=2;const xn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Bp(m,s,d){d.push({command:xn.addSource,args:[m,s[m]]})}function ic(m,s,d){s.push({command:xn.removeSource,args:[m]}),d[m]=!0}function Np(m,s,d,f){ic(m,d,f),Bp(m,s,d)}function Cd(m,s,d){let f;for(f in m[d])if(m[d].hasOwnProperty(f)&&f!=="data"&&!E(m[d][f],s[d][f]))return!1;for(f in s[d])if(s[d].hasOwnProperty(f)&&f!=="data"&&!E(m[d][f],s[d][f]))return!1;return!0}function Tr(m,s,d,f,v,b){let S;for(S in s=s||{},m=m||{})m.hasOwnProperty(S)&&(E(m[S],s[S])||d.push({command:b,args:[f,S,s[S],v]}));for(S in s)s.hasOwnProperty(S)&&!m.hasOwnProperty(S)&&(E(m[S],s[S])||d.push({command:b,args:[f,S,s[S],v]}))}function Yr(m){return m.id}function Ip(m,s){return m[s.id]=s,m}class Fp{constructor(s,d){this.reset(s,d)}reset(s,d){this.points=s||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=i.clamp(s,0,1);let d=1,f=this._distances[d];const v=s*this.paddedLength+this.padding;for(;f<v&&d<this._distances.length;)f=this._distances[++d];const b=d-1,S=this._distances[b],P=f-S,M=P>0?(v-S)/P:0;return this.points[b].mult(1-M).add(this.points[d].mult(M))}}class pi{constructor(s,d,f){const v=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(s/f),this.yCellCount=Math.ceil(d/f);for(let S=0;S<this.xCellCount*this.yCellCount;S++)v.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=d,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,d,f,v,b){this._forEachCell(d,f,v,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(b)}insertCircle(s,d,f,v){this._forEachCell(d-v,f-v,d+v,f+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(d),this.circles.push(f),this.circles.push(v)}_insertBoxCell(s,d,f,v,b,S){this.boxCells[b].push(S)}_insertCircleCell(s,d,f,v,b,S){this.circleCells[b].push(S)}_query(s,d,f,v,b,S){if(f<0||s>this.width||v<0||d>this.height)return!b&&[];const P=[];if(s<=0&&d<=0&&this.width<=f&&this.height<=v){if(b)return!0;for(let M=0;M<this.boxKeys.length;M++)P.push({key:this.boxKeys[M],x1:this.bboxes[4*M],y1:this.bboxes[4*M+1],x2:this.bboxes[4*M+2],y2:this.bboxes[4*M+3]});for(let M=0;M<this.circleKeys.length;M++){const L=this.circles[3*M],R=this.circles[3*M+1],O=this.circles[3*M+2];P.push({key:this.circleKeys[M],x1:L-O,y1:R-O,x2:L+O,y2:R+O})}return S?P.filter(S):P}return this._forEachCell(s,d,f,v,this._queryCell,P,{hitTest:b,seenUids:{box:{},circle:{}}},S),b?P.length>0:P}_queryCircle(s,d,f,v,b){const S=s-f,P=s+f,M=d-f,L=d+f;if(P<0||S>this.width||L<0||M>this.height)return!v&&[];const R=[];return this._forEachCell(S,M,P,L,this._queryCellCircle,R,{hitTest:v,circle:{x:s,y:d,radius:f},seenUids:{box:{},circle:{}}},b),v?R.length>0:R}query(s,d,f,v,b){return this._query(s,d,f,v,!1,b)}hitTest(s,d,f,v,b){return this._query(s,d,f,v,!0,b)}hitTestCircle(s,d,f,v){return this._queryCircle(s,d,f,!0,v)}_queryCell(s,d,f,v,b,S,P,M){const L=P.seenUids,R=this.boxCells[b];if(R!==null){const Y=this.bboxes;for(const nt of R)if(!L.box[nt]){L.box[nt]=!0;const at=4*nt;if(s<=Y[at+2]&&d<=Y[at+3]&&f>=Y[at+0]&&v>=Y[at+1]&&(!M||M(this.boxKeys[nt]))){if(P.hitTest)return S.push(!0),!0;S.push({key:this.boxKeys[nt],x1:Y[at],y1:Y[at+1],x2:Y[at+2],y2:Y[at+3]})}}}const O=this.circleCells[b];if(O!==null){const Y=this.circles;for(const nt of O)if(!L.circle[nt]){L.circle[nt]=!0;const at=3*nt;if(this._circleAndRectCollide(Y[at],Y[at+1],Y[at+2],s,d,f,v)&&(!M||M(this.circleKeys[nt]))){if(P.hitTest)return S.push(!0),!0;{const ot=Y[at],rt=Y[at+1],U=Y[at+2];S.push({key:this.circleKeys[nt],x1:ot-U,y1:rt-U,x2:ot+U,y2:rt+U})}}}}}_queryCellCircle(s,d,f,v,b,S,P,M){const L=P.circle,R=P.seenUids,O=this.boxCells[b];if(O!==null){const nt=this.bboxes;for(const at of O)if(!R.box[at]){R.box[at]=!0;const ot=4*at;if(this._circleAndRectCollide(L.x,L.y,L.radius,nt[ot+0],nt[ot+1],nt[ot+2],nt[ot+3])&&(!M||M(this.boxKeys[at])))return S.push(!0),!0}}const Y=this.circleCells[b];if(Y!==null){const nt=this.circles;for(const at of Y)if(!R.circle[at]){R.circle[at]=!0;const ot=3*at;if(this._circlesCollide(nt[ot],nt[ot+1],nt[ot+2],L.x,L.y,L.radius)&&(!M||M(this.circleKeys[at])))return S.push(!0),!0}}}_forEachCell(s,d,f,v,b,S,P,M){const L=this._convertToXCellCoord(s),R=this._convertToYCellCoord(d),O=this._convertToXCellCoord(f),Y=this._convertToYCellCoord(v);for(let nt=L;nt<=O;nt++)for(let at=R;at<=Y;at++)if(b.call(this,s,d,f,v,this.xCellCount*at+nt,S,P,M))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,d,f,v,b,S){const P=v-s,M=b-d,L=f+S;return L*L>P*P+M*M}_circleAndRectCollide(s,d,f,v,b,S,P){const M=(S-v)/2,L=Math.abs(s-(v+M));if(L>M+f)return!1;const R=(P-b)/2,O=Math.abs(d-(b+R));if(O>R+f)return!1;if(L<=M||O<=R)return!0;const Y=L-M,nt=O-R;return Y*Y+nt*nt<=f*f}}const Qr={unknown:0,flipRequired:1,flipNotRequired:2},lc=Math.tan(85*Math.PI/180);function Ut(m,s,d,f,v,b,S){const P=i.create();if(d)if(b.name==="globe"){const M=i.calculateGlobeLabelMatrix(v,s);i.multiply(P,P,M)}else{const M=Dt([],S);P[0]=M[0],P[1]=M[1],P[4]=M[2],P[5]=M[3],f||i.rotateZ(P,P,v.angle)}else i.multiply(P,v.labelPlaneMatrix,m);return P}function Jr(m,s,d,f,v,b,S){const P=Ut(m,s,d,f,v,b,S);return b.name==="globe"&&d||(P[2]=P[6]=P[10]=P[14]=0),P}function so(m,s,d,f,v,b,S){if(d){if(b.name==="globe"){const P=Ut(m,s,d,f,v,b,S);return i.invert(P,P),i.multiply(P,m,P),P}{const P=i.clone(m),M=i.identity([]);return M[0]=S[0],M[1]=S[1],M[4]=S[2],M[5]=S[3],i.multiply(P,P,M),f||i.rotateZ(P,P,-v.angle),P}}return v.glCoordMatrix}function Bo(m,s,d,f){const v=[m,s,d,1];d?i.transformMat4$1(v,v,f):Je(v,v,f);const b=v[3];return v[0]/=b,v[1]/=b,v[2]/=b,v}function jf(m,s){return Math.min(.5+m/s*.5,1.5)}function Sr(m,s){const d=m[0]/m[3],f=m[1]/m[3];return d>=-s[0]&&d<=s[0]&&f>=-s[1]&&f<=s[1]}function Rp(m,s,d,f,v,b,S,P,M,L){const R=d.transform,O=f?m.textSizeData:m.iconSizeData,Y=i.evaluateSizeForZoom(O,d.transform.zoom),nt=R.projection.name==="globe",at=[256/d.width*2+1,256/d.height*2+1],ot=f?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;ot.clear();let rt=null;nt&&(rt=f?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const U=m.lineVertexArray,et=f?m.text.placedSymbolArray:m.icon.placedSymbolArray,lt=d.transform.width/d.transform.height;let ut,yt=!1;for(let bt=0;bt<et.length;bt++){const _t=et.get(bt),{numGlyphs:Tt,writingMode:At}=_t;if(At!==i.WritingMode.vertical||yt||ut===i.WritingMode.horizontal||(yt=!0),ut=At,(_t.hidden||At===i.WritingMode.vertical)&&!yt){ar(Tt,ot);continue}yt=!1;const Nt=new i.Point(_t.tileAnchorX,_t.tileAnchorY);let{x:Qt,y:Mt,z:qt}=R.projection.projectTilePoint(Nt.x,Nt.y,L.canonical);if(M){const[Re,_e,Me]=M(Nt);Qt+=Re,Mt+=_e,qt+=Me}const Rt=[Qt,Mt,qt,1];if(i.transformMat4$1(Rt,Rt,s),!Sr(Rt,at)){ar(Tt,ot);continue}const Yt=jf(d.transform.cameraToCenterDistance,Rt[3]),Bt=i.evaluateSizeForFeature(O,Y,_t),Gt=S?Bt/Yt:Bt*Yt,te=Bo(Qt,Mt,qt,v);if(te[3]<=0){ar(Tt,ot);continue}let Xt={};const ee=S?null:M,Se=he(_t,Gt,!1,P,s,v,b,m.glyphOffsetArray,U,ot,rt,te,Nt,Xt,lt,ee,R.projection,L,S);yt=Se.useVertical,ee&&Se.needsFlipping&&(Xt={}),(Se.notEnoughRoom||yt||Se.needsFlipping&&he(_t,Gt,!0,P,s,v,b,m.glyphOffsetArray,U,ot,rt,te,Nt,Xt,lt,ee,R.projection,L,S).notEnoughRoom)&&ar(Tt,ot)}f?(m.text.dynamicLayoutVertexBuffer.updateData(ot),rt&&m.text.globeExtVertexBuffer.updateData(rt)):(m.icon.dynamicLayoutVertexBuffer.updateData(ot),rt&&m.icon.globeExtVertexBuffer.updateData(rt))}function Of(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot){const{lineStartIndex:rt,glyphStartIndex:U,segment:et}=P,lt=U+P.numGlyphs,ut=rt+P.lineLength,yt=s.getoffsetX(U),bt=s.getoffsetX(lt-1),_t=Ea(m*yt,d,f,v,b,S,et,rt,ut,M,L,R,O,Y,!0,nt,at,ot);if(!_t)return null;const Tt=Ea(m*bt,d,f,v,b,S,et,rt,ut,M,L,R,O,Y,!0,nt,at,ot);return Tt?{first:_t,last:Tt}:null}function Wi(m,s,d,f){return m===i.WritingMode.horizontal&&Math.abs(f)>Math.abs(d)?{useVertical:!0}:m===i.WritingMode.vertical?f>0?{needsFlipping:!0}:null:s!==Qr.unknown&&function(v,b){return v===0||Math.abs(b/v)>lc}(d,f)?s===Qr.flipRequired?{needsFlipping:!0}:null:d<0?{needsFlipping:!0}:null}function he(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot,rt,U,et){const lt=s/24,ut=m.lineOffsetX*lt,yt=m.lineOffsetY*lt,{lineStartIndex:bt,glyphStartIndex:_t,numGlyphs:Tt,segment:At,writingMode:Nt,flipState:Qt}=m,Mt=bt+m.lineLength,qt=Rt=>{if(R){const[te,Xt,ee]=Rt.up,Se=L.length;i.updateGlobeVertexNormal(R,Se+0,te,Xt,ee),i.updateGlobeVertexNormal(R,Se+1,te,Xt,ee),i.updateGlobeVertexNormal(R,Se+2,te,Xt,ee),i.updateGlobeVertexNormal(R,Se+3,te,Xt,ee)}const[Yt,Bt,Gt]=Rt.point;i.addDynamicAttributes(L,Yt,Bt,Gt,Rt.angle)};if(Tt>1){const Rt=Of(lt,P,ut,yt,d,O,Y,m,M,b,nt,ot,!1,rt,U,et);if(!Rt)return{notEnoughRoom:!0};if(f&&!d){let[Yt,Bt,Gt]=Rt.first.point,[te,Xt,ee]=Rt.last.point;[Yt,Bt]=Bo(Yt,Bt,Gt,S),[te,Xt]=Bo(te,Xt,ee,S);const Se=Wi(Nt,Qt,(te-Yt)*at,Xt-Bt);if(m.flipState=Se&&Se.needsFlipping?Qr.flipRequired:Qr.flipNotRequired,Se)return Se}qt(Rt.first);for(let Yt=_t+1;Yt<_t+Tt-1;Yt++){const Bt=Ea(lt*P.getoffsetX(Yt),ut,yt,d,O,Y,At,bt,Mt,M,b,nt,ot,!1,!1,rt,U,et);if(!Bt)return L.length-=4*(Yt-_t),{notEnoughRoom:!0};qt(Bt)}qt(Rt.last)}else{if(f&&!d){const Yt=Bo(Y.x,Y.y,0,v),Bt=bt+At+1,Gt=new i.Point(M.getx(Bt),M.gety(Bt)),te=Bo(Gt.x,Gt.y,0,v),Xt=te[3]>0?te:Qe(Y,Gt,Yt,1,v,void 0,rt,U.canonical),ee=Wi(Nt,Qt,(Xt[0]-Yt[0])*at,Xt[1]-Yt[1]);if(m.flipState=ee&&ee.needsFlipping?Qr.flipRequired:Qr.flipNotRequired,ee)return ee}const Rt=Ea(lt*P.getoffsetX(_t),ut,yt,d,O,Y,At,bt,Mt,M,b,nt,ot,!1,!1,rt,U,et);if(!Rt)return{notEnoughRoom:!0};qt(Rt)}return{}}function nn(m,s,d,f,v){const{x:b,y:S,z:P}=f.projectTilePoint(m.x,m.y,s);if(!v)return Bo(b,S,P,d);const[M,L,R]=v(m);return Bo(b+M,S+L,P+R,d)}function Qe(m,s,d,f,v,b,S,P){const M=nn(m.sub(s)._unit()._add(m),P,v,S,b);return i.sub(M,d,M),i.normalize(M,M),i.scaleAndAdd(M,d,M,f)}function Ea(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot,rt,U){const et=f?m-s:m+s;let lt=et>0?1:-1,ut=0;f&&(lt*=-1,ut=Math.PI),lt<0&&(ut+=Math.PI);let yt=P+S+(lt>0?0:1)|0,bt=v,_t=v,Tt=0,At=0;const Nt=Math.abs(et),Qt=[],Mt=[];let qt=b,Rt=qt;const Yt=()=>Qe(Rt,qt,_t,Nt-Tt+1,R,Y,ot,rt.canonical);for(;Tt+At<=Nt;){if(yt+=lt,yt<P||yt>=M)return null;if(_t=bt,Rt=qt,Qt.push(_t),nt&&Mt.push(Rt),qt=new i.Point(L.getx(yt),L.gety(yt)),bt=O[yt],!bt){const Me=nn(qt,rt.canonical,R,ot,Y);bt=Me[3]>0?O[yt]=Me:Yt()}Tt+=At,At=i.distance(_t,bt)}at&&Y&&(O[yt]&&(bt=Yt(),At=i.distance(_t,bt)),O[yt]=bt);const Bt=(Nt-Tt)/At,Gt=qt.sub(Rt)._mult(Bt)._add(Rt),te=i.sub([],bt,_t),Xt=i.scaleAndAdd([],_t,te,Bt);let ee=[0,0,1],Se=te[0],Re=te[1];if(U&&(ee=ot.upVector(rt.canonical,Gt.x,Gt.y),ee[0]!==0||ee[1]!==0||ee[2]!==1)){const Me=[ee[2],0,-ee[0]],tn=i.cross([],ee,Me);i.normalize(Me,Me),i.normalize(tn,tn),Se=i.dot(te,Me),Re=i.dot(te,tn)}if(d){const Me=i.cross([],ee,te);i.normalize(Me,Me),i.scaleAndAdd(Xt,Xt,Me,d*lt)}const _e=ut+Math.atan2(Re,Se);return Qt.push(Xt),nt&&Mt.push(Gt),{point:Xt,angle:_e,path:Qt,tilePath:Mt,up:ee}}function ar(m,s){const d=s.length,f=d+4*m;s.resize(f),s.float32.fill(-1/0,4*d,4*f)}function Je(m,s,d){const f=s[0],v=s[1];return m[0]=d[0]*f+d[4]*v+d[12],m[1]=d[1]*f+d[5]*v+d[13],m[3]=d[3]*f+d[7]*v+d[15],m}const Pa=100;class cc{constructor(s,d,f=new pi(s.width+200,s.height+200,25),v=new pi(s.width+200,s.height+200,25)){this.transform=s,this.grid=f,this.ignoredGrid=v,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+Pa,this.screenBottomBoundary=s.height+Pa,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.fogState=d}placeCollisionBox(s,d,f,v,b,S,P,M){let L=f.projectedAnchorX,R=f.projectedAnchorY,O=f.projectedAnchorZ;const Y=f.elevation,nt=f.tileID,at=s.getProjection();if(Y&&nt){const[bt,_t,Tt]=at.upVector(nt.canonical,f.tileAnchorX,f.tileAnchorY),At=at.upVectorScale(nt.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;L+=bt*Y*At,R+=_t*Y*At,O+=Tt*Y*At}const ot=this.projectAndGetPerspectiveRatio(P,L,R,O,f.tileID,at.name==="globe"||!!Y||this.transform.pitch>0,at),rt=S*ot.perspectiveRatio,U=(f.x1*d+v.x-f.padding)*rt+ot.point.x,et=(f.y1*d+v.y-f.padding)*rt+ot.point.y,lt=(f.x2*d+v.x+f.padding)*rt+ot.point.x,ut=(f.y2*d+v.y+f.padding)*rt+ot.point.y,yt=ot.perspectiveRatio<=.55||ot.occluded;return!this.isInsideGrid(U,et,lt,ut)||!b&&this.grid.hitTest(U,et,lt,ut,M)||yt?{box:[],offscreen:!1,occluded:ot.occluded}:{box:[U,et,lt,ut],offscreen:this.isOffscreen(U,et,lt,ut),occluded:!1}}placeCollisionCircles(s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot){const rt=[],U=this.transform.elevation,et=s.getProjection(),lt=U?U.getAtTileOffsetFunc(ot,this.transform.center.lat,this.transform.worldSize,et):null,ut=new i.Point(f.tileAnchorX,f.tileAnchorY);let{x:yt,y:bt,z:_t}=et.projectTilePoint(ut.x,ut.y,ot.canonical);if(lt){const[Gt,te,Xt]=lt(ut);yt+=Gt,bt+=te,_t+=Xt}const Tt=et.name==="globe",At=this.projectAndGetPerspectiveRatio(P,yt,bt,_t,ot,Tt||!!U||this.transform.pitch>0,et),{perspectiveRatio:Nt}=At,Qt=(O?S/Nt:S*Nt)/i.ONE_EM,Mt=Bo(yt,bt,_t,M),qt=At.signedDistanceFromCamera>0?Of(Qt,b,f.lineOffsetX*Qt,f.lineOffsetY*Qt,!1,Mt,ut,f,v,M,{},U&&!O?lt:null,O&&!!U,et,ot,O):null;let Rt=!1,Yt=!1,Bt=!0;if(qt&&!At.occluded){const Gt=.5*nt*Nt+at,te=new i.Point(-100,-100),Xt=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),ee=new Fp,{first:Se,last:Re}=qt,_e=Se.path.length;let Me=[];for(let Ae=_e-1;Ae>=1;Ae--)Me.push(Se.path[Ae]);for(let Ae=1;Ae<Re.path.length;Ae++)Me.push(Re.path[Ae]);const tn=2.5*Gt;L&&(Me=Me.map(([Ae,yn,wn],Cn)=>(lt&&!Tt&&(wn=lt(Cn<_e-1?Se.tilePath[_e-1-Cn]:Re.tilePath[Cn-_e+2])[2]),Bo(Ae,yn,wn,L))),Me.some(Ae=>Ae[3]<=0)&&(Me=[]));let Ye=[];if(Me.length>0){let Ae=1/0,yn=-1/0,wn=1/0,Cn=-1/0;for(const An of Me)Ae=Math.min(Ae,An[0]),wn=Math.min(wn,An[1]),yn=Math.max(yn,An[0]),Cn=Math.max(Cn,An[1]);yn>=te.x&&Ae<=Xt.x&&Cn>=te.y&&wn<=Xt.y&&(Ye=[Me.map(An=>new i.Point(An[0],An[1]))],(Ae<te.x||yn>Xt.x||wn<te.y||Cn>Xt.y)&&(Ye=i.clipLine(Ye,te.x,te.y,Xt.x,Xt.y)))}for(const Ae of Ye){ee.reset(Ae,.25*Gt);let yn=0;yn=ee.length<=.5*Gt?1:Math.ceil(ee.paddedLength/tn)+1;for(let wn=0;wn<yn;wn++){const Cn=wn/Math.max(yn-1,1),An=ee.lerp(Cn),Ko=An.x+Pa,Io=An.y+Pa;rt.push(Ko,Io,Gt,0);const Ga=Ko-Gt,Mr=Io-Gt,Un=Ko+Gt,Tn=Io+Gt;if(Bt=Bt&&this.isOffscreen(Ga,Mr,Un,Tn),Yt=Yt||this.isInsideGrid(Ga,Mr,Un,Tn),!d&&this.grid.hitTestCircle(Ko,Io,Gt,Y)&&(Rt=!0,!R))return{circles:[],offscreen:!1,collisionDetected:Rt,occluded:!1}}}}return{circles:!R&&Rt||!Yt?[]:rt,offscreen:Bt,collisionDetected:Rt,occluded:At.occluded}}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let f=1/0,v=1/0,b=-1/0,S=-1/0;for(const R of s){const O=new i.Point(R.x+Pa,R.y+Pa);f=Math.min(f,O.x),v=Math.min(v,O.y),b=Math.max(b,O.x),S=Math.max(S,O.y),d.push(O)}const P=this.grid.query(f,v,b,S).concat(this.ignoredGrid.query(f,v,b,S)),M={},L={};for(const R of P){const O=R.key;if(M[O.bucketInstanceId]===void 0&&(M[O.bucketInstanceId]={}),M[O.bucketInstanceId][O.featureIndex])continue;const Y=[new i.Point(R.x1,R.y1),new i.Point(R.x2,R.y1),new i.Point(R.x2,R.y2),new i.Point(R.x1,R.y2)];i.polygonIntersectsPolygon(d,Y)&&(M[O.bucketInstanceId][O.featureIndex]=!0,L[O.bucketInstanceId]===void 0&&(L[O.bucketInstanceId]=[]),L[O.bucketInstanceId].push(O.featureIndex))}return L}insertCollisionBox(s,d,f,v,b){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:v,collisionGroupID:b},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,d,f,v,b){const S=d?this.ignoredGrid:this.grid,P={bucketInstanceId:f,featureIndex:v,collisionGroupID:b};for(let M=0;M<s.length;M+=4)S.insertCircle(P,s[M],s[M+1],s[M+2])}projectAndGetPerspectiveRatio(s,d,f,v,b,S,P){const M=[d,f,v,1];let L=!1;v||this.transform.pitch>0?(i.transformMat4$1(M,M,s),this.fogState&&b&&P.name!=="globe"&&(L=function(Y,nt,at,ot,rt,U){const et=U.calculateFogTileMatrix(rt),lt=[nt,at,ot];return i.transformMat4(lt,lt,et),Be(Y,lt,U.pitch,U._fov)}(this.fogState,d,f,v,b.toUnwrapped(),this.transform)>.9)):Je(M,M,s);const R=M[3];return{point:new i.Point((M[0]/R+1)/2*this.transform.width+Pa,(-M[1]/R+1)/2*this.transform.height+Pa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(P)/R*.5,1.5),signedDistanceFromCamera:R,occluded:S&&M[2]>R||L}}isOffscreen(s,d,f,v){return f<Pa||s>=this.screenRightBoundary||v<Pa||d>this.screenBottomBoundary}isInsideGrid(s,d,f,v){return f>=0&&s<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const s=i.identity([]);return i.translate(s,s,[-100,-100,0]),s}}function mi(m,s,d){const f=s.createTileMatrix(m,m.worldSize,d.toUnwrapped());return i.multiply(new Float32Array(16),m.projMatrix,f)}function Oa(m,s,d){if(s.projection.name===d.projection.name)return m.projMatrix;const f=d.clone();return f.setProjection(s.projection),mi(f,s.getProjection(),m)}function Vn(m,s,d){return s.name===d.projection.name?m.projMatrix:mi(d,s,m)}class Vf{constructor(s,d,f,v){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?d:-d))):v&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class ts{constructor(s,d,f,v,b,S=!1){this.text=new Vf(s?s.text:null,d,f,b),this.icon=new Vf(s?s.icon:null,d,v,b),this.clipped=S}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class dc{constructor(s,d,f,v=!1){this.text=s,this.icon=d,this.skipFade=f,this.clipped=v}}class uc{constructor(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]}}class Lp{constructor(s,d,f,v,b){this.bucketInstanceId=s,this.featureIndex=d,this.sourceLayerIndex=f,this.bucketIndex=v,this.tileID=b}}class Uf{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const d=++this.maxGroupID;this.collisionGroups[s]={ID:d,predicate:f=>f.collisionGroupID===d}}return this.collisionGroups[s]}}function pc(m,s,d,f,v){const{horizontalAlign:b,verticalAlign:S}=i.getAnchorAlignment(m),P=-(b-.5)*s,M=-(S-.5)*d,L=i.evaluateVariableOffset(m,f);return new i.Point(P+L[0]*v,M+L[1]*v)}function mc(m,s,d,f,v){const b=new i.Point(m,s);return d&&b._rotate(f?v:-v),b}class Ad{constructor(s,d,f,v,b){this.transform=s.clone(),this.projection=s.projection.name,this.collisionIndex=new cc(this.transform,b),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new Uf(f),this.collisionCircleArrays={},this.prevPlacement=v,v&&(v.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(s,d,f,v){const b=f.getBucket(d),S=f.latestFeatureIndex;if(!b||!S||d.id!==b.layerIds[0])return;const P=b.layers[0].layout,M=f.collisionBoxArray,L=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),R=f.tileSize/i.EXTENT,O=f.tileID.toUnwrapped();this.transform.setProjection(b.projection);const Y=(nt=f.tileID,at=b.getProjection(),ot=this.transform,at.name===this.projection?ot.calculateProjMatrix(nt.toUnwrapped()):mi(ot,at,nt));var nt,at,ot;const rt=P.get("text-pitch-alignment")==="map",U=P.get("text-rotation-alignment")==="map";d.compileFilter();const et=d.dynamicFilter(),lt=d.dynamicFilterNeedsFeature(),ut=this.transform.calculatePixelsToTileUnitsMatrix(f),yt=Jr(Y,f.tileID.canonical,rt,U,this.transform,b.getProjection(),ut);let bt=null;if(rt){const At=so(Y,f.tileID.canonical,rt,U,this.transform,b.getProjection(),ut);bt=i.multiply([],this.transform.labelPlaneMatrix,At)}let _t=null;et&&f.latestFeatureIndex&&(_t={unwrappedTileID:O,dynamicFilter:et,dynamicFilterNeedsFeature:lt,featureIndex:f.latestFeatureIndex}),this.retainedQueryData[b.bucketInstanceId]=new Lp(b.bucketInstanceId,S,b.sourceLayerIndex,b.index,f.tileID);const Tt={bucket:b,layout:P,posMatrix:Y,textLabelPlaneMatrix:yt,labelToScreenMatrix:bt,clippingData:_t,scale:L,textPixelRatio:R,holdingForFade:f.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(b.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:i.evaluateSizeForZoom(b.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(v)for(const At of b.sortKeyRanges){const{sortKey:Nt,symbolInstanceStart:Qt,symbolInstanceEnd:Mt}=At;s.push({sortKey:Nt,symbolInstanceStart:Qt,symbolInstanceEnd:Mt,parameters:Tt})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:Tt})}attemptAnchorPlacement(s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot,rt,U,et){const{textOffset0:lt,textOffset1:ut,crossTileID:yt}=Y,bt=[lt,ut],_t=pc(s,f,v,bt,b),Tt=this.collisionIndex.placeCollisionBox(at,b,d,mc(_t.x,_t.y,S,P,this.transform.angle),O,M,L,R.predicate);if(rt){const At=at.getSymbolInstanceIconSize(et,this.transform.zoom,Y.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(at,At,rt,mc(_t.x,_t.y,S,P,this.transform.angle),O,M,L,R.predicate).box.length===0)return}if(Tt.box.length>0){let At;return this.prevPlacement&&this.prevPlacement.variableOffsets[yt]&&this.prevPlacement.placements[yt]&&this.prevPlacement.placements[yt].text&&(At=this.prevPlacement.variableOffsets[yt].anchor),this.variableOffsets[yt]={textOffset:bt,width:f,height:v,anchor:s,textScale:b,prevAnchor:At},this.markUsedJustification(at,s,Y,ot),at.allowVerticalPlacement&&(this.markUsedOrientation(at,ot,Y),this.placedOrientations[yt]=ot),{shift:_t,placedGlyphBoxes:Tt}}}placeLayerBucketPart(s,d,f,v){const{bucket:b,layout:S,posMatrix:P,textLabelPlaneMatrix:M,labelToScreenMatrix:L,clippingData:R,textPixelRatio:O,holdingForFade:Y,collisionBoxArray:nt,partiallyEvaluatedTextSize:at,partiallyEvaluatedIconSize:ot,collisionGroup:rt}=s.parameters,U=S.get("text-optional"),et=S.get("icon-optional"),lt=S.get("text-allow-overlap"),ut=S.get("icon-allow-overlap"),yt=S.get("text-rotation-alignment")==="map",bt=S.get("text-pitch-alignment")==="map",_t=S.get("icon-text-fit")!=="none",Tt=S.get("symbol-z-order")==="viewport-y";this.transform.setProjection(b.projection);let At=lt&&(ut||!b.hasIconData()||et),Nt=ut&&(lt||!b.hasTextData()||U);!b.collisionArrays&&nt&&b.deserializeCollisionBoxes(nt),f&&v&&b.updateCollisionDebugBuffers(this.transform.zoom,nt);const Qt=(Mt,qt,Rt)=>{const{crossTileID:Yt,numVerticalGlyphVertices:Bt}=Mt;if(R){const Un={zoom:this.transform.zoom,pitch:this.transform.pitch};let Tn=null;if(R.dynamicFilterNeedsFeature){const mn=this.retainedQueryData[b.bucketInstanceId];Tn=R.featureIndex.loadFeature({featureIndex:Mt.featureIndex,bucketIndex:mn.bucketIndex,sourceLayerIndex:mn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,R.dynamicFilter)(Un,Tn,this.retainedQueryData[b.bucketInstanceId].tileID.canonical,new i.Point(Mt.tileAnchorX,Mt.tileAnchorY),this.transform.calculateDistanceTileData(R.unwrappedTileID)))return this.placements[Yt]=new dc(!1,!1,!1,!0),void d.add(Yt)}if(d.has(Yt))return;if(Y)return void(this.placements[Yt]=new dc(!1,!1,!1));let Gt=!1,te=!1,Xt=!0,ee=!1,Se=!1,Re=null,_e={box:null,offscreen:null,occluded:null},Me={box:null,offscreen:null,occluded:null},tn=null,Ye=null,Ae=null,yn=0,wn=0,Cn=0;Rt.textFeatureIndex?yn=Rt.textFeatureIndex:Mt.useRuntimeCollisionCircles&&(yn=Mt.featureIndex),Rt.verticalTextFeatureIndex&&(wn=Rt.verticalTextFeatureIndex);const An=Un=>{Un.tileID=this.retainedQueryData[b.bucketInstanceId].tileID;const Tn=this.transform.elevation;(Tn||Un.elevation)&&(Un.elevation=Tn?Tn.getAtTileOffset(Un.tileID,Un.tileAnchorX,Un.tileAnchorY):0)},Ko=Rt.textBox;if(Ko){An(Ko);const Un=mn=>{let io=i.WritingMode.horizontal;if(b.allowVerticalPlacement&&!mn&&this.prevPlacement){const ra=this.prevPlacement.placedOrientations[Yt];ra&&(this.placedOrientations[Yt]=ra,io=ra,this.markUsedOrientation(b,io,Mt))}return io},Tn=(mn,io)=>{if(b.allowVerticalPlacement&&Bt>0&&Rt.verticalTextBox){for(const ra of b.writingModes)if(ra===i.WritingMode.vertical?(_e=io(),Me=_e):_e=mn(),_e&&_e.box&&_e.box.length)break}else _e=mn()};if(S.get("text-variable-anchor")){let mn=S.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Yt]){const Ln=this.prevPlacement.variableOffsets[Yt];mn.indexOf(Ln.anchor)>0&&(mn=mn.filter(pa=>pa!==Ln.anchor),mn.unshift(Ln.anchor))}const io=(Ln,pa,Yd)=>{const bi=b.getSymbolInstanceTextSize(at,Mt,this.transform.zoom,qt),Nc=(Ln.x2-Ln.x1)*bi+2*Ln.padding,is=(Ln.y2-Ln.y1)*bi+2*Ln.padding,js=_t&&!ut?pa:null;js&&An(js);let wi={box:[],offscreen:!1,occluded:!1};const Qd=lt?2*mn.length:mn.length;for(let Ic=0;Ic<Qd;++Ic){const Em=this.attemptAnchorPlacement(mn[Ic%mn.length],Ln,Nc,is,bi,yt,bt,O,P,rt,Ic>=mn.length,Mt,qt,b,Yd,js,at,ot);if(Em&&(wi=Em.placedGlyphBoxes,wi&&wi.box&&wi.box.length)){Gt=!0,Re=Em.shift;break}}return wi};Tn(()=>io(Ko,Rt.iconBox,i.WritingMode.horizontal),()=>{const Ln=Rt.verticalTextBox;return Ln&&An(Ln),b.allowVerticalPlacement&&!(_e&&_e.box&&_e.box.length)&&Bt>0&&Ln?io(Ln,Rt.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),_e&&(Gt=_e.box,Xt=_e.offscreen,ee=_e.occluded);const ra=Un(!(!_e||!_e.box));if(!Gt&&this.prevPlacement){const Ln=this.prevPlacement.variableOffsets[Yt];Ln&&(this.variableOffsets[Yt]=Ln,this.markUsedJustification(b,Ln.anchor,Mt,ra))}}else{const mn=(io,ra)=>{const Ln=b.getSymbolInstanceTextSize(at,Mt,this.transform.zoom,qt),pa=this.collisionIndex.placeCollisionBox(b,Ln,io,new i.Point(0,0),lt,O,P,rt.predicate);return pa&&pa.box&&pa.box.length&&(this.markUsedOrientation(b,ra,Mt),this.placedOrientations[Yt]=ra),pa};Tn(()=>mn(Ko,i.WritingMode.horizontal),()=>{const io=Rt.verticalTextBox;return b.allowVerticalPlacement&&Bt>0&&io?(An(io),mn(io,i.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Un(!!(_e&&_e.box&&_e.box.length))}}if(tn=_e,Gt=tn&&tn.box&&tn.box.length>0,Xt=tn&&tn.offscreen,ee=tn&&tn.occluded,Mt.useRuntimeCollisionCircles){const Un=b.text.placedSymbolArray.get(Mt.centerJustifiedTextSymbolIndex>=0?Mt.centerJustifiedTextSymbolIndex:Mt.verticalPlacedTextSymbolIndex),Tn=i.evaluateSizeForFeature(b.textSizeData,at,Un),mn=S.get("text-padding");Ye=this.collisionIndex.placeCollisionCircles(b,lt,Un,b.lineVertexArray,b.glyphOffsetArray,Tn,P,M,L,f,bt,rt.predicate,Mt.collisionCircleDiameter*Tn/i.ONE_EM,mn,this.retainedQueryData[b.bucketInstanceId].tileID),Gt=lt||Ye.circles.length>0&&!Ye.collisionDetected,Xt=Xt&&Ye.offscreen,ee=Ye.occluded}if(Rt.iconFeatureIndex&&(Cn=Rt.iconFeatureIndex),Rt.iconBox){const Un=Tn=>{An(Tn);const mn=_t&&Re?mc(Re.x,Re.y,yt,bt,this.transform.angle):new i.Point(0,0),io=b.getSymbolInstanceIconSize(ot,this.transform.zoom,Mt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(b,io,Tn,mn,ut,O,P,rt.predicate)};Me&&Me.box&&Me.box.length&&Rt.verticalIconBox?(Ae=Un(Rt.verticalIconBox),te=Ae.box.length>0):(Ae=Un(Rt.iconBox),te=Ae.box.length>0),Xt=Xt&&Ae.offscreen,Se=Ae.occluded}const Io=U||Mt.numHorizontalGlyphVertices===0&&Bt===0,Ga=et||Mt.numIconVertices===0;if(Io||Ga?Ga?Io||(te=te&&Gt):Gt=te&&Gt:te=Gt=te&&Gt,Gt&&tn&&tn.box&&this.collisionIndex.insertCollisionBox(tn.box,S.get("text-ignore-placement"),b.bucketInstanceId,Me&&Me.box&&wn?wn:yn,rt.ID),te&&Ae&&this.collisionIndex.insertCollisionBox(Ae.box,S.get("icon-ignore-placement"),b.bucketInstanceId,Cn,rt.ID),Ye&&(Gt&&this.collisionIndex.insertCollisionCircles(Ye.circles,S.get("text-ignore-placement"),b.bucketInstanceId,yn,rt.ID),f)){const Un=b.bucketInstanceId;let Tn=this.collisionCircleArrays[Un];Tn===void 0&&(Tn=this.collisionCircleArrays[Un]=new uc);for(let mn=0;mn<Ye.circles.length;mn+=4)Tn.circles.push(Ye.circles[mn+0]),Tn.circles.push(Ye.circles[mn+1]),Tn.circles.push(Ye.circles[mn+2]),Tn.circles.push(Ye.collisionDetected?1:0)}const Mr=b.projection.name!=="globe";At=At&&(Mr||!ee),Nt=Nt&&(Mr||!Se),this.placements[Yt]=new dc(Gt||At,te||Nt,Xt||b.justReloaded),d.add(Yt)};if(Tt){const Mt=b.getSortedSymbolIndexes(this.transform.angle);for(let qt=Mt.length-1;qt>=0;--qt){const Rt=Mt[qt];Qt(b.symbolInstances.get(Rt),Rt,b.collisionArrays[Rt])}}else for(let Mt=s.symbolInstanceStart;Mt<s.symbolInstanceEnd;Mt++)Qt(b.symbolInstances.get(Mt),Mt,b.collisionArrays[Mt]);if(f&&b.bucketInstanceId in this.collisionCircleArrays){const Mt=this.collisionCircleArrays[b.bucketInstanceId];i.invert(Mt.invProjMatrix,P),Mt.viewportMatrix=this.collisionIndex.getViewportMatrix()}b.justReloaded=!1}markUsedJustification(s,d,f,v){const{leftJustifiedTextSymbolIndex:b,centerJustifiedTextSymbolIndex:S,rightJustifiedTextSymbolIndex:P,verticalPlacedTextSymbolIndex:M,crossTileID:L}=f,R=i.getAnchorJustification(d),O=v===i.WritingMode.vertical?M:R==="left"?b:R==="center"?S:R==="right"?P:-1;b>=0&&(s.text.placedSymbolArray.get(b).crossTileID=O>=0&&b!==O?0:L),S>=0&&(s.text.placedSymbolArray.get(S).crossTileID=O>=0&&S!==O?0:L),P>=0&&(s.text.placedSymbolArray.get(P).crossTileID=O>=0&&P!==O?0:L),M>=0&&(s.text.placedSymbolArray.get(M).crossTileID=O>=0&&M!==O?0:L)}markUsedOrientation(s,d,f){const v=d===i.WritingMode.horizontal||d===i.WritingMode.horizontalOnly?d:0,b=d===i.WritingMode.vertical?d:0,{leftJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:M,verticalPlacedTextSymbolIndex:L}=f,R=s.text.placedSymbolArray;S>=0&&(R.get(S).placedOrientation=v),P>=0&&(R.get(P).placedOrientation=v),M>=0&&(R.get(M).placedOrientation=v),L>=0&&(R.get(L).placedOrientation=b)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let f=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(s):1,b=d?d.opacities:{},S=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const M in this.placements){const L=this.placements[M],R=b[M];R?(this.opacities[M]=new ts(R,v,L.text,L.icon,null,L.clipped),f=f||L.text!==R.text.placed||L.icon!==R.icon.placed):(this.opacities[M]=new ts(null,v,L.text,L.icon,L.skipFade,L.clipped),f=f||L.text||L.icon)}for(const M in b){const L=b[M];if(!this.opacities[M]){const R=new ts(L,v,!1,!1);R.isHidden()||(this.opacities[M]=R,f=f||L.text.placed||L.icon.placed)}}for(const M in S)this.variableOffsets[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.variableOffsets[M]=S[M]);for(const M in P)this.placedOrientations[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.placedOrientations[M]=P[M]);f?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:s)}updateLayerOpacities(s,d){const f=new Set;for(const v of d){const b=v.getBucket(s);b&&v.latestFeatureIndex&&s.id===b.layerIds[0]&&this.updateBucketOpacities(b,f,v.collisionBoxArray)}}updateBucketOpacities(s,d,f){s.hasTextData()&&s.text.opacityVertexArray.clear(),s.hasIconData()&&s.icon.opacityVertexArray.clear(),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const v=s.layers[0].layout,b=!!s.layers[0].dynamicFilter(),S=new ts(null,0,!1,!1,!0),P=v.get("text-allow-overlap"),M=v.get("icon-allow-overlap"),L=v.get("text-variable-anchor"),R=v.get("text-rotation-alignment")==="map",O=v.get("text-pitch-alignment")==="map",Y=v.get("icon-text-fit")!=="none",nt=new ts(null,0,P&&(M||!s.hasIconData()||v.get("icon-optional")),M&&(P||!s.hasTextData()||v.get("text-optional")),!0);!s.collisionArrays&&f&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(f);const at=(rt,U,et)=>{for(let lt=0;lt<U/4;lt++)rt.opacityVertexArray.emplaceBack(et)};let ot=0;for(let rt=0;rt<s.symbolInstances.length;rt++){const U=s.symbolInstances.get(rt),{numHorizontalGlyphVertices:et,numVerticalGlyphVertices:lt,crossTileID:ut,numIconVertices:yt}=U,bt=d.has(ut);let _t=this.opacities[ut];bt?_t=S:_t||(_t=nt,this.opacities[ut]=_t),d.add(ut);const Tt=et>0||lt>0,At=yt>0,Nt=this.placedOrientations[ut],Qt=Nt===i.WritingMode.vertical,Mt=Nt===i.WritingMode.horizontal||Nt===i.WritingMode.horizontalOnly;if(!Tt&&!At||_t.isHidden()||ot++,Tt){const qt=hc(_t.text);at(s.text,et,Qt?Zn:qt),at(s.text,lt,Mt?Zn:qt);const Rt=_t.text.isHidden(),{leftJustifiedTextSymbolIndex:Yt,centerJustifiedTextSymbolIndex:Bt,rightJustifiedTextSymbolIndex:Gt,verticalPlacedTextSymbolIndex:te}=U,Xt=s.text.placedSymbolArray,ee=Rt||Qt?1:0;Yt>=0&&(Xt.get(Yt).hidden=ee),Bt>=0&&(Xt.get(Bt).hidden=ee),Gt>=0&&(Xt.get(Gt).hidden=ee),te>=0&&(Xt.get(te).hidden=Rt||Mt?1:0);const Se=this.variableOffsets[ut];Se&&this.markUsedJustification(s,Se.anchor,U,Nt);const Re=this.placedOrientations[ut];Re&&(this.markUsedJustification(s,"left",U,Re),this.markUsedOrientation(s,Re,U))}if(At){const qt=hc(_t.icon),{placedIconSymbolIndex:Rt,verticalPlacedIconSymbolIndex:Yt}=U,Bt=s.icon.placedSymbolArray,Gt=_t.icon.isHidden()?1:0;Rt>=0&&(at(s.icon,yt,Qt?Zn:qt),Bt.get(Rt).hidden=Gt),Yt>=0&&(at(s.icon,U.numVerticalIconVertices,Mt?Zn:qt),Bt.get(Yt).hidden=Gt)}if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const qt=s.collisionArrays[rt];if(qt){let Rt=new i.Point(0,0),Yt=!0;if(qt.textBox||qt.verticalTextBox){if(L){const Gt=this.variableOffsets[ut];Gt?(Rt=pc(Gt.anchor,Gt.width,Gt.height,Gt.textOffset,Gt.textScale),R&&Rt._rotate(O?this.transform.angle:-this.transform.angle)):Yt=!1}b&&(Yt=!_t.clipped),qt.textBox&&Hi(s.textCollisionBox.collisionVertexArray,_t.text.placed,!Yt||Qt,Rt.x,Rt.y),qt.verticalTextBox&&Hi(s.textCollisionBox.collisionVertexArray,_t.text.placed,!Yt||Mt,Rt.x,Rt.y)}const Bt=Yt&&!!(!Mt&&qt.verticalIconBox);qt.iconBox&&Hi(s.iconCollisionBox.collisionVertexArray,_t.icon.placed,Bt,Y?Rt.x:0,Y?Rt.y:0),qt.verticalIconBox&&Hi(s.iconCollisionBox.collisionVertexArray,_t.icon.placed,!Bt,Y?Rt.x:0,Y?Rt.y:0)}}}if(s.fullyClipped=ot===0,s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=rt.invProjMatrix,s.placementViewportMatrix=rt.viewportMatrix,s.collisionCircleArray=rt.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,d){const f=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*f>s}setStale(){this.stale=!0}}function Hi(m,s,d,f,v){m.emplaceBack(s?1:0,d?1:0,f||0,v||0),m.emplaceBack(s?1:0,d?1:0,f||0,v||0),m.emplaceBack(s?1:0,d?1:0,f||0,v||0),m.emplaceBack(s?1:0,d?1:0,f||0,v||0)}const da=Math.pow(2,25),eo=Math.pow(2,24),zp=Math.pow(2,17),jp=Math.pow(2,16),ua=Math.pow(2,9),Va=Math.pow(2,8),$f=Math.pow(2,1);function hc(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const s=m.placed?1:0,d=Math.floor(127*m.opacity);return d*da+s*eo+d*zp+s*jp+d*ua+s*Va+d*$f+s}const Zn=0;class fc{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&s.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(s,d,f,v,b){const S=this._bucketParts;for(;this._currentTileIndex<s.length;)if(d.getBucketParts(S,v,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,S.sort((P,M)=>P.sortKey-M.sortKey));this._currentPartIndex<S.length;){const P=S[this._currentPartIndex];if(d.placeLayerBucketPart(P,this._seenCrossTileIDs,f,P.symbolInstanceStart===0),this._currentPartIndex++,b())return!0}return!1}}class Op{constructor(s,d,f,v,b,S,P,M){this.placement=new Ad(s,b,S,P,M),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=v,this._done=!1}isDone(){return this._done}continuePlacement(s,d,f){const v=i.exported.now(),b=()=>{const S=i.exported.now()-v;return!this._forceFullPlacement&&S>2};for(;this._currentPlacementIndex>=0;){const S=d[s[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(S.type==="symbol"&&(!S.minzoom||S.minzoom<=P)&&(!S.maxzoom||S.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new fc(S)),this._inProgressLayer.continuePlacement(f[S.source],this.placement,this._showCollisionBoxes,S,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const hi=512/i.EXTENT/2;class jo{constructor(s,d,f){this.tileID=s,this.bucketInstanceId=f,this.index=new i.KDBush(d.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const v=s.canonical.x*i.EXTENT,b=s.canonical.y*i.EXTENT;for(let S=0;S<d.length;S++){const{key:P,crossTileID:M,tileAnchorX:L,tileAnchorY:R}=d.get(S),O=Math.floor((v+L)*hi),Y=Math.floor((b+R)*hi);this.index.add(O,Y),this.keys.push(P),this.crossTileIDs.push(M)}this.index.finish()}findMatches(s,d,f){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z),b=hi/Math.pow(2,d.canonical.z-this.tileID.canonical.z),S=d.canonical.x*i.EXTENT,P=d.canonical.y*i.EXTENT;for(let M=0;M<s.length;M++){const L=s.get(M);if(L.crossTileID)continue;const{key:R,tileAnchorX:O,tileAnchorY:Y}=L,nt=Math.floor((S+O)*b),at=Math.floor((P+Y)*b),ot=this.index.range(nt-v,at-v,nt+v,at+v);for(const rt of ot){const U=this.crossTileIDs[rt];if(this.keys[rt]===R&&!f.has(U)){f.add(U),L.crossTileID=U;break}}}}}class Vp{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Up{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const d=Math.round((s-this.lng)/360);if(d!==0)for(const f in this.indexes){const v=this.indexes[f],b={};for(const S in v){const P=v[S];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),b[P.tileID.key]=P}this.indexes[f]=b}this.lng=s}addBucket(s,d,f){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let b=0;b<d.symbolInstances.length;b++)d.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]=new Set);const v=this.usedCrossTileIDs[s.overscaledZ];for(const b in this.indexes){const S=this.indexes[b];if(Number(b)>s.overscaledZ)for(const P in S){const M=S[P];M.tileID.isChildOf(s)&&M.findMatches(d.symbolInstances,s,v)}else{const P=S[s.scaledTo(Number(b)).key];P&&P.findMatches(d.symbolInstances,s,v)}}for(let b=0;b<d.symbolInstances.length;b++){const S=d.symbolInstances.get(b);S.crossTileID||(S.crossTileID=f.generate(),v.add(S.crossTileID))}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new jo(s,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(s,d){for(const f of d.crossTileIDs)this.usedCrossTileIDs[s].delete(f)}removeStaleBuckets(s){let d=!1;for(const f in this.indexes){const v=this.indexes[f];for(const b in v)s[v[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,v[b]),delete v[b],d=!0)}return d}}class es{constructor(){this.layerIndexes={},this.crossTileIDs=new Vp,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,d,f,v){let b=this.layerIndexes[s.id];b===void 0&&(b=this.layerIndexes[s.id]=new Up);let S=!1;const P={};v.name!=="globe"&&b.handleWrapJump(f);for(const M of d){const L=M.getBucket(s);L&&s.id===L.layerIds[0]&&(L.bucketInstanceId||(L.bucketInstanceId=++this.maxBucketInstanceId),b.addBucket(M.tileID,L,this.crossTileIDs)&&(S=!0),P[L.bucketInstanceId]=!0)}return b.removeStaleBuckets(P)&&(S=!0),S}pruneUnusedLayers(s){const d={};s.forEach(f=>{d[f]=!0});for(const f in this.layerIndexes)d[f]||delete this.layerIndexes[f]}}const Ls=(m,s)=>i.emitValidationErrors(m,s&&s.filter(d=>d.identifier!=="source.canvas")),Td=i.pick(xn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),L2=i.pick(xn,["setCenter","setZoom","setBearing","setPitch"]),$p={version:8,layers:[],sources:{}},Zi={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Er extends i.Evented{constructor(s,d={}){super(),this.map=s,this.dispatcher=new fe(qi(),this),this.imageManager=new Te,this.imageManager.setEventedParent(this),this.glyphManager=new i.GlyphManager(s._requestManager,d.localFontFamily?i.LocalGlyphMode.all:d.localIdeographFontFamily?i.LocalGlyphMode.ideographs:i.LocalGlyphMode.none,d.localFontFamily||d.localIdeographFontFamily),this.crossTileSymbolIndex=new es,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());const f=this;this._rtlTextPluginCallback=Er.registerForPluginStateChange(v=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(b,S)=>{if(i.triggerPluginCompletionEvent(b),S&&S.every(P=>P))for(const P in f._sourceCaches){const M=f._sourceCaches[P],L=M.getSource().type;L!=="vector"&&L!=="geojson"||M.reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const b=this.getSource(v.sourceId);if(b&&b.vectorLayerIds)for(const S in this._layers){const P=this._layers[S];P.source===b.id&&this._validateLayer(P)}})}loadURL(s,d={}){this.fire(new i.Event("dataloading",{dataType:"style"}));const f=typeof d.validate=="boolean"?d.validate:!i.isMapboxURL(s);s=this.map._requestManager.normalizeStyleURL(s,d.accessToken);const v=this.map._requestManager.transformRequest(s,i.ResourceType.Style);this._request=i.getJSON(v,(b,S)=>{this._request=null,b?this.fire(new i.ErrorEvent(b)):S&&this._load(S,f)})}loadJSON(s,d={}){this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.exported.frame(()=>{this._request=null,this._load(s,d.validate!==!1)})}loadEmpty(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load($p,!1)}_updateLayerCount(s,d){const f=d?1:-1;s.is3D()&&(this._num3DLayers+=f),s.type==="circle"&&(this._numCircleLayers+=f),s.type==="symbol"&&(this._numSymbolLayers+=f)}_load(s,d){if(d&&Ls(this,i.validateStyle(s)))return;this._loaded=!0,this.stylesheet=i.clone$1(s),this._updateMapProjection();for(const v in s.sources)this.addSource(v,s.sources[v],{validate:!1});this._changed=!1,s.sprite?this._loadSprite(s.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(s.glyphs);const f=zf(this.stylesheet.layers);this._order=f.map(v=>v.id),this._layers={},this._serializedLayers={};for(const v of f){const b=i.createStyleLayer(v);b.setEventedParent(this,{layer:{id:b.id}}),this._layers[b.id]=b,this._serializedLayers[b.id]=b.serialize(),this._updateLayerCount(b,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ce(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(s){s?this.stylesheet.projection=s:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(s){this._spriteRequest=function(d,f,v){let b,S,P;const M=i.exported.devicePixelRatio>1?"@2x":"";let L=i.getJSON(f.transformRequest(f.normalizeSpriteURL(d,M,".json"),i.ResourceType.SpriteJSON),(Y,nt)=>{L=null,P||(P=Y,b=nt,O())}),R=i.getImage(f.transformRequest(f.normalizeSpriteURL(d,M,".png"),i.ResourceType.SpriteImage),(Y,nt)=>{R=null,P||(P=Y,S=nt,O())});function O(){if(P)v(P);else if(b&&S){const Y=i.exported.getImageData(S),nt={};for(const at in b){const{width:ot,height:rt,x:U,y:et,sdf:lt,pixelRatio:ut,stretchX:yt,stretchY:bt,content:_t}=b[at],Tt=new i.RGBAImage({width:ot,height:rt});i.RGBAImage.copy(Y,Tt,{x:U,y:et},{x:0,y:0},{width:ot,height:rt}),nt[at]={data:Tt,pixelRatio:ut,sdf:lt,stretchX:yt,stretchY:bt,content:_t}}v(null,nt)}}return{cancel(){L&&(L.cancel(),L=null),R&&(R.cancel(),R=null)}}}(s,this.map._requestManager,(d,f)=>{if(this._spriteRequest=null,d)this.fire(new i.ErrorEvent(d));else if(f)for(const v in f)this.imageManager.addImage(v,f[v]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new i.Event("data",{dataType:"style"}))})}_validateLayer(s){const d=this.getSource(s.source);if(!d)return;const f=s.sourceLayer;f&&(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(f)===-1)&&this.fire(new i.ErrorEvent(new Error(`Source layer "${f}" does not exist on source "${d.id}" as specified by style layer "${s.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this._sourceCaches)if(!this._sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(s){const d=[];for(const f of s){const v=this._layers[f];v.type!=="custom"&&d.push(v.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const s in this._sourceCaches)if(this._sourceCaches[s].hasTransition())return!0;for(const s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(s){return!!this.terrain&&(typeof s.isLayerDraped=="function"?s.isLayerDraped():Zi[s.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(s){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(v.length||b.length)&&this._updateWorkerLayers(v,b);for(const S in this._updatedSources){const P=this._updatedSources[S];P==="reload"?this._reloadSource(S):P==="clear"&&this._clearSource(S)}this._updateTilesForChangedImages();for(const S in this._updatedPaintProps)this._layers[S].updateTransitions(s);this.light.updateTransitions(s),this.fog&&this.fog.updateTransitions(s),this._resetUpdates()}const f={};for(const v in this._sourceCaches){const b=this._sourceCaches[v];f[v]=b.used,b.used=!1}for(const v of this._order){const b=this._layers[v];if(b.recalculate(s,this._availableImages),!b.isHidden(s.zoom)){const P=this._getLayerSourceCache(b);P&&(P.used=!0)}const S=this.map.painter;if(S){const P=b.getProgramIds();if(!P)continue;const M=b.getProgramConfiguration(s.zoom);for(const L of P)S.useProgram(L,M)}}for(const v in f){const b=this._sourceCaches[v];f[v]!==b.used&&b.getSource().fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:b.getSource().id}))}this.light.recalculate(s),this.terrain&&this.terrain.recalculate(s),this.fog&&this.fog.recalculate(s),this.z=s.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),d&&this.fire(new i.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const d in this._sourceCaches)this._sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateWorkerLayers(s,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(s),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(s){if(this._checkLoaded(),Ls(this,i.validateStyle(s)))return!1;(s=i.clone$1(s)).layers=zf(s.layers);const d=function(v,b){if(!v)return[{command:xn.setStyle,args:[b]}];let S=[];try{if(!E(v.version,b.version))return[{command:xn.setStyle,args:[b]}];E(v.center,b.center)||S.push({command:xn.setCenter,args:[b.center]}),E(v.zoom,b.zoom)||S.push({command:xn.setZoom,args:[b.zoom]}),E(v.bearing,b.bearing)||S.push({command:xn.setBearing,args:[b.bearing]}),E(v.pitch,b.pitch)||S.push({command:xn.setPitch,args:[b.pitch]}),E(v.sprite,b.sprite)||S.push({command:xn.setSprite,args:[b.sprite]}),E(v.glyphs,b.glyphs)||S.push({command:xn.setGlyphs,args:[b.glyphs]}),E(v.transition,b.transition)||S.push({command:xn.setTransition,args:[b.transition]}),E(v.light,b.light)||S.push({command:xn.setLight,args:[b.light]}),E(v.fog,b.fog)||S.push({command:xn.setFog,args:[b.fog]}),E(v.projection,b.projection)||S.push({command:xn.setProjection,args:[b.projection]});const P={},M=[];(function(O,Y,nt,at){let ot;for(ot in Y=Y||{},O=O||{})O.hasOwnProperty(ot)&&(Y.hasOwnProperty(ot)||ic(ot,nt,at));for(ot in Y){if(!Y.hasOwnProperty(ot))continue;const rt=Y[ot];O.hasOwnProperty(ot)?E(O[ot],rt)||(O[ot].type==="geojson"&&rt.type==="geojson"&&Cd(O,Y,ot)?nt.push({command:xn.setGeoJSONSourceData,args:[ot,rt.data]}):Np(ot,Y,nt,at)):Bp(ot,Y,nt)}})(v.sources,b.sources,M,P);const L=[];v.layers&&v.layers.forEach(O=>{O.source&&P[O.source]?S.push({command:xn.removeLayer,args:[O.id]}):L.push(O)});let R=v.terrain;R&&P[R.source]&&(S.push({command:xn.setTerrain,args:[void 0]}),R=void 0),S=S.concat(M),E(R,b.terrain)||S.push({command:xn.setTerrain,args:[b.terrain]}),function(O,Y,nt){Y=Y||[];const at=(O=O||[]).map(Yr),ot=Y.map(Yr),rt=O.reduce(Ip,{}),U=Y.reduce(Ip,{}),et=at.slice(),lt=Object.create(null);let ut,yt,bt,_t,Tt,At,Nt;for(ut=0,yt=0;ut<at.length;ut++)bt=at[ut],U.hasOwnProperty(bt)?yt++:(nt.push({command:xn.removeLayer,args:[bt]}),et.splice(et.indexOf(bt,yt),1));for(ut=0,yt=0;ut<ot.length;ut++)bt=ot[ot.length-1-ut],et[et.length-1-ut]!==bt&&(rt.hasOwnProperty(bt)?(nt.push({command:xn.removeLayer,args:[bt]}),et.splice(et.lastIndexOf(bt,et.length-yt),1)):yt++,At=et[et.length-ut],nt.push({command:xn.addLayer,args:[U[bt],At]}),et.splice(et.length-ut,0,bt),lt[bt]=!0);for(ut=0;ut<ot.length;ut++)if(bt=ot[ut],_t=rt[bt],Tt=U[bt],!lt[bt]&&!E(_t,Tt))if(E(_t.source,Tt.source)&&E(_t["source-layer"],Tt["source-layer"])&&E(_t.type,Tt.type)){for(Nt in Tr(_t.layout,Tt.layout,nt,bt,null,xn.setLayoutProperty),Tr(_t.paint,Tt.paint,nt,bt,null,xn.setPaintProperty),E(_t.filter,Tt.filter)||nt.push({command:xn.setFilter,args:[bt,Tt.filter]}),E(_t.minzoom,Tt.minzoom)&&E(_t.maxzoom,Tt.maxzoom)||nt.push({command:xn.setLayerZoomRange,args:[bt,Tt.minzoom,Tt.maxzoom]}),_t)_t.hasOwnProperty(Nt)&&Nt!=="layout"&&Nt!=="paint"&&Nt!=="filter"&&Nt!=="metadata"&&Nt!=="minzoom"&&Nt!=="maxzoom"&&(Nt.indexOf("paint.")===0?Tr(_t[Nt],Tt[Nt],nt,bt,Nt.slice(6),xn.setPaintProperty):E(_t[Nt],Tt[Nt])||nt.push({command:xn.setLayerProperty,args:[bt,Nt,Tt[Nt]]}));for(Nt in Tt)Tt.hasOwnProperty(Nt)&&!_t.hasOwnProperty(Nt)&&Nt!=="layout"&&Nt!=="paint"&&Nt!=="filter"&&Nt!=="metadata"&&Nt!=="minzoom"&&Nt!=="maxzoom"&&(Nt.indexOf("paint.")===0?Tr(_t[Nt],Tt[Nt],nt,bt,Nt.slice(6),xn.setPaintProperty):E(_t[Nt],Tt[Nt])||nt.push({command:xn.setLayerProperty,args:[bt,Nt,Tt[Nt]]}))}else nt.push({command:xn.removeLayer,args:[bt]}),At=et[et.lastIndexOf(bt)+1],nt.push({command:xn.addLayer,args:[Tt,At]})}(L,b.layers,S)}catch(P){console.warn("Unable to compute style diff:",P),S=[{command:xn.setStyle,args:[b]}]}return S}(this.serialize(),s).filter(v=>!(v.command in L2));if(d.length===0)return!1;const f=d.filter(v=>!(v.command in Td));if(f.length>0)throw new Error(`Unimplemented: ${f.map(v=>v.command).join(", ")}.`);return d.forEach(v=>{v.command!=="setTransition"&&v.command!=="setProjection"&&this[v.command].apply(this,v.args)}),this.stylesheet=s,this._updateMapProjection(),!0}addImage(s,d){return this.getImage(s)?this.fire(new i.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(s,d),this._afterImageUpdated(s),this)}updateImage(s,d){this.imageManager.updateImage(s,d)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){return this.getImage(s)?(this.imageManager.removeImage(s),this._afterImageUpdated(s),this):this.fire(new i.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(s,d,f={}){if(this._checkLoaded(),this.getSource(s)!==void 0)throw new Error("There is already a source with this ID");if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(i.validateSource,`sources.${s}`,d,null,f))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=Ke(s,d,this.dispatcher,this);v.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(s),source:v.serialize(),sourceId:s}));const b=S=>{const P=(S?"symbol:":"other:")+s,M=this._sourceCaches[P]=new i.SourceCache(P,v,S);(S?this._symbolSourceCaches:this._otherSourceCaches)[s]=M,M.style=this,M.onAdd(this.map)};b(!1),d.type!=="vector"&&d.type!=="geojson"||b(!0),v.onAdd&&v.onAdd(this.map),this._changed=!0}removeSource(s){this._checkLoaded();const d=this.getSource(s);if(!d)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===s)return this.fire(new i.ErrorEvent(new Error(`Source "${s}" cannot be removed while layer "${v}" is using it.`)));if(this.terrain&&this.terrain.get().source===s)return this.fire(new i.ErrorEvent(new Error(`Source "${s}" cannot be removed while terrain is using it.`)));const f=this._getSourceCaches(s);for(const v of f)delete this._sourceCaches[v.id],delete this._updatedSources[v.id],v.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:v.getSource().id})),v.setEventedParent(null),v.clearTiles();return delete this._otherSourceCaches[s],delete this._symbolSourceCaches[s],d.setEventedParent(null),d.onRemove&&d.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(s,d){this._checkLoaded(),this.getSource(s).setData(d),this._changed=!0}getSource(s){const d=this._getSourceCache(s);return d&&d.getSource()}_getSources(){const s=[];for(const d in this._otherSourceCaches){const f=this._getSourceCache(d);f&&s.push(f.getSource())}return s}addLayer(s,d,f={}){this._checkLoaded();const v=s.id;if(this.getLayer(v))return void this.fire(new i.ErrorEvent(new Error(`Layer with id "${v}" already exists on this map`)));let b;if(s.type==="custom"){if(Ls(this,i.validateCustomStyleLayer(s)))return;b=i.createStyleLayer(s)}else{if(typeof s.source=="object"&&(this.addSource(v,s.source),s=i.clone$1(s),s=i.extend(s,{source:v})),this._validate(i.validateLayer,`layers.${v}`,s,{arrayIndex:-1},f))return;b=i.createStyleLayer(s),this._validateLayer(b),b.setEventedParent(this,{layer:{id:v}}),this._serializedLayers[b.id]=b.serialize(),this._updateLayerCount(b,!0)}const S=d?this._order.indexOf(d):this._order.length;if(d&&S===-1)return void this.fire(new i.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`)));this._order.splice(S,0,v),this._layerOrderChanged=!0,this._layers[v]=b;const P=this._getLayerSourceCache(b);if(this._removedLayers[v]&&b.source&&P&&b.type!=="custom"){const M=this._removedLayers[v];delete this._removedLayers[v],M.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",P.pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(s,d){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===d)return;const f=this._order.indexOf(s);this._order.splice(f,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new i.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`))):(this._order.splice(v,0,s),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(s){this._checkLoaded();const d=this._layers[s];if(!d)return void this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be removed.`)));d.setEventedParent(null),this._updateLayerCount(d,!1);const f=this._order.indexOf(s);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=d,delete this._layers[s],delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],d.onRemove&&d.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(s){return this._layers[s]}hasLayer(s){return s in this._layers}hasLayerType(s){for(const d in this._layers)if(this._layers[d].type===s)return!0;return!1}setLayerZoomRange(s,d,f){this._checkLoaded();const v=this.getLayer(s);v?v.minzoom===d&&v.maxzoom===f||(d!=null&&(v.minzoom=d),f!=null&&(v.maxzoom=f),this._updateLayer(v)):this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(s,d,f={}){this._checkLoaded();const v=this.getLayer(s);if(v){if(!E(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(i.validateFilter,`layers.${v.id}.filter`,d,{layerType:v.type},f)||(v.filter=i.clone$1(d),this._updateLayer(v)))}else this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be filtered.`)))}getFilter(s){const d=this.getLayer(s);return d&&i.clone$1(d.filter)}setLayoutProperty(s,d,f,v={}){this._checkLoaded();const b=this.getLayer(s);b?E(b.getLayoutProperty(d),f)||(b.setLayoutProperty(d,f,v),this._updateLayer(b)):this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(s,d){const f=this.getLayer(s);if(f)return f.getLayoutProperty(d);this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style.`)))}setPaintProperty(s,d,f,v={}){this._checkLoaded();const b=this.getLayer(s);b?E(b.getPaintProperty(d),f)||(b.setPaintProperty(d,f,v)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[s]=!0):this.fire(new i.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(s,d){const f=this.getLayer(s);return f&&f.getPaintProperty(d)}setFeatureState(s,d){this._checkLoaded();const f=s.source,v=s.sourceLayer,b=this.getSource(f);if(!b)return void this.fire(new i.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const S=b.type;if(S==="geojson"&&v)return void this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(S==="vector"&&!v)return void this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));s.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided.")));const P=this._getSourceCaches(f);for(const M of P)M.setFeatureState(v,s.id,d)}removeFeatureState(s,d){this._checkLoaded();const f=s.source,v=this.getSource(f);if(!v)return void this.fire(new i.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const b=v.type,S=b==="vector"?s.sourceLayer:void 0;if(b==="vector"&&!S)return void this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(d&&typeof s.id!="string"&&typeof s.id!="number")return void this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const P=this._getSourceCaches(f);for(const M of P)M.removeFeatureState(S,s.id,d)}getFeatureState(s){this._checkLoaded();const d=s.source,f=s.sourceLayer,v=this.getSource(d);if(v){if(v.type!=="vector"||f)return s.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(d)[0].getFeatureState(f,s.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const s={};for(const d in this._sourceCaches){const f=this._sourceCaches[d].getSource();s[f.id]||(s[f.id]=f.serialize())}return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:s,layers:this._serializeLayers(this._order)},d=>d!==void 0)}_updateLayer(s){this._updatedLayers[s.id]=!0;const d=this._getLayerSourceCache(s);s.source&&!this._updatedSources[s.source]&&d&&d.getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",d.pause()),this._changed=!0,s.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(s){const d=S=>this._layers[S].type==="fill-extrusion",f={},v=[];for(let S=this._order.length-1;S>=0;S--){const P=this._order[S];if(d(P)){f[P]=S;for(const M of s){const L=M[P];if(L)for(const R of L)v.push(R)}}}v.sort((S,P)=>P.intersectionZ-S.intersectionZ);const b=[];for(let S=this._order.length-1;S>=0;S--){const P=this._order[S];if(d(P))for(let M=v.length-1;M>=0;M--){const L=v[M].feature;if(f[L.layer.id]<S)break;b.push(L),v.pop()}else for(const M of s){const L=M[P];if(L)for(const R of L)b.push(R.feature)}}return b}queryRenderedFeatures(s,d,f){d&&d.filter&&this._validate(i.validateFilter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const M of d.layers){const L=this._layers[M];if(!L)return this.fire(new i.ErrorEvent(new Error(`The layer '${M}' does not exist in the map's style and cannot be queried for features.`))),[];v[L.source]=!0}}const b=[];d.availableImages=this._availableImages;const S=d&&d.layers?d.layers.some(M=>{const L=this.getLayer(M);return L&&L.is3D()}):this.has3DLayers(),P=Ze.createFromScreenPoints(s,f);for(const M in this._sourceCaches){const L=this._sourceCaches[M].getSource().id;d.layers&&!v[L]||b.push($n(this._sourceCaches[M],this._layers,this._serializedLayers,P,d,f,S,!!this.map._showQueryGeometry))}return this.placement&&b.push(function(M,L,R,O,Y,nt,at){const ot={},rt=nt.queryRenderedSymbols(O),U=[];for(const et of Object.keys(rt).map(Number))U.push(at[et]);U.sort(Zo);for(const et of U){const lt=et.featureIndex.lookupSymbolFeatures(rt[et.bucketInstanceId],L,et.bucketIndex,et.sourceLayerIndex,Y.filter,Y.layers,Y.availableImages,M);for(const ut in lt){const yt=ot[ut]=ot[ut]||[],bt=lt[ut];bt.sort((_t,Tt)=>{const At=et.featureSortOrder;if(At){const Nt=At.indexOf(_t.featureIndex);return At.indexOf(Tt.featureIndex)-Nt}return Tt.featureIndex-_t.featureIndex});for(const _t of bt)yt.push(_t)}}for(const et in ot)ot[et].forEach(lt=>{const ut=lt.feature,yt=R(M[et]);if(!yt)return;const bt=yt.getFeatureState(ut.layer["source-layer"],ut.id);ut.source=ut.layer.source,ut.layer["source-layer"]&&(ut.sourceLayer=ut.layer["source-layer"]),ut.state=bt});return ot}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),P.screenGeometry,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(s,d){d&&d.filter&&this._validate(i.validateFilter,"querySourceFeatures.filter",d.filter,null,d);const f=this._getSourceCaches(s);let v=[];for(const b of f)v=v.concat(ro(b,d));return v}addSourceType(s,d,f){return Er.getSourceType(s)?f(new Error(`A source type called "${s}" already exists.`)):(Er.setSourceType(s,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:s,url:d.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(s,d={}){this._checkLoaded();const f=this.light.getLight();let v=!1;for(const S in s)if(!E(s[S],f[S])){v=!0;break}if(!v)return;const b=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(s,d),this.light.updateTransitions(b)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(s,d=1){if(this._checkLoaded(),!s)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let f=s;if(d===1){if(typeof f.source=="object"){const v="terrain-dem-src";this.addSource(v,f.source),f=i.clone$1(f),f=i.extend(f,{source:v})}if(this._validate(i.validateTerrain,"terrain",f))return}if(!this.terrain||this.terrain&&d!==this.terrain.drapeRenderMode){if(!f)return;this._createTerrain(f,d)}else{const v=this.terrain,b=v.get();for(const S of Object.keys(i.spec.terrain))!f.hasOwnProperty(S)&&i.spec.terrain[S].default&&(f[S]=i.spec.terrain[S].default);for(const S in f)if(!E(f[S],b[S])){v.set(f),this.stylesheet.terrain=f;const P=this._setTransitionParameters({duration:0});v.updateTransitions(P);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(s){const d=this.fog=new we(s,this.map.transform);this.stylesheet.fog=s;const f=this._setTransitionParameters({duration:0});d.updateTransitions(f)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const s of this.map._markers)s._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(s){if(this._checkLoaded(),!s)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const d=this.fog,f=d.get();Object.keys(s).length===0&&d.set(s);for(const v in s)if(!E(s[v],f[v])){d.set(s),this.stylesheet.fog=s;const b=this._setTransitionParameters({duration:0});d.updateTransitions(b);break}}else this._createFog(s);this._markersNeedUpdate=!0}_setTransitionParameters(s){return{now:i.exported.now(),transition:i.extend(s,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const s=this._order.filter(f=>this.isLayerDraped(this._layers[f])),d=this._order.filter(f=>!this.isLayerDraped(this._layers[f]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...s),this._drapedFirstOrder.push(...d)}_createTerrain(s,d){const f=this.terrain=new Fe(s,d);this.stylesheet.terrain=s,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const v=this._setTransitionParameters({duration:0});f.updateTransitions(v)}_force3DLayerUpdate(){for(const s in this._layers){const d=this._layers[s];d.type==="fill-extrusion"&&this._updateLayer(d)}}_forceSymbolLayerUpdate(){for(const s in this._layers){const d=this._layers[s];d.type==="symbol"&&this._updateLayer(d)}}_validate(s,d,f,v,b={}){return(!b||b.validate!==!1)&&Ls(this,s.call(i.validateStyle,i.extend({key:d,style:this.serialize(),value:f,styleSpec:i.spec},v)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const s in this._layers)this._layers[s].setEventedParent(null);for(const s in this._sourceCaches)this._sourceCaches[s].clearTiles(),this._sourceCaches[s].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(s){const d=this._getSourceCaches(s);for(const f of d)f.clearTiles()}_reloadSource(s){const d=this._getSourceCaches(s);for(const f of d)f.resume(),f.reload()}_reloadSources(){for(const s of this._getSources())s.reload&&s.reload()}_updateSources(s){for(const d in this._sourceCaches)this._sourceCaches[d].update(s)}_generateCollisionBoxes(){for(const s in this._sourceCaches){const d=this._sourceCaches[s];d.resume(),d.reload()}}_updatePlacement(s,d,f,v,b=!1){let S=!1,P=!1;const M={};for(const L of this._order){const R=this._layers[L];if(R.type!=="symbol")continue;if(!M[R.source]){const Y=this._getLayerSourceCache(R);if(!Y)continue;M[R.source]=Y.getRenderableIds(!0).map(nt=>Y.getTileByID(nt)).sort((nt,at)=>at.tileID.overscaledZ-nt.tileID.overscaledZ||(nt.tileID.isLessThan(at.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer(R,M[R.source],s.center.lng,s.projection);S=S||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),b=b||this._layerOrderChanged||f===0,this._layerOrderChanged&&this.fire(new i.Event("neworder")),(b||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.exported.now(),s.zoom))&&(this.pauseablePlacement=new Op(s,this._order,b,d,f,v,this.placement,this.fog&&s.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,M),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.exported.now()),P=!0),S&&this.pauseablePlacement.placement.setStale()),P||S)for(const L of this._order){const R=this._layers[L];R.type==="symbol"&&this.placement.updateLayerOpacities(R,M[R.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.exported.now())}_releaseSymbolFadeTiles(){for(const s in this._sourceCaches)this._sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,d,f){this.imageManager.getImages(d.icons,f),this._updateTilesForChangedImages();const v=b=>{b&&b.setDependencies(d.tileID.key,d.type,d.icons)};v(this._otherSourceCaches[d.source]),v(this._symbolSourceCaches[d.source])}getGlyphs(s,d,f){this.glyphManager.getGlyphs(d.stacks,f)}getResource(s,d,f){return i.makeRequest(d,f)}_getSourceCache(s){return this._otherSourceCaches[s]}_getLayerSourceCache(s){return s.type==="symbol"?this._symbolSourceCaches[s.source]:this._otherSourceCaches[s.source]}_getSourceCaches(s){const d=[];return this._otherSourceCaches[s]&&d.push(this._otherSourceCaches[s]),this._symbolSourceCaches[s]&&d.push(this._symbolSourceCaches[s]),d}_isSourceCacheLoaded(s){const d=this._getSourceCaches(s);return d.length===0?(this.fire(new i.ErrorEvent(new Error(`There is no source with ID '${s}'`))),!1):d.every(f=>f.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Er.getSourceType=function(m){return Ue[m]},Er.setSourceType=function(m,s){Ue[m]=s},Er.registerForPluginStateChange=i.registerForPluginStateChange;var Gp=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,fi="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ns=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,gc=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,os=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Sd={},Xi={};const xc=[];Ki(Gp,xc),Ki(ns,xc),Ki(gc,xc),Ki(os,xc),Sd=vn("",ns),Xi=vn(os,gc);const Gf=vn(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ed=Gp,qp=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Wp={background:vn(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:vn(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:vn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:vn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:vn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:vn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:vn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:vn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:vn(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:vn(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:vn(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:vn(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:vn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:vn(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:vn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:vn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:vn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:vn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:vn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:vn(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:vn(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:vn(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fi),skyboxGradient:vn(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fi),skyboxCapture:vn(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:vn(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:vn(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Ki(m,s){const d=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let f of d)if(f=f.trim(),f[0]==="#"&&f.includes("if")&&!f.includes("endif")){f=f.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const v=f.split(" ");for(const b of v)s.includes(b)||s.push(b)}}function vn(m,s){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=s.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),v={},b=[...xc];return Ki(m,b),Ki(s,b),{fragmentSource:m=m.replace(d,(S,P,M,L,R)=>(v[R]=!0,P==="define"?`
#ifndef HAS_UNIFORM_u_${R}
varying ${M} ${L} ${R};
#else
uniform ${M} ${L} u_${R};
#endif
`:`
#ifdef HAS_UNIFORM_u_${R}
    ${M} ${L} ${R} = u_${R};
#endif
`)),vertexSource:s=s.replace(d,(S,P,M,L,R)=>{const O=L==="float"?"vec2":"vec4",Y=R.match(/color/)?"color":O;return v[R]?P==="define"?`
#ifndef HAS_UNIFORM_u_${R}
uniform lowp float u_${R}_t;
attribute ${M} ${O} a_${R};
varying ${M} ${L} ${R};
#else
uniform ${M} ${L} u_${R};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${R}
    ${R} = a_${R};
#else
    ${M} ${L} ${R} = u_${R};
#endif
`:`
#ifndef HAS_UNIFORM_u_${R}
    ${R} = unpack_mix_${Y}(a_${R}, u_${R}_t);
#else
    ${M} ${L} ${R} = u_${R};
#endif
`:P==="define"?`
#ifndef HAS_UNIFORM_u_${R}
uniform lowp float u_${R}_t;
attribute ${M} ${O} a_${R};
#else
uniform ${M} ${L} u_${R};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${R}
    ${M} ${L} ${R} = a_${R};
#else
    ${M} ${L} ${R} = u_${R};
#endif
`:`
#ifndef HAS_UNIFORM_u_${R}
    ${M} ${L} ${R} = unpack_mix_${Y}(a_${R}, u_${R}_t);
#else
    ${M} ${L} ${R} = u_${R};
#endif
`}),staticAttributes:f,usedDefines:b}}class z2{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(s,d,f,v,b,S,P){this.context=s;let M=this.boundPaintVertexBuffers.length!==v.length;for(let R=0;!M&&R<v.length;R++)this.boundPaintVertexBuffers[R]!==v[R]&&(M=!0);let L=this.boundDynamicVertexBuffers.length!==P.length;for(let R=0;!L&&R<P.length;R++)this.boundDynamicVertexBuffers[R]!==P[R]&&(L=!0);if(!s.extVertexArrayObject||!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==f||M||L||this.boundIndexBuffer!==b||this.boundVertexOffset!==S)this.freshBind(d,f,v,b,S,P);else{s.bindVertexArrayOES.set(this.vao);for(const R of P)R&&R.bind();b&&b.dynamicDraw&&b.bind()}}freshBind(s,d,f,v,b,S){let P;const M=s.numAttributes,L=this.context,R=L.gl;if(L.extVertexArrayObject)this.vao&&this.destroy(),this.vao=L.extVertexArrayObject.createVertexArrayOES(),L.bindVertexArrayOES.set(this.vao),P=0,this.boundProgram=s,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=v,this.boundVertexOffset=b,this.boundDynamicVertexBuffers=S;else{P=L.currentNumAttributes||0;for(let O=M;O<P;O++)R.disableVertexAttribArray(O)}d.enableAttributes(R,s),d.bind(),d.setVertexAttribPointers(R,s,b);for(const O of f)O.enableAttributes(R,s),O.bind(),O.setVertexAttribPointers(R,s,b);for(const O of S)O&&(O.enableAttributes(R,s),O.bind(),O.setVertexAttribPointers(R,s,b));v&&v.bind(),L.currentNumAttributes=M}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Hp(m,s){const d=Math.pow(2,s.canonical.z),f=s.canonical.y;return[new i.MercatorCoordinate(0,f/d).toLngLat().lat,new i.MercatorCoordinate(0,(f+1)/d).toLngLat().lat]}function qf(m,s,d,f,v,b,S){const P=m.context,M=P.gl,L=d.fbo;if(!L)return;m.prepareDrawTile();const R=m.useProgram("hillshade");P.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,L.colorAttachment.get());const O=((ot,rt,U,et)=>{const lt=U.paint.get("hillshade-shadow-color"),ut=U.paint.get("hillshade-highlight-color"),yt=U.paint.get("hillshade-accent-color");let bt=U.paint.get("hillshade-illumination-direction")*(Math.PI/180);U.paint.get("hillshade-illumination-anchor")==="viewport"&&(bt-=ot.transform.angle);const _t=!ot.options.moving;return{u_matrix:et||ot.transform.calculateProjMatrix(rt.tileID.toUnwrapped(),_t),u_image:0,u_latrange:Hp(0,rt.tileID),u_light:[U.paint.get("hillshade-exaggeration"),bt],u_shadow:lt,u_highlight:ut,u_accent:yt}})(m,d,f,m.terrain?s.projMatrix:null);m.prepareDrawProgram(P,R,s.toUnwrapped());const{tileBoundsBuffer:Y,tileBoundsIndexBuffer:nt,tileBoundsSegments:at}=m.getTileBoundsBuffers(d);R.draw(P,M.TRIANGLES,v,b,S,i.CullFaceMode.disabled,O,f.id,Y,nt,at)}function Zp(m,s,d){if(!s.needsDEMTextureUpload)return;const f=m.context,v=f.gl;f.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||m.getTileTexture(d.stride);const b=d.getPixels();s.demTexture?s.demTexture.update(b,{premultiply:!1}):s.demTexture=new i.Texture(f,b,v.RGBA,{premultiply:!1}),s.needsDEMTextureUpload=!1}function Wf(m,s,d,f,v,b){const S=m.context,P=S.gl;if(!s.dem)return;const M=s.dem;if(S.activeTexture.set(P.TEXTURE1),Zp(m,s,M),!s.demTexture)return;s.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);const L=M.dim;S.activeTexture.set(P.TEXTURE0);let R=s.fbo;if(!R){const at=new i.Texture(S,{width:L,height:L,data:null},P.RGBA);at.bind(P.LINEAR,P.CLAMP_TO_EDGE),R=s.fbo=S.createFramebuffer(L,L,!0),R.colorAttachment.set(at.texture)}S.bindFramebuffer.set(R.framebuffer),S.viewport.set([0,0,L,L]);const{tileBoundsBuffer:O,tileBoundsIndexBuffer:Y,tileBoundsSegments:nt}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(S,P.TRIANGLES,f,v,b,i.CullFaceMode.disabled,((at,ot)=>{const rt=ot.stride,U=i.create();return i.ortho(U,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(U,U,[0,-i.EXTENT,0]),{u_matrix:U,u_image:1,u_dimension:[rt,rt],u_zoom:at.overscaledZ,u_unpack:ot.unpackVector}})(s.tileID,M),d.id,O,Y,nt),s.needsHillshadePrepare=!1}const Xp=m=>({u_matrix:new i.UniformMatrix4f(m),u_image0:new i.Uniform1i(m),u_skirt_height:new i.Uniform1f(m)}),Yi=(m,s)=>({u_matrix:m,u_image0:0,u_skirt_height:s}),Pd=(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:s,u_normalize_matrix:Float32Array.from(f),u_merc_matrix:d,u_zoom_transition:v,u_merc_center:b,u_image0:0,u_frustum_tl:S,u_frustum_tr:P,u_frustum_br:M,u_frustum_bl:L,u_globe_pos:R,u_globe_radius:O,u_viewport:Y,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9),u_skirt_height:nt});function Qi(m,s){return m!=null&&s!=null&&!(!m.hasData()||!s.hasData())&&m.demTexture!=null&&s.demTexture!=null&&m.tileID.key!==s.tileID.key}const as=new class{constructor(){this.operations={}}newMorphing(m,s,d,f,v){if(m in this.operations){const b=this.operations[m];b.to.tileID.key!==d.tileID.key&&(b.queued=d)}else this.operations[m]={startTime:f,phase:0,duration:v,from:s,to:d,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const s=this.operations[m];return{from:s.from,to:s.to,phase:s.phase}}update(m){for(const s in this.operations){const d=this.operations[s];for(d.phase=(m-d.startTime)/d.duration;d.phase>=1||!this._validOp(d);)if(!this._nextOp(d,m)){delete this.operations[s];break}}}_nextOp(m,s){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=s,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},gi={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Dd(m){return 6*Math.pow(1.5,22-m)}function Hf(m,s){const d=1<<m.z;return!s&&(m.x===0||m.x===d-1)||m.y===0||m.y===d-1}const vc=m=>({u_matrix:m});function Kp(m,s,d,f,v){if(v>0){const b=i.exported.now(),S=(b-m.timeAdded)/v,P=s?(b-s.timeAdded)/v:-1,M=d.getSource(),L=f.coveringZoomLevel({tileSize:M.tileSize,roundZoom:M.roundZoom}),R=!s||Math.abs(s.tileID.overscaledZ-L)>Math.abs(m.tileID.overscaledZ-L),O=R&&m.refreshedUponExpiration?1:i.clamp(R?S:1-P,0,1);return m.refreshedUponExpiration&&S>=1&&(m.refreshedUponExpiration=!1),s?{opacity:1,mix:1-O}:{opacity:O,mix:0}}return{opacity:1,mix:0}}class Yp extends i.SourceCache{constructor(s){const d={type:"raster-dem",maxzoom:s.transform.maxZoom},f=new fe(qi(),null),v=Ke("mock-dem",d,f,s.style);super("mock-dem",v,!1),v.setEventedParent(this),this._sourceLoaded=!0}_loadTile(s,d){s.state="loaded",d(null)}}class Md extends i.SourceCache{constructor(s){const d=Ke("proxy",{type:"geojson",maxzoom:s.transform.maxZoom},new fe(qi(),null),s.style);super("proxy",d,!1),d.setEventedParent(this),this.map=this.getSource().map=s,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(s,d,f){if(s.freezeTileCoverage)return;this.transform=s;const v=s.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((b,S)=>{if(b[S.key]="",!this._tiles[S.key]){const P=new i.Tile(S,this._source.tileSize*S.overscaleFactor(),s.tileZoom);P.state="loaded",this._tiles[S.key]=P}return b},{});for(const b in this._tiles)b in v||(this.freeFBO(b),this._tiles[b].unloadVectorData(),delete this._tiles[b])}freeFBO(s){const d=this.proxyCachedFBO[s];if(d!==void 0){const f=Object.values(d);this.renderCachePool.push(...f),delete this.proxyCachedFBO[s]}}deallocRenderCache(){this.renderCache.forEach(s=>s.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class kd extends i.OverscaledTileID{constructor(s,d,f){super(s.overscaledZ,s.wrap,s.canonical.z,s.canonical.x,s.canonical.y),this.proxyTileKey=d,this.projMatrix=f}}class Qp extends i.Elevation{constructor(s,d){super(),this.painter=s,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[f,v,b]=function(M){const L=new i.StructArrayLayout2i4,R=new i.StructArrayLayout3ui6,O=131;L.reserve(17161),R.reserve(33800);const Y=i.EXTENT/128,nt=i.EXTENT+Y/2,at=nt+Y;for(let rt=-Y;rt<at;rt+=Y)for(let U=-Y;U<at;U+=Y){const et=U<0||U>nt||rt<0||rt>nt?24575:0,lt=i.clamp(Math.round(U),0,i.EXTENT),ut=i.clamp(Math.round(rt),0,i.EXTENT);L.emplaceBack(lt+et,ut)}const ot=(rt,U)=>{const et=U*O+rt;R.emplaceBack(et+1,et,et+O),R.emplaceBack(et+O,et+O+1,et+1)};for(let rt=1;rt<129;rt++)for(let U=1;U<129;U++)ot(U,rt);return[0,129].forEach(rt=>{for(let U=0;U<130;U++)ot(U,rt),ot(rt,U)}),[L,R,32768]}(),S=s.context;this.gridBuffer=S.createVertexBuffer(f,i.posAttributes.members),this.gridIndexBuffer=S.createIndexBuffer(v),this.gridSegments=i.SegmentVector.simpleSegment(0,0,f.length,v.length),this.gridNoSkirtSegments=i.SegmentVector.simpleSegment(0,0,f.length,b),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Md(d.map),this.orthoMatrix=i.create(),i.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,i.EXTENT,0,i.EXTENT,0,1);const P=S.gl;this._overlapStencilMode=new i.StencilMode({func:P.GEQUAL,mask:255},0,255,P.KEEP,P.KEEP,P.REPLACE),this._previousZoom=s.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=d,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Yp(d.map)}set style(s){s.on("data",this._onStyleDataEvent.bind(this)),s.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=s,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(s,d,f){if(s&&s.terrain){this._style!==s&&(this.style=s),this.enabled=!0;const v=s.terrain.properties;this.sourceCache=s.terrain.drapeRenderMode===0?this._mockSourceCache:s._getSourceCache(v.get("source")),this._exaggeration=v.get("exaggeration");const b=()=>{this.sourceCache.used&&i.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const S=this.getScaledDemTileSize();this.sourceCache.update(d,S,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,b(),this._initializing=!0),b(),d.updateElevation(!0,f),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(d),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(s){this._findCoveringTileCache[s]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const s=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||s.efficiency!==100&&i.warnOnce(`Terrain render cache efficiency is not optimal (${s.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${s.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(s){s.coord&&s.dataType==="source"?this._clearRenderCacheForTile(s.sourceCacheId,s.coord):s.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const s in this._style._sourceCaches)this._style._sourceCaches[s].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(s=>s.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const s=2*this.proxySourceCache.getSource().tileSize;return[s,s]}set useVertexMorphing(s){this._useVertexMorphing=s}updateTileBinding(s){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const d=this.proxySourceCache,f=this.painter.transform;this._initializing&&(this._initializing=f._centerAltitude===0&&this.getAtPointOrZero(i.MercatorCoordinate.fromLngLat(f.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const v=this.proxyCoords=d.getIds().map(M=>{const L=d.getTileByID(M).tileID;return L.projMatrix=f.calculateProjMatrix(L.toUnwrapped()),L});(function(M,L){const R=L.transform.pointCoordinate(L.transform.getCameraPoint()),O=new i.Point(R.x,R.y);M.sort((Y,nt)=>{if(nt.overscaledZ-Y.overscaledZ)return nt.overscaledZ-Y.overscaledZ;const at=new i.Point(Y.canonical.x+(1<<Y.canonical.z)*Y.wrap,Y.canonical.y),ot=new i.Point(nt.canonical.x+(1<<nt.canonical.z)*nt.wrap,nt.canonical.y),rt=O.mult(1<<Y.canonical.z);return rt.x-=.5,rt.y-=.5,rt.distSqr(at)-rt.distSqr(ot)})})(v,this.painter),this._previousZoom=f.zoom;const b=this.proxyToSource||{};this.proxyToSource={},v.forEach(M=>{this.proxyToSource[M.key]={}}),this.terrainTileForTile={};const S=this._style._sourceCaches;for(const M in S){const L=S[M];if(!L.used||(L!==this.sourceCache&&this.resetTileLookupCache(L.id),this._setupProxiedCoordsForOrtho(L,s[M],b),L.usedForTerrain))continue;const R=s[M];L.getSource().reparseOverscaled&&this._assignTerrainTiles(R)}this.proxiedCoords[d.id]=v.map(M=>new kd(M,M.key,this.orthoMatrix)),this._assignTerrainTiles(v),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(b),this.renderingToTexture=!1,this._updateTimestamp=i.exported.now();const P={};this._visibleDemTiles=[];for(const M of this.proxyCoords){const L=this.terrainTileForTile[M.key];if(!L)continue;const R=L.tileID.key;R in P||(this._visibleDemTiles.push(L),P[R]=R)}}_assignTerrainTiles(s){this._initializing||s.forEach(d=>{if(this.terrainTileForTile[d.key])return;const f=this._findTileCoveringTileID(d,this.sourceCache);f&&(this.terrainTileForTile[d.key]=f)})}_prepareDEMTextures(){const s=this.painter.context,d=s.gl;for(const f in this.terrainTileForTile){const v=this.terrainTileForTile[f],b=v.dem;!b||v.demTexture&&!v.needsDEMTextureUpload||(s.activeTexture.set(d.TEXTURE1),Zp(this.painter,v,b))}}_prepareDemTileUniforms(s,d,f,v){if(!d||d.demTexture==null)return!1;const b=s.tileID.canonical,S=Math.pow(2,d.tileID.canonical.z-b.z),P=v||"";return f[`u_dem_tl${P}`]=[b.x*S%1,b.y*S%1],f[`u_dem_scale${P}`]=S,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const s=this.painter.context,d=s.gl;if(!this._emptyDepthBufferTexture){const f=new i.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new i.Texture(s,f,d.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let s=0;const d=this._visibleDemTiles.reduce((f,v)=>{if(!v.dem)return f;const b=v.dem.tree.minimums[0];return b>0&&s++,f+b},0);return s?d/s:0}_updateEmptyDEMTexture(){const s=this.painter.context,d=s.gl;s.activeTexture.set(d.TEXTURE2);const f=this._getLoadedAreaMinimum(),v=new i.RGBAImage({width:1,height:1},new Uint8Array(i.DEMData.pack(f,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let b=this._emptyDEMTexture;return b?b.update(v,{premultiply:!1}):b=this._emptyDEMTexture=new i.Texture(s,v,d.RGBA,{premultiply:!1}),b}setupElevationDraw(s,d,f){const v=this.painter.context,b=v.gl,S=(P=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:i.DEMData.getUnpackVector(P),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var P;S.u_dem_size=this.sourceCache.getSource().tileSize,S.u_exaggeration=this.exaggeration();let M=null,L=null,R=1;if(f&&f.morphing&&this._useVertexMorphing){const O=f.morphing.srcDemTile,Y=f.morphing.dstDemTile;R=f.morphing.phase,O&&Y&&(this._prepareDemTileUniforms(s,O,S,"_prev")&&(L=O),this._prepareDemTileUniforms(s,Y,S)&&(M=Y))}if(L&&M?(v.activeTexture.set(b.TEXTURE2),M.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE,b.NEAREST),v.activeTexture.set(b.TEXTURE4),L.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE,b.NEAREST),S.u_dem_lerp=R):(M=this.terrainTileForTile[s.tileID.key],v.activeTexture.set(b.TEXTURE2),(this._prepareDemTileUniforms(s,M,S)?M.demTexture:this.emptyDEMTexture).bind(b.NEAREST,b.CLAMP_TO_EDGE)),v.activeTexture.set(b.TEXTURE3),f&&f.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE),this._depthFBO&&(S.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE),S.u_depth_size_inv=[1,1]),f&&f.useMeterToDem&&M){const O=(1<<M.tileID.canonical.z)*i.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;S.u_meter_to_dem=O}if(f&&f.labelPlaneMatrixInv&&(S.u_label_plane_matrix_inv=f.labelPlaneMatrixInv),d.setTerrainUniformValues(v,S),this.painter.transform.projection.name==="globe"){const O=this.globeUniformValues(this.painter.transform,s.tileID.canonical,f&&f.useDenormalizedUpVectorScale);d.setGlobeUniformValues(v,O)}}globeUniformValues(s,d,f){const v=s.projection;return{u_tile_tl_up:v.upVector(d,0,0),u_tile_tr_up:v.upVector(d,i.EXTENT,0),u_tile_br_up:v.upVector(d,i.EXTENT,i.EXTENT),u_tile_bl_up:v.upVector(d,0,i.EXTENT),u_tile_up_scale:f?i.globeMetersToEcef(1):v.upVectorScale(d,s.center.lat,s.worldSize).metersToTile}}renderToBackBuffer(s){const d=this.painter,f=this.painter.context;s.length!==0&&(f.bindFramebuffer.set(null),f.viewport.set([0,0,d.width,d.height]),d.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(v,b,S,P,M){if(v.transform.projection.name==="globe")(function(L,R,O,Y,nt){const at=L.context,ot=at.gl;let rt,U;const et=L.options.showTerrainWireframe?2:0,lt=L.transform,ut=i.globeUseCustomAntiAliasing(L,at,lt),yt=(Yt,Bt)=>{if(U===Yt)return;const Gt=[gi[Yt],"PROJECTION_GLOBE_VIEW"];ut&&Gt.push("CUSTOM_ANTIALIASING"),Bt&&Gt.push(gi[et]),rt=L.useProgram("globeRaster",null,Gt),U=Yt},bt=L.colorModeForRenderPass(),_t=new i.DepthMode(ot.LEQUAL,i.DepthMode.ReadWrite,L.depthRangeFor3D);as.update(nt);const Tt=i.calculateGlobeMercatorMatrix(lt),At=[i.mercatorXfromLng(lt.center.lng),i.mercatorYfromLat(lt.center.lat)],Nt=et?[!1,!0]:[!1],Qt=L.globeSharedBuffers,Mt=[lt.width*i.exported.devicePixelRatio,lt.height*i.exported.devicePixelRatio],qt=Float32Array.from(lt.globeMatrix),Rt={useDenormalizedUpVectorScale:!0};if(Nt.forEach(Yt=>{const Bt=L.transform,Gt=Dd(Bt.zoom)*R.exaggeration();U=-1;const te=Yt?ot.LINES:ot.TRIANGLES;for(const Xt of Y){const ee=O.getTile(Xt),Se=i.StencilMode.disabled,Re=R.prevTerrainTileForTile[Xt.key],_e=R.terrainTileForTile[Xt.key];Qi(Re,_e)&&as.newMorphing(Xt.key,Re,_e,nt,250),at.activeTexture.set(ot.TEXTURE0),ee.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE);const Me=as.getMorphValuesForProxy(Xt.key),tn=Me?1:0;Me&&i.extend$1(Rt,{morphing:{srcDemTile:Me.from,dstDemTile:Me.to,phase:i.easeCubicInOut(Me.phase)}});const Ye=i.tileCornersToBounds(Xt.canonical),Ae=i.getLatitudinalLod(Ye.getCenter().lat),yn=i.getGridMatrix(Xt.canonical,Ye,Ae,Bt.worldSize/Bt._pixelsPerMercatorPixel),wn=i.globeNormalizeECEF(i.globeTileBounds(Xt.canonical)),Cn=Pd(Bt.projMatrix,qt,Tt,wn,i.globeToMercatorTransition(Bt.zoom),At,Bt.frustumCorners.TL,Bt.frustumCorners.TR,Bt.frustumCorners.BR,Bt.frustumCorners.BL,Bt.globeCenterInViewSpace,Bt.globeRadius,Mt,Gt,yn);if(yt(tn,Yt),R.setupElevationDraw(ee,rt,Rt),L.prepareDrawProgram(at,rt,Xt.toUnwrapped()),Qt){const[An,Ko,Io]=Yt?Qt.getWirefameBuffers(L.context,Ae):Qt.getGridBuffers(Ae,Gt!==0);rt.draw(at,te,_t,Se,bt,i.CullFaceMode.backCCW,Cn,"globe_raster",An,Ko,Io)}}}),Qt){const Yt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];ut&&Yt.push("CUSTOM_ANTIALIASING"),rt=L.useProgram("globeRaster",null,Yt);for(const Bt of Y){const{x:Gt,y:te,z:Xt}=Bt.canonical,ee=te===0,Se=te===(1<<Xt)-1,[Re,_e,Me,tn]=Qt.getPoleBuffers(Xt);if(tn&&(ee||Se)){const Ye=O.getTile(Bt);at.activeTexture.set(ot.TEXTURE0),Ye.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE);let Ae=i.globePoleMatrixForTile(Xt,Gt,lt);const yn=i.globeNormalizeECEF(i.globeTileBounds(Bt.canonical)),wn=(Cn,An)=>Cn.draw(at,ot.TRIANGLES,_t,i.StencilMode.disabled,bt,i.CullFaceMode.disabled,Pd(lt.projMatrix,Ae,Ae,yn,0,At,lt.frustumCorners.TL,lt.frustumCorners.TR,lt.frustumCorners.BR,lt.frustumCorners.BL,lt.globeCenterInViewSpace,lt.globeRadius,Mt,0),"globe_pole_raster",An,Me,tn);R.setupElevationDraw(Ye,rt,Rt),L.prepareDrawProgram(at,rt,Bt.toUnwrapped()),ee&&wn(rt,Re),Se&&(Ae=i.scale(i.create(),Ae,[1,-1,1]),wn(rt,_e))}}}})(v,b,S,P,M);else{const L=v.context,R=L.gl;let O,Y;const nt=v.options.showTerrainWireframe?2:0,at=(lt,ut)=>{if(Y===lt)return;const yt=[gi[lt]];ut&&yt.push(gi[nt]),O=v.useProgram("terrainRaster",null,yt),Y=lt},ot=v.colorModeForRenderPass(),rt=new i.DepthMode(R.LEQUAL,i.DepthMode.ReadWrite,v.depthRangeFor3D);as.update(M);const U=v.transform,et=Dd(U.zoom)*b.exaggeration();(nt?[!1,!0]:[!1]).forEach(lt=>{Y=-1;const ut=lt?R.LINES:R.TRIANGLES,[yt,bt]=lt?b.getWirefameBuffer():[b.gridIndexBuffer,b.gridSegments];for(const _t of P){const Tt=S.getTile(_t),At=i.StencilMode.disabled,Nt=b.prevTerrainTileForTile[_t.key],Qt=b.terrainTileForTile[_t.key];Qi(Nt,Qt)&&as.newMorphing(_t.key,Nt,Qt,M,250),L.activeTexture.set(R.TEXTURE0),Tt.texture.bind(R.LINEAR,R.CLAMP_TO_EDGE,R.LINEAR_MIPMAP_NEAREST);const Mt=as.getMorphValuesForProxy(_t.key),qt=Mt?1:0;let Rt;Mt&&(Rt={morphing:{srcDemTile:Mt.from,dstDemTile:Mt.to,phase:i.easeCubicInOut(Mt.phase)}});const Yt=Yi(_t.projMatrix,Hf(_t.canonical,U.renderWorldCopies)?et/10:et);at(qt,lt),b.setupElevationDraw(Tt,O,Rt),v.prepareDrawProgram(L,O,_t.toUnwrapped()),O.draw(L,ut,rt,At,ot,i.CullFaceMode.backCCW,Yt,"terrain_raster",b.gridBuffer,yt,bt)}})}}(d,this,this.proxySourceCache,s,this._updateTimestamp),this.renderingToTexture=!0,d.gpuTimingDeferredRenderEnd(),s.splice(0,s.length))}renderBatch(s){if(this._drapedRenderBatches.length===0)return s+1;this.renderingToTexture=!0;const d=this.painter,f=this.painter.context,v=this.proxySourceCache,b=this.proxiedCoords[v.id],S=this._drapedRenderBatches.shift(),P=[],M=d.style.order;let L=0;for(const R of b){const O=v.getTileByID(R.proxyTileKey),Y=v.proxyCachedFBO[R.key]?v.proxyCachedFBO[R.key][s]:void 0,nt=Y!==void 0?v.renderCache[Y]:this.pool[L++],at=Y!==void 0;if(O.texture=nt.tex,at&&!nt.dirty){P.push(O.tileID);continue}let ot;f.bindFramebuffer.set(nt.fb.framebuffer),this.renderedToTile=!1,nt.dirty&&(f.clear({color:i.Color.transparent,stencil:0}),nt.dirty=!1);for(let rt=S.start;rt<=S.end;++rt){const U=d.style._layers[M[rt]];if(U.isHidden(d.transform.zoom))continue;const et=d.style._getLayerSourceCache(U),lt=et?this.proxyToSource[R.key][et.id]:[R];if(!lt)continue;const ut=lt;f.viewport.set([0,0,nt.fb.width,nt.fb.height]),ot!==(et?et.id:null)&&(this._setupStencil(nt,lt,U,et),ot=et?et.id:null),d.renderLayer(d,et,U,ut)}this.renderedToTile?(nt.dirty=!0,P.push(O.tileID)):at||--L,L===5&&(L=0,this.renderToBackBuffer(P))}return this.renderToBackBuffer(P),this.renderingToTexture=!1,f.bindFramebuffer.set(null),f.viewport.set([0,0,d.width,d.height]),S.end+1}postRender(){}renderCacheEfficiency(s){const d=s.order.length;if(d===0)return{efficiency:100};let f,v=0,b=0,S=!1;for(let P=0;P<d;++P){const M=s._layers[s.order[P]];this._style.isLayerDraped(M)?(S&&++v,++b):S||(S=!0,f=M.id)}return b===0?{efficiency:100}:{efficiency:100*(1-v/b),firstUndrapedLayer:f}}getMinElevationBelowMSL(){let s=0;return this._visibleDemTiles.filter(d=>d.dem).forEach(d=>{s=Math.min(s,d.dem.tree.minimums[0])}),s===0?s:(s-30)*this._exaggeration}raycast(s,d,f){if(!this._visibleDemTiles)return null;const v=this._visibleDemTiles.filter(b=>b.dem).map(b=>{const S=b.tileID,P=1<<S.overscaledZ,{x:M,y:L}=S.canonical,R=M/P,O=(M+1)/P,Y=L/P,nt=(L+1)/P;return{minx:R,miny:Y,maxx:O,maxy:nt,t:b.dem.tree.raycastRoot(R,Y,O,nt,s,d,f),tile:b}});v.sort((b,S)=>(b.t!==null?b.t:Number.MAX_VALUE)-(S.t!==null?S.t:Number.MAX_VALUE));for(const b of v){if(b.t==null)return null;const S=b.tile.dem.tree.raycast(b.minx,b.miny,b.maxx,b.maxy,s,d,f);if(S!=null)return S}return null}_createFBO(){const s=this.painter.context,d=s.gl,f=this.drapeBufferSize;s.activeTexture.set(d.TEXTURE0);const v=new i.Texture(s,{width:f[0],height:f[1],data:null},d.RGBA);v.bind(d.LINEAR,d.CLAMP_TO_EDGE);const b=s.createFramebuffer(f[0],f[1],!1);return b.colorAttachment.set(v.texture),b.depthAttachment=new wt(s,b.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=s.createRenderbuffer(s.gl.DEPTH_STENCIL,f[0],f[1]),this._stencilRef=0,b.depthAttachment.set(this._sharedDepthStencil),s.clear({stencil:0})):b.depthAttachment.set(this._sharedDepthStencil),s.extTextureFilterAnisotropic&&!s.extTextureFilterAnisotropicForceOff&&d.texParameterf(d.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax),{fb:b,tex:v,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const s in this._style._sourceCaches)if(this._style._sourceCaches[s].hasTransition())return!0;return this._style.order.some(s=>{const d=this._style._layers[s],f=d.isHidden(this.painter.transform.zoom);return d.type==="custom"?!f&&d.shouldRedrape():!f&&d.hasTransition()})}_clearLineLayersFromRenderCache(){let s=!1;for(const f of this._style._getSources())if(f instanceof le){s=!0;break}if(!s)return;const d={};for(let f=0;f<this._style.order.length;++f){const v=this._style._layers[this._style.order[f]],b=this._style._getLayerSourceCache(v);if(b&&!d[b.id]&&!v.isHidden(this.painter.transform.zoom)&&v.type==="line"&&v.widthExpression()instanceof i.ZoomDependentExpression){d[b.id]=!0;for(const S of this.proxyCoords){const P=this.proxyToSource[S.key][b.id];if(P)for(const M of P)this._clearRenderCacheForTile(b.id,M)}}}}_clearRasterLayersFromRenderCache(){let s=!1;for(const f in this._style._sourceCaches)if(this._style._sourceCaches[f]._source instanceof ne){s=!0;break}if(!s)return;const d={};for(let f=0;f<this._style.order.length;++f){const v=this._style._layers[this._style.order[f]],b=this._style._getLayerSourceCache(v);if(!b||d[b.id]||v.isHidden(this.painter.transform.zoom)||v.type!=="raster")continue;const S=v.paint.get("raster-fade-duration");for(const P of this.proxyCoords){const M=this.proxyToSource[P.key][b.id];if(M)for(const L of M){const R=Kp(b.getTile(L),b.findLoadedParent(L,0),b,this.painter.transform,S);(R.opacity!==1||R.mix!==0)&&this._clearRenderCacheForTile(b.id,L)}}}}_setupDrapedRenderBatches(){const s=this._style.order,d=s.length;if(d===0)return;const f=[];let v,b=0,S=this._style._layers[s[b]];for(;!this._style.isLayerDraped(S)&&S.isHidden(this.painter.transform.zoom)&&++b<d;)S=this._style._layers[s[b]];for(;b<d;++b){const P=this._style._layers[s[b]];P.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(P)?v===void 0&&(v=b):v!==void 0&&(f.push({start:v,end:b-1}),v=void 0))}v!==void 0&&f.push({start:v,end:b-1}),this._drapedRenderBatches=f}_setupRenderCache(s){const d=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,d.renderCache.length>d.renderCachePool.length){const S=Object.values(d.proxyCachedFBO);d.proxyCachedFBO={};for(let P=0;P<S.length;++P){const M=Object.values(S[P]);d.renderCachePool.push(...M)}}return}this._clearRasterLayersFromRenderCache();const f=this.proxyCoords,v=this._tilesDirty;for(let S=f.length-1;S>=0;S--){const P=f[S];if(d.getTileByID(P.key),d.proxyCachedFBO[P.key]!==void 0){const M=s[P.key],L=this.proxyToSource[P.key];let R=0;for(const O in L){const Y=L[O],nt=M[O];if(!nt||nt.length!==Y.length||Y.some((at,ot)=>at!==nt[ot]||v[O]&&v[O].hasOwnProperty(at.key))){R=-1;break}++R}for(const O in d.proxyCachedFBO[P.key])d.renderCache[d.proxyCachedFBO[P.key][O]].dirty=R<0||R!==Object.values(M).length}}const b=[...this._drapedRenderBatches];b.sort((S,P)=>P.end-P.start-(S.end-S.start));for(const S of b)for(const P of f){if(d.proxyCachedFBO[P.key])continue;let M=d.renderCachePool.pop();M===void 0&&d.renderCache.length<50&&(M=d.renderCache.length,d.renderCache.push(this._createFBO())),M!==void 0&&(d.proxyCachedFBO[P.key]={},d.proxyCachedFBO[P.key][S.start]=M,d.renderCache[M].dirty=!0)}this._tilesDirty={}}_setupStencil(s,d,f,v){if(!v||!this._sourceTilesOverlap[v.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const b=this.painter.context,S=b.gl;if(d.length<=1)return void(this._overlapStencilType=!1);let P;if(f.isTileClipped())P=d.length,this._overlapStencilMode.test={func:S.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(d[0].overscaledZ>d[d.length-1].overscaledZ))return void(this._overlapStencilType=!1);P=1,this._overlapStencilMode.test={func:S.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+P>255&&(b.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=P,this._overlapStencilMode.ref=this._stencilRef,f.isTileClipped()&&this._renderTileClippingMasks(d,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(s){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[s.key]),this._overlapStencilMode):i.StencilMode.disabled}_renderTileClippingMasks(s,d){const f=this.painter,v=this.painter.context,b=v.gl;f._tileClippingMaskIDs={},v.setColorMode(i.ColorMode.disabled),v.setDepthMode(i.DepthMode.disabled);const S=f.useProgram("clippingMask");for(const P of s){const M=f._tileClippingMaskIDs[P.key]=--d;S.draw(v,b.TRIANGLES,i.DepthMode.disabled,new i.StencilMode({func:b.ALWAYS,mask:0},M,255,b.KEEP,b.KEEP,b.REPLACE),i.ColorMode.disabled,i.CullFaceMode.disabled,vc(P.projMatrix),"$clipping",f.tileExtentBuffer,f.quadTriangleIndexBuffer,f.tileExtentSegments)}}pointCoordinate(s){const d=this.painter.transform;if(s.x<0||s.x>d.width||s.y<0||s.y>d.height)return null;const f=[s.x,s.y,1,1];i.transformMat4$1(f,f,d.pixelMatrixInverse),i.scale$1(f,f,1/f[3]),f[0]/=d.worldSize,f[1]/=d.worldSize;const v=d._camera.position,b=i.mercatorZfromAltitude(1,d.center.lat),S=[v[0],v[1],v[2]/b,0],P=i.subtract([],f.slice(0,3),S);i.normalize(P,P);const M=this.raycast(S,P,this._exaggeration);return M!==null&&M?(i.scaleAndAdd(S,S,P,M),S[3]=S[2],S[2]*=b,S):null}drawDepth(){const s=this.painter,d=s.context,f=this.proxySourceCache,v=Math.ceil(s.width),b=Math.ceil(s.height);if(!this._depthFBO||this._depthFBO.width===v&&this._depthFBO.height===b||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const S=d.gl,P=d.createFramebuffer(v,b,!0);d.activeTexture.set(S.TEXTURE0);const M=new i.Texture(d,{width:v,height:b,data:null},S.RGBA);M.bind(S.NEAREST,S.CLAMP_TO_EDGE),P.colorAttachment.set(M.texture);const L=d.createRenderbuffer(d.gl.DEPTH_COMPONENT16,v,b);P.depthAttachment.set(L),this._depthFBO=P,this._depthTexture=M}d.bindFramebuffer.set(this._depthFBO.framebuffer),d.viewport.set([0,0,v,b]),function(S,P,M,L){if(S.transform.projection.name==="globe")return;const R=S.context,O=R.gl;R.clear({depth:1});const Y=S.useProgram("terrainDepth"),nt=new i.DepthMode(O.LESS,i.DepthMode.ReadWrite,S.depthRangeFor3D);for(const at of L){const ot=M.getTile(at),rt=Yi(at.projMatrix,0);P.setupElevationDraw(ot,Y),Y.draw(R,O.TRIANGLES,nt,i.StencilMode.disabled,i.ColorMode.unblended,i.CullFaceMode.backCCW,rt,"terrain_depth",P.gridBuffer,P.gridIndexBuffer,P.gridNoSkirtSegments)}}(s,this,f,this.proxyCoords)}_setupProxiedCoordsForOrtho(s,d,f){if(s.getSource()instanceof Xe)return this._setupProxiedCoordsForImageSource(s,d,f);this._findCoveringTileCache[s.id]=this._findCoveringTileCache[s.id]||{};const v=this.proxiedCoords[s.id]=[],b=this.proxyCoords;for(let P=0;P<b.length;P++){const M=b[P],L=this._findTileCoveringTileID(M,s);if(L){const R=this._createProxiedId(M,L,f[M.key]&&f[M.key][s.id]);v.push(R),this.proxyToSource[M.key][s.id]=[R]}}let S=!1;for(let P=0;P<d.length;P++){const M=s.getTile(d[P]);if(!M||!M.hasData())continue;const L=this._findTileCoveringTileID(M.tileID,this.proxySourceCache);if(L&&L.tileID.canonical.z!==M.tileID.canonical.z){const R=this.proxyToSource[L.tileID.key][s.id],O=this._createProxiedId(L.tileID,M,f[L.tileID.key]&&f[L.tileID.key][s.id]);R?R.splice(R.length-1,0,O):this.proxyToSource[L.tileID.key][s.id]=[O],v.push(O),S=!0}}this._sourceTilesOverlap[s.id]=S}_setupProxiedCoordsForImageSource(s,d,f){if(!s.getSource().loaded())return;const v=this.proxiedCoords[s.id]=[],b=this.proxyCoords,S=s.getSource(),P=new i.Point(S.tileID.x,S.tileID.y)._div(1<<S.tileID.z),M=S.coordinates.map(i.MercatorCoordinate.fromLngLat).reduce((R,O)=>(R.min.x=Math.min(R.min.x,O.x-P.x),R.min.y=Math.min(R.min.y,O.y-P.y),R.max.x=Math.max(R.max.x,O.x-P.x),R.max.y=Math.max(R.max.y,O.y-P.y),R),{min:new i.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new i.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),L=(R,O)=>{const Y=R.wrap+R.canonical.x/(1<<R.canonical.z),nt=R.canonical.y/(1<<R.canonical.z),at=i.EXTENT/(1<<R.canonical.z),ot=O.wrap+O.canonical.x/(1<<O.canonical.z),rt=O.canonical.y/(1<<O.canonical.z);return Y+at<ot+M.min.x||Y>ot+M.max.x||nt+at<rt+M.min.y||nt>rt+M.max.y};for(let R=0;R<b.length;R++){const O=b[R];for(let Y=0;Y<d.length;Y++){const nt=s.getTile(d[Y]);if(!nt||!nt.hasData()||L(O,nt.tileID))continue;const at=this._createProxiedId(O,nt,f[O.key]&&f[O.key][s.id]),ot=this.proxyToSource[O.key][s.id];ot?ot.push(at):this.proxyToSource[O.key][s.id]=[at],v.push(at)}}}_createProxiedId(s,d,f){let v=this.orthoMatrix;if(f){const b=f.find(S=>S.key===d.tileID.key);if(b)return b}if(d.tileID.key!==s.key){const b=s.canonical.z-d.tileID.canonical.z;let S,P,M;v=i.create();const L=d.tileID.wrap-s.wrap<<s.overscaledZ;b>0?(S=i.EXTENT>>b,P=S*((d.tileID.canonical.x<<b)-s.canonical.x+L),M=S*((d.tileID.canonical.y<<b)-s.canonical.y)):(S=i.EXTENT<<-b,P=i.EXTENT*(d.tileID.canonical.x-(s.canonical.x+L<<-b)),M=i.EXTENT*(d.tileID.canonical.y-(s.canonical.y<<-b))),i.ortho(v,0,S,0,S,0,1),i.translate(v,v,[P,M,0])}return new kd(d.tileID,s.key,v)}_findTileCoveringTileID(s,d){let f=d.getTile(s);if(f&&f.hasData())return f;const v=this._findCoveringTileCache[d.id],b=v[s.key];if(f=b?d.getTileByID(b):null,f&&f.hasData()||b===null)return f;let S=f?f.tileID:s,P=S.overscaledZ;const M=d.getSource().minzoom,L=[];if(!b){const O=d.getSource().maxzoom;if(s.canonical.z>=O){const Y=s.canonical.z-O;d.getSource().reparseOverscaled?(P=Math.max(s.canonical.z+2,d.transform.tileZoom),S=new i.OverscaledTileID(P,s.wrap,O,s.canonical.x>>Y,s.canonical.y>>Y)):Y!==0&&(P=O,S=new i.OverscaledTileID(P,s.wrap,O,s.canonical.x>>Y,s.canonical.y>>Y))}S.key!==s.key&&(L.push(S.key),f=d.getTile(S))}const R=O=>{L.forEach(Y=>{v[Y]=O}),L.length=0};for(P-=1;P>=M&&(!f||!f.hasData());P--){f&&R(f.tileID.key);const O=S.calculateScaledKey(P);if(f=d.getTileByID(O),f&&f.hasData())break;const Y=v[O];if(Y===null)break;Y===void 0?L.push(O):f=d.getTileByID(Y)}return R(f?f.tileID.key:null),f&&f.hasData()?f:null}findDEMTileFor(s){return this.enabled?this._findTileCoveringTileID(s,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(s,d){let f=this._tilesDirty[s];f||(f=this._tilesDirty[s]={}),f[d.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const s=function(d){let f=0;const v=new i.StructArrayLayout2ui4,b=131;for(let S=1;S<129;S++){for(let P=1;P<129;P++)f=S*b+P,v.emplaceBack(f,f+1),v.emplaceBack(f,f+b),v.emplaceBack(f+1,f+b),S===128&&v.emplaceBack(f+b,f+b+1);v.emplaceBack(f+1,f+1+b)}return v}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(s),this.wireframeSegments=i.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,s.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class sn{static cacheKey(s,d,f,v){let b=`${d}${v?v.cacheKey:""}`;for(const S of f)s.usedDefines.includes(S)&&(b+=`/${S}`);return b}constructor(s,d,f,v,b,S){const P=s.gl;this.program=P.createProgram();const M=function(U){const et=[];for(let lt=0;lt<U.length;lt++){if(U[lt]===null)continue;const ut=U[lt].split(" ");et.push(ut.pop())}return et}(f.staticAttributes),L=v?v.getBinderAttributes():[],R=M.concat(L);let O=v?v.defines():[];O=O.concat(S.map(U=>`#define ${U}`));const Y=s.isWebGL2?`#version 300 es
`:"",nt=Y+O.concat(s.extStandardDerivatives&&Y.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(qp):qp,qp,Ed,Gf.fragmentSource,Xi.fragmentSource,f.fragmentSource).join(`
`),at=Y+O.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ed,Gf.vertexSource,Xi.vertexSource,Sd.vertexSource,f.vertexSource).join(`
`),ot=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);P.shaderSource(ot,nt),P.compileShader(ot),P.attachShader(this.program,ot);const rt=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())this.failedToCreate=!0;else{P.shaderSource(rt,at),P.compileShader(rt),P.attachShader(this.program,rt),this.attributes={},this.numAttributes=R.length;for(let U=0;U<this.numAttributes;U++)R[U]&&(P.bindAttribLocation(this.program,U,R[U]),this.attributes[R[U]]=U);P.linkProgram(this.program),P.deleteShader(rt),P.deleteShader(ot),this.fixedUniforms=b(s),this.binderUniforms=v?v.getUniforms(s):[],S.includes("TERRAIN")&&(this.terrainUniforms=(U=>({u_dem:new i.Uniform1i(U),u_dem_prev:new i.Uniform1i(U),u_dem_unpack:new i.Uniform4f(U),u_dem_tl:new i.Uniform2f(U),u_dem_scale:new i.Uniform1f(U),u_dem_tl_prev:new i.Uniform2f(U),u_dem_scale_prev:new i.Uniform1f(U),u_dem_size:new i.Uniform1f(U),u_dem_lerp:new i.Uniform1f(U),u_exaggeration:new i.Uniform1f(U),u_depth:new i.Uniform1i(U),u_depth_size_inv:new i.Uniform2f(U),u_meter_to_dem:new i.Uniform1f(U),u_label_plane_matrix_inv:new i.UniformMatrix4f(U)}))(s)),S.includes("GLOBE")&&(this.globeUniforms=(U=>({u_tile_tl_up:new i.Uniform3f(U),u_tile_tr_up:new i.Uniform3f(U),u_tile_br_up:new i.Uniform3f(U),u_tile_bl_up:new i.Uniform3f(U),u_tile_up_scale:new i.Uniform1f(U)}))(s)),S.includes("FOG")&&(this.fogUniforms=(U=>({u_fog_matrix:new i.UniformMatrix4f(U),u_fog_range:new i.Uniform2f(U),u_fog_color:new i.Uniform4f(U),u_fog_horizon_blend:new i.Uniform1f(U),u_fog_temporal_offset:new i.Uniform1f(U),u_frustum_tl:new i.Uniform3f(U),u_frustum_tr:new i.Uniform3f(U),u_frustum_br:new i.Uniform3f(U),u_frustum_bl:new i.Uniform3f(U),u_globe_pos:new i.Uniform3f(U),u_globe_radius:new i.Uniform1f(U),u_globe_transition:new i.Uniform1f(U),u_is_globe:new i.Uniform1i(U),u_viewport:new i.Uniform2f(U)}))(s))}}setTerrainUniformValues(s,d){if(!this.terrainUniforms)return;const f=this.terrainUniforms;if(!this.failedToCreate){s.program.set(this.program);for(const v in d)f[v]&&f[v].set(this.program,v,d[v])}}setGlobeUniformValues(s,d){if(!this.globeUniforms)return;const f=this.globeUniforms;if(!this.failedToCreate){s.program.set(this.program);for(const v in d)f[v]&&f[v].set(this.program,v,d[v])}}setFogUniformValues(s,d){if(!this.fogUniforms)return;const f=this.fogUniforms;if(!this.failedToCreate){s.program.set(this.program);for(const v in d)f[v].set(this.program,v,d[v])}}draw(s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot){const rt=s.gl;if(this.failedToCreate)return;s.program.set(this.program),s.setDepthMode(f),s.setStencilMode(v),s.setColorMode(b),s.setCullFace(S);for(const et of Object.keys(this.fixedUniforms))this.fixedUniforms[et].set(this.program,et,P[et]);at&&at.setUniforms(this.program,s,this.binderUniforms,Y,{zoom:nt});const U={[rt.LINES]:2,[rt.TRIANGLES]:3,[rt.LINE_STRIP]:1}[d];for(const et of O.get()){const lt=et.vaos||(et.vaos={});(lt[M]||(lt[M]=new z2)).bind(s,this,L,at?at.getPaintVertexBuffers():[],R,et.vertexOffset,ot||[]),rt.drawElements(d,et.primitiveLength*U,rt.UNSIGNED_SHORT,et.primitiveOffset*U*2)}}}function yc(m,s){const d=Math.pow(2,s.tileID.overscaledZ),f=s.tileSize*Math.pow(2,m.transform.tileZoom)/d,v=f*(s.tileID.canonical.x+s.tileID.wrap*d),b=f*s.tileID.canonical.y;return{u_image:0,u_texsize:s.imageAtlasTexture.size,u_tile_units_to_pixels:1/Ce(s,1,m.transform.tileZoom),u_pixel_coord_upper:[v>>16,b>>16],u_pixel_coord_lower:[65535&v,65535&b]}}const Zf=i.create(),Jp=(m,s,d,f,v,b,S,P,M,L,R)=>{const O=s.style.light,Y=O.properties.get("position"),nt=[Y.x,Y.y,Y.z],at=i.create$1();O.properties.get("anchor")==="viewport"&&(i.fromRotation(at,-s.transform.angle),i.transformMat3(nt,nt,at));const ot=O.properties.get("color"),rt=s.transform,U={u_matrix:m,u_lightpos:nt,u_lightintensity:O.properties.get("intensity"),u_lightcolor:[ot.r,ot.g,ot.b],u_vertical_gradient:+d,u_opacity:f,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Zf,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:v,u_edge_radius:b};return rt.projection.name==="globe"&&(U.u_tile_id=[S.canonical.x,S.canonical.y,1<<S.canonical.z],U.u_zoom_transition=M,U.u_inv_rot_matrix=R,U.u_merc_center=L,U.u_up_dir=rt.projection.upVector(new i.CanonicalTileID(0,0,0),L[0]*i.EXTENT,L[1]*i.EXTENT),U.u_height_lift=P),U},Xf=(m,s,d,f,v,b,S,P,M,L,R,O)=>{const Y=Jp(m,s,d,f,v,b,S,M,L,R,O),nt={u_height_factor:-Math.pow(2,S.overscaledZ)/P.tileSize/8};return i.extend(Y,yc(s,P),nt)},xi=m=>({u_matrix:m}),tm=(m,s,d)=>i.extend(xi(m),yc(s,d)),j2=(m,s)=>({u_matrix:m,u_world:s}),O2=(m,s,d,f)=>i.extend(tm(m,s,d),{u_world:f}),V2=i.create(),em=(m,s,d,f,v,b)=>{const S=m.transform,P=S.projection.name==="globe";let M;if(b.paint.get("circle-pitch-alignment")==="map")if(P){const R=i.globePixelsToTileUnits(S.zoom,s.canonical)*S._pixelsPerMercatorPixel;M=Float32Array.from([R,0,0,R])}else M=S.calculatePixelsToTileUnitsMatrix(d);else M=new Float32Array([S.pixelsToGLUnits[0],0,0,S.pixelsToGLUnits[1]]);const L={u_camera_to_center_distance:S.cameraToCenterDistance,u_matrix:m.translatePosMatrix(s.projMatrix,d,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_device_pixel_ratio:i.exported.devicePixelRatio,u_extrude_scale:M,u_inv_rot_matrix:V2,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(P){L.u_inv_rot_matrix=f,L.u_merc_center=v,L.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],L.u_zoom_transition=i.globeToMercatorTransition(S.zoom);const R=v[0]*i.EXTENT,O=v[1]*i.EXTENT;L.u_up_dir=S.projection.upVector(new i.CanonicalTileID(0,0,0),R,O)}return L},nm=m=>{const s=[];return m.paint.get("circle-pitch-alignment")==="map"&&s.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&s.push("SCALE_WITH_MAP"),s},om=(m,s,d,f)=>{const v=i.EXTENT/d.tileSize;return{u_matrix:m,u_camera_to_center_distance:s.getCameraToCenterDistance(f),u_extrude_scale:[s.pixelsToGLUnits[0]/v,s.pixelsToGLUnits[1]/v]}},Bd=(m,s,d=1)=>({u_matrix:m,u_color:s,u_overlay:0,u_overlay_scale:d}),Kf=i.create(),Yf=(m,s,d,f,v,b,S)=>{const P=m.transform,M=P.projection.name==="globe",L=M?i.globePixelsToTileUnits(P.zoom,s.canonical)*P._pixelsPerMercatorPixel:Ce(d,1,b),R={u_matrix:s.projMatrix,u_extrude_scale:L,u_intensity:S,u_inv_rot_matrix:Kf,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(M){R.u_inv_rot_matrix=f,R.u_merc_center=v,R.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],R.u_zoom_transition=i.globeToMercatorTransition(P.zoom);const O=v[0]*i.EXTENT,Y=v[1]*i.EXTENT;R.u_up_dir=P.projection.upVector(new i.CanonicalTileID(0,0,0),O,Y)}return R},U2=(m,s,d,f,v,b,S)=>{const P=m.transform,M=P.calculatePixelsToTileUnitsMatrix(s);return{u_matrix:am(m,s,d,f),u_pixels_to_tile_units:M,u_device_pixel_ratio:b,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:v,u_texsize:bc(d)?s.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ji(s,m.transform),u_alpha_discard_threshold:0,u_trim_offset:S}},_c=(m,s,d,f,v)=>{const b=m.transform;return{u_matrix:am(m,s,d,f),u_texsize:s.imageAtlasTexture.size,u_pixels_to_tile_units:b.calculatePixelsToTileUnitsMatrix(s),u_device_pixel_ratio:v,u_image:0,u_tile_units_to_pixels:Ji(s,b),u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ji(m,s){return 1/Ce(m,1,s.tileZoom)}function am(m,s,d,f){return m.translatePosMatrix(f||s.tileID.projMatrix,s,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}function bc(m){const s=m.paint.get("line-dasharray").value;return s.value||s.kind!=="constant"}const rm=(m,s,d,f,v,b)=>{return{u_matrix:m,u_tl_parent:s,u_scale_parent:d,u_fade_t:f.mix,u_opacity:f.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(P=v.paint.get("raster-saturation"),P>0?1-1/(1.001-P):-P),u_contrast_factor:(S=v.paint.get("raster-contrast"),S>0?1/(1-S):1+S),u_spin_weights:Pr(v.paint.get("raster-hue-rotate")),u_perspective_transform:b};var S,P};function Pr(m){m*=Math.PI/180;const s=Math.sin(m),d=Math.cos(m);return[(2*d+1)/3,(-Math.sqrt(3)*s-d+1)/3,(Math.sqrt(3)*s-d+1)/3]}const Nd=i.create(),sm=(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot)=>{const rt=v.transform,U={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:rt.cameraToCenterDistance,u_rotate_symbol:+d,u_aspect_ratio:rt.width/rt.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:b,u_label_plane_matrix:S,u_coord_matrix:P,u_is_text:+M,u_pitch_with_map:+f,u_texsize:L,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Nd,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Nd,u_up_vector:[0,-1,0]};return ot.name==="globe"&&(U.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],U.u_zoom_transition=O,U.u_inv_rot_matrix=nt,U.u_merc_center=Y,U.u_camera_forward=rt._camera.forward(),U.u_ecef_origin=i.globeECEFOrigin(rt.globeMatrix,R.toUnwrapped()),U.u_tile_matrix=Float32Array.from(rt.globeMatrix),U.u_up_vector=at),U},Id=(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot,rt)=>i.extend(sm(m,s,d,f,v,b,S,P,M,L,O,Y,nt,at,ot,rt),{u_gamma_scale:f?v.transform.cameraToCenterDistance*Math.cos(v.terrain?0:v.transform._pitch):1,u_device_pixel_ratio:i.exported.devicePixelRatio,u_is_halo:+R}),Qf=(m,s,d,f,v,b,S,P,M,L,R,O,Y,nt,at,ot)=>i.extend(Id(m,s,d,f,v,b,S,P,!0,M,!0,R,O,Y,nt,at,ot),{u_texsize_icon:L,u_texture_icon:1}),im=(m,s,d)=>({u_matrix:m,u_opacity:s,u_color:d}),$2=(m,s,d,f,v)=>i.extend(function(b,S,P){const M=S.imageManager.getPattern(b.toString()),{width:L,height:R}=S.imageManager.getPixelSize(),O=Math.pow(2,P.tileID.overscaledZ),Y=P.tileSize*Math.pow(2,S.transform.tileZoom)/O,nt=Y*(P.tileID.canonical.x+P.tileID.wrap*O),at=Y*P.tileID.canonical.y;return{u_image:0,u_pattern_tl:M.tl,u_pattern_br:M.br,u_texsize:[L,R],u_pattern_size:M.displaySize,u_tile_units_to_pixels:1/Ce(P,1,S.transform.tileZoom),u_pixel_coord_upper:[nt>>16,at>>16],u_pixel_coord_lower:[65535&nt,65535&at]}}(f,d,v),{u_matrix:m,u_opacity:s}),lm={fillExtrusion:m=>({u_matrix:new i.UniformMatrix4f(m),u_lightpos:new i.Uniform3f(m),u_lightintensity:new i.Uniform1f(m),u_lightcolor:new i.Uniform3f(m),u_vertical_gradient:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_edge_radius:new i.Uniform1f(m),u_ao:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_up_dir:new i.Uniform3f(m),u_height_lift:new i.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_lightpos:new i.Uniform3f(m),u_lightintensity:new i.Uniform1f(m),u_lightcolor:new i.Uniform3f(m),u_vertical_gradient:new i.Uniform1f(m),u_height_factor:new i.Uniform1f(m),u_edge_radius:new i.Uniform1f(m),u_ao:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_up_dir:new i.Uniform3f(m),u_height_lift:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m)}),fill:m=>({u_matrix:new i.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),fillOutline:m=>({u_matrix:new i.UniformMatrix4f(m),u_world:new i.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_world:new i.Uniform2f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new i.Uniform1f(m),u_extrude_scale:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_up_dir:new i.Uniform3f(m)}),collisionBox:m=>({u_matrix:new i.UniformMatrix4f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_extrude_scale:new i.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new i.UniformMatrix4f(m),u_inv_matrix:new i.UniformMatrix4f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_viewport_size:new i.Uniform2f(m)}),debug:m=>({u_color:new i.UniformColor(m),u_matrix:new i.UniformMatrix4f(m),u_overlay:new i.Uniform1i(m),u_overlay_scale:new i.Uniform1f(m)}),clippingMask:m=>({u_matrix:new i.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new i.Uniform1f(m),u_intensity:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_up_dir:new i.Uniform3f(m)}),heatmapTexture:m=>({u_image:new i.Uniform1i(m),u_color_ramp:new i.Uniform1i(m),u_opacity:new i.Uniform1f(m)}),hillshade:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_latrange:new i.Uniform2f(m),u_light:new i.Uniform2f(m),u_shadow:new i.UniformColor(m),u_highlight:new i.UniformColor(m),u_accent:new i.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_dimension:new i.Uniform2f(m),u_zoom:new i.Uniform1f(m),u_unpack:new i.Uniform4f(m)}),line:m=>({u_matrix:new i.UniformMatrix4f(m),u_pixels_to_tile_units:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_units_to_pixels:new i.Uniform2f(m),u_dash_image:new i.Uniform1i(m),u_gradient_image:new i.Uniform1i(m),u_image_height:new i.Uniform1f(m),u_texsize:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_alpha_discard_threshold:new i.Uniform1f(m),u_trim_offset:new i.Uniform2f(m)}),linePattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_texsize:new i.Uniform2f(m),u_pixels_to_tile_units:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_units_to_pixels:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_alpha_discard_threshold:new i.Uniform1f(m)}),raster:m=>({u_matrix:new i.UniformMatrix4f(m),u_tl_parent:new i.Uniform2f(m),u_scale_parent:new i.Uniform1f(m),u_fade_t:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_image0:new i.Uniform1i(m),u_image1:new i.Uniform1i(m),u_brightness_low:new i.Uniform1f(m),u_brightness_high:new i.Uniform1f(m),u_saturation_factor:new i.Uniform1f(m),u_contrast_factor:new i.Uniform1f(m),u_spin_weights:new i.Uniform3f(m),u_perspective_transform:new i.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_camera_forward:new i.Uniform3f(m),u_tile_matrix:new i.UniformMatrix4f(m),u_up_vector:new i.Uniform3f(m),u_ecef_origin:new i.Uniform3f(m),u_texture:new i.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_texture:new i.Uniform1i(m),u_gamma_scale:new i.Uniform1f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_camera_forward:new i.Uniform3f(m),u_tile_matrix:new i.UniformMatrix4f(m),u_up_vector:new i.Uniform3f(m),u_ecef_origin:new i.Uniform3f(m),u_is_halo:new i.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_texsize_icon:new i.Uniform2f(m),u_texture:new i.Uniform1i(m),u_texture_icon:new i.Uniform1i(m),u_gamma_scale:new i.Uniform1f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_is_halo:new i.Uniform1i(m)}),background:m=>({u_matrix:new i.UniformMatrix4f(m),u_opacity:new i.Uniform1f(m),u_color:new i.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_opacity:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_pattern_tl:new i.Uniform2f(m),u_pattern_br:new i.Uniform2f(m),u_texsize:new i.Uniform2f(m),u_pattern_size:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),terrainRaster:Xp,terrainDepth:Xp,skybox:m=>({u_matrix:new i.UniformMatrix4f(m),u_sun_direction:new i.Uniform3f(m),u_cubemap:new i.Uniform1i(m),u_opacity:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new i.UniformMatrix4f(m),u_color_ramp:new i.Uniform1i(m),u_center_direction:new i.Uniform3f(m),u_radius:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new i.UniformMatrix3f(m),u_sun_direction:new i.Uniform3f(m),u_sun_intensity:new i.Uniform1f(m),u_color_tint_r:new i.Uniform4f(m),u_color_tint_m:new i.Uniform4f(m),u_luminance:new i.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new i.UniformMatrix4f(m),u_globe_matrix:new i.UniformMatrix4f(m),u_normalize_matrix:new i.UniformMatrix4f(m),u_merc_matrix:new i.UniformMatrix4f(m),u_zoom_transition:new i.Uniform1f(m),u_merc_center:new i.Uniform2f(m),u_image0:new i.Uniform1i(m),u_grid_matrix:new i.UniformMatrix3f(m),u_skirt_height:new i.Uniform1f(m),u_frustum_tl:new i.Uniform3f(m),u_frustum_tr:new i.Uniform3f(m),u_frustum_br:new i.Uniform3f(m),u_frustum_bl:new i.Uniform3f(m),u_globe_pos:new i.Uniform3f(m),u_globe_radius:new i.Uniform1f(m),u_viewport:new i.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new i.Uniform3f(m),u_frustum_tr:new i.Uniform3f(m),u_frustum_br:new i.Uniform3f(m),u_frustum_bl:new i.Uniform3f(m),u_horizon:new i.Uniform1f(m),u_transition:new i.Uniform1f(m),u_fadeout_range:new i.Uniform1f(m),u_color:new i.Uniform4f(m),u_high_color:new i.Uniform4f(m),u_space_color:new i.Uniform4f(m),u_star_intensity:new i.Uniform1f(m),u_star_density:new i.Uniform1f(m),u_star_size:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m),u_horizon_angle:new i.Uniform1f(m),u_rotation_matrix:new i.UniformMatrix4f(m)})};let Fd;function wc(m,s,d,f,v,b,S){const P=m.context,M=P.gl,L=m.transform,R=m.useProgram("collisionBox"),O=[];let Y=0,nt=0;for(let ut=0;ut<f.length;ut++){const yt=f[ut],bt=s.getTile(yt),_t=bt.getBucket(d);if(!_t)continue;const Tt=Oa(yt,_t,L);let At=Tt;v[0]===0&&v[1]===0||(At=m.translatePosMatrix(Tt,bt,v,b));const Nt=S?_t.textCollisionBox:_t.iconCollisionBox,Qt=_t.collisionCircleArray;if(Qt.length>0){const Mt=i.create(),qt=At;i.mul(Mt,_t.placementInvProjMatrix,L.glCoordMatrix),i.mul(Mt,Mt,_t.placementViewportMatrix),O.push({circleArray:Qt,circleOffset:nt,transform:qt,invTransform:Mt,projection:_t.getProjection()}),Y+=Qt.length/4,nt=Y}Nt&&(m.terrain&&m.terrain.setupElevationDraw(bt,R),R.draw(P,M.LINES,i.DepthMode.disabled,i.StencilMode.disabled,m.colorModeForRenderPass(),i.CullFaceMode.disabled,om(At,L,bt,_t.getProjection()),d.id,Nt.layoutVertexBuffer,Nt.indexBuffer,Nt.segments,null,L.zoom,null,[Nt.collisionVertexBuffer,Nt.collisionVertexBufferExt]))}if(!S||!O.length)return;const at=m.useProgram("collisionCircle"),ot=new i.StructArrayLayout2f1f2i16;ot.resize(4*Y),ot._trim();let rt=0;for(const ut of O)for(let yt=0;yt<ut.circleArray.length/4;yt++){const bt=4*yt,_t=ut.circleArray[bt+0],Tt=ut.circleArray[bt+1],At=ut.circleArray[bt+2],Nt=ut.circleArray[bt+3];ot.emplace(rt++,_t,Tt,At,Nt,0),ot.emplace(rt++,_t,Tt,At,Nt,1),ot.emplace(rt++,_t,Tt,At,Nt,2),ot.emplace(rt++,_t,Tt,At,Nt,3)}(!Fd||Fd.length<2*Y)&&(Fd=function(ut){const yt=2*ut,bt=new i.StructArrayLayout3ui6;bt.resize(yt),bt._trim();for(let _t=0;_t<yt;_t++){const Tt=6*_t;bt.uint16[Tt+0]=4*_t+0,bt.uint16[Tt+1]=4*_t+1,bt.uint16[Tt+2]=4*_t+2,bt.uint16[Tt+3]=4*_t+2,bt.uint16[Tt+4]=4*_t+3,bt.uint16[Tt+5]=4*_t+0}return bt}(Y));const U=P.createIndexBuffer(Fd,!0),et=P.createVertexBuffer(ot,i.collisionCircleLayout.members,!0);for(const ut of O){const yt={u_matrix:ut.transform,u_inv_matrix:ut.invTransform,u_camera_to_center_distance:(lt=L).getCameraToCenterDistance(ut.projection),u_viewport_size:[lt.width,lt.height]};at.draw(P,M.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,m.colorModeForRenderPass(),i.CullFaceMode.disabled,yt,d.id,et,U,i.SegmentVector.simpleSegment(0,2*ut.circleOffset,ut.circleArray.length,ut.circleArray.length/2),null,L.zoom)}var lt;et.destroy(),U.destroy()}const Jf=i.create();function cm({width:m,height:s,anchor:d,textOffset:f,textScale:v},b){const{horizontalAlign:S,verticalAlign:P}=i.getAnchorAlignment(d),M=-(S-.5)*m,L=-(P-.5)*s,R=i.evaluateVariableOffset(d,f);return new i.Point((M/v+R[0])*b,(L/v+R[1])*b)}function G2(m,s,d,f,v,b,S,P,M,L,R){const O=m.text.placedSymbolArray,Y=m.text.dynamicLayoutVertexArray,nt=m.icon.dynamicLayoutVertexArray,at={},ot=m.getProjection(),rt=Vn(P,ot,b),U=b.elevation,et=ot.upVectorScale(P.canonical,b.center.lat,b.worldSize).metersToTile;Y.clear();for(let lt=0;lt<O.length;lt++){const ut=O.get(lt),{tileAnchorX:yt,tileAnchorY:bt,numGlyphs:_t}=ut,Tt=ut.hidden||!ut.crossTileID||m.allowVerticalPlacement&&!ut.placedOrientation?null:f[ut.crossTileID];if(Tt){let At=0,Nt=0,Qt=0;if(U){const ee=U?U.getAtTileOffset(P,yt,bt):0,[Se,Re,_e]=ot.upVector(P.canonical,yt,bt);At=ee*Se*et,Nt=ee*Re*et,Qt=ee*_e*et}let[Mt,qt,Rt,Yt]=Bo(ut.projectedAnchorX+At,ut.projectedAnchorY+Nt,ut.projectedAnchorZ+Qt,d?rt:S);const Bt=jf(b.getCameraToCenterDistance(ot),Yt);let Gt=v.evaluateSizeForFeature(m.textSizeData,L,ut)*Bt/i.ONE_EM;d&&(Gt*=m.tilePixelRatio/M);const te=cm(Tt,Gt);d?({x:Mt,y:qt,z:Rt}=ot.projectTilePoint(yt+te.x,bt+te.y,P.canonical),[Mt,qt,Rt]=Bo(Mt+At,qt+Nt,Rt+Qt,S)):(s&&te._rotate(-b.angle),Mt+=te.x,qt+=te.y,Rt=0);const Xt=m.allowVerticalPlacement&&ut.placedOrientation===i.WritingMode.vertical?Math.PI/2:0;for(let ee=0;ee<_t;ee++)i.addDynamicAttributes(Y,Mt,qt,Rt,Xt);R&&ut.associatedIconIndex>=0&&(at[ut.associatedIconIndex]={x:Mt,y:qt,z:Rt,angle:Xt})}else ar(_t,Y)}if(R){nt.clear();const lt=m.icon.placedSymbolArray;for(let ut=0;ut<lt.length;ut++){const yt=lt.get(ut),{numGlyphs:bt}=yt,_t=at[ut];if(yt.hidden||!_t)ar(bt,nt);else{const{x:Tt,y:At,z:Nt,angle:Qt}=_t;for(let Mt=0;Mt<bt;Mt++)i.addDynamicAttributes(nt,Tt,At,Nt,Qt)}}m.icon.dynamicLayoutVertexBuffer.updateData(nt)}m.text.dynamicLayoutVertexBuffer.updateData(Y)}function dm(m,s,d){return d.iconsInText&&s?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function t0(m,s,d,f,v,b,S,P,M,L,R,O){const Y=m.context,nt=Y.gl,at=m.transform,ot=P==="map",rt=M==="map",U=ot&&d.layout.get("symbol-placement")!=="point",et=ot&&!rt&&!U,lt=d.layout.get("symbol-sort-key").constantOr(1)!==void 0;let ut=!1;const yt=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),bt=[i.mercatorXfromLng(at.center.lng),i.mercatorYfromLat(at.center.lat)],_t=d.layout.get("text-variable-anchor"),Tt=at.projection.name==="globe",At=[],Nt=[0,-1,0];let Qt=Nt;!Tt&&!at.mercatorFromTransition||ot||(Qt=function(Mt){const qt=Mt._camera.getWorldToCamera(Mt.worldSize,1),Rt=i.multiply([],qt,Mt.globeMatrix);i.invert(Rt,Rt);const Yt=[0,0,0],Bt=[0,1,0,0];return i.transformMat4$1(Bt,Bt,Rt),Yt[0]=Bt[0],Yt[1]=Bt[1],Yt[2]=Bt[2],i.normalize(Yt,Yt),Yt}(at));for(const Mt of f){const qt=s.getTile(Mt),Rt=qt.getBucket(d);if(!Rt||Rt.projection.name==="mercator"&&Tt)continue;const Yt=v?Rt.text:Rt.icon;if(!Yt||Rt.fullyClipped||!Yt.segments.get().length)continue;const Bt=Yt.programConfigurations.get(d.id),Gt=v||Rt.sdfIcons,te=v?Rt.textSizeData:Rt.iconSizeData,Xt=rt||at.pitch!==0,ee=i.evaluateSizeForZoom(te,at.zoom);let Se,Re,_e,Me,tn=[0,0],Ye=null;if(v)Re=qt.glyphAtlasTexture,_e=nt.LINEAR,Se=qt.glyphAtlasTexture.size,Rt.iconsInText&&(tn=qt.imageAtlasTexture.size,Ye=qt.imageAtlasTexture,Me=Xt||m.options.rotating||m.options.zooming||te.kind==="composite"||te.kind==="camera"?nt.LINEAR:nt.NEAREST);else{const is=d.layout.get("icon-size").constantOr(0)!==1||Rt.iconsNeedLinear;Re=qt.imageAtlasTexture,_e=Gt||m.options.rotating||m.options.zooming||is||Xt?nt.LINEAR:nt.NEAREST,Se=qt.imageAtlasTexture.size}const Ae=Rt.projection.name==="globe",yn=Ae?Qt:Nt,wn=Ae?i.globeToMercatorTransition(at.zoom):0,Cn=Vn(Mt,Rt.getProjection(),at),An=at.calculatePixelsToTileUnitsMatrix(qt),Ko=Ut(Cn,qt.tileID.canonical,rt,ot,at,Rt.getProjection(),An),Io=m.terrain&&rt&&U?i.invert(i.create(),Ko):Jf,Ga=so(Cn,qt.tileID.canonical,rt,ot,at,Rt.getProjection(),An),Mr=_t&&Rt.hasTextData(),Un=d.layout.get("icon-text-fit")!=="none"&&Mr&&Rt.hasIconData();if(U){const is=at.elevation,js=is?is.getAtTileOffsetFunc(Mt,at.center.lat,at.worldSize,Rt.getProjection()):null,wi=Jr(Cn,qt.tileID.canonical,rt,ot,at,Rt.getProjection(),An);Rp(Rt,Cn,m,v,wi,Ga,rt,L,js,Mt)}const Tn=U||v&&_t||Un,mn=m.translatePosMatrix(Cn,qt,b,S),io=Tn?Jf:Ko,ra=m.translatePosMatrix(Ga,qt,b,S,!0),Ln=Rt.getProjection().createInversionMatrix(at,Mt.canonical),pa=[];m.terrainRenderModeElevated()&&rt&&pa.push("PITCH_WITH_MAP_TERRAIN"),Ae&&pa.push("PROJECTION_GLOBE_VIEW"),Tn&&pa.push("PROJECTED_POS_ON_VIEWPORT");const Yd=Gt&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let bi;bi=Gt?Rt.iconsInText?Qf(te.kind,ee,et,rt,m,mn,io,ra,Se,tn,Mt,wn,bt,Ln,yn,Rt.getProjection()):Id(te.kind,ee,et,rt,m,mn,io,ra,v,Se,!0,Mt,wn,bt,Ln,yn,Rt.getProjection()):sm(te.kind,ee,et,rt,m,mn,io,ra,v,Se,Mt,wn,bt,Ln,yn,Rt.getProjection());const Nc={program:m.useProgram(dm(Gt,v,Rt),Bt,pa),buffers:Yt,uniformValues:bi,atlasTexture:Re,atlasTextureIcon:Ye,atlasInterpolation:_e,atlasInterpolationIcon:Me,isSDF:Gt,hasHalo:Yd,tile:qt,labelPlaneMatrixInv:Io};if(lt&&Rt.canOverlap){ut=!0;const is=Yt.segments.get();for(const js of is)At.push({segments:new i.SegmentVector([js]),sortKey:js.sortKey,state:Nc})}else At.push({segments:Yt.segments,sortKey:0,state:Nc})}ut&&At.sort((Mt,qt)=>Mt.sortKey-qt.sortKey);for(const Mt of At){const qt=Mt.state;if(m.terrain&&m.terrain.setupElevationDraw(qt.tile,qt.program,{useDepthForOcclusion:!Tt,labelPlaneMatrixInv:qt.labelPlaneMatrixInv}),Y.activeTexture.set(nt.TEXTURE0),qt.atlasTexture.bind(qt.atlasInterpolation,nt.CLAMP_TO_EDGE),qt.atlasTextureIcon&&(Y.activeTexture.set(nt.TEXTURE1),qt.atlasTextureIcon&&qt.atlasTextureIcon.bind(qt.atlasInterpolationIcon,nt.CLAMP_TO_EDGE)),qt.isSDF){const Rt=qt.uniformValues;qt.hasHalo&&(Rt.u_is_halo=1,Cc(qt.buffers,Mt.segments,d,m,qt.program,yt,R,O,Rt)),Rt.u_is_halo=0}Cc(qt.buffers,Mt.segments,d,m,qt.program,yt,R,O,qt.uniformValues)}}function Cc(m,s,d,f,v,b,S,P,M){const L=f.context,R=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];v.draw(L,L.gl.TRIANGLES,b,S,P,i.CullFaceMode.disabled,M,d.id,m.layoutVertexBuffer,m.indexBuffer,s,d.paint,f.transform.zoom,m.programConfigurations.get(d.id),R)}function e0(m,s,d,f,v,b,S){const P=m.context.gl,M=d.paint.get("fill-pattern"),L=M&&M.constantOr(1);let R,O,Y,nt,at;S?(O=L&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",R=P.LINES):(O=L?"fillPattern":"fill",R=P.TRIANGLES);for(const ot of f){const rt=s.getTile(ot);if(L&&!rt.patternsLoaded())continue;const U=rt.getBucket(d);if(!U)continue;m.prepareDrawTile();const et=U.programConfigurations.get(d.id),lt=m.useProgram(O,et);L&&(m.context.activeTexture.set(P.TEXTURE0),rt.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),et.updatePaintBuffers());const ut=M.constantOr(null);if(ut&&rt.imageAtlas){const bt=rt.imageAtlas.patternPositions[ut.toString()];bt&&et.setConstantPatternPositions(bt)}const yt=m.translatePosMatrix(ot.projMatrix,rt,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(S){nt=U.indexBuffer2,at=U.segments2;const bt=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[P.drawingBufferWidth,P.drawingBufferHeight];Y=O==="fillOutlinePattern"&&L?O2(yt,m,rt,bt):j2(yt,bt)}else nt=U.indexBuffer,at=U.segments,Y=L?tm(yt,m,rt):xi(yt);m.prepareDrawProgram(m.context,lt,ot.toUnwrapped()),lt.draw(m.context,R,v,m.stencilModeForClipping(ot),b,i.CullFaceMode.disabled,Y,d.id,U.layoutVertexBuffer,nt,at,d.paint,m.transform.zoom,et)}}function Rd(m,s,d,f,v,b,S){const P=m.context,M=P.gl,L=m.transform,R=d.paint.get("fill-extrusion-pattern"),O=R.constantOr(1),Y=d.paint.get("fill-extrusion-opacity"),nt=[d.paint.get("fill-extrusion-ambient-occlusion-intensity"),d.paint.get("fill-extrusion-ambient-occlusion-radius")],at=d.layout.get("fill-extrusion-edge-radius"),ot=at>0&&!d.paint.get("fill-extrusion-rounded-roof"),rt=ot?0:at,U=L.projection.name==="globe"?i.fillExtrusionHeightLift():0,et=L.projection.name==="globe",lt=et?i.globeToMercatorTransition(L.zoom):0,ut=[i.mercatorXfromLng(L.center.lng),i.mercatorYfromLat(L.center.lat)],yt=[];et&&yt.push("PROJECTION_GLOBE_VIEW"),nt[0]>0&&yt.push("FAUX_AO"),ot&&yt.push("ZERO_ROOF_RADIUS");for(const bt of f){const _t=s.getTile(bt),Tt=_t.getBucket(d);if(!Tt||Tt.projection.name!==L.projection.name)continue;const At=Tt.programConfigurations.get(d.id),Nt=m.useProgram(O?"fillExtrusionPattern":"fillExtrusion",At,yt);if(m.terrain){const Gt=m.terrain;if(m.style.terrainSetForDrapingOnly())Gt.setupElevationDraw(_t,Nt,{useMeterToDem:!0});else{if(!Tt.enableTerrain)continue;if(Gt.setupElevationDraw(_t,Nt,{useMeterToDem:!0}),n0(P,s,bt,Tt,d,Gt),!Tt.centroidVertexBuffer){const te=Nt.attributes.a_centroid_pos;te!==void 0&&M.vertexAttrib2f(te,0,0)}}}O&&(m.context.activeTexture.set(M.TEXTURE0),_t.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),At.updatePaintBuffers());const Qt=R.constantOr(null);if(Qt&&_t.imageAtlas){const Gt=_t.imageAtlas.patternPositions[Qt.toString()];Gt&&At.setConstantPatternPositions(Gt)}const Mt=m.translatePosMatrix(bt.projMatrix,_t,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),qt=L.projection.createInversionMatrix(L,bt.canonical),Rt=d.paint.get("fill-extrusion-vertical-gradient"),Yt=O?Xf(Mt,m,Rt,Y,nt,rt,bt,_t,U,lt,ut,qt):Jp(Mt,m,Rt,Y,nt,rt,bt,U,lt,ut,qt);m.prepareDrawProgram(P,Nt,bt.toUnwrapped());const Bt=[];m.terrain&&Bt.push(Tt.centroidVertexBuffer),et&&Bt.push(Tt.layoutVertexExtBuffer),Nt.draw(P,P.gl.TRIANGLES,v,b,S,i.CullFaceMode.backCCW,Yt,d.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,d.paint,m.transform.zoom,At,Bt)}}function n0(m,s,d,f,v,b){const S=[U=>{let et=U.canonical.x-1,lt=U.wrap;return et<0&&(et=(1<<U.canonical.z)-1,lt--),new i.OverscaledTileID(U.overscaledZ,lt,U.canonical.z,et,U.canonical.y)},U=>{let et=U.canonical.x+1,lt=U.wrap;return et===1<<U.canonical.z&&(et=0,lt++),new i.OverscaledTileID(U.overscaledZ,lt,U.canonical.z,et,U.canonical.y)},U=>new i.OverscaledTileID(U.overscaledZ,U.wrap,U.canonical.z,U.canonical.x,(U.canonical.y===0?1<<U.canonical.z:U.canonical.y)-1),U=>new i.OverscaledTileID(U.overscaledZ,U.wrap,U.canonical.z,U.canonical.x,U.canonical.y===(1<<U.canonical.z)-1?0:U.canonical.y+1)],P=U=>{const et=s.getSource().minzoom,lt=yt=>{const bt=s.getTileByID(yt);if(bt&&bt.hasData())return bt.getBucket(v)},ut=[0,-1,1];for(const yt of ut){if(U.overscaledZ+yt<et)continue;const bt=lt(U.calculateScaledKey(U.overscaledZ+yt));if(bt)return bt}},M=[0,0,0],L=(U,et)=>(M[0]=Math.min(U.min.y,et.min.y),M[1]=Math.max(U.max.y,et.max.y),M[2]=i.EXTENT-et.min.x>U.max.x?et.min.x-i.EXTENT:U.max.x,M),R=(U,et)=>(M[0]=Math.min(U.min.x,et.min.x),M[1]=Math.max(U.max.x,et.max.x),M[2]=i.EXTENT-et.min.y>U.max.y?et.min.y-i.EXTENT:U.max.y,M),O=[(U,et)=>L(U,et),(U,et)=>L(et,U),(U,et)=>R(U,et),(U,et)=>R(et,U)],Y=new i.Point(0,0);let nt,at,ot;const rt=(U,et,lt,ut,yt)=>{const bt=[[ut?lt:U,ut?U:lt,0],[ut?lt:et,ut?et:lt,0]],_t=yt<0?i.EXTENT+yt:yt,Tt=[ut?_t:(U+et)/2,ut?(U+et)/2:_t,0];return lt===0&&yt<0||lt!==0&&yt>0?b.getForTilePoints(ot,[Tt],!0,at):bt.push(Tt),b.getForTilePoints(d,bt,!0,nt),Math.max(bt[0][2],bt[1][2],Tt[2])/b.exaggeration()};for(let U=0;U<4;U++){const et=(U<2?1:5)-U,lt=f.borders[U];if(lt.length===0)continue;const ut=ot=S[U](d),yt=P(ut);if(!(yt&&yt instanceof i.FillExtrusionBucket&&yt.enableTerrain)||f.borderDoneWithNeighborZ[U]===yt.canonical.z&&yt.borderDoneWithNeighborZ[et]===f.canonical.z||(at=b.findDEMTileFor(ut),!at||!at.dem))continue;if(!nt){const At=b.findDEMTileFor(d);if(!At||!At.dem)return;nt=At}const bt=yt.borders[et];let _t=0;const Tt=yt.borderDoneWithNeighborZ[et]!==f.canonical.z;if(f.canonical.z===yt.canonical.z){for(let At=0;At<lt.length;At++){const Nt=f.featuresOnBorder[lt[At]],Qt=Nt.borders[U];let Mt;for(;_t<bt.length&&(Mt=yt.featuresOnBorder[bt[_t]],!(Mt.borders[et][1]>Qt[0]+3));)Tt&&yt.encodeCentroid(void 0,Mt,!1),_t++;if(Mt&&_t<bt.length){const qt=_t;let Rt=0;for(;!(Mt.borders[et][0]>Qt[1]-3)&&(Rt++,++_t!==bt.length);)Mt=yt.featuresOnBorder[bt[_t]];if(Mt=yt.featuresOnBorder[bt[qt]],Nt.intersectsCount()>1||Mt.intersectsCount()>1||Rt!==1){Rt!==1&&(_t=qt),f.encodeCentroid(void 0,Nt,!1),Tt&&yt.encodeCentroid(void 0,Mt,!1);continue}const Yt=O[U](Nt,Mt),Bt=U%2?i.EXTENT-1:0;Y.x=rt(Yt[0],Math.min(i.EXTENT-1,Yt[1]),Bt,U<2,Yt[2]),Y.y=0,f.encodeCentroid(Y,Nt,!1),Tt&&yt.encodeCentroid(Y,Mt,!1)}else f.encodeCentroid(void 0,Nt,!1)}f.borderDoneWithNeighborZ[U]=yt.canonical.z,f.needsCentroidUpdate=!0,Tt&&(yt.borderDoneWithNeighborZ[et]=f.canonical.z,yt.needsCentroidUpdate=!0)}else{for(const At of lt)f.encodeCentroid(void 0,f.featuresOnBorder[At],!1);if(Tt){for(const At of bt)yt.encodeCentroid(void 0,yt.featuresOnBorder[At],!1);yt.borderDoneWithNeighborZ[et]=f.canonical.z,yt.needsCentroidUpdate=!0}f.borderDoneWithNeighborZ[U]=yt.canonical.z,f.needsCentroidUpdate=!0}}(f.needsCentroidUpdate||!f.centroidVertexBuffer&&f.centroidVertexArray.length!==0)&&f.uploadCentroid(m)}const tl=new i.Color(1,0,0,1),q2=new i.Color(0,1,0,1),W2=new i.Color(0,0,1,1),H2=new i.Color(1,0,1,1),Z2=new i.Color(0,1,1,1);function X2(m,s,d){const f=m.context,v=m.transform,b=f.gl,S=v.projection.name==="globe",P=S?["PROJECTION_GLOBE_VIEW"]:null;let M=d.projMatrix;if(S&&i.globeToMercatorTransition(v.zoom)>0){const Nt=i.transitionTileAABBinECEF(d.canonical,v),Qt=i.globeDenormalizeECEF(Nt);M=i.multiply(new Float32Array(16),v.globeMatrix,Qt),i.multiply(M,v.projMatrix,M)}const L=m.useProgram("debug",null,P),R=s.getTileByID(d.key);m.terrain&&m.terrain.setupElevationDraw(R,L);const O=i.DepthMode.disabled,Y=i.StencilMode.disabled,nt=m.colorModeForRenderPass(),at="$debug";f.activeTexture.set(b.TEXTURE0),m.emptyTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),S?R._makeGlobeTileDebugBuffers(m.context,v):R._makeDebugTileBoundsBuffers(m.context,v.projection);const ot=R._tileDebugBuffer||m.debugBuffer,rt=R._tileDebugIndexBuffer||m.debugIndexBuffer,U=R._tileDebugSegments||m.debugSegments;L.draw(f,b.LINE_STRIP,O,Y,nt,i.CullFaceMode.disabled,Bd(M,i.Color.red),at,ot,rt,U,null,null,null,[R._globeTileDebugBorderBuffer]);const et=R.latestRawTileData,lt=Math.floor((et&&et.byteLength||0)/1024),ut=s.getTile(d).tileSize,yt=512/Math.min(ut,512)*(d.overscaledZ/v.zoom)*.5;let bt=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(bt+=` => ${d.overscaledZ}`),bt+=` ${lt}kb`,function(Nt,Qt){Nt.initDebugOverlayCanvas();const Mt=Nt.debugOverlayCanvas,qt=Nt.context.gl,Rt=Nt.debugOverlayCanvas.getContext("2d");Rt.clearRect(0,0,Mt.width,Mt.height),Rt.shadowColor="white",Rt.shadowBlur=2,Rt.lineWidth=1.5,Rt.strokeStyle="white",Rt.textBaseline="top",Rt.font="bold 36px Open Sans, sans-serif",Rt.fillText(Qt,5,5),Rt.strokeText(Qt,5,5),Nt.debugOverlayTexture.update(Mt),Nt.debugOverlayTexture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE)}(m,bt);const _t=R._tileDebugTextBuffer||m.debugBuffer,Tt=R._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,At=R._tileDebugTextSegments||m.debugSegments;L.draw(f,b.TRIANGLES,O,Y,i.ColorMode.alphaBlended,i.CullFaceMode.disabled,Bd(M,i.Color.transparent,yt),at,_t,Tt,At,null,null,null,[R._globeTileDebugTextBuffer])}function o0(m,s,d,f){el(m,0,s+d/2,m.transform.width,d,f)}function Ld(m,s,d,f){el(m,s-d/2,0,d,m.transform.height,f)}function el(m,s,d,f,v,b){const S=m.context,P=S.gl;P.enable(P.SCISSOR_TEST),P.scissor(s*i.exported.devicePixelRatio,d*i.exported.devicePixelRatio,f*i.exported.devicePixelRatio,v*i.exported.devicePixelRatio),S.clear({color:b}),P.disable(P.SCISSOR_TEST)}const a0=i.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:r0}=a0;function rs(m,s,d,f){m.emplaceBack(s,d,f)}class zd{constructor(s){this.vertexArray=new i.StructArrayLayout3f12,this.indices=new i.StructArrayLayout3ui6,rs(this.vertexArray,-1,-1,1),rs(this.vertexArray,1,-1,1),rs(this.vertexArray,-1,1,1),rs(this.vertexArray,1,1,1),rs(this.vertexArray,-1,-1,-1),rs(this.vertexArray,1,-1,-1),rs(this.vertexArray,-1,1,-1),rs(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=s.createVertexBuffer(this.vertexArray,r0),this.indexBuffer=s.createIndexBuffer(this.indices),this.segment=i.SegmentVector.simpleSegment(0,0,36,12)}}function Ua(m,s,d,f,v,b){const S=m.gl,P=s.paint.get("sky-atmosphere-color"),M=s.paint.get("sky-atmosphere-halo-color"),L=s.paint.get("sky-atmosphere-sun-intensity"),R=((O,Y,nt,at,ot)=>({u_matrix_3f:O,u_sun_direction:Y,u_sun_intensity:nt,u_color_tint_r:[at.r,at.g,at.b,at.a],u_color_tint_m:[ot.r,ot.g,ot.b,ot.a],u_luminance:5e-5}))(i.fromMat4(i.create$1(),f),v,L,P,M);S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+b,s.skyboxTexture,0),d.draw(m,S.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,i.ColorMode.unblended,i.CullFaceMode.frontCW,R,"skyboxCapture",s.skyboxGeometry.vertexBuffer,s.skyboxGeometry.indexBuffer,s.skyboxGeometry.segment)}const Ac=i.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class s0{constructor(s){const d=new i.StructArrayLayout5f20;d.emplaceBack(-1,1,1,0,0),d.emplaceBack(1,1,1,1,0),d.emplaceBack(1,-1,1,1,1),d.emplaceBack(-1,-1,1,0,1);const f=new i.StructArrayLayout3ui6;f.emplaceBack(0,1,2),f.emplaceBack(2,3,0),this.vertexBuffer=s.createVertexBuffer(d,Ac.members),this.indexBuffer=s.createIndexBuffer(f),this.segments=i.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const vi={symbol:function(m,s,d,f,v){if(m.renderPass!=="translucent")return;const b=i.StencilMode.disabled,S=m.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&function(P,M,L,R,O,Y,nt){const at=M.transform,ot=O==="map",rt=Y==="map";for(const U of P){const et=R.getTile(U),lt=et.getBucket(L);if(!lt||!lt.text||!lt.text.segments.get().length)continue;const ut=i.evaluateSizeForZoom(lt.textSizeData,at.zoom),yt=Vn(U,lt.getProjection(),at),bt=at.calculatePixelsToTileUnitsMatrix(et),_t=Ut(yt,et.tileID.canonical,rt,ot,at,lt.getProjection(),bt),Tt=L.layout.get("icon-text-fit")!=="none"&&lt.hasIconData();if(ut){const At=Math.pow(2,at.zoom-et.tileID.overscaledZ);G2(lt,ot,rt,nt,i.symbolSize,at,_t,U,At,ut,Tt)}}}(f,m,d,s,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),v),d.paint.get("icon-opacity").constantOr(1)!==0&&t0(m,s,d,f,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),b,S),d.paint.get("text-opacity").constantOr(1)!==0&&t0(m,s,d,f,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),b,S),s.map.showCollisionBoxes&&(wc(m,s,d,f,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),wc(m,s,d,f,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(m,s,d,f){if(m.renderPass!=="translucent")return;const v=d.paint.get("circle-opacity"),b=d.paint.get("circle-stroke-width"),S=d.paint.get("circle-stroke-opacity"),P=d.layout.get("circle-sort-key").constantOr(1)!==void 0;if(v.constantOr(1)===0&&(b.constantOr(1)===0||S.constantOr(1)===0))return;const M=m.context,L=M.gl,R=m.transform,O=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),Y=i.StencilMode.disabled,nt=m.colorModeForRenderPass(),at=R.projection.name==="globe",ot=[i.mercatorXfromLng(R.center.lng),i.mercatorYfromLat(R.center.lat)],rt=[];for(let et=0;et<f.length;et++){const lt=f[et],ut=s.getTile(lt),yt=ut.getBucket(d);if(!yt||yt.projection.name!==R.projection.name)continue;const bt=yt.programConfigurations.get(d.id),_t=nm(d);at&&_t.push("PROJECTION_GLOBE_VIEW");const Tt=m.useProgram("circle",bt,_t),At=yt.layoutVertexBuffer,Nt=yt.globeExtVertexBuffer,Qt=yt.indexBuffer,Mt=R.projection.createInversionMatrix(R,lt.canonical),qt={programConfiguration:bt,program:Tt,layoutVertexBuffer:At,globeExtVertexBuffer:Nt,indexBuffer:Qt,uniformValues:em(m,lt,ut,Mt,ot,d),tile:ut};if(P){const Rt=yt.segments.get();for(const Yt of Rt)rt.push({segments:new i.SegmentVector([Yt]),sortKey:Yt.sortKey,state:qt})}else rt.push({segments:yt.segments,sortKey:0,state:qt})}P&&rt.sort((et,lt)=>et.sortKey-lt.sortKey);const U={useDepthForOcclusion:!at};for(const et of rt){const{programConfiguration:lt,program:ut,layoutVertexBuffer:yt,globeExtVertexBuffer:bt,indexBuffer:_t,uniformValues:Tt,tile:At}=et.state,Nt=et.segments;m.terrain&&m.terrain.setupElevationDraw(At,ut,U),m.prepareDrawProgram(M,ut,At.tileID.toUnwrapped()),ut.draw(M,L.TRIANGLES,O,Y,nt,i.CullFaceMode.disabled,Tt,d.id,yt,_t,Nt,d.paint,R.zoom,lt,[bt])}},heatmap:function(m,s,d,f){if(d.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const v=m.context,b=v.gl,S=i.StencilMode.disabled,P=new i.ColorMode([b.ONE,b.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function(nt,at,ot,rt){const U=nt.gl,et=at.width*rt,lt=at.height*rt;nt.activeTexture.set(U.TEXTURE1),nt.viewport.set([0,0,et,lt]);let ut=ot.heatmapFbo;if(!ut||ut&&(ut.width!==et||ut.height!==lt)){ut&&ut.destroy();const yt=U.createTexture();U.bindTexture(U.TEXTURE_2D,yt),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),ut=ot.heatmapFbo=nt.createFramebuffer(et,lt,!1),function(bt,_t,Tt,At,Nt,Qt){const Mt=bt.gl;Mt.texImage2D(Mt.TEXTURE_2D,0,bt.isWebGL2&&bt.extRenderToTextureHalfFloat?Mt.RGBA16F:Mt.RGBA,Nt,Qt,0,Mt.RGBA,bt.extRenderToTextureHalfFloat?bt.isWebGL2?Mt.HALF_FLOAT:bt.extTextureHalfFloat.HALF_FLOAT_OES:Mt.UNSIGNED_BYTE,null),At.colorAttachment.set(Tt)}(nt,0,yt,ut,et,lt)}else U.bindTexture(U.TEXTURE_2D,ut.colorAttachment.get()),nt.bindFramebuffer.set(ut.framebuffer)})(v,m,d,m.transform.projection.name==="globe"?.5:.25),v.clear({color:i.Color.transparent});const M=m.transform,L=M.projection.name==="globe",R=L?["PROJECTION_GLOBE_VIEW"]:null,O=L?i.CullFaceMode.frontCCW:i.CullFaceMode.disabled,Y=[i.mercatorXfromLng(M.center.lng),i.mercatorYfromLat(M.center.lat)];for(let nt=0;nt<f.length;nt++){const at=f[nt];if(s.hasRenderableParent(at))continue;const ot=s.getTile(at),rt=ot.getBucket(d);if(!rt||rt.projection.name!==M.projection.name)continue;const U=rt.programConfigurations.get(d.id),et=m.useProgram("heatmap",U,R),{zoom:lt}=m.transform;m.terrain&&m.terrain.setupElevationDraw(ot,et),m.prepareDrawProgram(v,et,at.toUnwrapped());const ut=M.projection.createInversionMatrix(M,at.canonical);et.draw(v,b.TRIANGLES,i.DepthMode.disabled,S,P,O,Yf(m,at,ot,ut,Y,lt,d.paint.get("heatmap-intensity")),d.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,d.paint,m.transform.zoom,U,L?[rt.globeExtVertexBuffer]:null)}v.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(v,b){const S=v.context,P=S.gl,M=b.heatmapFbo;if(!M)return;S.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,M.colorAttachment.get()),S.activeTexture.set(P.TEXTURE1);let L=b.colorRampTexture;L||(L=b.colorRampTexture=new i.Texture(S,b.colorRamp,P.RGBA)),L.bind(P.LINEAR,P.CLAMP_TO_EDGE),v.useProgram("heatmapTexture").draw(S,P.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,v.colorModeForRenderPass(),i.CullFaceMode.disabled,((R,O,Y,nt)=>({u_image:0,u_color_ramp:1,u_opacity:O.paint.get("heatmap-opacity")}))(0,b),b.id,v.viewportBuffer,v.quadTriangleIndexBuffer,v.viewportSegments,b.paint,v.transform.zoom)}(m,d))},line:function(m,s,d,f){if(m.renderPass!=="translucent")return;const v=d.paint.get("line-opacity"),b=d.paint.get("line-width");if(v.constantOr(1)===0||b.constantOr(1)===0)return;const S=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),P=m.colorModeForRenderPass(),M=m.terrain&&m.terrain.renderingToTexture?1:i.exported.devicePixelRatio,L=d.paint.get("line-dasharray"),R=L.constantOr(1),O=d.layout.get("line-cap"),Y=d.paint.get("line-pattern"),nt=Y.constantOr(1),at=d.paint.get("line-gradient"),ot=nt?"linePattern":"line",rt=m.context,U=rt.gl,et=(ut=>{const yt=[];bc(ut)&&yt.push("RENDER_LINE_DASH"),ut.paint.get("line-gradient")&&yt.push("RENDER_LINE_GRADIENT");const bt=ut.paint.get("line-trim-offset");bt[0]===0&&bt[1]===0||yt.push("RENDER_LINE_TRIM_OFFSET");const _t=ut.paint.get("line-pattern").constantOr(1),Tt=ut.paint.get("line-opacity").constantOr(1)!==1;return!_t&&Tt&&yt.push("RENDER_LINE_ALPHA_DISCARD"),yt})(d);let lt=et.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(lt=!1);for(const ut of f){const yt=s.getTile(ut);if(nt&&!yt.patternsLoaded())continue;const bt=yt.getBucket(d);if(!bt)continue;m.prepareDrawTile();const _t=bt.programConfigurations.get(d.id),Tt=m.useProgram(ot,_t,et),At=Y.constantOr(null);if(At&&yt.imageAtlas){const Gt=yt.imageAtlas.patternPositions[At.toString()];Gt&&_t.setConstantPatternPositions(Gt)}const Nt=L.constantOr(null),Qt=O.constantOr(null);if(!nt&&Nt&&Qt&&yt.lineAtlas){const Gt=yt.lineAtlas.getDash(Nt,Qt);Gt&&_t.setConstantPatternPositions(Gt)}let[Mt,qt]=d.paint.get("line-trim-offset");(Qt==="round"||Qt==="square")&&Mt!==qt&&(Mt===0&&(Mt-=1),qt===1&&(qt+=1));const Rt=m.terrain?ut.projMatrix:null,Yt=nt?_c(m,yt,d,Rt,M):U2(m,yt,d,Rt,bt.lineClipsArray.length,M,[Mt,qt]);if(at){const Gt=bt.gradients[d.id];let te=Gt.texture;if(d.gradientVersion!==Gt.version){let Xt=256;if(d.stepInterpolant){const ee=s.getSource().maxzoom,Se=ut.canonical.z===ee?Math.ceil(1<<m.transform.maxZoom-ut.canonical.z):1;Xt=i.clamp(i.nextPowerOfTwo(bt.maxLineLength/i.EXTENT*1024*Se),256,rt.maxTextureSize)}Gt.gradient=i.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:Xt,image:Gt.gradient||void 0,clips:bt.lineClipsArray}),Gt.texture?Gt.texture.update(Gt.gradient):Gt.texture=new i.Texture(rt,Gt.gradient,U.RGBA),Gt.version=d.gradientVersion,te=Gt.texture}rt.activeTexture.set(U.TEXTURE1),te.bind(d.stepInterpolant?U.NEAREST:U.LINEAR,U.CLAMP_TO_EDGE)}R&&(rt.activeTexture.set(U.TEXTURE0),yt.lineAtlasTexture.bind(U.LINEAR,U.REPEAT),_t.updatePaintBuffers()),nt&&(rt.activeTexture.set(U.TEXTURE0),yt.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),_t.updatePaintBuffers()),m.prepareDrawProgram(rt,Tt,ut.toUnwrapped());const Bt=Gt=>{Tt.draw(rt,U.TRIANGLES,S,Gt,P,i.CullFaceMode.disabled,Yt,d.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,d.paint,m.transform.zoom,_t,[bt.layoutVertexBuffer2])};if(lt){const Gt=m.stencilModeForClipping(ut).ref;Gt===0&&m.terrain&&rt.clear({stencil:0});const te={func:U.EQUAL,mask:255};Yt.u_alpha_discard_threshold=.8,Bt(new i.StencilMode(te,Gt,255,U.KEEP,U.KEEP,U.INVERT)),Yt.u_alpha_discard_threshold=0,Bt(new i.StencilMode(te,Gt,255,U.KEEP,U.KEEP,U.KEEP))}else Bt(m.stencilModeForClipping(ut))}lt&&(m.resetStencilClippingMasks(),m.terrain&&rt.clear({stencil:0}))},fill:function(m,s,d,f){const v=d.paint.get("fill-color"),b=d.paint.get("fill-opacity");if(b.constantOr(1)===0)return;const S=m.colorModeForRenderPass(),P=d.paint.get("fill-pattern"),M=m.opaquePassEnabledForLayer()&&!P.constantOr(1)&&v.constantOr(i.Color.transparent).a===1&&b.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===M){const L=m.depthModeForSublayer(1,m.renderPass==="opaque"?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly);e0(m,s,d,f,L,S,!1)}if(m.renderPass==="translucent"&&d.paint.get("fill-antialias")){const L=m.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,i.DepthMode.ReadOnly);e0(m,s,d,f,L,S,!0)}},"fill-extrusion":function(m,s,d,f){const v=d.paint.get("fill-extrusion-opacity");if(v!==0&&m.renderPass==="translucent"){const b=new i.DepthMode(m.context.gl.LEQUAL,i.DepthMode.ReadWrite,m.depthRangeFor3D);if(v!==1||d.paint.get("fill-extrusion-pattern").constantOr(1))Rd(m,s,d,f,b,i.StencilMode.disabled,i.ColorMode.disabled),Rd(m,s,d,f,b,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const S=m.colorModeForRenderPass();Rd(m,s,d,f,b,i.StencilMode.disabled,S)}}},hillshade:function(m,s,d,f){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const v=m.context,b=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),S=m.colorModeForRenderPass(),P=m.terrain&&m.terrain.renderingToTexture,[M,L]=m.renderPass!=="translucent"||P?[{},f]:m.stencilConfigForOverlap(f);for(const R of L){const O=s.getTile(R);if(O.needsHillshadePrepare&&m.renderPass==="offscreen")Wf(m,O,d,b,i.StencilMode.disabled,S);else if(m.renderPass==="translucent"){const Y=P&&m.terrain?m.terrain.stencilModeForRTTOverlap(R):M[R.overscaledZ];qf(m,R,O,d,b,Y,S)}}v.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,s,d,f,v,b){if(m.renderPass!=="translucent"||d.paint.get("raster-opacity")===0||!f.length)return;const S=m.context,P=S.gl,M=s.getSource(),L=m.useProgram("raster"),R=m.colorModeForRenderPass(),O=m.terrain&&m.terrain.renderingToTexture,[Y,nt]=M instanceof Xe||O?[{},f]:m.stencilConfigForOverlap(f),at=nt[nt.length-1].overscaledZ,ot=!m.options.moving;for(const rt of nt){const U=O?i.DepthMode.disabled:m.depthModeForSublayer(rt.overscaledZ-at,d.paint.get("raster-opacity")===1?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly,P.LESS),et=rt.toUnwrapped(),lt=s.getTile(rt);if(O&&(!lt||!lt.hasData()))continue;const ut=O?rt.projMatrix:m.transform.calculateProjMatrix(et,ot),yt=m.terrain&&O?m.terrain.stencilModeForRTTOverlap(rt):Y[rt.overscaledZ],bt=b?0:d.paint.get("raster-fade-duration");lt.registerFadeDuration(bt);const _t=s.findLoadedParent(rt,0),Tt=Kp(lt,_t,s,m.transform,bt);let At,Nt;m.terrain&&m.terrain.prepareDrawTile();const Qt=d.paint.get("raster-resampling")==="nearest"?P.NEAREST:P.LINEAR;S.activeTexture.set(P.TEXTURE0),lt.texture.bind(Qt,P.CLAMP_TO_EDGE),S.activeTexture.set(P.TEXTURE1),_t?(_t.texture.bind(Qt,P.CLAMP_TO_EDGE),At=Math.pow(2,_t.tileID.overscaledZ-lt.tileID.overscaledZ),Nt=[lt.tileID.canonical.x*At%1,lt.tileID.canonical.y*At%1]):lt.texture.bind(Qt,P.CLAMP_TO_EDGE),lt.texture.useMipmap&&S.extTextureFilterAnisotropic&&m.transform.pitch>20&&P.texParameterf(P.TEXTURE_2D,S.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,S.extTextureFilterAnisotropicMax);const Mt=rm(ut,Nt||[0,0],At||1,Tt,d,M instanceof Xe?M.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(S,L,et),M instanceof Xe)M.boundsBuffer&&M.boundsSegments&&L.draw(S,P.TRIANGLES,U,i.StencilMode.disabled,R,i.CullFaceMode.disabled,Mt,d.id,M.boundsBuffer,m.quadTriangleIndexBuffer,M.boundsSegments);else{const{tileBoundsBuffer:qt,tileBoundsIndexBuffer:Rt,tileBoundsSegments:Yt}=m.getTileBoundsBuffers(lt);L.draw(S,P.TRIANGLES,U,yt,R,i.CullFaceMode.disabled,Mt,d.id,qt,Rt,Yt)}}m.resetStencilClippingMasks()},background:function(m,s,d,f){const v=d.paint.get("background-color"),b=d.paint.get("background-opacity");if(b===0)return;const S=m.context,P=S.gl,M=m.transform,L=M.tileSize,R=d.paint.get("background-pattern");if(m.isPatternMissing(R))return;const O=!R&&v.a===1&&b===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==O)return;const Y=i.StencilMode.disabled,nt=m.depthModeForSublayer(0,O==="opaque"?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly),at=m.colorModeForRenderPass(),ot=m.useProgram(R?"backgroundPattern":"background");let rt,U=f;U||(rt=m.getBackgroundTiles(),U=Object.values(rt).map(et=>et.tileID)),R&&(S.activeTexture.set(P.TEXTURE0),m.imageManager.bind(m.context));for(const et of U){const lt=et.toUnwrapped(),ut=f?et.projMatrix:m.transform.calculateProjMatrix(lt);m.prepareDrawTile();const yt=s?s.getTile(et):rt?rt[et.key]:new i.Tile(et,L,M.zoom,m),bt=R?$2(ut,b,m,R,{tileID:et,tileSize:L}):im(ut,b,v);m.prepareDrawProgram(S,ot,lt);const{tileBoundsBuffer:_t,tileBoundsIndexBuffer:Tt,tileBoundsSegments:At}=m.getTileBoundsBuffers(yt);ot.draw(S,P.TRIANGLES,nt,Y,at,i.CullFaceMode.disabled,bt,d.id,_t,Tt,At)}},sky:function(m,s,d){const f=m.transform,v=f.projection.name==="mercator"||f.projection.name==="globe"?1:i.smoothstep(7,8,f.zoom),b=d.paint.get("sky-opacity")*v;if(b===0)return;const S=m.context,P=d.paint.get("sky-type"),M=new i.DepthMode(S.gl.LEQUAL,i.DepthMode.ReadOnly,[0,1]),L=m.frameCounter/1e3%1;P==="atmosphere"?m.renderPass==="offscreen"?d.needsSkyboxCapture(m)&&(function(R,O,Y,nt){const at=R.context,ot=at.gl;let rt=O.skyboxFbo;if(!rt){rt=O.skyboxFbo=at.createFramebuffer(32,32,!1),O.skyboxGeometry=new zd(at),O.skyboxTexture=at.gl.createTexture(),ot.bindTexture(ot.TEXTURE_CUBE_MAP,O.skyboxTexture),ot.texParameteri(ot.TEXTURE_CUBE_MAP,ot.TEXTURE_WRAP_S,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_CUBE_MAP,ot.TEXTURE_WRAP_T,ot.CLAMP_TO_EDGE),ot.texParameteri(ot.TEXTURE_CUBE_MAP,ot.TEXTURE_MIN_FILTER,ot.LINEAR),ot.texParameteri(ot.TEXTURE_CUBE_MAP,ot.TEXTURE_MAG_FILTER,ot.LINEAR);for(let ut=0;ut<6;++ut)ot.texImage2D(ot.TEXTURE_CUBE_MAP_POSITIVE_X+ut,0,ot.RGBA,32,32,0,ot.RGBA,ot.UNSIGNED_BYTE,null)}at.bindFramebuffer.set(rt.framebuffer),at.viewport.set([0,0,32,32]);const U=O.getCenter(R,!0),et=R.useProgram("skyboxCapture"),lt=new Float64Array(16);i.identity(lt),i.rotateY(lt,lt,.5*-Math.PI),Ua(at,O,et,lt,U,0),i.identity(lt),i.rotateY(lt,lt,.5*Math.PI),Ua(at,O,et,lt,U,1),i.identity(lt),i.rotateX(lt,lt,.5*-Math.PI),Ua(at,O,et,lt,U,2),i.identity(lt),i.rotateX(lt,lt,.5*Math.PI),Ua(at,O,et,lt,U,3),i.identity(lt),Ua(at,O,et,lt,U,4),i.identity(lt),i.rotateY(lt,lt,Math.PI),Ua(at,O,et,lt,U,5),at.viewport.set([0,0,R.width,R.height])}(m,d),d.markSkyboxValid(m)):m.renderPass==="sky"&&function(R,O,Y,nt,at){const ot=R.context,rt=ot.gl,U=R.transform,et=R.useProgram("skybox");ot.activeTexture.set(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_CUBE_MAP,O.skyboxTexture);const lt=((ut,yt,bt,_t,Tt)=>({u_matrix:ut,u_sun_direction:yt,u_cubemap:0,u_opacity:_t,u_temporal_offset:Tt}))(U.skyboxMatrix,O.getCenter(R,!1),0,nt,at);R.prepareDrawProgram(ot,et),et.draw(ot,rt.TRIANGLES,Y,i.StencilMode.disabled,R.colorModeForRenderPass(),i.CullFaceMode.backCW,lt,"skybox",O.skyboxGeometry.vertexBuffer,O.skyboxGeometry.indexBuffer,O.skyboxGeometry.segment)}(m,d,M,b,L):P==="gradient"&&m.renderPass==="sky"&&function(R,O,Y,nt,at){const ot=R.context,rt=ot.gl,U=R.transform,et=R.useProgram("skyboxGradient");O.skyboxGeometry||(O.skyboxGeometry=new zd(ot)),ot.activeTexture.set(rt.TEXTURE0);let lt=O.colorRampTexture;lt||(lt=O.colorRampTexture=new i.Texture(ot,O.colorRamp,rt.RGBA)),lt.bind(rt.LINEAR,rt.CLAMP_TO_EDGE);const ut=((yt,bt,_t,Tt,At)=>({u_matrix:yt,u_color_ramp:0,u_center_direction:bt,u_radius:i.degToRad(_t),u_opacity:Tt,u_temporal_offset:At}))(U.skyboxMatrix,O.getCenter(R,!1),O.paint.get("sky-gradient-radius"),nt,at);R.prepareDrawProgram(ot,et),et.draw(ot,rt.TRIANGLES,Y,i.StencilMode.disabled,R.colorModeForRenderPass(),i.CullFaceMode.backCW,ut,"skyboxGradient",O.skyboxGeometry.vertexBuffer,O.skyboxGeometry.indexBuffer,O.skyboxGeometry.segment)}(m,d,M,b,L)},debug:function(m,s,d){for(let f=0;f<d.length;f++)X2(m,s,d[f])},custom:function(m,s,d,f){const v=m.context,b=d.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&d.isLayerDraped()){if(m.renderPass==="offscreen"){const S=b.prerender;if(S){if(m.setCustomLayerDefaults(),v.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const P=m.transform.pointMerc;S.call(b,v.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),i.globeToMercatorTransition(m.transform.zoom),[P.x,P.y],m.transform.pixelsPerMeterRatio)}else S.call(b,v.gl,m.transform.customLayerMatrix());v.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const P=b.renderToTile;if(P){const M=f[0].canonical,L=new i.MercatorCoordinate(M.x+f[0].wrap*(1<<M.z),M.y,M.z);v.setDepthMode(i.DepthMode.disabled),v.setStencilMode(i.StencilMode.disabled),v.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),P.call(b,v.gl,L),v.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),v.setColorMode(m.colorModeForRenderPass()),v.setStencilMode(i.StencilMode.disabled);const S=b.renderingMode==="3d"?new i.DepthMode(m.context.gl.LEQUAL,i.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,i.DepthMode.ReadOnly);if(v.setDepthMode(S),m.transform.projection.name==="globe"){const P=m.transform.pointMerc;b.render(v.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),i.globeToMercatorTransition(m.transform.zoom),[P.x,P.y],m.transform.pixelsPerMeterRatio)}else b.render(v.gl,m.transform.customLayerMatrix());v.setDirty(),m.setBaseState(),v.bindFramebuffer.set(null)}}else i.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class nl{constructor(s,d,f=!1){this.context=new se(s,f),this.transform=d,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=i.SourceCache.maxUnderzooming+i.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(s,d){const f=!!s&&!!s.terrain&&this.transform.projection.supportsTerrain;if(!(f||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Qp(this,s));const v=this._terrain;this.transform.elevation=f?v:null,v.update(s,this.transform,d)}_updateFog(s){const d=s.fog;if(!d||this.transform.projection.name==="globe"||d.getOpacity(this.transform.pitch)<1||d.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[f,v]=d.getFovAdjustedRange(this.transform._fov);if(f>v)return void(this.transform.fogCullDistSq=null);const b=f+.78*(v-f);this.transform.fogCullDistSq=b*b}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(s,d){if(this.width=s*i.exported.devicePixelRatio,this.height=d*i.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style.order)this.style._layers[f].resize()}setup(){const s=this.context,d=new i.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(i.EXTENT,0),d.emplaceBack(0,i.EXTENT),d.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=s.createVertexBuffer(d,i.posAttributes.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);const f=new i.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(i.EXTENT,0),f.emplaceBack(0,i.EXTENT),f.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=s.createVertexBuffer(f,i.posAttributes.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);const v=new i.StructArrayLayout2i4;v.emplaceBack(-1,-1),v.emplaceBack(1,-1),v.emplaceBack(-1,1),v.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(v,i.posAttributes.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);const b=new i.StructArrayLayout4i8;b.emplaceBack(0,0,0,0),b.emplaceBack(i.EXTENT,0,i.EXTENT,0),b.emplaceBack(0,i.EXTENT,0,i.EXTENT),b.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.mercatorBoundsBuffer=s.createVertexBuffer(b,i.boundsAttributes.members),this.mercatorBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);const S=new i.StructArrayLayout3ui6;S.emplaceBack(0,1,2),S.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(S);const P=new i.StructArrayLayout1ui2;for(const L of[0,1,3,2,0])P.emplaceBack(L);this.debugIndexBuffer=s.createIndexBuffer(P),this.emptyTexture=new i.Texture(s,new i.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),s.gl.RGBA),this.identityMat=i.create();const M=this.context.gl;this.stencilClearMode=new i.StencilMode({func:M.ALWAYS,mask:0},0,255,M.ZERO,M.ZERO,M.ZERO),this.loadTimeStamps.push(i.window.performance.now()),this.atmosphereBuffer=new s0(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(s){return s._makeTileBoundsBuffers(this.context,this.transform.projection),s._tileBoundsBuffer?{tileBoundsBuffer:s._tileBoundsBuffer,tileBoundsIndexBuffer:s._tileBoundsIndexBuffer,tileBoundsSegments:s._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const s=this.context,d=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(s,d.TRIANGLES,i.DepthMode.disabled,this.stencilClearMode,i.ColorMode.disabled,i.CullFaceMode.disabled,vc(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(s,d,f){if(!d||this.currentStencilSource===d.id||!s.isTileClipped()||!f||f.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let P=!1;for(const M of f)if(this._tileClippingMaskIDs[M.key]===void 0){P=!0;break}if(!P)return}this.currentStencilSource=d.id;const v=this.context,b=v.gl;this.nextStencilID+f.length>256&&this.clearStencil(),v.setColorMode(i.ColorMode.disabled),v.setDepthMode(i.DepthMode.disabled);const S=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const P of f){const M=d.getTile(P),L=this._tileClippingMaskIDs[P.key]=this.nextStencilID++,{tileBoundsBuffer:R,tileBoundsIndexBuffer:O,tileBoundsSegments:Y}=this.getTileBoundsBuffers(M);S.draw(v,b.TRIANGLES,i.DepthMode.disabled,new i.StencilMode({func:b.ALWAYS,mask:0},L,255,b.KEEP,b.KEEP,b.REPLACE),i.ColorMode.disabled,i.CullFaceMode.disabled,vc(P.projMatrix),"$clipping",R,O,Y)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,d=this.context.gl;return new i.StencilMode({func:d.NOTEQUAL,mask:255},s,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(s){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(s);const d=this.context.gl;return new i.StencilMode({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(s){const d=this.context.gl,f=s.sort((S,P)=>P.overscaledZ-S.overscaledZ),v=f[f.length-1].overscaledZ,b=f[0].overscaledZ-v+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const S={};for(let P=0;P<b;P++)S[P+v]=new i.StencilMode({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=b,[S,f]}return[{[v]:i.StencilMode.disabled},f]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new i.ColorMode([s.CONSTANT_COLOR,s.ONE],new i.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?i.ColorMode.unblended:i.ColorMode.alphaBlended}depthModeForSublayer(s,d,f){if(!this.opaquePassEnabledForLayer())return i.DepthMode.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new i.DepthMode(f||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,d){this.style=s,this.options=d,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(i.exported.now()),this.imageManager.beginFrame();const f=this.style.order,v=this.style._sourceCaches;for(const L in v){const R=v[L];R.used&&R.prepare(this.context)}const b={},S={},P={};for(const L in v){const R=v[L];b[L]=R.getVisibleCoordinates(),S[L]=b[L].slice().reverse(),P[L]=R.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let L=0;L<f.length;L++)if(this.style._layers[f[L]].is3D()){this.opaquePassCutoff=L;break}if(this.terrain&&(this.terrain.updateTileBinding(P),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new i.GlobeSharedBuffers(this.context)),!i.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const L of f){const R=this.style._layers[L],O=s._getLayerSourceCache(R);if(!R.hasOffscreenPass()||R.isHidden(this.transform.zoom))continue;const Y=O?S[O.id]:void 0;(R.type==="custom"||R.isSky()||Y&&Y.length)&&this.renderLayer(this,O,R,Y)}this.depthRangeFor3D=[0,1-(s.order.length+2)*this.numSublayers*this.depthEpsilon];const M=this.terrain;if(M&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&M.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:d.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const L=this.style._layers[f[this.currentLayer]],R=s._getLayerSourceCache(L);if(L.isSky())continue;const O=R?S[R.id]:void 0;this._renderTileClippingMasks(L,R,O),this.renderLayer(this,R,L,O)}if(this.style.fog&&this.transform.projection.supportsFog&&function(L,R){const O=L.context,Y=O.gl,nt=L.transform,at=new i.DepthMode(Y.LEQUAL,i.DepthMode.ReadOnly,[0,1]),ot=L.useProgram("globeAtmosphere",null,nt.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),rt=i.globeToMercatorTransition(nt.zoom),U=R.properties.get("color").toArray01(),et=R.properties.get("high-color").toArray01(),lt=R.properties.get("space-color").toArray01PremultipliedAlpha(),ut=i.identity$1([]);i.rotateY$1(ut,ut,-i.degToRad(nt._center.lng)),i.rotateX$1(ut,ut,i.degToRad(nt._center.lat)),i.rotateZ$1(ut,ut,nt.angle),i.rotateX$1(ut,ut,-nt._pitch);const yt=i.fromQuat(new Float32Array(16),ut),bt=i.mapValue(R.properties.get("star-intensity"),0,1,0,.25),_t=5e-4,Tt=i.mapValue(R.properties.get("horizon-blend"),0,1,_t,.25),At=i.globeUseCustomAntiAliasing(L,O,nt)&&Tt===_t?nt.worldSize/(2*Math.PI*1.025)-1:nt.globeRadius,Nt=L.frameCounter/1e3%1,Qt=i.length(nt.globeCenterInViewSpace),Mt=Math.sqrt(Math.pow(Qt,2)-Math.pow(At,2)),qt=Math.acos(Mt/Qt),Rt=((Bt,Gt,te,Xt,ee,Se,Re,_e,Me,tn,Ye,Ae,yn,wn)=>({u_frustum_tl:Bt,u_frustum_tr:Gt,u_frustum_br:te,u_frustum_bl:Xt,u_horizon:ee,u_transition:Se,u_fadeout_range:Re,u_color:_e,u_high_color:Me,u_space_color:tn,u_star_intensity:Ye,u_star_size:5*i.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Ae,u_horizon_angle:yn,u_rotation_matrix:wn}))(nt.frustumCorners.TL,nt.frustumCorners.TR,nt.frustumCorners.BR,nt.frustumCorners.BL,nt.frustumCorners.horizon,rt,Tt,U,et,lt,bt,Nt,qt,yt);L.prepareDrawProgram(O,ot);const Yt=L.atmosphereBuffer;Yt&&ot.draw(O,Y.TRIANGLES,at,i.StencilMode.disabled,i.ColorMode.alphaBlended,i.CullFaceMode.backCW,Rt,"skybox",Yt.vertexBuffer,Yt.indexBuffer,Yt.segments)}(this,this.style.fog),this.renderPass="sky",(i.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const L=this.style._layers[f[this.currentLayer]],R=s._getLayerSourceCache(L);L.isSky()&&this.renderLayer(this,R,L,R?S[R.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;){const L=this.style._layers[f[this.currentLayer]],R=s._getLayerSourceCache(L);if(L.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(L)){if(L.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const O=R?(L.type==="symbol"?P:S)[R.id]:void 0;this._renderTileClippingMasks(L,R,R?b[R.id]:void 0),this.renderLayer(this,R,L,O),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let L=null;i.values(this.style._layers).forEach(R=>{const O=s._getLayerSourceCache(R);O&&!R.isHidden(this.transform.zoom)&&(!L||L.getSource().maxzoom<O.getSource().maxzoom)&&(L=O)}),L&&this.options.showTileBoundaries&&vi.debug(this,L,L.getVisibleCoordinates())}this.options.showPadding&&function(L){const R=L.transform.padding;o0(L,L.transform.height-(R.top||0),3,tl),o0(L,R.bottom||0,3,q2),Ld(L,R.left||0,3,W2),Ld(L,L.transform.width-(R.right||0),3,H2);const O=L.transform.centerPoint;(function(Y,nt,at,ot){el(Y,nt-1,at-10,2,20,ot),el(Y,nt-10,at-1,20,2,ot)})(L,O.x,L.transform.height-O.y,Z2)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(i.window.performance.now()),this.saveCanvasCopy())}renderLayer(s,d,f,v){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="sky"||f.type==="custom"||v&&v.length)&&(this.id=f.id,this.gpuTimingStart(f),(!s.transform.projection.unsupportedLayers||!s.transform.projection.unsupportedLayers.includes(f.type)||s.terrain&&f.type==="custom")&&vi[f.type](s,d,f,v,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(s){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;let f=this.gpuTimers[s.id];f||(f=this.gpuTimers[s.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),f.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,f.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const s=this.context.extTimerQuery,d=s.createQueryEXT();this.deferredRenderGpuTimeQueries.push(d),s.beginQueryEXT(s.TIME_ELAPSED_EXT,d)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const s=this.context.extTimerQuery;s.endQueryEXT(s.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const s=this.context.extTimerQuery;s.endQueryEXT(s.TIME_ELAPSED_EXT)}collectGpuTimers(){const s=this.gpuTimers;return this.gpuTimers={},s}collectDeferredRenderGpuQueries(){const s=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],s}queryGpuTimers(s){const d={};for(const f in s){const v=s[f],b=this.context.extTimerQuery,S=b.getQueryObjectEXT(v.query,b.QUERY_RESULT_EXT)/1e6;b.deleteQueryEXT(v.query),d[f]=S}return d}queryGpuTimeDeferredRender(s){if(!this.options.gpuTimingDeferredRender)return 0;const d=this.context.extTimerQuery;let f=0;for(const v of s)f+=d.getQueryObjectEXT(v,d.QUERY_RESULT_EXT)/1e6,d.deleteQueryEXT(v);return f}translatePosMatrix(s,d,f,v,b){if(!f[0]&&!f[1])return s;const S=b?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(S){const L=Math.sin(S),R=Math.cos(S);f=[f[0]*R-f[1]*L,f[0]*L+f[1]*R]}const P=[b?f[0]:Ce(d,f[0],this.transform.zoom),b?f[1]:Ce(d,f[1],this.transform.zoom),0],M=new Float32Array(16);return i.translate(M,s,P),M}saveTileTexture(s){const d=this._tileTextures[s.size[0]];d?d.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const d=this._tileTextures[s];return d&&d.length>0?d.pop():null}isPatternMissing(s){return s===null||s!==void 0&&!this.imageManager.getPattern(s.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const s=this.terrain&&this.terrain.renderingToTexture,d=this.terrain&&this.terrain.exaggeration()===0,f=this.style&&this.style.fog,v=[];return this.terrainRenderModeElevated()&&v.push("TERRAIN"),this.transform.projection.name==="globe"&&v.push("GLOBE"),d&&v.push("ZERO_EXAGGERATION"),f&&!s&&f.getOpacity(this.transform.pitch)!==0&&v.push("FOG"),s&&v.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&v.push("OVERDRAW_INSPECTOR"),v}useProgram(s,d,f){this.cache=this.cache||{};const v=f||[],b=this.currentGlobalDefines().concat(v),S=sn.cacheKey(Wp[s],s,b,d);return this.cache[S]||(this.cache[S]=new sn(this.context,s,Wp[s],d,lm[s],b)),this.cache[S]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(s,d,f){if(this.terrain&&this.terrain.renderingToTexture)return;const v=this.style.fog;if(v){const b=v.getOpacity(this.transform.pitch),S=((P,M,L,R,O,Y,nt,at,ot,rt,U)=>{const et=P.transform,lt=M.properties.get("color").toArray01();lt[3]=R;const ut=P.frameCounter/1e3%1;return{u_fog_matrix:L?et.calculateFogTileMatrix(L):P.identityMat,u_fog_range:M.getFovAdjustedRange(et._fov),u_fog_color:lt,u_fog_horizon_blend:M.properties.get("horizon-blend"),u_fog_temporal_offset:ut,u_frustum_tl:O,u_frustum_tr:Y,u_frustum_br:nt,u_frustum_bl:at,u_globe_pos:ot,u_globe_radius:rt,u_viewport:U,u_globe_transition:i.globeToMercatorTransition(et.zoom),u_is_globe:+(et.projection.name==="globe")}})(this,v,f,b,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*i.exported.devicePixelRatio,this.transform.height*i.exported.devicePixelRatio]);d.setFogUniformValues(s,S)}}setTileLoadedFlag(s){this.tileLoaded=s}saveCanvasCopy(){const s=this.canvasCopy();s&&(this.frameCopies.push(s),this.tileLoaded=!1)}canvasCopy(){const s=this.context.gl,d=s.createTexture();return s.bindTexture(s.TEXTURE_2D,d),s.copyTexImage2D(s.TEXTURE_2D,0,s.RGBA,0,0,s.drawingBufferWidth,s.drawingBufferHeight,0),d}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const s=this.style&&this.style.fog;return!!s&&s.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const s=this._backgroundTiles,d=this._backgroundTiles={},f=this.transform.coveringTiles({tileSize:512});for(const v of f)d[v.key]=s[v.key]||new i.Tile(v,512,this.transform.tileZoom,this);return d}clearBackgroundTiles(){this._backgroundTiles={}}}class jd{constructor(s=0,d=0,f=0,v=0){if(isNaN(s)||s<0||isNaN(d)||d<0||isNaN(f)||f<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=d,this.left=f,this.right=v}interpolate(s,d,f){return d.top!=null&&s.top!=null&&(this.top=i.number(s.top,d.top,f)),d.bottom!=null&&s.bottom!=null&&(this.bottom=i.number(s.bottom,d.bottom,f)),d.left!=null&&s.left!=null&&(this.left=i.number(s.left,d.left,f)),d.right!=null&&s.right!=null&&(this.right=i.number(s.right,d.right,f)),this}getCenter(s,d){const f=i.clamp((this.left+s-this.right)/2,0,s),v=i.clamp((this.top+d-this.bottom)/2,0,d);return new i.Point(f,v)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new jd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Od(m,s){const d=i.getColumn(m,3);i.fromQuat(m,s),i.setColumn(m,3,d)}function dn(m,s){const d=i.identity$1([]);return i.rotateZ$1(d,d,-s),i.rotateX$1(d,d,-m),d}function Tc(m,s){const d=[m[0],m[1],0],f=[s[0],s[1],0];if(i.length(d)>=1e-15){const S=i.normalize([],d);i.scale$2(f,S,i.dot(f,S)),s[0]=f[0],s[1]=f[1]}const v=i.cross([],s,m);if(i.len(v)<1e-15)return null;const b=Math.atan2(-v[1],v[0]);return dn(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),b)}class i0{constructor(s,d){this.position=s,this.orientation=d}get position(){return this._position}set position(s){if(s){const d=s instanceof i.MercatorCoordinate?s:new i.MercatorCoordinate(s[0],s[1],s[2]);this._renderWorldCopies&&(d.x=i.wrap(d.x,0,1)),this._position=d}else this._position=null}lookAtPoint(s,d){if(this.orientation=null,!this.position)return;const f=this.position,v=this._elevation?this._elevation.getAtPointOrZero(i.MercatorCoordinate.fromLngLat(s)):0,b=i.MercatorCoordinate.fromLngLat(s,v),S=[b.x-f.x,b.y-f.y,b.z-f.z];d||(d=[0,0,1]),d[2]=Math.abs(d[2]),this.orientation=Tc(S,d)}setPitchBearing(s,d){this.orientation=dn(i.degToRad(s),i.degToRad(-d))}}class Vd{constructor(s,d){this._transform=i.identity([]),this.orientation=d,this.position=s}get mercatorPosition(){const s=this.position;return new i.MercatorCoordinate(s[0],s[1],s[2])}get position(){const s=i.getColumn(this._transform,3);return[s[0],s[1],s[2]]}set position(s){var d;s&&i.setColumn(this._transform,3,[(d=s)[0],d[1],d[2],1])}get orientation(){return this._orientation}set orientation(s){this._orientation=s||i.identity$1([]),s&&Od(this._transform,this._orientation)}getPitchBearing(){const s=this.forward(),d=this.right();return{bearing:Math.atan2(-d[1],d[0]),pitch:Math.atan2(Math.sqrt(s[0]*s[0]+s[1]*s[1]),-s[2])}}setPitchBearing(s,d){this._orientation=dn(s,d),Od(this._transform,this._orientation)}forward(){const s=i.getColumn(this._transform,2);return[-s[0],-s[1],-s[2]]}up(){const s=i.getColumn(this._transform,1);return[-s[0],-s[1],-s[2]]}right(){const s=i.getColumn(this._transform,0);return[s[0],s[1],s[2]]}getCameraToWorld(s,d){const f=new Float64Array(16);return i.invert(f,this.getWorldToCamera(s,d)),f}getWorldToCameraPosition(s,d,f){const v=this.position;i.scale$2(v,v,-s);const b=new Float64Array(16);return i.fromScaling(b,[f,f,f]),i.translate(b,b,v),b[10]*=d,b}getWorldToCamera(s,d){const f=new Float64Array(16),v=new Float64Array(4),b=this.position;return i.conjugate(v,this._orientation),i.scale$2(b,b,-s),i.fromQuat(f,v),i.translate(f,f,b),f[1]*=-1,f[5]*=-1,f[9]*=-1,f[13]*=-1,f[8]*=d,f[9]*=d,f[10]*=d,f[11]*=d,f}getCameraToClipPerspective(s,d,f,v){const b=new Float64Array(16);return i.perspective(b,s,d,f,v),b}getDistanceToElevation(s,d=!1){const f=s===0?0:i.mercatorZfromAltitude(s,d?i.latFromMercatorY(this.position[1]):this.position[1]),v=this.forward();return(f-this.position[2])/v[2]}clone(){return new Vd([...this.position],[...this.orientation])}}function ol(m,s){const d=Ud(m.projection,m.zoom,m.width,m.height),f=function(b,S,P,M,L){const R=new i.LngLat(P.lng-180*ss,P.lat),O=new i.LngLat(P.lng+180*ss,P.lat),Y=b.project(R.lng,R.lat),nt=b.project(O.lng,O.lat),at=-Math.atan2(nt.y-Y.y,nt.x-Y.x),ot=i.MercatorCoordinate.fromLngLat(P);ot.y=i.clamp(ot.y,-1+ss,1-ss);const rt=ot.toLngLat(),U=b.project(rt.lng,rt.lat),et=i.MercatorCoordinate.fromLngLat(rt);et.x+=ss;const lt=et.toLngLat(),ut=b.project(lt.lng,lt.lat),yt=$d(ut.x-U.x,ut.y-U.y,at),bt=i.MercatorCoordinate.fromLngLat(rt);bt.y+=ss;const _t=bt.toLngLat(),Tt=b.project(_t.lng,_t.lat),At=$d(Tt.x-U.x,Tt.y-U.y,at),Nt=Math.abs(yt.x)/Math.abs(At.y),Qt=i.identity([]);i.rotateZ(Qt,Qt,-at*(1-(L?0:M)));const Mt=i.identity([]);return i.scale(Mt,Mt,[1,1-(1-Nt)*M,1]),Mt[4]=-At.x/At.y*M,i.rotateZ(Mt,Mt,at),i.multiply(Mt,Qt,Mt),Mt}(m.projection,0,m.center,d,s),v=l0(m);return i.scale(f,f,[v,v,1]),f}function l0(m){const s=m.projection,d=Ud(m.projection,m.zoom,m.width,m.height),f=c0(s,m.center),v=c0(s,i.LngLat.convert(s.center));return Math.pow(2,f*d+(1-d)*v)}function Ud(m,s,d,f,v=1/0){const b=m.range;if(!b)return 0;const S=Math.min(v,Math.max(d,f)),P=Math.log(S/1024)/Math.LN2;return i.smoothstep(b[0]+P,b[1]+P,s)}const ss=1/4e4;function c0(m,s){const d=i.clamp(s.lat,-i.MAX_MERCATOR_LATITUDE,i.MAX_MERCATOR_LATITUDE),f=new i.LngLat(s.lng-180*ss,d),v=new i.LngLat(s.lng+180*ss,d),b=m.project(f.lng,d),S=m.project(v.lng,d),P=i.MercatorCoordinate.fromLngLat(f),M=i.MercatorCoordinate.fromLngLat(v),L=S.x-b.x,R=S.y-b.y,O=M.x-P.x,Y=M.y-P.y,nt=Math.sqrt((O*O+Y*Y)/(L*L+R*R));return Math.log(nt)/Math.LN2}function $d(m,s,d){const f=Math.cos(d),v=Math.sin(d);return{x:m*f-s*v,y:m*v+s*f}}class al{constructor(s,d,f,v,b,S,P){this.tileSize=512,this._renderWorldCopies=b===void 0||b,this._minZoom=s||0,this._maxZoom=d||22,this._minPitch=f??0,this._maxPitch=v??60,this.setProjection(S),this.setMaxBounds(P),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new jd,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vd,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const s=new al(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return s._elevation=this._elevation,s._centerAltitude=this._centerAltitude,s._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,s.tileSize=this.tileSize,s.mercatorFromTransition=this.mercatorFromTransition,s.width=this.width,s.height=this.height,s.cameraElevationReference=this.cameraElevationReference,s._center=this._center,s._setZoom(this.zoom),s._seaLevelZoom=this._seaLevelZoom,s.angle=this.angle,s._fov=this._fov,s._pitch=this._pitch,s._nearZ=this._nearZ,s._farZ=this._farZ,s._averageElevation=this._averageElevation,s._unmodified=this._unmodified,s._edgeInsets=this._edgeInsets.clone(),s._camera=this._camera.clone(),s._calcMatrices(),s.freezeTileCoverage=this.freezeTileCoverage,s.frustumCorners=this.frustumCorners,s}get elevation(){return this._elevation}set elevation(s){this._elevation!==s&&(this._elevation=s,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(s,d=!1){const f=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||f)&&this._updateCameraOnTerrain(),(s||f)&&this._constrainCamera(d),this._calcMatrices()}getProjection(){return i.pick(this.projection,["name","center","parallels"])}setProjection(s){this.projectionOptions=s||{name:"mercator"};const d=this.projection?this.getProjection():void 0;this.projection=i.getProjection(this.projectionOptions);const f=!E(d,this.getProjection());return f&&this._calcMatrices(),this.mercatorFromTransition=!1,f}setMercatorFromTransition(){const s=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=i.getProjection({name:"mercator"});const d=s!==this.projection.name;return d&&this._calcMatrices(),d}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const s=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(s))}get cameraWorldSize(){const s=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(s))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return i.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new i.Point(this.width,this.height)}get bearing(){return i.wrap(this.rotation,-180,180)}set bearing(s){this.rotation=s}get rotation(){return-this.angle/Math.PI*180}set rotation(s){const d=-s*Math.PI/180;var f;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(f=new i.ARRAY_TYPE(4),i.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f),function(v,b,S){var P=b[0],M=b[1],L=b[2],R=b[3],O=Math.sin(S),Y=Math.cos(S);v[0]=P*Y+L*O,v[1]=M*Y+R*O,v[2]=P*-O+L*Y,v[3]=M*-O+R*Y}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){const d=i.clamp(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const s=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/s)}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=i.degToRad(s),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(s){this._averageElevation=s,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(s){const d=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._setZoom(d),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(s){this._zoom=s,this.scale=this.zoomScale(s),this.tileZoom=Math.floor(s),this.zoomFraction=s-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const s=this._elevation;this._centerAltitude=s.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=s.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const s=this._elevation,d=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],f=this.horizonLineFromTop();let v=0,b=0;for(let S=0;S<d.length;S++){const P=new i.Point(d[S][0]*this.width,f+d[S][1]*(this.height-f)),M=s.pointCoordinate(P);if(!M)continue;const L=1/Math.hypot(M[0]-this._camera.position[0],M[1]-this._camera.position[1]);v+=M[3]*L,b+=L}return b===0?NaN:v/b}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const s=this._seaLevelZoom,d=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),f=this.pixelsPerMeter/this.worldSize*d,v=this._mercatorZfromZoom(s),b=this._mercatorZfromZoom(this._maxZoom),S=Math.max(v-f,b);this._setZoom(this._zoomFromMercatorZ(S))}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}computeZoomRelativeTo(s){const d=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,s.toAltitude()));let f;f=s.z<this._camera.position[2]?[d.x,d.y,d.z]:[s.x,s.y,s.z];const v=i.length(i.sub([],this._camera.position,f));return i.clamp(this._zoomFromMercatorZ(v),this._minZoom,this._maxZoom)}setFreeCameraOptions(s){if(!this.height||!s.position&&!s.orientation)return;this._updateCameraState();let d=!1;if(s.orientation&&!i.exactEquals(s.orientation,this._camera.orientation)&&(d=this._setCameraOrientation(s.orientation)),s.position){const f=[s.position.x,s.position.y,s.position.z];i.exactEquals$1(f,this._camera.position)||(this._setCameraPosition(f),d=!0)}d&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const s=this._camera.position,d=new i0;return d.position=new i.MercatorCoordinate(s[0],s[1],s[2]),d.orientation=this._camera.orientation,d._elevation=this.elevation,d._renderWorldCopies=this.renderWorldCopies,d}_setCameraOrientation(s){if(!i.length$1(s))return!1;i.normalize$1(s,s);const d=i.transformQuat([],[0,0,-1],s),f=i.transformQuat([],[0,-1,0],s);if(f[2]<0)return!1;const v=Tc(d,f);return!!v&&(this._camera.orientation=v,!0)}_setCameraPosition(s){const d=this.zoomScale(this.minZoom)*this.tileSize,f=this.zoomScale(this.maxZoom)*this.tileSize,v=this.cameraToCenterDistance;s[2]=i.clamp(s[2],v/f,v/d),this._camera.position=s}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,d,f){this._unmodified=!1,this._edgeInsets.interpolate(s,d,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){const d=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(s){const d=[new i.UnwrappedTileID(0,s)];if(this.renderWorldCopies){const f=this.pointCoordinate(new i.Point(0,0)),v=this.pointCoordinate(new i.Point(this.width,0)),b=this.pointCoordinate(new i.Point(this.width,this.height)),S=this.pointCoordinate(new i.Point(0,this.height)),P=Math.floor(Math.min(f.x,v.x,b.x,S.x)),M=Math.floor(Math.max(f.x,v.x,b.x,S.x)),L=1;for(let R=P-L;R<=M+L;R++)R!==0&&d.push(new i.UnwrappedTileID(R,s))}return d}coveringTiles(s){let d=this.coveringZoomLevel(s);const f=d,v=this.elevation&&!s.isTerrainDEM,b=this.projection.name==="mercator";if(s.minzoom!==void 0&&d<s.minzoom)return[];s.maxzoom!==void 0&&d>s.maxzoom&&(d=s.maxzoom);const S=this.locationCoordinate(this.center),P=this.center.lat,M=1<<d,L=[M*S.x,M*S.y,0],R=this.projection.name==="globe",O=!R,Y=i.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,O),nt=R?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),at=M*i.mercatorZfromAltitude(1,this.center.lat),ot=this._camera.position[2]/i.mercatorZfromAltitude(1,this.center.lat),rt=[M*nt.x,M*nt.y,ot*(O?1:at)],U=this.cameraToCenterDistance/s.tileSize*(s.roundZoom?1:.502),et=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?d:0,lt=s.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,ut=s.isTerrainDEM?-lt:this._elevation?this._elevation.getMinElevationBelowMSL():0,yt=this.projection.isReprojectedInTileSpace?l0(this):1,bt=Bt=>{const te=new i.MercatorCoordinate(Bt.x+25e-6,Bt.y,Bt.z),Xt=new i.MercatorCoordinate(Bt.x,Bt.y+25e-6,Bt.z),ee=Bt.toLngLat(),Se=te.toLngLat(),Re=Xt.toLngLat(),_e=this.locationCoordinate(ee),Me=this.locationCoordinate(Se),tn=this.locationCoordinate(Re),Ye=Math.hypot(Me.x-_e.x,Me.y-_e.y),Ae=Math.hypot(tn.x-_e.x,tn.y-_e.y);return Math.sqrt(Ye*Ae)*yt/25e-6},_t=Bt=>{const Gt=lt,te=ut;return{aabb:i.tileAABB(this,M,0,0,0,Bt,te,Gt,this.projection),zoom:0,x:0,y:0,minZ:te,maxZ:Gt,wrap:Bt,fullyVisible:!1}},Tt=[];let At=[];const Nt=d,Qt=s.reparseOverscaled?f:d,Mt=Bt=>Bt*Bt,qt=Mt((ot-this._centerAltitude)*at),Rt=Bt=>{if(!this._elevation||!Bt.tileID||!b)return;const Gt=this._elevation.getMinMaxForTile(Bt.tileID),te=Bt.aabb;Gt?(te.min[2]=Gt.min,te.max[2]=Gt.max,te.center[2]=(te.min[2]+te.max[2])/2):(Bt.shouldSplit=Yt(Bt),Bt.shouldSplit||(te.min[2]=te.max[2]=te.center[2]=this._centerAltitude))},Yt=Bt=>{if(Bt.zoom<et)return!0;if(Bt.zoom===Nt)return!1;if(Bt.shouldSplit!=null)return Bt.shouldSplit;const Gt=Bt.aabb.distanceX(rt),te=Bt.aabb.distanceY(rt);let Xt=qt,ee=1;if(R){Xt=Mt(Bt.aabb.distanceZ(rt));const _e=Math.pow(2,Bt.zoom),Me=i.latFromMercatorY((Bt.y+1)/_e),tn=i.latFromMercatorY(Bt.y/_e),Ye=Math.min(Math.max(P,Me),tn),Ae=i.circumferenceAtLatitude(Ye)/i.circumferenceAtLatitude(P);if(ee=Ye===P?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ae/this._mercatorScaleRatio),this.zoom<=i.GLOBE_ZOOM_THRESHOLD_MIN&&Bt.zoom===Nt-1&&Ae>=.9)return!0}else if(v&&(Xt=Mt(Bt.aabb.distanceZ(rt)*at)),this.projection.isReprojectedInTileSpace&&f<=5){const _e=Math.pow(2,Bt.zoom),Me=bt(new i.MercatorCoordinate((Bt.x+.5)/_e,(Bt.y+.5)/_e));ee=Me>.85?1:Me}const Se=Gt*Gt+te*te+Xt,Re=Mt((1<<Nt-Bt.zoom)*U*ee*((_e,Me)=>{if(Me*Mt(.707)<_e)return 1;const tn=Math.sqrt(Me/_e);return tn/(1.4144271570014144+(Math.pow(1.1,tn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Xt,qt),Se));return Se<Re};if(this.renderWorldCopies)for(let Bt=1;Bt<=3;Bt++)Tt.push(_t(-Bt)),Tt.push(_t(Bt));for(Tt.push(_t(0));Tt.length>0;){const Bt=Tt.pop(),Gt=Bt.x,te=Bt.y;let Xt=Bt.fullyVisible;if(!Xt){const ee=Bt.aabb.intersects(Y);if(ee===0)continue;Xt=ee===2}if(Bt.zoom!==Nt&&Yt(Bt))for(let ee=0;ee<4;ee++){const Se=(Gt<<1)+ee%2,Re=(te<<1)+(ee>>1),_e={aabb:b?Bt.aabb.quadrant(ee):i.tileAABB(this,M,Bt.zoom+1,Se,Re,Bt.wrap,Bt.minZ,Bt.maxZ,this.projection),zoom:Bt.zoom+1,x:Se,y:Re,wrap:Bt.wrap,fullyVisible:Xt,tileID:void 0,shouldSplit:void 0,minZ:Bt.minZ,maxZ:Bt.maxZ};v&&!R&&(_e.tileID=new i.OverscaledTileID(Bt.zoom+1===Nt?Qt:Bt.zoom+1,Bt.wrap,Bt.zoom+1,Se,Re),Rt(_e)),Tt.push(_e)}else{const ee=Bt.zoom===Nt?Qt:Bt.zoom;if(s.minzoom&&s.minzoom>ee)continue;const Se=L[0]-(.5+Gt+(Bt.wrap<<Bt.zoom))*(1<<d-Bt.zoom),Re=L[1]-.5-te,_e=Bt.tileID?Bt.tileID:new i.OverscaledTileID(ee,Bt.wrap,Bt.zoom,Gt,te);At.push({tileID:_e,distanceSq:Se*Se+Re*Re})}}if(this.fogCullDistSq){const Bt=this.fogCullDistSq,Gt=this.horizonLineFromTop();At=At.filter(te=>{const Xt=[0,0,0,1],ee=[i.EXTENT,i.EXTENT,0,1],Se=this.calculateFogTileMatrix(te.tileID.toUnwrapped());i.transformMat4$1(Xt,Xt,Se),i.transformMat4$1(ee,ee,Se);const Re=i.getAABBPointSquareDist(Xt,ee);if(Re===0)return!0;let _e=!1;const Me=this._elevation;if(Me&&Re>Bt&&Gt!==0){const tn=this.calculateProjMatrix(te.tileID.toUnwrapped());let Ye;s.isTerrainDEM||(Ye=Me.getMinMaxForTile(te.tileID)),Ye||(Ye={min:ut,max:lt});const Ae=i.furthestTileCorner(this.rotation),yn=[Ae[0]*i.EXTENT,Ae[1]*i.EXTENT,Ye.max];i.transformMat4(yn,yn,tn),_e=(1-yn[1])*this.height*.5<Gt}return Re<Bt||_e})}return At.sort((Bt,Gt)=>Bt.distanceSq-Gt.distanceSq).map(Bt=>Bt.tileID)}resize(s,d){this.width=s,this.height=d,this.pixelsToGLUnits=[2/s,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){const d=i.clamp(s.lat,-i.MAX_MERCATOR_LATITUDE,i.MAX_MERCATOR_LATITUDE),f=this.projection.project(s.lng,d);return new i.Point(f.x*this.worldSize,f.y*this.worldSize)}unproject(s){return this.projection.unproject(s.x/this.worldSize,s.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/i.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(s,d){let f,v;const b=this.centerPoint;if(this.projection.name==="globe"){const P=this.worldSize;f=(d.x-b.x)/P,v=(d.y-b.y)/P}else{const P=this.pointCoordinate(d),M=this.pointCoordinate(b);f=P.x-M.x,v=P.y-M.y}const S=this.locationCoordinate(s);this.setLocation(new i.MercatorCoordinate(S.x-f,S.y-v))}setLocation(s){this.center=this.coordinateLocation(s),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(s){return this.projection.locationPoint(this,s)}locationPoint3D(s){return this.projection.locationPoint(this,s,!0)}pointLocation(s){return this.coordinateLocation(this.pointCoordinate(s))}pointLocation3D(s){return this.coordinateLocation(this.pointCoordinate3D(s))}locationCoordinate(s,d){const f=d?i.mercatorZfromAltitude(d,s.lat):void 0,v=this.projection.project(s.lng,s.lat);return new i.MercatorCoordinate(v.x,v.y,f)}coordinateLocation(s){return this.projection.unproject(s.x,s.y)}pointRayIntersection(s,d){const f=d??this._centerAltitude,v=[s.x,s.y,0,1],b=[s.x,s.y,1,1];i.transformMat4$1(v,v,this.pixelMatrixInverse),i.transformMat4$1(b,b,this.pixelMatrixInverse);const S=b[3];i.scale$1(v,v,1/v[3]),i.scale$1(b,b,1/S);const P=v[2],M=b[2];return{p0:v,p1:b,t:P===M?0:(f-P)/(M-P)}}screenPointToMercatorRay(s){const d=[s.x,s.y,0,1],f=[s.x,s.y,1,1];return i.transformMat4$1(d,d,this.pixelMatrixInverse),i.transformMat4$1(f,f,this.pixelMatrixInverse),i.scale$1(d,d,1/d[3]),i.scale$1(f,f,1/f[3]),d[2]=i.mercatorZfromAltitude(d[2],this._center.lat)*this.worldSize,f[2]=i.mercatorZfromAltitude(f[2],this._center.lat)*this.worldSize,i.scale$1(d,d,1/this.worldSize),i.scale$1(f,f,1/this.worldSize),new i.Ray([d[0],d[1],d[2]],i.normalize([],i.sub([],f,d)))}rayIntersectionCoordinate(s){const{p0:d,p1:f,t:v}=s,b=i.mercatorZfromAltitude(d[2],this._center.lat),S=i.mercatorZfromAltitude(f[2],this._center.lat);return new i.MercatorCoordinate(i.number(d[0],f[0],v)/this.worldSize,i.number(d[1],f[1],v)/this.worldSize,i.number(b,S,v))}pointCoordinate(s,d=this._centerAltitude){return this.projection.pointCoordinate(this,s.x,s.y,d)}pointCoordinate3D(s){if(!this.elevation)return this.pointCoordinate(s);let d=this.projection.pointCoordinate3D(this,s.x,s.y);if(d)return new i.MercatorCoordinate(d[0],d[1],d[2]);let f=0,v=this.horizonLineFromTop();if(s.y>v)return this.pointCoordinate(s);const b=.02*v,S=s.clone();for(let P=0;P<10&&v-f>b;P++){S.y=i.number(f,v,.66);const M=this.projection.pointCoordinate3D(this,S.x,S.y);M?(v=S.y,d=M):f=S.y}return d?new i.MercatorCoordinate(d[0],d[1],d[2]):this.pointCoordinate(s)}isPointAboveHorizon(s){return this.projection.isPointAboveHorizon(this,s)}isPointOnSurface(s){if(s.y<0||s.y>this.height||s.x<0||s.x>this.width)return!1;if(this.elevation||this.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(s);const d=this.pointCoordinate(s);return d.y>=0&&d.y<=1}_coordinatePoint(s,d){const f=d&&this.elevation?this.elevation.getAtPointOrZero(s,this._centerAltitude):this._centerAltitude,v=[s.x*this.worldSize,s.y*this.worldSize,f+s.toAltitude(),1];return i.transformMat4$1(v,v,this.pixelMatrix),v[3]>0?new i.Point(v[0]/v[3],v[1]/v[3]):new i.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:s,left:d}=this._edgeInsets,f=this.height-this._edgeInsets.bottom,v=this.width-this._edgeInsets.right,b=this.pointLocation3D(new i.Point(d,s)),S=this.pointLocation3D(new i.Point(v,s)),P=this.pointLocation3D(new i.Point(v,f)),M=this.pointLocation3D(new i.Point(d,f));let L=Math.min(b.lng,S.lng,P.lng,M.lng),R=Math.max(b.lng,S.lng,P.lng,M.lng),O=Math.min(b.lat,S.lat,P.lat,M.lat),Y=Math.max(b.lat,S.lat,P.lat,M.lat);const nt=Math.pow(2,-this.zoom)/16*270,at=this.projection.name==="globe"?1:4,ot=(rt,U,et,lt,ut)=>{const yt=(rt+et)/2,bt=(U+lt)/2,_t=new i.Point(yt,bt),{lng:Tt,lat:At}=this.pointLocation3D(_t),Nt=Math.max(0,L-Tt,O-At,Tt-R,At-Y);L=Math.min(L,Tt),R=Math.max(R,Tt),O=Math.min(O,At),Y=Math.max(Y,At),(ut<at||Nt>nt)&&(ot(rt,U,yt,bt,ut+1),ot(yt,bt,et,lt,ut+1))};if(ot(d,s,v,s,1),ot(v,s,v,f,1),ot(v,f,d,f,1),ot(d,f,d,s,1),this.projection.name==="globe"){const[rt,U]=i.polesInViewport(this);rt?(Y=90,R=180,L=-180):U&&(O=-90,R=180,L=-180)}return new i.LngLatBounds(new i.LngLat(L,O),new i.LngLat(R,Y))}_getBoundsRectangular(s,d){const{top:f,left:v}=this._edgeInsets,b=this.height-this._edgeInsets.bottom,S=this.width-this._edgeInsets.right,P=new i.Point(v,f),M=new i.Point(S,f),L=new i.Point(S,b),R=new i.Point(v,b);let O=this.pointCoordinate(P,s),Y=this.pointCoordinate(M,s);const nt=this.pointCoordinate(L,d),at=this.pointCoordinate(R,d),ot=(rt,U)=>(U.y-rt.y)/(U.x-rt.x);return O.y>1&&Y.y>=0?O=new i.MercatorCoordinate((1-at.y)/ot(at,O)+at.x,1):O.y<0&&Y.y<=1&&(O=new i.MercatorCoordinate(-at.y/ot(at,O)+at.x,0)),Y.y>1&&O.y>=0?Y=new i.MercatorCoordinate((1-nt.y)/ot(nt,Y)+nt.x,1):Y.y<0&&O.y<=1&&(Y=new i.MercatorCoordinate(-nt.y/ot(nt,Y)+nt.x,0)),new i.LngLatBounds().extend(this.coordinateLocation(O)).extend(this.coordinateLocation(Y)).extend(this.coordinateLocation(at)).extend(this.coordinateLocation(nt))}_getBoundsRectangularTerrain(){const s=this.elevation;if(!s.visibleDemTiles.length||s.isUsingMockSource())return this._getBoundsRectangular(0,0);const d=s.visibleDemTiles.reduce((f,v)=>{if(v.dem){const b=v.dem.tree;f.min=Math.min(f.min,b.minimums[0]),f.max=Math.max(f.max,b.maximums[0])}return f},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(d.min*s.exaggeration(),d.max*s.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(s=!0){const d=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,f=this.height/2-d*(1-this._horizonShift);return s?Math.max(0,f):f}getMaxBounds(){return this.maxBounds}setMaxBounds(s){this.maxBounds=s,this.minLat=-i.MAX_MERCATOR_LATITUDE,this.maxLat=i.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,s&&(this.minLat=s.getSouth(),this.maxLat=s.getNorth(),this.minLng=s.getWest(),this.maxLng=s.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=i.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=i.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=i.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=i.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(s,d){return this.projection.createTileMatrix(this,d,s)}calculateDistanceTileData(s){const d=s.key,f=this._distanceTileDataCache;if(f[d])return f[d];const v=s.canonical,b=1/this.height,S=this.cameraWorldSize,P=S/this.zoomScale(v.z),M=(v.x+Math.pow(2,v.z)*s.wrap)*P,L=v.y*P,R=this.point;R.x*=S/this.worldSize,R.y*=S/this.worldSize;const O=this.angle,Y=Math.sin(-O),nt=-Math.cos(-O);return f[d]={bearing:[Y,nt],center:[(R.x-M)*b,(R.y-L)*b],scale:P/i.EXTENT*b},f[d]}calculateFogTileMatrix(s){const d=s.key,f=this._fogTileMatrixCache;if(f[d])return f[d];const v=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,s);return i.multiply(v,this.worldToFogMatrix,v),f[d]=new Float32Array(v),f[d]}calculateProjMatrix(s,d=!1){const f=s.key,v=d?this._alignedProjMatrixCache:this._projMatrixCache;if(v[f])return v[f];const b=this.calculatePosMatrix(s,this.worldSize);return i.multiply(b,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:d?this.alignedProjMatrix:this.projMatrix,b),v[f]=new Float32Array(b),v[f]}calculatePixelsToTileUnitsMatrix(s){const d=s.tileID.key,f=this._pixelsToTileUnitsCache;if(f[d])return f[d];const v=function(b,S){const{scale:P}=b.tileTransform,M=P*i.EXTENT/(b.tileSize*Math.pow(2,S.zoom-b.tileID.overscaledZ+b.tileID.canonical.z));return L=new Float32Array(4),Y=(R=S.inverseAdjustmentMatrix)[1],nt=R[2],at=R[3],rt=(O=[M,M])[1],L[0]=R[0]*(ot=O[0]),L[1]=Y*ot,L[2]=nt*rt,L[3]=at*rt,L;var L,R,O,Y,nt,at,ot,rt}(s,this);return f[d]=v,f[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const s=1/this.worldSize,d=i.fromScaling([],[s,s,s]);return i.multiply(d,d,this.globeMatrix),d}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const s=this._elevation;this._updateCameraState();const d=i.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,f=this._computeCameraPosition(d),v=this._camera.forward(),b=i.mercatorZfromAltitude(1,this._center.lat);f[2]/=b,v[2]/=b,i.normalize(v,v);const S=s.raycast(f,v,s.exaggeration());if(S){const P=i.scaleAndAdd([],f,v,S),M=new i.MercatorCoordinate(P[0],P[1],i.mercatorZfromAltitude(P[2],i.latFromMercatorY(P[1]))),L=(M.z+i.length([M.x-f[0],M.y-f[1],M.z-f[2]*b]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(L),this._centerAltitude=M.toAltitude(),this._center=this.coordinateLocation(M),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(s=!1){if(!this._elevation)return;const d=this._elevation,f=i.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(f),b=d.getAtPointOrZero(new i.MercatorCoordinate(...v)),S=this.pixelsPerMeter/this.worldSize*b,P=this._minimumHeightOverTerrain(),M=v[2]-S;if(M<=P)if(M<0||s){const L=this.locationCoordinate(this._center,this._centerAltitude),R=[v[0],v[1],L.z-v[2]],O=i.length(R);R[2]-=(P-M)/this._pixelsPerMercatorPixel;const Y=i.length(R);if(Y===0)return;i.scale$2(R,R,O/Y*this._pixelsPerMercatorPixel),this._camera.position=[v[0],v[1],L.z*this._pixelsPerMercatorPixel-R[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const s=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||s){const Y=this.center;return Y.lat=i.clamp(Y.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!s)&&(Y.lng=i.clamp(Y.lng,this.minLng,this.maxLng)),this.center=Y,void(this._constraining=!1)}const d=this._unmodified,{x:f,y:v}=this.point;let b=0,S=f,P=v;const M=this.width/2,L=this.height/2,R=this.worldMinY*this.scale,O=this.worldMaxY*this.scale;if(v-L<R&&(P=R+L),v+L>O&&(P=O-L),O-R<this.height&&(b=Math.max(b,this.height/(O-R)),P=(O+R)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Y=this.worldMinX*this.scale,nt=this.worldMaxX*this.scale,at=this.worldSize/2-(Y+nt)/2;S=(f+at+this.worldSize)%this.worldSize-at,S-M<Y&&(S=Y+M),S+M>nt&&(S=nt-M),nt-Y<this.width&&(b=Math.max(b,this.width/(nt-Y)),S=(nt+Y)/2)}S===f&&P===v||(this.center=this.unproject(new i.Point(S,P))),b&&(this.zoom+=this.scaleZoom(b)),this._constrainCamera(),this._unmodified=d,this._constraining=!1}_minZoomForBounds(){let s=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(s=Math.max(s,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),s}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const s=this.centerOffset,d=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=i.mercatorZfromAltitude(1,this.center.lat)/i.mercatorZfromAltitude(1,i.GLOBE_SCALE_MATCH_LATITUDE));const f=Ud(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,f),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const v=this.projection.zAxisUnit==="meters"?d:1,b=this._camera.getWorldToCamera(this.worldSize,v),S=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);S[8]=2*-s.x/this.width,S[9]=2*s.y/this.height;let P=i.mul([],S,b);if(this.projection.isReprojectedInTileSpace){const bt=this.locationCoordinate(this.center),_t=i.identity([]);i.translate(_t,_t,[bt.x*this.worldSize,bt.y*this.worldSize,0]),i.multiply(_t,_t,ol(this)),i.translate(_t,_t,[-bt.x*this.worldSize,-bt.y*this.worldSize,0]),i.multiply(P,P,_t),this.inverseAdjustmentMatrix=function(Tt){const At=ol(Tt,!0);return Dt([],[At[0],At[1],At[4],At[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=i.scale([],P,[this.worldSize,this.worldSize,this.worldSize/v,1]),this.projMatrix=P,this.invProjMatrix=i.invert(new Float64Array(16),this.projMatrix);const M=i.invert([],S);this.frustumCorners=i.FrustumCorners.fromInvProjectionMatrix(M,this.horizonLineFromTop(),this.height);const L=new Float32Array(16);i.identity(L),i.scale(L,L,[1,-1,1]),i.rotateX(L,L,this._pitch),i.rotateZ(L,L,this.angle);const R=i.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),O=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;R[8]=2*-s.x/this.width,R[9]=2*(s.y+O)/this.height,this.skyboxMatrix=i.multiply(L,R,L);const Y=this.point,nt=Y.x,at=Y.y,ot=this.width%2/2,rt=this.height%2/2,U=Math.cos(this.angle),et=Math.sin(this.angle),lt=nt-Math.round(nt)+U*ot+et*rt,ut=at-Math.round(at)+U*rt+et*ot,yt=new Float64Array(P);if(i.translate(yt,yt,[lt>.5?lt-1:lt,ut>.5?ut-1:ut,0]),this.alignedProjMatrix=yt,P=i.create(),i.scale(P,P,[this.width/2,-this.height/2,1]),i.translate(P,P,[1,-1,0]),this.labelPlaneMatrix=P,P=i.create(),i.scale(P,P,[1,-1,1]),i.translate(P,P,[-1,-1,0]),i.scale(P,P,[2/this.width,2/this.height,1]),this.glCoordMatrix=P,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},P=i.invert(new Float64Array(16),this.pixelMatrix),!P)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=P,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=i.calculateGlobeMatrix(this);const bt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=i.transformMat4(bt,bt,b),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=P;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const s=this.cameraWorldSizeForFog,d=this.cameraPixelsPerMeter,f=this._camera.position,v=1/this.height/this._pixelsPerMercatorPixel,b=[s,s,d];i.scale$2(b,b,v),i.scale$2(f,f,-1),i.multiply$2(f,f,b);const S=i.create();i.translate(S,S,f),i.scale(S,S,b),this.mercatorFogMatrix=S,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(s,d,v)}_computeCameraPosition(s){const d=(s=s||this.pixelsPerMeter)/this.pixelsPerMeter,f=this._camera.forward(),v=this.point,b=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*d-s/this.worldSize*this._centerAltitude;return[v.x/this.worldSize-f[0]*b,v.y/this.worldSize-f[1]*b,s/this.worldSize*this._centerAltitude-f[2]*b]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(s){const d=this._maxCameraBoundsDistance()*Math.cos(this._pitch),f=this._camera.position[2],v=s[2];let b=1;this.projection.wrap&&(this.center=this.center.wrap()),v>0&&(b=Math.min((d-f)/v,1)),this._camera.position=i.scaleAndAdd([],this._camera.position,s,b),this._updateStateFromCamera()}_updateStateFromCamera(){const s=this._camera.position,d=this._camera.forward(),{pitch:f,bearing:v}=this._camera.getPitchBearing(),b=i.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,S=this._mercatorZfromZoom(this._maxZoom)*Math.cos(i.degToRad(this._maxPitch)),P=Math.max((s[2]-b)/Math.cos(f),S),M=this._zoomFromMercatorZ(P);i.scaleAndAdd(s,s,d,P),this._pitch=i.clamp(f,i.degToRad(this.minPitch),i.degToRad(this.maxPitch)),this.angle=i.wrap(v,-Math.PI,Math.PI),this._setZoom(i.clamp(M,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new i.MercatorCoordinate(s[0],s[1],s[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(s){return Math.pow(2,s)*this.tileSize}_mercatorZfromZoom(s){return this.cameraToCenterDistance/this._worldSizeFromZoom(s)}_minimumHeightOverTerrain(){const s=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(s)}_zoomFromMercatorZ(s){return this.scaleZoom(this.cameraToCenterDistance/(s*this.tileSize))}zoomFromMercatorZAdjusted(s){let d=0,f=i.GLOBE_ZOOM_THRESHOLD_MAX,v=0,b=1/0;for(;f-d>1e-6&&f>d;){const S=d+.5*(f-d),P=this.tileSize*Math.pow(2,S),M=this.getCameraToCenterDistance(this.projection,S,P),L=this.scaleZoom(M/(s*this.tileSize)),R=Math.abs(S-L);R<b&&(b=R,v=S),S<L?d=S:f=S}return v}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(i.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(s,d){const f=Math.min(s.x,d.x),v=Math.max(s.x,d.x),b=Math.min(s.y,d.y),S=Math.max(s.y,d.y);if(b<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const P=[new i.Point(f,b),new i.Point(v,S),new i.Point(f,S),new i.Point(v,b)],M=this.renderWorldCopies?-3:0,L=this.renderWorldCopies?4:1;for(const R of P){const O=this.pointRayIntersection(R);if(O.t<0)return!0;const Y=this.rayIntersectionCoordinate(O);if(Y.x<M||Y.y<0||Y.x>L||Y.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+i.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new i.Point(0,0),new i.Point(this.width,this.height))}zoomDeltaToMovement(s,d){const f=i.length(i.sub([],this._camera.position,s)),v=this._zoomFromMercatorZ(f)+d;return f-this._mercatorZfromZoom(v)}getCameraPoint(){if(this.projection.name==="globe"){const s=function([d,f,v],b){const S=[d,f,v,1];i.transformMat4$1(S,S,b);const P=S[3]=Math.max(S[3],1e-6);return S[0]/=P,S[1]/=P,S[2]/=P,S}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new i.Point(s[0],s[1])}{const s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,s))}}getCameraToCenterDistance(s,d=this.zoom,f=this.worldSize){const v=Ud(s,d,this.width,this.height,1024),b=s.pixelSpaceConversion(this.center.lat,f,v);return .5/Math.tan(.5*this._fov)*this.height*b}getWorldToCameraMatrix(){const s=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&i.multiply(s,s,this.globeMatrix),s}}function rl(m,s){let d=!1,f=null;const v=()=>{f=null,d&&(m(),f=setTimeout(v,s),d=!1)};return()=>(d=!0,f||v(),f)}class um{constructor(s){this._hashName=s&&encodeURIComponent(s),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=rl(this._updateHashUnthrottled.bind(this),300)}addTo(s){return this._map=s,i.window.addEventListener("hashchange",this._onHashChange,!1),s.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),i.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const s=this._map;if(!s)return"";const d=Sc(s);if(this._hashName){const f=this._hashName;let v=!1;const b=i.window.location.hash.slice(1).split("&").map(S=>{const P=S.split("=")[0];return P===f?(v=!0,`${P}=${d}`):S}).filter(S=>S);return v||b.push(`${f}=${d}`),`#${b.join("&")}`}return`#${d}`}_getCurrentHash(){const s=i.window.location.hash.replace("#","");if(this._hashName){let d;return s.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(d=f)}),(d&&d[1]||"").split("/")}return s.split("/")}_onHashChange(){const s=this._map;if(!s)return!1;const d=this._getCurrentHash();if(d.length>=3&&!d.some(f=>isNaN(f))){const f=s.dragRotate.isEnabled()&&s.touchZoomRotate.isEnabled()?+(d[3]||0):s.getBearing();return s.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:f,pitch:+(d[4]||0)}),!0}return!1}_updateHashUnthrottled(){const s=i.window.location.href.replace(/(#.+)?$/,this.getHashString());i.window.history.replaceState(i.window.history.state,null,s)}}function Sc(m,s){const d=m.getCenter(),f=Math.round(100*m.getZoom())/100,v=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,v),S=Math.round(d.lng*b)/b,P=Math.round(d.lat*b)/b,M=m.getBearing(),L=m.getPitch();let R=s?`/${S}/${P}/${f}`:`${f}/${P}/${S}`;return(M||L)&&(R+="/"+Math.round(10*M)/10),L&&(R+=`/${Math.round(L)}`),R}const Ec={linearity:.3,easing:i.bezier(0,0,.3,1)},Gd=i.extend({deceleration:2500,maxSpeed:1400},Ec),qd=i.extend({deceleration:20,maxSpeed:1400},Ec),ge=i.extend({deceleration:1e3,maxSpeed:360},Ec),rr=i.extend({deceleration:1e3,maxSpeed:90},Ec);class d0{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.exported.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,d=i.exported.now();for(;s.length>0&&d-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const d={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)d.zoom+=b.zoomDelta||0,d.bearing+=b.bearingDelta||0,d.pitch+=b.pitchDelta||0,b.panDelta&&d.pan._add(b.panDelta),b.around&&(d.around=b.around),b.pinchAround&&(d.pinchAround=b.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const b=Dc(d.pan.mag(),f,i.extend({},Gd,s||{}));v.offset=d.pan.mult(b.amount/d.pan.mag()),v.center=this._map.transform.center,Pc(v,b)}if(d.zoom){const b=Dc(d.zoom,f,qd);v.zoom=this._map.transform.zoom+b.amount,Pc(v,b)}if(d.bearing){const b=Dc(d.bearing,f,ge);v.bearing=this._map.transform.bearing+i.clamp(b.amount,-179,179),Pc(v,b)}if(d.pitch){const b=Dc(d.pitch,f,rr);v.pitch=this._map.transform.pitch+b.amount,Pc(v,b)}if(v.zoom||v.bearing){const b=d.pinchAround===void 0?d.around:d.pinchAround;v.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),v.noMoveStart=!0,v}}function Pc(m,s){(!m.duration||m.duration<s.duration)&&(m.duration=s.duration,m.easing=s.easing)}function Dc(m,s,d){const{maxSpeed:f,linearity:v,deceleration:b}=d,S=i.clamp(m*v/(s/1e3),-f,f),P=Math.abs(S)/(b*v);return{easing:d.easing,duration:1e3*P,amount:S*(P/2)}}class No extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,f,v={}){const b=St(d.getCanvasContainer(),f),S=d.unproject(b);super(s,i.extend({point:b,lngLat:S,originalEvent:f},v)),this._defaultPrevented=!1,this.target=d}}class Mc extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,f){const v=s==="touchend"?f.changedTouches:f.touches,b=zt(d.getCanvasContainer(),v),S=b.map(M=>d.unproject(M)),P=b.reduce((M,L,R,O)=>M.add(L.div(O.length)),new i.Point(0,0));super(s,{points:b,point:P,lngLats:S,lngLat:d.unproject(P),originalEvent:f}),this._defaultPrevented=!1}}class Wd extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,f){super(s,{originalEvent:f}),this._defaultPrevented=!1}}class pm{constructor(s,d){this._map=s,this._clickTolerance=d.clickTolerance}reset(){this._mousedownPos=void 0}wheel(s){return this._firePreventable(new Wd(s.type,this._map,s))}mousedown(s,d){return this._mousedownPos=d,this._firePreventable(new No(s.type,this._map,s))}mouseup(s){this._map.fire(new No(s.type,this._map,s))}preclick(s){const d=i.extend({},s);d.type="preclick",this._map.fire(new No(d.type,this._map,d))}click(s,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||(this.preclick(s),this._map.fire(new No(s.type,this._map,s)))}dblclick(s){return this._firePreventable(new No(s.type,this._map,s))}mouseover(s){this._map.fire(new No(s.type,this._map,s))}mouseout(s){this._map.fire(new No(s.type,this._map,s))}touchstart(s){return this._firePreventable(new Mc(s.type,this._map,s))}touchmove(s){this._map.fire(new Mc(s.type,this._map,s))}touchend(s){this._map.fire(new Mc(s.type,this._map,s))}touchcancel(s){this._map.fire(new Mc(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hd{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(s){this._map.fire(new No(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new No("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._map.fire(new No(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class u0{constructor(s,d){this._map=s,this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,d){this.isEnabled()&&s.shiftKey&&s.button===0&&($(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(s,d){if(!this._active)return;const f=d,v=this._startPos,b=this._lastPos;if(!v||!b||b.equals(f)||!this._box&&f.dist(v)<this._clickTolerance)return;this._lastPos=f,this._box||(this._box=V("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",s));const S=Math.min(v.x,f.x),P=Math.max(v.x,f.x),M=Math.min(v.y,f.y),L=Math.max(v.y,f.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${S}px,${M}px)`,this._box.style.width=P-S+"px",this._box.style.height=L-M+"px")})}mouseupWindow(s,d){if(!this._active)return;const f=this._startPos,v=d;if(f&&s.button===0){if(this.reset(),ft(),f.x!==v.x||f.y!==v.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:s})),{cameraAnimation:b=>b.fitScreenCoordinates(f,v,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",s)}}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Z(),delete this._startPos,delete this._lastPos}_fireEvent(s,d){return this._map.fire(new i.Event(s,{originalEvent:d}))}}function Zd(m,s){const d={};for(let f=0;f<m.length;f++)d[m[f].identifier]=s[f];return d}class sl{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(s,d,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=s.timeStamp),f.length===this.numTouches&&(this.centroid=function(v){const b=new i.Point(0,0);for(const S of v)b._add(S);return b.div(v.length)}(d),this.touches=Zd(f,d)))}touchmove(s,d,f){if(this.aborted||!this.centroid)return;const v=Zd(f,d);for(const b in this.touches){const S=v[b];(!S||S.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(s,d,f){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class mm{constructor(s){this.singleTap=new sl(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(s,d,f){this.singleTap.touchstart(s,d,f)}touchmove(s,d,f){this.singleTap.touchmove(s,d,f)}touchend(s,d,f){const v=this.singleTap.touchend(s,d,f);if(v){const b=s.timeStamp-this.lastTime<500,S=!this.lastTap||this.lastTap.dist(v)<30;if(b&&S||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class K2{constructor(){this._zoomIn=new mm({numTouches:1,numTaps:2}),this._zoomOut=new mm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,d,f){this._zoomIn.touchstart(s,d,f),this._zoomOut.touchstart(s,d,f)}touchmove(s,d,f){this._zoomIn.touchmove(s,d,f),this._zoomOut.touchmove(s,d,f)}touchend(s,d,f){const v=this._zoomIn.touchend(s,d,f),b=this._zoomOut.touchend(s,d,f);return v?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:S=>S.easeTo({duration:300,zoom:S.getZoom()+1,around:S.unproject(v)},{originalEvent:s})}):b?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:S=>S.easeTo({duration:300,zoom:S.getZoom()-1,around:S.unproject(b)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const p0={0:1,2:2};class il{constructor(s){this.reset(),this._clickTolerance=s.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(s,d){return!1}_move(s,d){return{}}mousedown(s,d){if(this._lastPoint)return;const f=Ft(s);this._correctButton(s,f)&&(this._lastPoint=d,this._eventButton=f)}mousemoveWindow(s,d){const f=this._lastPoint;if(f){if(s.preventDefault(),this._eventButton!=null&&function(v,b){const S=p0[b];return v.buttons===void 0||(v.buttons&S)!==S}(s,this._eventButton))this.reset();else if(this._moved||!(d.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(f,d)}}mouseupWindow(s){this._lastPoint&&Ft(s)===this._eventButton&&(this._moved&&ft(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hm extends il{mousedown(s,d){super.mousedown(s,d),this._lastPoint&&(this._active=!0)}_correctButton(s,d){return d===0&&!s.ctrlKey}_move(s,d){return{around:d,panDelta:d.sub(s)}}}class fm extends il{_correctButton(s,d){return d===0&&s.ctrlKey||d===2}_move(s,d){const f=.8*(d.x-s.x);if(f)return this._active=!0,{bearingDelta:f}}contextmenu(s){s.preventDefault()}}class gm extends il{_correctButton(s,d){return d===0&&s.ctrlKey||d===2}_move(s,d){const f=-.5*(d.y-s.y);if(f)return this._active=!0,{pitchDelta:f}}contextmenu(s){s.preventDefault()}}class Xd{constructor(s,d){this._map=s,this._el=s.getCanvasContainer(),this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset(),i.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)}touchstart(s,d,f){return this._calculateTransform(s,d,f)}touchmove(s,d,f){if(this._active&&!(f.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(f.length===1&&!i.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return s.cancelable&&s.preventDefault(),this._calculateTransform(s,d,f)}}touchend(s,d,f){this._calculateTransform(s,d,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,d,f){f.length>0&&(this._active=!0);const v=Zd(f,d),b=new i.Point(0,0),S=new i.Point(0,0);let P=0;for(const L in v){const R=v[L],O=this._touches[L];O&&(b._add(R),S._add(R.sub(O)),P++,v[L]=R)}if(this._touches=v,P<this._minTouches||!S.mag())return;const M=S.div(P);return this._sum._add(M),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(P),panDelta:M}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=V("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class kc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(s){}_move(s,d,f){return{}}touchstart(s,d,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([d[0],d[1]]))}touchmove(s,d,f){const v=this._firstTwoTouches;if(!v)return;s.preventDefault();const[b,S]=v,P=Bc(f,d,b),M=Bc(f,d,S);if(!P||!M)return;const L=this._aroundCenter?null:P.add(M).div(2);return this._move([P,M],L,s)}touchend(s,d,f){if(!this._firstTwoTouches)return;const[v,b]=this._firstTwoTouches,S=Bc(f,d,v),P=Bc(f,d,b);S&&P||(this._active&&ft(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Bc(m,s,d){for(let f=0;f<m.length;f++)if(m[f].identifier===d)return s[f]}function xm(m,s){return Math.log(m/s)/Math.LN2}class m0 extends kc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,d){const f=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(xm(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:xm(this._distance,f),pinchAround:d}}}function vm(m,s){return 180*m.angleWith(s)/Math.PI}class h0 extends kc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,d){const f=this._vector;if(this._vector=s[0].sub(s[1]),f&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:vm(this._vector,f),pinchAround:d}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const d=25/(Math.PI*this._minDiameter)*360,f=this._startVector;if(!f)return!1;const v=vm(s,f);return Math.abs(v)<d}}function zs(m){return Math.abs(m.y)>Math.abs(m.x)}class f0 extends kc{constructor(s){super(),this._map=s}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(s){this._lastPoints=s,zs(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,d,f){const v=this._lastPoints;if(!v)return;const b=s[0].sub(v[0]),S=s[1].sub(v[1]);return this._map._cooperativeGestures&&!i.isFullscreen()&&f.touches.length<3||(this._valid=this.gestureBeginsVertically(b,S,f.timeStamp),!this._valid)?void 0:(this._lastPoints=s,this._active=!0,{pitchDelta:(b.y+S.y)/2*-.5})}gestureBeginsVertically(s,d,f){if(this._valid!==void 0)return this._valid;const v=s.mag()>=2,b=d.mag()>=2;if(!v&&!b)return;if(!v||!b)return this._firstMove==null&&(this._firstMove=f),f-this._firstMove<100&&void 0;const S=s.y>0==d.y>0;return zs(s)&&zs(d)&&S}}const g0={panStep:100,bearingStep:15,pitchStep:10};class Y2{constructor(){const s=g0;this._panStep=s.panStep,this._bearingStep=s.bearingStep,this._pitchStep=s.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let d=0,f=0,v=0,b=0,S=0;switch(s.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:s.shiftKey?f=-1:(s.preventDefault(),b=-1);break;case 39:s.shiftKey?f=1:(s.preventDefault(),b=1);break;case 38:s.shiftKey?v=1:(s.preventDefault(),S=-1);break;case 40:s.shiftKey?v=-1:(s.preventDefault(),S=1);break;default:return}return this._rotationDisabled&&(f=0,v=0),{cameraAnimation:P=>{const M=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:x0,zoom:d?Math.round(M)+d*(s.shiftKey?2:1):M,bearing:P.getBearing()+f*this._bearingStep,pitch:P.getPitch()+v*this._pitchStep,offset:[-b*this._panStep,-S*this._panStep],center:P.getCenter()},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function x0(m){return m*(2-m)}const ym=4.000244140625;class v0{constructor(s,d){this._map=s,this._el=s.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,i.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(s){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(s.ctrlKey||s.metaKey||this.isZooming()||i.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let d=s.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const f=i.exported.now(),v=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,d!==0&&d%ym==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),s.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=s,this._delta-=d,this._active||this._start(s)),s.preventDefault()}_onTimeout(s){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(s)}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=St(this._el,s);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:d,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._map.transform;this._type==="wheel"&&s.projection.wrap&&(s._center.lng>=180||s._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const d=()=>s._terrainEnabled()&&this._aroundCoord?s.computeZoomRelativeTo(this._aroundCoord):s.zoom;if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>ym?this._wheelZoomRate:this._defaultZoomRate;let L=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&L!==0&&(L=1/L);const R=d(),O=Math.pow(2,R),Y=typeof this._targetZoom=="number"?s.zoomScale(this._targetZoom):O;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(Y*L))),this._type==="wheel"&&(this._startZoom=R,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom=="number"?this._targetZoom:d(),v=this._startZoom,b=this._easing;let S,P=!1;if(this._type==="wheel"&&v&&b){const M=Math.min((i.exported.now()-this._lastWheelEventTime)/200,1),L=b(M);S=i.number(v,f,L),M<1?this._frameId||(this._frameId=!0):P=!0}else S=f,P=!0;return this._active=!0,P&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!P,zoomDelta:S-d(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let d=i.ease;if(this._prevEase){const f=this._prevEase,v=(i.exported.now()-f.start)/f.duration,b=f.easing(v+.01)-f.easing(v),S=.27/Math.sqrt(b*b+1e-4)*.01,P=Math.sqrt(.0729-S*S);d=i.bezier(S,P,.25,1)}return this._prevEase={start:i.exported.now(),duration:s,easing:d},d}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=V("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(i.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class y0{constructor(s,d){this._clickZoom=s,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Xo{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(s,d){return s.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:f.getZoom()+(s.shiftKey?-1:1),around:f.unproject(d)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Q2{constructor(){this._tap=new mm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(s,d,f){this._swipePoint||(this._tapTime&&s.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=d[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(s,d,f))}touchmove(s,d,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const v=d[0],b=v.y-this._swipePoint.y;return this._swipePoint=v,s.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(s,d,f)}touchend(s,d,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(s,d,f)&&(this._tapTime=s.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _0{constructor(s,d,f){this._el=s,this._mousePan=d,this._touchPan=f}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class J2{constructor(s,d,f){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=d,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class tv{constructor(s,d,f,v){this._el=s,this._touchZoom=d,this._touchRotate=f,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const $a=m=>m.zoom||m.drag||m.pitch||m.rotate;class b0 extends i.Event{}class ev{constructor(){this.constants=[1,1,.01],this.radius=0}setup(s,d){const f=i.sub([],d,s);this.radius=i.length(f[2]<0?i.div([],f,this.constants):[f[0],f[1],0])}projectRay(s){i.div(s,s,this.constants),i.normalize(s,s),i.mul$1(s,s,this.constants);const d=i.scale$2([],s,this.radius);if(d[2]>0){const f=i.scale$2([],[0,0,1],i.dot(d,[0,0,1])),v=i.scale$2([],i.normalize([],[d[0],d[1],0]),this.radius),b=i.add([],d,i.scale$2([],i.sub([],i.add([],v,f),d),2));d[0]=b[0],d[1]=b[1]}return d}}function sr(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class Dr{constructor(s,d){this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new d0(s),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new ev,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(d),i.bindAll(["handleEvent","handleWindowEvent"],this);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[i.window,"blur",void 0]];for(const[v,b,S]of this._listeners)v.addEventListener(b,v===i.window.document?this.handleWindowEvent:this.handleEvent,S)}destroy(){for(const[s,d,f]of this._listeners)s.removeEventListener(d,s===i.window.document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(s){const d=this._map,f=d.getCanvasContainer();this._add("mapEvent",new pm(d,s));const v=d.boxZoom=new u0(d,s);this._add("boxZoom",v);const b=new K2,S=new Xo;d.doubleClickZoom=new y0(S,b),this._add("tapZoom",b),this._add("clickZoom",S);const P=new Q2;this._add("tapDragZoom",P);const M=d.touchPitch=new f0(d);this._add("touchPitch",M);const L=new fm(s),R=new gm(s);d.dragRotate=new J2(s,L,R),this._add("mouseRotate",L,["mousePitch"]),this._add("mousePitch",R,["mouseRotate"]);const O=new hm(s),Y=new Xd(d,s);d.dragPan=new _0(f,O,Y),this._add("mousePan",O),this._add("touchPan",Y,["touchZoom","touchRotate"]);const nt=new h0,at=new m0;d.touchZoomRotate=new tv(f,at,nt,P),this._add("touchRotate",nt,["touchPan","touchZoom"]),this._add("touchZoom",at,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Hd(d));const ot=d.scrollZoom=new v0(d,this);this._add("scrollZoom",ot,["mousePan"]);const rt=d.keyboard=new Y2;this._add("keyboard",rt);for(const U of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])s.interactive&&s[U]&&d[U].enable(s[U])}_add(s,d,f){this._handlers.push({handlerName:s,handler:d,allowed:f}),this._handlersById[s]=d}stop(s){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$a(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(s,d,f){for(const v in s)if(v!==f&&(!d||d.indexOf(v)<0))return!0;return!1}handleWindowEvent(s){this.handleEvent(s,`${s.type}Window`)}_getMapTouches(s){const d=[];for(const f of s)this._el.contains(f.target)&&d.push(f);return d}handleEvent(s,d){this._updatingCamera=!0;const f=s.type==="renderFrame",v=f?void 0:s,b={needsRenderFrame:!1},S={},P={},M=s.touches?this._getMapTouches(s.touches):void 0,L=M?zt(this._el,M):f?void 0:St(this._el,s);for(const{handlerName:Y,handler:nt,allowed:at}of this._handlers){if(!nt.isEnabled())continue;let ot;this._blockedByActive(P,at,Y)?nt.reset():nt[d||s.type]&&(ot=nt[d||s.type](s,L,M),this.mergeHandlerResult(b,S,ot,Y,v),ot&&ot.needsRenderFrame&&this._triggerRenderFrame()),(ot||nt.isActive())&&(P[Y]=nt)}const R={};for(const Y in this._previousActiveHandlers)P[Y]||(R[Y]=v);this._previousActiveHandlers=P,(Object.keys(R).length||sr(b))&&(this._changes.push([b,S,R]),this._triggerRenderFrame()),(Object.keys(P).length||sr(b))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:O}=b;O&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],O(this._map))}mergeHandlerResult(s,d,f,v,b){if(!f)return;i.extend(s,f);const S={handlerName:v,originalEvent:f.originalEvent||b};f.zoomDelta!==void 0&&(d.zoom=S),f.panDelta!==void 0&&(d.drag=S),f.pitchDelta!==void 0&&(d.pitch=S),f.bearingDelta!==void 0&&(d.rotate=S)}_applyChanges(){const s={},d={},f={};for(const[v,b,S]of this._changes)v.panDelta&&(s.panDelta=(s.panDelta||new i.Point(0,0))._add(v.panDelta)),v.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(s.around=v.around),v.aroundCoord!==void 0&&(s.aroundCoord=v.aroundCoord),v.pinchAround!==void 0&&(s.pinchAround=v.pinchAround),v.noInertia&&(s.noInertia=v.noInertia),i.extend(d,b),i.extend(f,S);this._updateMapTransform(s,d,f),this._changes=[]}_updateMapTransform(s,d,f){const v=this._map,b=v.transform,S=et=>[et.x,et.y,et.z];if((et=>{const lt=this._eventsInProgress.drag;return lt&&!this._handlersById[lt.handlerName].isActive()})()&&!sr(s)){const et=b.zoom;b.cameraElevationReference="sea",b.recenterOnTerrain(),b.cameraElevationReference="ground",et!==b.zoom&&this._map._update(!0)}if(b._isCameraConstrained&&v._stop(!0),!sr(s))return void this._fireEvents(d,f,!0);let{panDelta:P,zoomDelta:M,bearingDelta:L,pitchDelta:R,around:O,aroundCoord:Y,pinchAround:nt}=s;b._isCameraConstrained&&(M>0&&(M=0),b._isCameraConstrained=!1),nt!==void 0&&(O=nt),(M||(et=>d[et]&&!this._eventsInProgress[et])("drag"))&&O&&(this._dragOrigin=S(b.pointCoordinate3D(O)),this._trackingEllipsoid.setup(b._camera.position,this._dragOrigin)),b.cameraElevationReference="sea",v._stop(!0),O=O||v.transform.centerPoint,L&&(b.bearing+=L),R&&(b.pitch+=R),b._updateCameraState();const at=[0,0,0];if(P)if(b.projection.name==="mercator"){const et=this._trackingEllipsoid.projectRay(b.screenPointToMercatorRay(O).dir),lt=this._trackingEllipsoid.projectRay(b.screenPointToMercatorRay(O.sub(P)).dir);at[0]=lt[0]-et[0],at[1]=lt[1]-et[1]}else{const et=b.pointCoordinate(O);if(b.projection.name==="globe"){P=P.rotate(-b.angle);const lt=b._pixelsPerMercatorPixel/b.worldSize;at[0]=-P.x*i.mercatorScale(i.latFromMercatorY(et.y))*lt,at[1]=-P.y*i.mercatorScale(b.center.lat)*lt}else{const lt=b.pointCoordinate(O.sub(P));et&&lt&&(at[0]=lt.x-et.x,at[1]=lt.y-et.y)}}const ot=b.zoom,rt=[0,0,0];if(M){const et=S(Y||b.pointCoordinate3D(O)),lt={dir:i.normalize([],i.sub([],et,b._camera.position))};if(lt.dir[2]<0){const ut=b.zoomDeltaToMovement(et,M);i.scale$2(rt,lt.dir,ut)}}const U=i.add(at,at,rt);b._translateCameraConstrained(U),M&&Math.abs(b.zoom-ot)>1e-4&&b.recenterOnTerrain(),b.cameraElevationReference="ground",this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(d,f,!0)}_fireEvents(s,d,f){const v=$a(this._eventsInProgress),b=$a(s),S={};for(const R in s){const{originalEvent:O}=s[R];this._eventsInProgress[R]||(S[`${R}start`]=O),this._eventsInProgress[R]=s[R]}!v&&b&&this._fireEvent("movestart",b.originalEvent);for(const R in S)this._fireEvent(R,S[R]);b&&this._fireEvent("move",b.originalEvent);for(const R in s){const{originalEvent:O}=s[R];this._fireEvent(R,O)}const P={};let M;for(const R in this._eventsInProgress){const{handlerName:O,originalEvent:Y}=this._eventsInProgress[R];this._handlersById[O].isActive()||(delete this._eventsInProgress[R],M=d[O]||Y,P[`${R}end`]=M)}for(const R in P)this._fireEvent(R,P[R]);const L=$a(this._eventsInProgress);if(f&&(v||b)&&!L){this._updatingCamera=!0;const R=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),O=Y=>Y!==0&&-this._bearingSnap<Y&&Y<this._bearingSnap;R?(O(R.bearing||this._map.getBearing())&&(R.bearing=0),this._map.easeTo(R,{originalEvent:M})):(this._map.fire(new i.Event("moveend",{originalEvent:M})),O(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(s,d){this._map.fire(new i.Event(s,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{this._frameId=void 0,this.handleEvent(new b0("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const yi="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Kd extends i.Evented{constructor(s,d){super(),this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=d.bearingSnap,this._respectPrefersReducedMotion=d.respectPrefersReducedMotion!==!1,i.bindAll(["_renderFrameCallback"],this)}getCenter(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(s,d){return this.jumpTo({center:s},d)}panBy(s,d,f){return s=i.Point.convert(s).mult(-1),this.panTo(this.transform.center,i.extend({offset:s},d),f)}panTo(s,d,f){return this.easeTo(i.extend({center:s},d),f)}getZoom(){return this.transform.zoom}setZoom(s,d){return this.jumpTo({zoom:s},d),this}zoomTo(s,d,f){return this.easeTo(i.extend({zoom:s},d),f)}zoomIn(s,d){return this.zoomTo(this.getZoom()+1,s,d),this}zoomOut(s,d){return this.zoomTo(this.getZoom()-1,s,d),this}getBearing(){return this.transform.bearing}setBearing(s,d){return this.jumpTo({bearing:s},d),this}getPadding(){return this.transform.padding}setPadding(s,d){return this.jumpTo({padding:s},d),this}rotateTo(s,d,f){return this.easeTo(i.extend({bearing:s},d),f)}resetNorth(s,d){return this.rotateTo(0,i.extend({duration:1e3},s),d),this}resetNorthPitch(s,d){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},s),d),this}snapToNorth(s,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,d):this}getPitch(){return this.transform.pitch}setPitch(s,d){return this.jumpTo({pitch:s},d),this}cameraForBounds(s,d){s=i.LngLatBounds.convert(s);const f=d&&d.bearing||0,v=d&&d.pitch||0,b=s.getNorthWest(),S=s.getSouthEast();return this._cameraForBounds(this.transform,b,S,f,v,d)}_extendCameraOptions(s){const d={top:0,bottom:0,right:0,left:0};if(typeof(s=i.extend({padding:d,offset:[0,0],maxZoom:this.transform.maxZoom},s)).padding=="number"){const f=s.padding;s.padding={top:f,bottom:f,right:f,left:f}}return s.padding=i.extend(d,s.padding),s}_minimumAABBFrustumDistance(s,d){const f=d.max[0]-d.min[0],v=d.max[1]-d.min[1];return f/v>s.aspect?f/(2*Math.tan(.5*s.fovX)*s.aspect):v/(2*Math.tan(.5*s.fovY)*s.aspect)}_cameraForBoundsOnGlobe(s,d,f,v,b,S){const P=s.clone(),M=this._extendCameraOptions(S);P.bearing=v,P.pitch=b;const L=i.LngLat.convert(d),R=i.LngLat.convert(f),O=.5*(L.lat+R.lat),Y=.5*(L.lng+R.lng),nt=i.latLngToECEF(O,Y),at=i.normalize([],nt),ot=i.normalize([],i.cross([],at,[0,1,0])),rt=i.cross([],ot,at),U=[ot[0],ot[1],ot[2],0,rt[0],rt[1],rt[2],0,at[0],at[1],at[2],0,0,0,0,1],et=[nt,i.latLngToECEF(L.lat,L.lng),i.latLngToECEF(R.lat,L.lng),i.latLngToECEF(R.lat,R.lng),i.latLngToECEF(L.lat,R.lng),i.latLngToECEF(O,L.lng),i.latLngToECEF(O,R.lng),i.latLngToECEF(L.lat,Y),i.latLngToECEF(R.lat,Y)];let lt=i.Aabb.fromPoints(et.map(Xt=>[i.dot(ot,Xt),i.dot(rt,Xt),i.dot(at,Xt)]));const ut=i.transformMat4([],lt.center,U);i.squaredLength(ut)===0&&i.set(ut,0,0,1),i.normalize(ut,ut),i.scale$2(ut,ut,i.GLOBE_RADIUS),P.center=i.ecefToLatLng(ut);const yt=P.getWorldToCameraMatrix(),bt=i.invert(new Float64Array(16),yt);lt=i.Aabb.applyTransform(lt,i.multiply([],yt,U)),i.transformMat4(ut,ut,yt);const _t=.5*(lt.max[2]-lt.min[2]),Tt=this._minimumAABBFrustumDistance(P,lt),At=i.scale$2([],[0,0,1],_t),Nt=i.add(At,ut,At),Qt=Tt+(P.pitch===0?0:i.distance(ut,Nt)),Mt=P.globeCenterInViewSpace,qt=i.sub([],ut,[Mt[0],Mt[1],Mt[2]]);i.normalize(qt,qt),i.scale$2(qt,qt,Qt);const Rt=i.add([],ut,qt);i.transformMat4(Rt,Rt,bt);const Yt=i.earthRadius/i.GLOBE_RADIUS,Bt=i.length(Rt),Gt=i.mercatorZfromAltitude(Math.max(Bt*Yt-i.earthRadius,Number.EPSILON),0),te=Math.min(P.zoomFromMercatorZAdjusted(Gt),M.maxZoom);return te>.5*(i.GLOBE_ZOOM_THRESHOLD_MIN+i.GLOBE_ZOOM_THRESHOLD_MAX)?(P.setProjection({name:"mercator"}),P.zoom=te,this._cameraForBounds(P,d,f,v,b,S)):{center:P.center,zoom:te,bearing:v,pitch:b}}queryTerrainElevation(s,d){const f=this.transform.elevation;return f?(d=i.extend({},{exaggerated:!0},d),f.getAtPoint(i.MercatorCoordinate.fromLngLat(s),null,d.exaggerated)):null}_cameraForBounds(s,d,f,v,b,S){if(s.projection.name==="globe")return this._cameraForBoundsOnGlobe(s,d,f,v,b,S);const P=s.clone(),M=this._extendCameraOptions(S),L=P.padding;P.bearing=v,P.pitch=b;const R=i.LngLat.convert(d),O=i.LngLat.convert(f),Y=new i.LngLat(R.lng,O.lat),nt=new i.LngLat(O.lng,R.lat),at=P.project(R),ot=P.project(O),rt=this.queryTerrainElevation(R),U=this.queryTerrainElevation(O),et=this.queryTerrainElevation(Y),lt=this.queryTerrainElevation(nt),ut=[[at.x,at.y,Math.min(rt||0,U||0,et||0,lt||0)],[ot.x,ot.y,Math.max(rt||0,U||0,et||0,lt||0)]];let yt=i.Aabb.fromPoints(ut);const bt=P.getWorldToCameraMatrix(),_t=i.invert(new Float64Array(16),bt);yt=i.Aabb.applyTransform(yt,bt);const Tt=i.sub([],yt.max,yt.min),At=L.left||0,Nt=L.right||0,Qt=L.bottom||0,Mt=L.top||0,{left:qt,right:Rt,top:Yt,bottom:Bt}=M.padding,Gt=.5*(At+Nt),te=.5*(Mt+Qt),Xt=Math.min(P.scaleZoom(P.scale*Math.min((P.width-(At+Nt+qt+Rt))/Tt[0],(P.height-(Qt+Mt+Bt+Yt))/Tt[1])),M.maxZoom),ee=P.scale/P.zoomScale(Xt);yt=new i.Aabb([yt.min[0]-(qt+Gt)*ee,yt.min[1]-(Bt+te)*ee,yt.min[2]],[yt.max[0]+(Rt+Gt)*ee,yt.max[1]+(Yt+te)*ee,yt.max[2]]);const Se=.5*Tt[2],Re=this._minimumAABBFrustumDistance(P,yt),_e=[0,0,1,0];i.transformMat4$1(_e,_e,bt),i.normalize$2(_e,_e);const Me=i.scale$2([],_e,Re+Se),tn=i.add([],yt.center,Me),Ye=(typeof M.offset.x=="number"&&typeof M.offset.y=="number"?new i.Point(M.offset.x,M.offset.y):i.Point.convert(M.offset)).rotate(-i.degToRad(v));yt.center[0]-=Ye.x*ee,yt.center[1]+=Ye.y*ee,i.transformMat4(yt.center,yt.center,_t),i.transformMat4(tn,tn,_t);const Ae=[yt.center[0],yt.center[1],tn[2]*P.pixelsPerMeter];i.scale$2(Ae,Ae,1/P.worldSize);const yn=i.lngFromMercatorX(Ae[0]),wn=i.latFromMercatorY(Ae[1]),Cn=Math.min(P._zoomFromMercatorZ(Ae[2]),M.maxZoom),An=new i.LngLat(yn,wn);return P.mercatorFromTransition&&Cn<.5*(i.GLOBE_ZOOM_THRESHOLD_MIN+i.GLOBE_ZOOM_THRESHOLD_MAX)?(P.setProjection({name:"globe"}),P.zoom=Cn,this._cameraForBounds(P,d,f,v,b,S)):{center:An,zoom:Cn,bearing:v,pitch:b}}fitBounds(s,d,f){const v=this.cameraForBounds(s,d);return this._fitInternal(v,d,f)}fitScreenCoordinates(s,d,f,v,b){const S=i.Point.convert(s),P=i.Point.convert(d),M=new i.Point(Math.min(S.x,P.x),Math.min(S.y,P.y)),L=new i.Point(Math.max(S.x,P.x),Math.max(S.y,P.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(S,P))return this;const R=this.transform.pointLocation3D(M),O=this.transform.pointLocation3D(L),Y=this.transform.pointLocation3D(new i.Point(M.x,L.y)),nt=this.transform.pointLocation3D(new i.Point(L.x,M.y)),at=[Math.min(R.lng,O.lng,Y.lng,nt.lng),Math.min(R.lat,O.lat,Y.lat,nt.lat)],ot=[Math.max(R.lng,O.lng,Y.lng,nt.lng),Math.max(R.lat,O.lat,Y.lat,nt.lat)],rt=v&&v.pitch?v.pitch:this.getPitch(),U=this._cameraForBounds(this.transform,at,ot,f,rt,v);return this._fitInternal(U,v,b)}_fitInternal(s,d,f){return s?(delete(d=i.extend(s,d)).padding,d.linear?this.easeTo(d,f):this.flyTo(d,f)):this}jumpTo(s,d){this.stop();const f=s.preloadOnly?this.transform.clone():this.transform;let v=!1,b=!1,S=!1;return"zoom"in s&&f.zoom!==+s.zoom&&(v=!0,f.zoom=+s.zoom),s.center!==void 0&&(f.center=i.LngLat.convert(s.center)),"bearing"in s&&f.bearing!==+s.bearing&&(b=!0,f.bearing=+s.bearing),"pitch"in s&&f.pitch!==+s.pitch&&(S=!0,f.pitch=+s.pitch),s.padding==null||f.isPaddingEqual(s.padding)||(f.padding=s.padding),s.preloadOnly?(this._preloadTiles(f),this):(this.fire(new i.Event("movestart",d)).fire(new i.Event("move",d)),v&&this.fire(new i.Event("zoomstart",d)).fire(new i.Event("zoom",d)).fire(new i.Event("zoomend",d)),b&&this.fire(new i.Event("rotatestart",d)).fire(new i.Event("rotate",d)).fire(new i.Event("rotateend",d)),S&&this.fire(new i.Event("pitchstart",d)).fire(new i.Event("pitch",d)).fire(new i.Event("pitchend",d)),this.fire(new i.Event("moveend",d)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||i.warnOnce(yi),this.transform.getFreeCameraOptions()}setFreeCameraOptions(s,d){const f=this.transform;if(!f.projection.supportsFreeCamera)return i.warnOnce(yi),this;this.stop();const v=f.zoom,b=f.pitch,S=f.bearing;f.setFreeCameraOptions(s);const P=v!==f.zoom,M=b!==f.pitch,L=S!==f.bearing;return this.fire(new i.Event("movestart",d)).fire(new i.Event("move",d)),P&&this.fire(new i.Event("zoomstart",d)).fire(new i.Event("zoom",d)).fire(new i.Event("zoomend",d)),L&&this.fire(new i.Event("rotatestart",d)).fire(new i.Event("rotate",d)).fire(new i.Event("rotateend",d)),M&&this.fire(new i.Event("pitchstart",d)).fire(new i.Event("pitch",d)).fire(new i.Event("pitchend",d)),this.fire(new i.Event("moveend",d)),this}easeTo(s,d){this._stop(!1,s.easeId),((s=i.extend({offset:[0,0],duration:500,easing:i.ease},s)).animate===!1||this._prefersReducedMotion(s))&&(s.duration=0);const f=this.transform,v=this.getZoom(),b=this.getBearing(),S=this.getPitch(),P=this.getPadding(),M="zoom"in s?+s.zoom:v,L="bearing"in s?this._normalizeBearing(s.bearing,b):b,R="pitch"in s?+s.pitch:S,O="padding"in s?s.padding:f.padding,Y=i.Point.convert(s.offset);let nt,at,ot;if(f.projection.name==="globe"){const At=i.MercatorCoordinate.fromLngLat(f.center),Nt=Y.rotate(-f.angle);At.x+=Nt.x/f.worldSize,At.y+=Nt.y/f.worldSize;const Qt=At.toLngLat(),Mt=i.LngLat.convert(s.center||Qt);this._normalizeCenter(Mt),nt=f.centerPoint.add(Nt),at=new i.Point(At.x,At.y).mult(f.worldSize),ot=new i.Point(i.mercatorXfromLng(Mt.lng),i.mercatorYfromLat(Mt.lat)).mult(f.worldSize).sub(at)}else{nt=f.centerPoint.add(Y);const At=f.pointLocation(nt),Nt=i.LngLat.convert(s.center||At);this._normalizeCenter(Nt),at=f.project(At),ot=f.project(Nt).sub(at)}const rt=f.zoomScale(M-v);let U,et;s.around&&(U=i.LngLat.convert(s.around),et=f.locationPoint(U));const lt=this._zooming||M!==v,ut=this._rotating||b!==L,yt=this._pitching||R!==S,bt=!f.isPaddingEqual(O),_t=At=>Nt=>{if(lt&&(At.zoom=i.number(v,M,Nt)),ut&&(At.bearing=i.number(b,L,Nt)),yt&&(At.pitch=i.number(S,R,Nt)),bt&&(At.interpolatePadding(P,O,Nt),nt=At.centerPoint.add(Y)),U)At.setLocationAtPoint(U,et);else{const Qt=At.zoomScale(At.zoom-v),Mt=M>v?Math.min(2,rt):Math.max(.5,rt),qt=Math.pow(Mt,1-Nt),Rt=At.unproject(at.add(ot.mult(Nt*qt)).mult(Qt));At.setLocationAtPoint(At.renderWorldCopies?Rt.wrap():Rt,nt)}return s.preloadOnly||this._fireMoveEvents(d),At};if(s.preloadOnly){const At=this._emulate(_t,s.duration,f);return this._preloadTiles(At),this}const Tt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=lt,this._rotating=ut,this._pitching=yt,this._padding=bt,this._easeId=s.easeId,this._prepareEase(d,s.noMoveStart,Tt),this._ease(_t(f),At=>{f.recenterOnTerrain(),this._afterEase(d,At)},s),this}_prepareEase(s,d,f={}){this._moving=!0,this.transform.cameraElevationReference="sea",d||f.moving||this.fire(new i.Event("movestart",s)),this._zooming&&!f.zooming&&this.fire(new i.Event("zoomstart",s)),this._rotating&&!f.rotating&&this.fire(new i.Event("rotatestart",s)),this._pitching&&!f.pitching&&this.fire(new i.Event("pitchstart",s))}_fireMoveEvents(s){this.fire(new i.Event("move",s)),this._zooming&&this.fire(new i.Event("zoom",s)),this._rotating&&this.fire(new i.Event("rotate",s)),this._pitching&&this.fire(new i.Event("pitch",s))}_afterEase(s,d){if(this._easeId&&d&&this._easeId===d)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const f=this._zooming,v=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new i.Event("zoomend",s)),v&&this.fire(new i.Event("rotateend",s)),b&&this.fire(new i.Event("pitchend",s)),this.fire(new i.Event("moveend",s))}flyTo(s,d){if(this._prefersReducedMotion(s)){const Xt=i.pick(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xt,d)}this.stop(),s=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},s);const f=this.transform,v=this.getZoom(),b=this.getBearing(),S=this.getPitch(),P=this.getPadding(),M="zoom"in s?i.clamp(+s.zoom,f.minZoom,f.maxZoom):v,L="bearing"in s?this._normalizeBearing(s.bearing,b):b,R="pitch"in s?+s.pitch:S,O="padding"in s?s.padding:f.padding,Y=f.zoomScale(M-v),nt=i.Point.convert(s.offset);let at=f.centerPoint.add(nt);const ot=f.pointLocation(at),rt=i.LngLat.convert(s.center||ot);this._normalizeCenter(rt);const U=f.project(ot),et=f.project(rt).sub(U);let lt=s.curve;const ut=Math.max(f.width,f.height),yt=ut/Y,bt=et.mag();if("minZoom"in s){const Xt=i.clamp(Math.min(s.minZoom,v,M),f.minZoom,f.maxZoom),ee=ut/f.zoomScale(Xt-v);lt=Math.sqrt(ee/bt*2)}const _t=lt*lt;function Tt(Xt){const ee=(yt*yt-ut*ut+(Xt?-1:1)*_t*_t*bt*bt)/(2*(Xt?yt:ut)*_t*bt);return Math.log(Math.sqrt(ee*ee+1)-ee)}function At(Xt){return(Math.exp(Xt)-Math.exp(-Xt))/2}function Nt(Xt){return(Math.exp(Xt)+Math.exp(-Xt))/2}const Qt=Tt(0);let Mt=function(Xt){return Nt(Qt)/Nt(Qt+lt*Xt)},qt=function(Xt){return ut*((Nt(Qt)*(At(ee=Qt+lt*Xt)/Nt(ee))-At(Qt))/_t)/bt;var ee},Rt=(Tt(1)-Qt)/lt;if(Math.abs(bt)<1e-6||!isFinite(Rt)){if(Math.abs(ut-yt)<1e-6)return this.easeTo(s,d);const Xt=yt<ut?-1:1;Rt=Math.abs(Math.log(yt/ut))/lt,qt=function(){return 0},Mt=function(ee){return Math.exp(Xt*lt*ee)}}s.duration="duration"in s?+s.duration:1e3*Rt/("screenSpeed"in s?+s.screenSpeed/lt:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0);const Yt=b!==L,Bt=R!==S,Gt=!f.isPaddingEqual(O),te=Xt=>ee=>{const Se=ee*Rt,Re=1/Mt(Se);Xt.zoom=ee===1?M:v+Xt.scaleZoom(Re),Yt&&(Xt.bearing=i.number(b,L,ee)),Bt&&(Xt.pitch=i.number(S,R,ee)),Gt&&(Xt.interpolatePadding(P,O,ee),at=Xt.centerPoint.add(nt));const _e=ee===1?rt:Xt.unproject(U.add(et.mult(qt(Se))).mult(Re));return Xt.setLocationAtPoint(Xt.renderWorldCopies?_e.wrap():_e,at),Xt._updateCameraOnTerrain(),s.preloadOnly||this._fireMoveEvents(d),Xt};if(s.preloadOnly){const Xt=this._emulate(te,s.duration,f);return this._preloadTiles(Xt),this}return this._zooming=!0,this._rotating=Yt,this._pitching=Bt,this._padding=Gt,this._prepareEase(d,!1),this._ease(te(f),()=>this._afterEase(d),s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const f=this._onEaseEnd;this._onEaseEnd=void 0,f.call(this,d)}if(!s){const f=this.handlers;f&&f.stop(!1)}return this}_ease(s,d,f){f.animate===!1||f.duration===0?(s(1),d()):(this._easeStart=i.exported.now(),this._easeOptions=f,this._onEaseFrame=s,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const s=Math.min((i.exported.now()-this._easeStart)/this._easeOptions.duration,1),d=this._onEaseFrame;d&&d(this._easeOptions.easing(s)),s<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(s,d){s=i.wrap(s,-180,180);const f=Math.abs(s-d);return Math.abs(s-360-d)<f&&(s-=360),Math.abs(s+360-d)<f&&(s+=360),s}_normalizeCenter(s){const d=this.transform;if(!d.renderWorldCopies||d.maxBounds)return;const f=s.lng-d.center.lng;s.lng+=f>180?-360:f<-180?360:0}_prefersReducedMotion(s){return this._respectPrefersReducedMotion&&i.exported.prefersReducedMotion&&!(s&&s.essential)}_emulate(s,d,f){const v=Math.ceil(15*d/1e3),b=[],S=s(f.clone());for(let P=0;P<=v;P++){const M=S(P/v);b.push(M.clone())}return b}}class ve{constructor(s={}){this.options=s,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(s){const d=this.options&&this.options.compact;return this._map=s,this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=V("button","mapboxgl-ctrl-attrib-button",this._container),V("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=V("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(s,d){const f=this._map._getUIString(`AttributionControl.${d}`);s.setAttribute("aria-label",f),s.removeAttribute("title"),s.firstElementChild&&s.firstElementChild.setAttribute("title",f)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let s=this._editLink;s||(s=this._editLink=this._container.querySelector(".mapbox-improve-map"));const d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(s){const f=d.reduce((v,b,S)=>(b.value&&(v+=`${b.key}=${b.value}${S<d.length-1?"&":""}`),v),"?");s.href=`${i.config.FEEDBACK_URL}/${f}#${Sc(this._map,!0)}`,s.rel="noopener nofollow",this._setElementTitle(s,"MapFeedback")}}_updateData(s){!s||s.sourceDataType!=="metadata"&&s.sourceDataType!=="visibility"&&s.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let s=[];if(this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style._sourceCaches;for(const v in d){const b=d[v];if(b.used){const S=b.getSource();S.attribution&&s.indexOf(S.attribution)<0&&s.push(S.attribution)}}s.sort((v,b)=>v.length-b.length),s=s.filter((v,b)=>{for(let S=b+1;S<s.length;S++)if(s[S].indexOf(v)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=[...this.options.customAttribution,...s]:s.unshift(this.options.customAttribution));const f=s.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,s.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class _m{constructor(){i.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(s){this._map=s,this._container=V("div","mapboxgl-ctrl");const d=V("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(s){s&&s.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const s=this._map.style._sourceCaches;if(Object.entries(s).length===0)return!0;for(const d in s){const f=s[d].getSource();if(f.hasOwnProperty("mapbox_logo")&&!f.mapbox_logo)return!1}return!0}_updateCompact(){const s=this._container.children;if(s.length){const d=s[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}}}class bm{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const d=++this._id;return this._queue.push({callback:s,id:d,cancelled:!1}),d}remove(s){const d=this._currentlyRunning,f=d?this._queue.concat(d):this._queue;for(const v of f)if(v.id===s)return void(v.cancelled=!0)}run(s=0){const d=this._currentlyRunning=this._queue;this._queue=[];for(const f of d)if(!f.cancelled&&(f.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function ll(m,s,d){if(m=new i.LngLat(m.lng,m.lat),s){const f=new i.LngLat(m.lng-360,m.lat),v=new i.LngLat(m.lng+360,m.lat),b=360*Math.ceil(Math.abs(m.lng-d.center.lng)/360),S=d.locationPoint(m).distSqr(s),P=s.x<0||s.y<0||s.x>d.width||s.y>d.height;d.locationPoint(f).distSqr(s)<S&&(P||Math.abs(f.lng-d.center.lng)<b)?m=f:d.locationPoint(v).distSqr(s)<S&&(P||Math.abs(v.lng-d.center.lng)<b)&&(m=v)}for(;Math.abs(m.lng-d.center.lng)>180;){const f=d.locationPoint(m);if(f.x>=0&&f.y>=0&&f.x<=d.width&&f.y<=d.height)break;m.lng>d.center.lng?m.lng-=360:m.lng+=360}return m}const _i={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class me extends i.Evented{constructor(s,d){if(super(),(s instanceof i.window.HTMLElement||d)&&(s=i.extend({element:s},d)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=s&&s.occludedOpacity||.2,s&&s.element)this._element=s.element,this._offset=i.Point.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=V("div");const v=41,b=27,S=Q("svg",{display:"block",height:v*this._scale+"px",width:b*this._scale+"px",viewBox:`0 0 ${b} ${v}`},this._element),P=Q("radialGradient",{id:"shadowGradient"},Q("defs",{},S));Q("stop",{offset:"10%","stop-opacity":.4},P),Q("stop",{offset:"100%","stop-opacity":.05},P),Q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},S),Q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},S),Q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},S),Q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},S),this._offset=i.Point.convert(s&&s.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",v=>{v.preventDefault()}),this._element.addEventListener("mousedown",v=>{v.preventDefault()});const f=this._element.classList;for(const v in _i)f.remove(`mapboxgl-marker-anchor-${v}`);f.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(s){return s===this._map||(this.remove(),this._map=s,s.getCanvasContainer().appendChild(this._element),s.on("move",this._updateMoving),s.on("moveend",this._update),s.on("remove",this._clearFadeTimer),s._addMarker(this),this.setDraggable(this._draggable),this._update(),s.on("click",this._onMapClick)),this}remove(){const s=this._map;return s&&(s.off("click",this._onMapClick),s.off("move",this._updateMoving),s.off("moveend",this._update),s.off("mousedown",this._addDragHandler),s.off("touchstart",this._addDragHandler),s.off("mouseup",this._onUp),s.off("touchend",this._onUp),s.off("mousemove",this._onMove),s.off("touchmove",this._onMove),s.off("remove",this._clearFadeTimer),s._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=i.LngLat.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const v=Math.sqrt(Math.pow(13.5,2)/2);s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,s._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(s){const d=s.code,f=s.charCode||s.keyCode;d!=="Space"&&d!=="Enter"&&f!==32&&f!==13||this.togglePopup()}_onMapClick(s){const d=s.originalEvent.target,f=this._element;this._popup&&(d===f||f.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const s=this._popup;return s?(s.isOpen()?(s.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(s.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const s=this._map,d=this._pos;if(!s||!d)return!1;const f=s.unproject(d),v=s.getFreeCameraOptions();if(!v.position)return!1;const b=v.position.toLngLat();return b.distanceTo(f)<.9*b.distanceTo(this._lngLat)}_evaluateOpacity(){const s=this._map;if(!s)return;const d=this._pos;if(!d||d.x<0||d.x>s.transform.width||d.y<0||d.y>s.transform.height)return void this._clearFadeTimer();const f=s.unproject(d);let v;s._showingGlobe()&&i.isLngLatBehindGlobe(s.transform,this._lngLat)?v=0:(v=1-s._queryFogOpacity(f),s.transform._terrainEnabled()&&s.getTerrain()&&this._behindTerrain()&&(v*=this._occludedOpacity)),this._element.style.opacity=`${v}`,this._element.style.pointerEvents=v>0?"auto":"none",this._popup&&this._popup._setOpacity(v),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const s=this._pos;if(!s||!this._map)return;const d=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${s.x}px,${s.y}px)
            ${_i[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${d.x}px,${d.y}px)
        `}_calculateXYTransform(){const s=this._pos,d=this._map,f=this.getPitchAlignment();if(!d||!s||f!=="map")return"";if(!d._showingGlobe()){const M=d.getPitch();return M?`rotateX(${M}deg)`:""}const v=i.radToDeg(i.globeTiltAtLngLat(d.transform,this._lngLat)),b=s.sub(i.globeCenterToScreenPoint(d.transform)),S=Math.abs(b.x)+Math.abs(b.y);if(S===0)return"";const P=v/S;return`rotateX(${-b.y*P}deg) rotateY(${b.x*P}deg)`}_calculateZTransform(){const s=this._pos,d=this._map;if(!d||!s)return"";let f=0;const v=this.getRotationAlignment();if(v==="map")if(d._showingGlobe()){const b=d.project(new i.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),S=d.project(new i.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(b);f=i.radToDeg(Math.atan2(S.y,S.x))-90}else f=-d.getBearing();else if(v==="horizon"){const b=i.smoothstep(4,6,d.getZoom()),S=i.globeCenterToScreenPoint(d.transform);S.y+=b*d.transform.height;const P=s.sub(S),M=i.radToDeg(Math.atan2(P.y,P.x));f=(M>90?M-270:M+90)*(1-b)}return f+=this._rotation,f?`rotateZ(${f}deg)`:""}_update(s){i.window.cancelAnimationFrame(this._updateFrameId);const d=this._map;d&&(d.transform.renderWorldCopies&&(this._lngLat=ll(this._lngLat,this._pos,d.transform)),this._pos=d.project(this._lngLat),s===!0?this._updateFrameId=i.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),d._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(d._showingGlobe()||d.getTerrain()||d.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(s){return this._offset=i.Point.convert(s),this._update(),this}_onMove(s){const d=this._map;if(!d)return;const f=this._pointerdownPos,v=this._positionDelta;if(f&&v){if(!this._isDragging){const b=this._clickTolerance||d._clickTolerance;if(s.point.dist(f)<b)return;this._isDragging=!0}this._pos=s.point.sub(v),this._lngLat=d.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const s=this._map;s&&(s.off("mousemove",this._onMove),s.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"}_addDragHandler(s){const d=this._map,f=this._pos;d&&f&&this._element.contains(s.originalEvent.target)&&(s.preventDefault(),this._positionDelta=s.point.sub(f),this._pointerdownPos=s.point,this._state="pending",d.on("mousemove",this._onMove),d.on("touchmove",this._onMove),d.once("mouseup",this._onUp),d.once("touchend",this._onUp))}setDraggable(s){this._draggable=!!s;const d=this._map;return d&&(s?(d.on("mousedown",this._addDragHandler),d.on("touchstart",this._addDragHandler)):(d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(s){return this._occludedOpacity=s||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const wm={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function w0(m=new i.Point(0,0),s="bottom"){if(typeof m=="number"){const d=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(s){case"top":return new i.Point(0,m);case"top-left":return new i.Point(d,d);case"top-right":return new i.Point(-d,d);case"bottom":return new i.Point(0,-m);case"bottom-left":return new i.Point(d,-d);case"bottom-right":return new i.Point(-d,-d);case"left":return new i.Point(m,0);case"right":return new i.Point(-m,0)}return new i.Point(0,0)}return m instanceof i.Point||Array.isArray(m)?i.Point.convert(m):i.Point.convert(m[s]||[0,0])}class Cm{constructor(s){this.jumpTo(s)}getValue(s){if(s<=this._startTime)return this._start;if(s>=this._endTime)return this._end;const d=i.easeCubicInOut((s-this._startTime)/(this._endTime-this._startTime));return this._start*(1-d)+this._end*d}isEasing(s){return s>=this._startTime&&s<=this._endTime}jumpTo(s){this._startTime=-1/0,this._endTime=-1/0,this._start=s,this._end=s}easeTo(s,d,f){this._start=this.getValue(d),this._end=s,this._startTime=d,this._endTime=d+f}}const C0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},A0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},ov={showCompass:!0,showZoom:!0,visualizePitch:!1};class av{constructor(s,d,f=!1){this._clickTolerance=10,this.element=d,this.mouseRotate=new fm({clickTolerance:s.dragRotate._mouseRotate._clickTolerance}),this.map=s,f&&(this.mousePitch=new gm({clickTolerance:s.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),d.addEventListener("mousedown",this.mousedown),d.addEventListener("touchstart",this.touchstart,{passive:!1}),d.addEventListener("touchmove",this.touchmove),d.addEventListener("touchend",this.touchend),d.addEventListener("touchcancel",this.reset)}down(s,d){this.mouseRotate.mousedown(s,d),this.mousePitch&&this.mousePitch.mousedown(s,d),$()}move(s,d){const f=this.map,v=this.mouseRotate.mousemoveWindow(s,d),b=v&&v.bearingDelta;if(b&&f.setBearing(f.getBearing()+b),this.mousePitch){const S=this.mousePitch.mousemoveWindow(s,d),P=S&&S.pitchDelta;P&&f.setPitch(f.getPitch()+P)}}off(){const s=this.element;s.removeEventListener("mousedown",this.mousedown),s.removeEventListener("touchstart",this.touchstart,{passive:!1}),s.removeEventListener("touchmove",this.touchmove),s.removeEventListener("touchend",this.touchend),s.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Z(),i.window.removeEventListener("mousemove",this.mousemove),i.window.removeEventListener("mouseup",this.mouseup)}mousedown(s){this.down(i.extend({},s,{ctrlKey:!0,preventDefault:()=>s.preventDefault()}),St(this.element,s)),i.window.addEventListener("mousemove",this.mousemove),i.window.addEventListener("mouseup",this.mouseup)}mousemove(s){this.move(s,St(this.element,s))}mouseup(s){this.mouseRotate.mouseupWindow(s),this.mousePitch&&this.mousePitch.mouseupWindow(s),this.offTemp()}touchstart(s){s.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=zt(this.element,s.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>s.preventDefault()},this._startPos))}touchmove(s){s.targetTouches.length!==1?this.reset():(this._lastPos=zt(this.element,s.targetTouches)[0],this.move({preventDefault:()=>s.preventDefault()},this._lastPos))}touchend(s){s.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Am={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Tm={maxWidth:100,unit:"metric"},Sm={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},cl={version:i.version,supported:B,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:class extends Kd{constructor(m){if(i.LivePerformanceUtils.mark(i.PerformanceMarkers.create),(m=i.extend({},A0,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&i.isSafariWithAntialiasingBug(i.window)&&(m.antialias=!1,i.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new al(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._useWebGL2=m.useWebGL2,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new bm,this._domRenderTaskQueue=new bm,this._controls=[],this._markers=[],this._popups=[],this._mapId=i.uniqueId(),this._locale=i.extend({},C0,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Cm(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new i.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=i.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof i.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&i.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),i.window!==void 0&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1),i.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),i.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Dr(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new um(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,i.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new ve({customAttribution:m.customAttribution})),this._logoControl=new _m,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",s=>{this._update(s.dataType==="style"),this.fire(new i.Event(`${s.dataType}data`,s))}),this.on("dataloading",s=>{this.fire(new i.Event(`${s.dataType}dataloading`,s))})}_getMapId(){return this._mapId}addControl(m,s){if(s===void 0&&(s=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=m.onAdd(this);this._controls.push(m);const f=this._controlPositions[s];return s.indexOf("bottom")!==-1?f.insertBefore(d,f.firstChild):f.appendChild(d),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(m);return s>-1&&this._controls.splice(s,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const s=!this._moving;return s&&this.fire(new i.Event("movestart",m)).fire(new i.Event("move",m)),this.fire(new i.Event("resize",m)),s&&this.fire(new i.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(i.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new i.Event("zoomstart")).fire(new i.Event("zoom")).fire(new i.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new i.Event("zoomstart")).fire(new i.Event("zoom")).fire(new i.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new i.Event("pitchstart")).fire(new i.Event("pitch")).fire(new i.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new i.Event("pitchstart")).fire(new i.Event("pitch")).fire(new i.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?i.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(s=>s==="auto"?i.window.navigator.language:s):m}setLanguage(m){const s=this._parseLanguage(m);if(!this.style||s===this._language)return this;this._language=s,this.style._reloadSources();for(const d of this._controls)d._setLanguage&&d._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,s=m.projection.name;let d;s==="globe"&&m.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),d=!0):s==="mercator"&&m.zoom<i.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),d=!0),d&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,s){return this._updateProjection(m||s||{name:"mercator"})}_updateProjection(m){let s;if(s=m.name==="globe"&&this.transform.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),s){this.painter.clearBackgroundTiles();for(const d in this.style._sourceCaches)this.style._sourceCaches[d].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(i.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(i.Point.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,s,d){if(m==="mouseenter"||m==="mouseover"){let f=!1;const v=S=>{const P=s.filter(L=>this.getLayer(L)),M=P.length?this.queryRenderedFeatures(S.point,{layers:P}):[];M.length?f||(f=!0,d.call(this,new No(m,this,S.originalEvent,{features:M}))):f=!1},b=()=>{f=!1};return{layers:new Set(s),listener:d,delegates:{mousemove:v,mouseout:b}}}if(m==="mouseleave"||m==="mouseout"){let f=!1;const v=S=>{const P=s.filter(M=>this.getLayer(M));(P.length?this.queryRenderedFeatures(S.point,{layers:P}):[]).length?f=!0:f&&(f=!1,d.call(this,new No(m,this,S.originalEvent)))},b=S=>{f&&(f=!1,d.call(this,new No(m,this,S.originalEvent)))};return{layers:new Set(s),listener:d,delegates:{mousemove:v,mouseout:b}}}{const f=v=>{const b=s.filter(P=>this.getLayer(P)),S=b.length?this.queryRenderedFeatures(v.point,{layers:b}):[];S.length&&(v.features=S,d.call(this,v),delete v.features)};return{layers:new Set(s),listener:d,delegates:{[m]:f}}}}on(m,s,d){if(d===void 0)return super.on(m,s);Array.isArray(s)||(s=[s]);const f=this._createDelegatedListener(m,s,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(f);for(const v in f.delegates)this.on(v,f.delegates[v]);return this}once(m,s,d){if(d===void 0)return super.once(m,s);Array.isArray(s)||(s=[s]);const f=this._createDelegatedListener(m,s,d);for(const v in f.delegates)this.once(v,f.delegates[v]);return this}off(m,s,d){if(d===void 0)return super.off(m,s);s=new Set(Array.isArray(s)?s:[s]);const f=(b,S)=>{if(b.size!==S.size)return!1;for(const P of b)if(!S.has(P))return!1;return!0},v=this._delegatedListeners?this._delegatedListeners[m]:void 0;return v&&(b=>{for(let S=0;S<b.length;S++){const P=b[S];if(P.listener===d&&f(P.layers,s)){for(const M in P.delegates)this.off(M,P.delegates[M]);return b.splice(S,1),this}}})(v),this}queryRenderedFeatures(m,s){return this.style?(s!==void 0||m===void 0||m instanceof i.Point||Array.isArray(m)||(s=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],s=s||{},this.transform)):[]}querySourceFeatures(m,s){return this.style.querySourceFeatures(m,s)}isPointOnSurface(m){const{name:s}=this.transform.projection;return s!=="globe"&&s!=="mercator"&&i.warnOnce(`${s} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(i.Point.convert(m))}setStyle(m,s){return(s=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&s.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._localFontFamily=s.localFontFamily,this._updateStyle(m,s))}_getUIString(m){const s=this._locale[m];if(s==null)throw new Error(`Missing UI string '${m}'`);return s}_updateStyle(m,s){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new Er(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Er(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,s){if(typeof m=="string"){const d=this._requestManager.normalizeStyleURL(m),f=this._requestManager.transformRequest(d,i.ResourceType.Style);i.getJSON(f,(v,b)=>{v?this.fire(new i.ErrorEvent(v)):b&&this._updateDiff(b,s)})}else typeof m=="object"&&this._updateDiff(m,s)}_updateDiff(m,s){try{this.style.setState(m)&&this._update(!0)}catch(d){i.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(m,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(i.warnOnce("There is no style added to the map."),!1)}addSource(m,s){return this._lazyInitEmptyStyle(),this.style.addSource(m,s),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const s in m){const d=m[s]._tiles;for(const f in d){const v=d[f];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}addSourceType(m,s,d){this._lazyInitEmptyStyle(),this.style.addSourceType(m,s,d)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,s,{pixelRatio:d=1,sdf:f=!1,stretchX:v,stretchY:b,content:S}={}){if(this._lazyInitEmptyStyle(),s instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&s instanceof i.window.ImageBitmap){const{width:P,height:M,data:L}=i.exported.getImageData(s);this.style.addImage(m,{data:new i.RGBAImage({width:P,height:M},L),pixelRatio:d,stretchX:v,stretchY:b,content:S,sdf:f,version:0})}else if(s.width===void 0||s.height===void 0)this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:P,height:M}=s,L=s;this.style.addImage(m,{data:new i.RGBAImage({width:P,height:M},new Uint8Array(L.data)),pixelRatio:d,stretchX:v,stretchY:b,content:S,sdf:f,version:0,userImage:L}),L.onAdd&&L.onAdd(this,m)}}updateImage(m,s){const d=this.style.getImage(m);if(!d)return void this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=s instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&s instanceof i.window.ImageBitmap?i.exported.getImageData(s):s,{width:v,height:b}=f;v!==void 0&&b!==void 0?v===d.data.width&&b===d.data.height?(d.data.replace(f.data,!(s instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&s instanceof i.window.ImageBitmap)),this.style.updateImage(m,d)):this.fire(new i.ErrorEvent(new Error(`The width and height of the updated image (${v}, ${b})
                must be that same as the previous version of the image
                (${d.data.width}, ${d.data.height})`))):this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,s){i.getImage(this._requestManager.transformRequest(m,i.ResourceType.Image),(d,f)=>{s(d,f instanceof i.window.HTMLImageElement?i.exported.getImageData(f):f)})}listImages(){return this.style.listImages()}addLayer(m,s){return this._lazyInitEmptyStyle(),this.style.addLayer(m,s),this._update(!0)}moveLayer(m,s){return this.style.moveLayer(m,s),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,s,d){return this.style.setLayerZoomRange(m,s,d),this._update(!0)}setFilter(m,s,d={}){return this.style.setFilter(m,s,d),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,s,d,f={}){return this.style.setPaintProperty(m,s,d,f),this._update(!0)}getPaintProperty(m,s){return this.style.getPaintProperty(m,s)}setLayoutProperty(m,s,d,f={}){return this.style.setLayoutProperty(m,s,d,f),this._update(!0)}getLayoutProperty(m,s){return this.style.getLayoutProperty(m,s)}setLight(m,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,s),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(i.LngLat.convert(m),this.transform):0}setFeatureState(m,s){return this.style.setFeatureState(m,s),this._update()}removeFeatureState(m,s){return this.style.removeFeatureState(m,s),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,s=this._container.getBoundingClientRect().height||300;let d,f,v,b=this._container;for(;b&&(!f||!v);){const S=i.window.getComputedStyle(b).transform;S&&S!=="none"&&(d=S.match(/matrix.*\((.+)\)/)[1].split(", "),d[0]&&d[0]!=="0"&&d[0]!=="1"&&(f=d[0]),d[3]&&d[3]!=="0"&&d[3]!=="1"&&(v=d[3])),b=b.parentElement}this._containerWidth=f?Math.abs(m/f):m,this._containerHeight=v?Math.abs(s/v):s}_detectMissingCSS(){i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=V("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const s=this._canvasContainer=V("div","mapboxgl-canvas-container",m);this._interactive&&s.classList.add("mapboxgl-interactive"),this._canvas=V("canvas","mapboxgl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const d=this._controlContainer=V("div","mapboxgl-control-container",m),f=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(v=>{f[v]=V("div",`mapboxgl-ctrl-${v}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,s){const d=i.exported.devicePixelRatio||1;this._canvas.width=d*Math.ceil(m),this._canvas.height=d*Math.ceil(s),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${s}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const s=this._markers.indexOf(m);s!==-1&&this._markers.splice(s,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const s=this._popups.indexOf(m);s!==-1&&this._popups.splice(s,1)}_setupPainter(){const m=i.extend({},B.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),s=this._useWebGL2&&this._canvas.getContext("webgl2",m),d=s||this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);d?(this._useWebGL2&&!s&&i.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),i.storeAuthState(d,!0),this.painter=new nl(d,this.transform,!!s),this.on("data",f=>{f.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),i.exported$1.testSupport(d)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let s;const d=this.painter.context.extTimerQuery,f=i.exported.now();if(this.listens("gpu-timing-frame")&&(s=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,s)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],i.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],i.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const v=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const P=this.transform.zoom,M=this.transform.pitch,L=i.exported.now(),R=new i.EvaluationParameters(P,{now:L,fadeDuration:v,pitch:M,transition:this.style.getTransition()});this.style.update(R)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let b=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),b=this._updateAverageElevation(f),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):b=this._updateAverageElevation(f),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,v,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:v,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),s){const P=i.exported.now()-f;d.endQueryEXT(d.TIME_ELAPSED_EXT,s),setTimeout(()=>{const M=d.getQueryObjectEXT(s,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(s),this.fire(new i.Event("gpu-timing-frame",{cpuTime:P,gpuTime:M})),i.window.performance.mark("frame-gpu",{startTime:f,detail:{gpuTime:M}})},50)}if(this.listens("gpu-timing-layer")){const P=this.painter.collectGpuTimers();setTimeout(()=>{const M=this.painter.queryGpuTimers(P);this.fire(new i.Event("gpu-timing-layer",{layerTimes:M}))},50)}if(this.listens("gpu-timing-deferred-render")){const P=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const M=this.painter.queryGpuTimeDeferredRender(P);this.fire(new i.Event("gpu-timing-deferred-render",{gpuTime:M}))},50)}const S=this._sourcesDirty||this._styleDirty||this._placementDirty||b;if(S||this._repaint)this.triggerRepaint();else{const P=!this.isMoving()&&this.loaded();if(P&&(b=this._updateAverageElevation(f,!0)),b)this.triggerRepaint();else if(this._triggerFrame(!1),P&&(this.fire(new i.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const M=this._calculateSpeedIndex();this.fire(new i.Event("speedindexcompleted",{speedIndex:M})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||S||(this._fullyLoaded=!0,i.LivePerformanceUtils.mark(i.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&i.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const s of this._markers)m&&!this.getRenderWorldCopies()&&(s._lngLat=s._lngLat.wrap()),s._update();for(const s of this._popups)!m||this.getRenderWorldCopies()||s._trackPointer||(s._lngLat=s._lngLat.wrap()),s._update()}_updateAverageElevation(m,s=!1){const d=f=>(this.transform.averageElevation=f,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&d(0);if((s||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const f=this.transform.averageElevation;let v=this.transform.sampleAverageElevation(),b=!1;this.transform.elevation&&(b=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(v)?v=0:this._averageElevationLastSampledAt=m;const S=Math.abs(f-v);if(S>1){if(this._isInitialLoad||b)return this._averageElevation.jumpTo(v),d(v);this._averageElevation.easeTo(v,m,300)}else if(S>1e-4)return this._averageElevation.jumpTo(v),d(v)}return!!this._averageElevation.isEasing(m)&&d(this._averageElevation.getValue(m))}_authenticate(){i.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===i.AUTH_ERR_MSG||m.status===401)){const s=this.painter.context.gl;i.storeAuthState(s,!1),this._logoControl instanceof _m&&this._logoControl._updateLogo(),s&&s.clear(s.DEPTH_BUFFER_BIT|s.COLOR_BUFFER_BIT|s.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new i.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),i.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),s=this.painter.getCanvasCopiesAndTimestamps();s.timeStamps.push(performance.now());const d=this.painter.context.gl,f=d.createFramebuffer();function v(b){d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,b,0);const S=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,d.drawingBufferWidth,d.drawingBufferHeight,d.RGBA,d.UNSIGNED_BYTE,S),S}return d.bindFramebuffer(d.FRAMEBUFFER,f),this._canvasPixelComparison(v(m),s.canvasCopies.map(v),s.timeStamps)}_canvasPixelComparison(m,s,d){let f=d[1]-d[0];const v=m.length/4;for(let b=0;b<s.length;b++){const S=s[b];let P=0;for(let M=0;M<S.length;M+=4)S[M]===m[M]&&S[M+1]===m[M+1]&&S[M+2]===m[M+2]&&S[M+3]===m[M+3]&&(P+=1);f+=(d[b+2]-d[b+1])*(1-P/v)}return f}remove(){this._hash&&this._hash.remove();for(const s of this._controls)s.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),i.window!==void 0&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1),i.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),i.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new i.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=i.exported.frame(s=>{const d=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,d&&this._render(s)}))}_preloadTiles(m){const s=this.style?Object.values(this.style._sourceCaches):[];return i.asyncAll(s,(d,f)=>d._preloadTiles(m,f),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){i.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,s){i.setCacheLimits(m,s)}get version(){return i.version}},NavigationControl:class{constructor(m){this.options=i.extend({},ov,m),this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",s=>{this._map&&this._map.zoomIn({},{originalEvent:s})}),V("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",s=>{this._map&&this._map.zoomOut({},{originalEvent:s})}),V("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",s=>{const d=this._map;d&&(this.options.visualizePitch?d.resetNorthPitch({},{originalEvent:s}):d.resetNorth({},{originalEvent:s}))}),this._compassIcon=V("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const s=m.getZoom(),d=s===m.getMaxZoom(),f=s===m.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=s)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new av(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,s){const d=V("button",m,this._container);return d.type="button",d.addEventListener("click",s),d}_setButtonTitle(m,s){if(!this._map)return;const d=this._map._getUIString(`NavigationControl.${s}`);m.setAttribute("aria-label",d),m.firstElementChild&&m.firstElementChild.setAttribute("title",d)}},GeolocateControl:class extends i.Evented{constructor(m){super(),this.options=i.extend({geolocation:i.window.navigator.geolocation},Am,m),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=rl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const s=(d=!!this.options.geolocation)=>{this._supportsGeolocation=d,m(d)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(d=>s(d.state!=="denied")).catch(()=>s()):s()}_isOutOfMapMaxBounds(m){const s=this._map.getMaxBounds(),d=m.coords;return!!s&&(d.longitude<s.getWest()||d.longitude>s.getEast()||d.latitude<s.getSouth()||d.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",m)),this._finish()}}_updateCamera(m){const s=new i.LngLat(m.coords.longitude,m.coords.latitude),d=m.coords.accuracy,f=this._map.getBearing(),v=i.extend({bearing:f},this.options.fitBoundsOptions);this._map.fitBounds(s.toBounds(d),v,{geolocateSource:!0})}_updateMarker(m){if(m){const s=new i.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(s).addTo(this._map),this._userLocationDotMarker.setLngLat(s).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,s=i.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,d=Math.ceil(2*this._accuracy*s);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const s=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",s),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",s),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",s=>s.preventDefault()),this._geolocateButton=V("button","mapboxgl-ctrl-geolocate",this._container),V("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const s=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",s),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",s)}else{const s=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",s),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",s)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=V("div","mapboxgl-user-location"),this._dotElement.appendChild(V("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(V("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new me({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=V("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new me({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",s=>{s.geolocateSource||this._watchState!=="ACTIVE_LOCK"||s.originalEvent&&s.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new i.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{i.window.addEventListener("ondeviceorientationabsolute"in i.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};i.window.DeviceMotionEvent!==void 0&&typeof i.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(s=>{s==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),i.window.removeEventListener("deviceorientation",this._onDeviceOrientation),i.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ve,ScaleControl:class{constructor(m){this.options=i.extend({},Tm,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),i.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,s=this._map,d=s._containerHeight/2,f=s._containerWidth/2-m/2,v=s.unproject([f,d]),b=s.unproject([f+m,d]),S=v.distanceTo(b);if(this.options.unit==="imperial"){const P=3.2808*S;P>5280?this._setScale(m,P/5280,"mile"):this._setScale(m,P,"foot")}else this.options.unit==="nautical"?this._setScale(m,S/1852,"nautical-mile"):S>=1e3?this._setScale(m,S/1e3,"kilometer"):this._setScale(m,S,"meter")}_setScale(m,s,d){this._map._requestDomTask(()=>{const f=function(b){const S=Math.pow(10,`${Math.floor(b)}`.length-1);let P=b/S;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(M){const L=Math.pow(10,Math.ceil(-Math.log(M)/Math.LN10));return Math.round(M*L)/L}(P),S*P}(s),v=f/s;this._container.innerHTML=this._isNumberFormatSupported&&d!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:d}).format(f):`${f}&nbsp;${Sm[d]}`,this._container.style.width=m*v+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=V("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof i.window.HTMLElement?this._container=m.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in i.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=V("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!i.window.document.fullscreenEnabled&&!i.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=V("button","mapboxgl-ctrl-fullscreen",this._controlContainer);V("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(i.window.document.fullscreenElement||i.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends i.Evented{constructor(m){super(),this.options=i.extend(Object.create(wm),m),i.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new i.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new i.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=i.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const s=this._map;return s&&(s.on("move",this._update),s.off("mousemove",this._onMouseEvent),s._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(i.window.document.createTextNode(m))}setHTML(m){const s=i.window.document.createDocumentFragment(),d=i.window.document.createElement("body");let f;for(d.innerHTML=m;f=d.firstChild,f;)s.appendChild(f);return this.setDOMContent(s)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let s=this._content;if(s)for(;s.hasChildNodes();)s.firstChild&&s.removeChild(s.firstChild);else s=this._content=V("div","mapboxgl-popup-content",this._container||void 0);if(s.appendChild(m),this.options.closeButton){const d=this._closeButton=V("button","mapboxgl-popup-close-button",s);d.type="button",d.setAttribute("aria-label","Close popup"),d.setAttribute("aria-hidden","true"),d.innerHTML="&#215;",d.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let s;return this._classList.delete(m)?s=!1:(this._classList.add(m),s=!0),this._updateClassList(),s}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const s=this._map,d=this._container,f=this._pos;if(!s||!d||!f)return"bottom";const v=d.offsetWidth,b=d.offsetHeight,S=f.x<v/2,P=f.x>s.transform.width-v/2;if(f.y+m<b)return S?"top-left":P?"top-right":"top";if(f.y>s.transform.height-b){if(S)return"bottom-left";if(P)return"bottom-right"}return S?"left":P?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const s=[...this._classList];s.push("mapboxgl-popup"),this._anchor&&s.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&s.push("mapboxgl-popup-track-pointer"),m.className=s.join(" ")}_update(m){const s=this._map,d=this._content;if(!s||!this._lngLat&&!this._trackPointer||!d)return;let f=this._container;if(f||(f=this._container=V("div","mapboxgl-popup",s.getContainer()),this._tip=V("div","mapboxgl-popup-tip",f),f.appendChild(d)),this.options.maxWidth&&f.style.maxWidth!==this.options.maxWidth&&(f.style.maxWidth=this.options.maxWidth),s.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ll(this._lngLat,this._pos,s.transform)),!this._trackPointer||m){const v=this._pos=this._trackPointer&&m?m:s.project(this._lngLat),b=w0(this.options.offset),S=this._anchor=this._getAnchor(b.y),P=w0(this.options.offset,S),M=v.add(P).round();s._requestDomTask(()=>{this._container&&S&&(this._container.style.transform=`${_i[S]} translate(${M.x}px,${M.y}px)`)})}if(!this._marker&&s._showingGlobe()){const v=i.isLngLatBehindGlobe(s.transform,this._lngLat)?0:1;this._setOpacity(v)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(nv);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:me,Style:Er,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,FreeCameraOptions:i0,Evented:i.Evented,config:i.config,prewarm:function(){qi().acquire(Ar)},clearPrewarmedResources:function(){const m=aa;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(Ar),aa=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(m){i.config.ACCESS_TOKEN=m},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(m){i.config.API_URL=m},get workerCount(){return ko.workerCount},set workerCount(m){ko.workerCount=m},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){i.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){i.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:i.exported.setNow,restoreNow:i.exported.restoreNow};return cl});var C=g;return C})})(UB);var uW=UB.exports;const bh=Y1(uW),v_="pk.eyJ1IjoiZGVtby1hY2NvdW50IiwiYSI6ImNrZnljaHNwMjE3aHAyeG50d2RmMzBjNnYifQ.1P23PfP0YZmpSlVCfg4aCQ",pW=()=>{const t=q.useRef(null),e=q.useRef(null),[r,l]=q.useState(!1),[p,g]=q.useState(""),[_,C]=q.useState(v_.includes("demo")),i=[{name:"Headquarters",coordinates:[-74.006,40.7128],size:1.5},{name:"R&D Center",coordinates:[-.1278,51.5074],size:1.3},{name:"Production Facility",coordinates:[121.4737,31.2304],size:1.4},{name:"Distribution Center",coordinates:[77.209,28.6139],size:1.2},{name:"Innovation Lab",coordinates:[139.6917,35.6895],size:1.3},{name:"Regional Office",coordinates:[-118.2437,34.0522],size:1.2},{name:"Sustainability Center",coordinates:[-46.6333,-23.5505],size:1.1},{name:"Processing Plant",coordinates:[28.0473,-26.2041],size:1.2}],E=B=>{if(B)try{let F=function(){if(!e.current)return;const W=e.current.getZoom();if(tt&&!H&&W<V){let $=360/N;if(W>Q){const dt=(V-W)/(V-Q);$*=dt}const Z=e.current.getCenter();Z.lng-=$/60,e.current.easeTo({center:Z,duration:1e3,easing:dt=>dt})}};if(bh.accessToken=B,e.current&&e.current.remove(),!t.current)return;e.current=new bh.Map({container:t.current,style:"mapbox://styles/mapbox/dark-v11",projection:"globe",zoom:1.5,center:[0,20],pitch:40}),e.current.addControl(new bh.NavigationControl({visualizePitch:!0}),"top-right"),e.current.on("style.load",()=>{if(!e.current)return;e.current.setFog({color:"rgb(12, 20, 20)","high-color":"rgb(36, 92, 50)","horizon-blend":.4}),e.current.addSource("mapbox-terrain",{type:"raster-dem",url:"mapbox://mapbox.terrain-rgb"}),e.current.setTerrain({source:"mapbox-terrain",exaggeration:1.5});const W=e.current.getStyle().layers;if(W){const $=W.find(dt=>dt.type==="symbol"&&dt.layout&&dt.layout["text-field"]),Z=$?$.id:void 0;e.current.addLayer({id:"water-glow",type:"fill",source:"composite","source-layer":"water",paint:{"fill-color":"rgba(0, 200, 100, 0.15)","fill-opacity":.8}},Z)}i.forEach($=>{const Z=document.createElement("div");Z.className="facility-marker",Z.style.width=`${$.size*20}px`,Z.style.height=`${$.size*20}px`,Z.style.background="radial-gradient(circle, rgba(0,255,120,0.8) 0%, rgba(0,200,80,0.4) 50%, rgba(0,150,60,0) 100%)",Z.style.borderRadius="50%",Z.style.boxShadow="0 0 15px rgba(0, 255, 120, 0.7)";const dt=new bh.Popup({offset:25,closeButton:!1}).setHTML(`
              <div style="background: rgba(0,30,20,0.9); border: 1px solid #0f0; padding: 10px; border-radius: 4px; color: #fff; font-family: 'Arial', sans-serif;">
                <h3 style="margin: 0 0 5px; color: #0f0; font-weight: bold;">${$.name}</h3>
                <p style="margin: 0; font-size: 12px;">Retort Food Global Network</p>
              </div>
            `);new bh.Marker(Z).setLngLat($.coordinates).setPopup(dt).addTo(e.current);const ft=()=>{Z.style.transform="scale(1)",Z.style.opacity="1",setTimeout(()=>{Z.style.transform="scale(1.5)",Z.style.opacity="0.5",setTimeout(()=>{ft()},1e3)},1e3)};ft()}),l(!0)});const N=180,V=5,Q=3;let H=!1,tt=!0;e.current.on("mousedown",()=>{H=!0}),e.current.on("dragstart",()=>{H=!0}),e.current.on("mouseup",()=>{H=!1,F()}),e.current.on("touchend",()=>{H=!1,F()}),e.current.on("moveend",()=>{F()}),F(),C(!1)}catch(F){console.error("Error initializing map:",F),C(!0)}};return q.useEffect(()=>(v_.includes("demo")||E(v_),()=>{e.current&&e.current.remove()}),[]),w.jsxs("section",{"data-lov-id":"src/components/GlobalMap.tsx:224:4","data-lov-name":"section","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"224","data-component-file":"GlobalMap.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-16%20mb-20%20relative%20overflow-hidden%22%7D",className:"py-16 mb-20 relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:226:6","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"226","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-b%20from-black%20via-green-900%2F10%20to-black%20pointer-events-none%22%7D",className:"absolute inset-0 bg-gradient-to-b from-black via-green-900/10 to-black pointer-events-none"}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:229:6","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"229","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20mb-10%22%7D",className:"container px-4 md:px-6 mb-10",children:w.jsxs(ke.div,{"data-lov-id":"src/components/GlobalMap.tsx:230:8","data-lov-name":"motion.div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"230","data-component-file":"GlobalMap.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:237:10","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"237","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22GLOBAL%20PRESENCE%22%2C%22className%22%3A%22inline-block%20px-4%20py-1%20border%20border-green-500%2F30%20rounded-full%20bg-black%2F50%20backdrop-blur-sm%20text-green-400%20text-sm%20mb-4%22%7D",className:"inline-block px-4 py-1 border border-green-500/30 rounded-full bg-black/50 backdrop-blur-sm text-green-400 text-sm mb-4",children:"GLOBAL PRESENCE"}),w.jsx("h2",{"data-lov-id":"src/components/GlobalMap.tsx:240:10","data-lov-name":"h2","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"240","data-component-file":"GlobalMap.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Our%20Global%20Network%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-2%20text-glow%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-green-300%22%7D",className:"text-3xl md:text-5xl font-bold mb-2 text-glow text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-green-300",children:"Our Global Network"}),w.jsx("p",{"data-lov-id":"src/components/GlobalMap.tsx:243:10","data-lov-name":"p","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"243","data-component-file":"GlobalMap.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Retort%20Food%20maintains%20facilities%20worldwide%20to%20ensure%20efficient%20distribution%20and%20support%20for%20our%20innovative%20food%20preservation%20technology.%22%2C%22className%22%3A%22text-lg%20text-green-100%2F80%20mb-8%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-green-100/80 mb-8 max-w-2xl mx-auto",children:"Retort Food maintains facilities worldwide to ensure efficient distribution and support for our innovative food preservation technology."})]})}),w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:250:6","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"250","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs(ke.div,{"data-lov-id":"src/components/GlobalMap.tsx:251:8","data-lov-name":"motion.div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"251","data-component-file":"GlobalMap.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"relative",children:[_&&w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:260:12","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"260","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-4%20left-0%20right-0%20z-50%20mx-auto%20max-w-md%20bg-black%2F90%20p-4%20rounded-lg%20border%20border-green-500%2F30%20backdrop-blur-md%22%7D",className:"absolute top-4 left-0 right-0 z-50 mx-auto max-w-md bg-black/90 p-4 rounded-lg border border-green-500/30 backdrop-blur-md",children:[w.jsx("p",{"data-lov-id":"src/components/GlobalMap.tsx:261:14","data-lov-name":"p","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"261","data-component-file":"GlobalMap.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Please%20enter%20your%20Mapbox%20public%20token%20to%20view%20the%20map%3A%22%2C%22className%22%3A%22text-sm%20text-green-400%20mb-2%22%7D",className:"text-sm text-green-400 mb-2",children:"Please enter your Mapbox public token to view the map:"}),w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:264:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"264","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",className:"flex gap-2",children:[w.jsx("input",{"data-lov-id":"src/components/GlobalMap.tsx:265:16","data-lov-name":"input","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"265","data-component-file":"GlobalMap.tsx","data-component-name":"input","data-component-content":"%7B%22placeholder%22%3A%22Mapbox%20public%20token%22%2C%22className%22%3A%22flex-grow%20px-3%20py-2%20bg-black%2F50%20border%20border-green-500%2F30%20rounded%20text-white%22%7D",type:"text",value:p,onChange:B=>g(B.target.value),placeholder:"Mapbox public token",className:"flex-grow px-3 py-2 bg-black/50 border border-green-500/30 rounded text-white"}),w.jsx("button",{"data-lov-id":"src/components/GlobalMap.tsx:272:16","data-lov-name":"button","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"272","data-component-file":"GlobalMap.tsx","data-component-name":"button","data-component-content":"%7B%22text%22%3A%22Apply%22%2C%22className%22%3A%22px-4%20py-2%20bg-green-500%20text-black%20font-medium%20rounded%20hover%3Abg-green-400%20transition-colors%22%7D",onClick:()=>E(p),className:"px-4 py-2 bg-green-500 text-black font-medium rounded hover:bg-green-400 transition-colors",children:"Apply"})]}),w.jsxs("p",{"data-lov-id":"src/components/GlobalMap.tsx:279:14","data-lov-name":"p","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"279","data-component-file":"GlobalMap.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Get%20your%20token%20at%22%2C%22className%22%3A%22text-xs%20text-green-400%2F70%20mt-2%22%7D",className:"text-xs text-green-400/70 mt-2",children:["Get your token at ",w.jsx("a",{"data-lov-id":"src/components/GlobalMap.tsx:280:34","data-lov-name":"a","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"280","data-component-file":"GlobalMap.tsx","data-component-name":"a","data-component-content":"%7B%22text%22%3A%22mapbox.com%22%2C%22className%22%3A%22underline%22%7D",href:"https://mapbox.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"mapbox.com"})]})]}),w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:286:10","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"286","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-video%20md%3Aaspect-%5B21%2F9%5D%20w-full%20rounded-xl%20overflow-hidden%20border%20border-green-500%2F30%20shadow-lg%20shadow-green-500%2F20%22%7D",className:"aspect-video md:aspect-[21/9] w-full rounded-xl overflow-hidden border border-green-500/30 shadow-lg shadow-green-500/20",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:287:12","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"287","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%22%7D",ref:t,className:"w-full h-full"}),w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:290:12","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"290","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20pointer-events-none%22%7D",className:"absolute inset-0 pointer-events-none",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:292:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"292","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20scan-lines%20opacity-20%22%7D",className:"absolute inset-0 scan-lines opacity-20"}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:295:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"295","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20left-0%20w-16%20h-16%20border-t-2%20border-l-2%20border-green-500%2F50%22%7D",className:"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-green-500/50"}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:296:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"296","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20right-0%20w-16%20h-16%20border-t-2%20border-r-2%20border-green-500%2F50%22%7D",className:"absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-green-500/50"}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:297:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"297","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20w-16%20h-16%20border-b-2%20border-l-2%20border-green-500%2F50%22%7D",className:"absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-green-500/50"}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:298:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"298","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20right-0%20w-16%20h-16%20border-b-2%20border-r-2%20border-green-500%2F50%22%7D",className:"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-green-500/50"})]})]}),w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:303:10","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"303","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-4%20left-4%20max-w-xs%20bg-black%2F80%20backdrop-blur-sm%20rounded-lg%20border%20border-green-500%2F30%20p-4%20text-white%20text-sm%22%7D",className:"absolute bottom-4 left-4 max-w-xs bg-black/80 backdrop-blur-sm rounded-lg border border-green-500/30 p-4 text-white text-sm",children:[w.jsx("h4",{"data-lov-id":"src/components/GlobalMap.tsx:304:12","data-lov-name":"h4","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"304","data-component-file":"GlobalMap.tsx","data-component-name":"h4","data-component-content":"%7B%22text%22%3A%22Retort%20Food%20Global%20Network%22%2C%22className%22%3A%22font-bold%20text-green-400%20mb-1%22%7D",className:"font-bold text-green-400 mb-1",children:"Retort Food Global Network"}),w.jsx("p",{"data-lov-id":"src/components/GlobalMap.tsx:305:12","data-lov-name":"p","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"305","data-component-file":"GlobalMap.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20facilities%20span%20across%20multiple%20continents%2C%20ensuring%20global%20reach%20for%20our%20advanced%20retort%20technology%20solutions.%22%2C%22className%22%3A%22text-green-100%2F80%20text-xs%22%7D",className:"text-green-100/80 text-xs",children:"Our facilities span across multiple continents, ensuring global reach for our advanced retort technology solutions."})]}),!r&&!_&&w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:312:12","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"312","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20flex%20items-center%20justify-center%20bg-black%2F50%20backdrop-blur-sm%22%7D",className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:313:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"313","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%22%7D",className:"flex flex-col items-center",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:314:16","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"314","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20border-4%20border-green-500%2F30%20border-t-green-500%20rounded-full%20animate-spin%22%7D",className:"w-16 h-16 border-4 border-green-500/30 border-t-green-500 rounded-full animate-spin"}),w.jsx("p",{"data-lov-id":"src/components/GlobalMap.tsx:315:16","data-lov-name":"p","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"315","data-component-file":"GlobalMap.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Loading%20map...%22%2C%22className%22%3A%22mt-4%20text-green-400%22%7D",className:"mt-4 text-green-400",children:"Loading map..."})]})})]}),w.jsx(ke.div,{"data-lov-id":"src/components/GlobalMap.tsx:322:8","data-lov-name":"motion.div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"322","data-component-file":"GlobalMap.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20md%3Agrid-cols-4%20gap-4%20md%3Agap-6%20mt-8%22%7D",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mt-8",children:[{label:"Countries",value:"45+"},{label:"Distribution Centers",value:"120+"},{label:"Partner Facilities",value:"230+"},{label:"Retort Systems",value:"500+"}].map((B,F)=>w.jsxs("div",{"data-lov-id":"src/components/GlobalMap.tsx:335:12","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"335","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-green-500%2F20%20rounded-lg%20p-4%20text-center%20hover%3Aborder-green-500%2F40%20transition-all%22%7D",className:"bg-black/30 backdrop-blur-sm border border-green-500/20 rounded-lg p-4 text-center hover:border-green-500/40 transition-all",children:[w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:339:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"339","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-2xl%20md%3Atext-3xl%20font-bold%20text-green-400%22%7D",className:"text-2xl md:text-3xl font-bold text-green-400",children:B.value}),w.jsx("div",{"data-lov-id":"src/components/GlobalMap.tsx:340:14","data-lov-name":"div","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"340","data-component-file":"GlobalMap.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-green-100%2F70%22%7D",className:"text-sm text-green-100/70",children:B.label})]},F))})]}),w.jsx("style",{"data-lov-id":"src/components/GlobalMap.tsx:347:6","data-lov-name":"style","data-component-path":"src/components/GlobalMap.tsx","data-component-line":"347","data-component-file":"GlobalMap.tsx","data-component-name":"style","data-component-content":"%7B%7D",jsx:!0,children:`
        .facility-marker {
          transition: transform 1s ease-out, opacity 1s ease-out;
        }
      `})]})},mW=()=>(q.useEffect(()=>{const t=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting&&r.target.classList.add("animate-appear")})},{threshold:.1});return document.querySelectorAll(".animate-on-scroll").forEach(e=>{t.observe(e)}),()=>{document.querySelectorAll(".animate-on-scroll").forEach(e=>{t.unobserve(e)})}},[]),q.useEffect(()=>(document.body.style.backgroundColor="#000000",document.body.classList.add("tech-data-flow"),()=>{document.body.style.backgroundColor="",document.body.classList.remove("tech-data-flow")}),[]),w.jsxs("div",{"data-lov-id":"src/pages/Index.tsx:56:4","data-lov-name":"div","data-component-path":"src/pages/Index.tsx","data-component-line":"56","data-component-file":"Index.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20relative%20bg-black%22%7D",className:"min-h-screen relative bg-black",children:[w.jsx(ZG,{"data-lov-id":"src/pages/Index.tsx:57:6","data-lov-name":"ParallaxBackground","data-component-path":"src/pages/Index.tsx","data-component-line":"57","data-component-file":"Index.tsx","data-component-name":"ParallaxBackground","data-component-content":"%7B%7D"}),w.jsx(Gr,{"data-lov-id":"src/pages/Index.tsx:58:6","data-lov-name":"Navbar","data-component-path":"src/pages/Index.tsx","data-component-line":"58","data-component-file":"Index.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsx(zG,{"data-lov-id":"src/pages/Index.tsx:59:6","data-lov-name":"Hero","data-component-path":"src/pages/Index.tsx","data-component-line":"59","data-component-file":"Index.tsx","data-component-name":"Hero","data-component-content":"%7B%7D"}),w.jsx(KG,{"data-lov-id":"src/pages/Index.tsx:60:6","data-lov-name":"PlatformSelector","data-component-path":"src/pages/Index.tsx","data-component-line":"60","data-component-file":"Index.tsx","data-component-name":"PlatformSelector","data-component-content":"%7B%7D"}),w.jsx(HG,{"data-lov-id":"src/pages/Index.tsx:61:6","data-lov-name":"EnvironmentalImpact","data-component-path":"src/pages/Index.tsx","data-component-line":"61","data-component-file":"Index.tsx","data-component-name":"EnvironmentalImpact","data-component-content":"%7B%7D"}),w.jsx($G,{}),w.jsx(pW,{"data-lov-id":"src/pages/Index.tsx:63:6","data-lov-name":"GlobalMap","data-component-path":"src/pages/Index.tsx","data-component-line":"63","data-component-file":"Index.tsx","data-component-name":"GlobalMap","data-component-content":"%7B%7D"}),w.jsx(sW,{"data-lov-id":"src/pages/Index.tsx:64:6","data-lov-name":"PreservedFoodExamples","data-component-path":"src/pages/Index.tsx","data-component-line":"64","data-component-file":"Index.tsx","data-component-name":"PreservedFoodExamples","data-component-content":"%7B%7D"}),w.jsx(K4,{"data-lov-id":"src/pages/Index.tsx:65:6","data-lov-name":"RetortProcess","data-component-path":"src/pages/Index.tsx","data-component-line":"65","data-component-file":"Index.tsx","data-component-name":"RetortProcess","data-component-content":"%7B%7D"}),w.jsx(Y4,{"data-lov-id":"src/pages/Index.tsx:66:6","data-lov-name":"TechSpecs","data-component-path":"src/pages/Index.tsx","data-component-line":"66","data-component-file":"Index.tsx","data-component-name":"TechSpecs","data-component-content":"%7B%7D"}),w.jsx(WG,{"data-lov-id":"src/pages/Index.tsx:67:6","data-lov-name":"FuturisticFeatures","data-component-path":"src/pages/Index.tsx","data-component-line":"67","data-component-file":"Index.tsx","data-component-name":"FuturisticFeatures","data-component-content":"%7B%7D"}),w.jsx(dW,{"data-lov-id":"src/pages/Index.tsx:68:6","data-lov-name":"CommunicationSystem","data-component-path":"src/pages/Index.tsx","data-component-line":"68","data-component-file":"Index.tsx","data-component-name":"CommunicationSystem","data-component-content":"%7B%7D"}),w.jsx(GG,{"data-lov-id":"src/pages/Index.tsx:69:6","data-lov-name":"About","data-component-path":"src/pages/Index.tsx","data-component-line":"69","data-component-file":"Index.tsx","data-component-name":"About","data-component-content":"%7B%7D"}),w.jsx(qG,{"data-lov-id":"src/pages/Index.tsx:70:6","data-lov-name":"CallToAction","data-component-path":"src/pages/Index.tsx","data-component-line":"70","data-component-file":"Index.tsx","data-component-name":"CallToAction","data-component-content":"%7B%7D"}),w.jsx(qr,{"data-lov-id":"src/pages/Index.tsx:71:6","data-lov-name":"Footer","data-component-path":"src/pages/Index.tsx","data-component-line":"71","data-component-file":"Index.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(s3,{"data-lov-id":"src/pages/Index.tsx:72:6","data-lov-name":"EnhancedChatMenu","data-component-path":"src/pages/Index.tsx","data-component-line":"72","data-component-file":"Index.tsx","data-component-name":"EnhancedChatMenu","data-component-content":"%7B%7D"}),w.jsx("div",{"data-lov-id":"src/pages/Index.tsx:75:6","data-lov-name":"div","data-component-path":"src/pages/Index.tsx","data-component-line":"75","data-component-file":"Index.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20scan-lines%20pointer-events-none%20z-%5B60%5D%20opacity-30%22%7D",className:"fixed inset-0 scan-lines pointer-events-none z-[60] opacity-30"})]})),hW=()=>{const t=Nf();return q.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),w.jsxs("div",{"data-lov-id":"src/pages/NotFound.tsx:20:4","data-lov-name":"div","data-component-path":"src/pages/NotFound.tsx","data-component-line":"20","data-component-file":"NotFound.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20flex-col%22%7D",className:"min-h-screen flex flex-col",children:[w.jsx(Gr,{"data-lov-id":"src/pages/NotFound.tsx:21:6","data-lov-name":"Navbar","data-component-path":"src/pages/NotFound.tsx","data-component-line":"21","data-component-file":"NotFound.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsx("main",{"data-lov-id":"src/pages/NotFound.tsx:22:6","data-lov-name":"main","data-component-path":"src/pages/NotFound.tsx","data-component-line":"22","data-component-file":"NotFound.tsx","data-component-name":"main","data-component-content":"%7B%22className%22%3A%22flex-grow%20flex%20items-center%20justify-center%20bg-white%20py-20%22%7D",className:"flex-grow flex items-center justify-center bg-white py-20",children:w.jsxs("div",{"data-lov-id":"src/pages/NotFound.tsx:23:8","data-lov-name":"div","data-component-path":"src/pages/NotFound.tsx","data-component-line":"23","data-component-file":"NotFound.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20max-w-md%20px-4%22%7D",className:"text-center max-w-md px-4",children:[w.jsx("h1",{"data-lov-id":"src/pages/NotFound.tsx:24:10","data-lov-name":"h1","data-component-path":"src/pages/NotFound.tsx","data-component-line":"24","data-component-file":"NotFound.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22404%22%2C%22className%22%3A%22text-6xl%20font-bold%20mb-4%20text-nourish-600%22%7D",className:"text-6xl font-bold mb-4 text-nourish-600",children:"404"}),w.jsx("p",{"data-lov-id":"src/pages/NotFound.tsx:25:10","data-lov-name":"p","data-component-path":"src/pages/NotFound.tsx","data-component-line":"25","data-component-file":"NotFound.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Oops!%20We%20couldn't%20find%20the%20page%20you're%20looking%20for.%22%2C%22className%22%3A%22text-xl%20text-gray-600%20mb-8%22%7D",className:"text-xl text-gray-600 mb-8",children:"Oops! We couldn't find the page you're looking for."}),w.jsx("div",{"data-lov-id":"src/pages/NotFound.tsx:26:10","data-lov-name":"div","data-component-path":"src/pages/NotFound.tsx","data-component-line":"26","data-component-file":"NotFound.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-8%22%7D",className:"mb-8",children:w.jsx("img",{"data-lov-id":"src/pages/NotFound.tsx:27:12","data-lov-name":"img","data-component-path":"src/pages/NotFound.tsx","data-component-line":"27","data-component-file":"NotFound.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-40%20h-40%20mx-auto%20object-cover%20rounded-full%22%7D",src:"https://images.unsplash.com/photo-1586348943529-beaae6c28db9?q=80&w=500&auto=format&fit=crop",alt:"Plant sprouting from soil",className:"w-40 h-40 mx-auto object-cover rounded-full"})}),w.jsx("p",{"data-lov-id":"src/pages/NotFound.tsx:33:10","data-lov-name":"p","data-component-path":"src/pages/NotFound.tsx","data-component-line":"33","data-component-file":"NotFound.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Let's%20get%20you%20back%20to%20growing%20something%20amazing!%22%2C%22className%22%3A%22mb-8%20text-gray-500%22%7D",className:"mb-8 text-gray-500",children:"Let's get you back to growing something amazing!"}),w.jsx(zn,{"data-lov-id":"src/pages/NotFound.tsx:34:10","data-lov-name":"Link","data-component-path":"src/pages/NotFound.tsx","data-component-line":"34","data-component-file":"NotFound.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/",children:w.jsx(pn,{"data-lov-id":"src/pages/NotFound.tsx:35:12","data-lov-name":"Button","data-component-path":"src/pages/NotFound.tsx","data-component-line":"35","data-component-file":"NotFound.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Return%20to%20Home%22%2C%22className%22%3A%22bg-nourish-500%20hover%3Abg-nourish-600%22%7D",className:"bg-nourish-500 hover:bg-nourish-600",children:"Return to Home"})})]})}),w.jsx(qr,{"data-lov-id":"src/pages/NotFound.tsx:41:6","data-lov-name":"Footer","data-component-path":"src/pages/NotFound.tsx","data-component-line":"41","data-component-file":"NotFound.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"})]})},GB=({label:t="Back",className:e=""})=>{const r=u5(),l=()=>{r(-1)};return w.jsxs(pn,{"data-lov-id":"src/components/BackButton.tsx:20:4","data-lov-name":"Button","data-component-path":"src/components/BackButton.tsx","data-component-line":"20","data-component-file":"BackButton.tsx","data-component-name":"Button","data-component-content":"%7B%7D",variant:"ghost",onClick:l,className:`group hover:bg-black/20 text-white ${e}`,children:[w.jsx(HL,{"data-lov-id":"src/components/BackButton.tsx:25:6","data-lov-name":"ArrowLeft","data-component-path":"src/components/BackButton.tsx","data-component-line":"25","data-component-file":"BackButton.tsx","data-component-name":"ArrowLeft","data-component-content":"%7B%22className%22%3A%22mr-2%20h-4%20w-4%20transition-transform%20group-hover%3A-translate-x-1%22%7D",className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"}),t]})},fW=()=>{const{scrollYProgress:t}=BG(),e=HE(t,[0,.2],[1,0]),r=HE(t,[0,.2],[1,.95]);return q.useEffect(()=>{window.scrollTo(0,0)},[]),w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:24:4","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"24","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20relative%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen relative bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/TechnologyPage.tsx:25:6","data-lov-name":"Navbar","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"25","data-component-file":"TechnologyPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:27:6","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"27","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-%5B65vh%5D%20relative%20flex%20items-center%20justify-center%20overflow-hidden%22%7D",className:"h-[65vh] relative flex items-center justify-center overflow-hidden",children:[w.jsxs(ke.div,{"data-lov-id":"src/pages/TechnologyPage.tsx:28:8","data-lov-name":"motion.div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"28","data-component-file":"TechnologyPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",style:{opacity:e,scale:r},className:"absolute inset-0 z-0",children:[w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:32:10","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"32","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-r%20from-black%2F70%20via-black%2F50%20to-black%2F70%22%7D",className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70"}),w.jsx("img",{"data-lov-id":"src/pages/TechnologyPage.tsx:33:10","data-lov-name":"img","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"33","data-component-file":"TechnologyPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%22%7D",src:"https://images.unsplash.com/photo-1581088507352-4555276240f7?q=80&w=2000&auto=format&fit=crop",alt:"Advanced retort technology machinery",className:"w-full h-full object-cover"})]}),w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:40:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"40","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-6%20left-6%20z-20%22%7D",className:"absolute top-6 left-6 z-20",children:w.jsx(GB,{"data-lov-id":"src/pages/TechnologyPage.tsx:41:10","data-lov-name":"BackButton","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"41","data-component-file":"TechnologyPage.tsx","data-component-name":"BackButton","data-component-content":"%7B%7D"})}),w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:44:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"44","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:w.jsxs(ke.div,{"data-lov-id":"src/pages/TechnologyPage.tsx:45:10","data-lov-name":"motion.div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"45","data-component-file":"TechnologyPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%20mx-auto%20text-center%22%7D",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto text-center",children:[w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:51:12","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"51","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22ADVANCED%20FOOD%20PRESERVATION%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-green-900%2F50%20text-green-400%20border%20border-green-500%2F30%20text-sm%20mb-6%22%7D",className:"inline-block px-3 py-1 rounded-full bg-green-900/50 text-green-400 border border-green-500/30 text-sm mb-6",children:"ADVANCED FOOD PRESERVATION"}),w.jsx("h1",{"data-lov-id":"src/pages/TechnologyPage.tsx:54:12","data-lov-name":"h1","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"54","data-component-file":"TechnologyPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-4xl%20md%3Atext-6xl%20lg%3Atext-7xl%20font-bold%20text-white%20mb-6%20text-glow%22%7D",className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 text-glow",children:w.jsx("span",{"data-lov-id":"src/pages/TechnologyPage.tsx:55:14","data-lov-name":"span","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"55","data-component-file":"TechnologyPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Our%20Retort%20Technology%22%2C%22className%22%3A%22text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-cyan-400%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-cyan-400",children:"Our Retort Technology"})}),w.jsx("p",{"data-lov-id":"src/pages/TechnologyPage.tsx:57:12","data-lov-name":"p","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"57","data-component-file":"TechnologyPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Discover%20our%20patent-pending%20thermal%20process%20that%20revolutionizes%20food%20preservation%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20maintaining%20nutrition%2C%20flavor%20and%20environmental%20sustainability.%22%2C%22className%22%3A%22text-xl%20text-white%2F90%20mb-8%22%7D",className:"text-xl text-white/90 mb-8",children:"Discover our patent-pending thermal process that revolutionizes food preservation while maintaining nutrition, flavor and environmental sustainability."})]})}),w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:64:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"64","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20right-0%20h-24%20bg-gradient-to-t%20from-black%20to-transparent%22%7D",className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black to-transparent"})]}),w.jsx("section",{"data-lov-id":"src/pages/TechnologyPage.tsx:68:6","data-lov-name":"section","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"68","data-component-file":"TechnologyPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-16%22%7D",className:"py-16",children:w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:69:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"69","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:70:10","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"70","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-3%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Thermal Precision",description:"Our system maintains exact temperature control within 0.5C for optimal sterilization.",icon:"",delay:0},{title:"Advanced Materials",description:"Corrosion-resistant alloys and polymers designed for high-pressure thermal environments.",icon:"",delay:.2},{title:"Smart Monitoring",description:"AI-powered sensors track and adjust conditions in real-time for perfect results every time.",icon:"",delay:.4}].map((l,p)=>w.jsxs(ke.div,{"data-lov-id":"src/pages/TechnologyPage.tsx:91:14","data-lov-name":"motion.div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"91","data-component-file":"TechnologyPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-green-500%2F30%20p-6%20rounded-xl%22%7D",className:"bg-black/30 backdrop-blur-sm border border-green-500/30 p-6 rounded-xl",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l.delay},viewport:{once:!0},children:[w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:99:16","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"99","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-4xl%20mb-4%22%7D",className:"text-4xl mb-4",children:l.icon}),w.jsx("h3",{"data-lov-id":"src/pages/TechnologyPage.tsx:100:16","data-lov-name":"h3","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"100","data-component-file":"TechnologyPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-white%20mb-2%22%7D",className:"text-xl font-semibold text-white mb-2",children:l.title}),w.jsx("p",{"data-lov-id":"src/pages/TechnologyPage.tsx:101:16","data-lov-name":"p","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"101","data-component-file":"TechnologyPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F80%22%7D",className:"text-white/80",children:l.description})]},p))})})}),w.jsx(Y4,{"data-lov-id":"src/pages/TechnologyPage.tsx:109:6","data-lov-name":"TechSpecs","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"109","data-component-file":"TechnologyPage.tsx","data-component-name":"TechSpecs","data-component-content":"%7B%7D"}),w.jsx(K4,{"data-lov-id":"src/pages/TechnologyPage.tsx:112:6","data-lov-name":"RetortProcess","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"112","data-component-file":"TechnologyPage.tsx","data-component-name":"RetortProcess","data-component-content":"%7B%7D"}),w.jsx("section",{"data-lov-id":"src/pages/TechnologyPage.tsx:115:6","data-lov-name":"section","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"115","data-component-file":"TechnologyPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-black%2F90%20to-background%22%7D",className:"py-24 bg-gradient-to-b from-black/90 to-background",children:w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:116:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"116","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:117:10","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"117","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("h2",{"data-lov-id":"src/pages/TechnologyPage.tsx:118:12","data-lov-name":"h2","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"118","data-component-file":"TechnologyPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Technology%20Evolution%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20mb-6%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-cyan-400%22%7D",className:"text-3xl md:text-5xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-cyan-400",children:"Technology Evolution"}),w.jsx("p",{"data-lov-id":"src/pages/TechnologyPage.tsx:119:12","data-lov-name":"p","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"119","data-component-file":"TechnologyPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20journey%20of%20innovation%20in%20retort%20technology%20spans%20decades%20of%20research%20and%20development%22%2C%22className%22%3A%22text-lg%20text-white%2F90%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-white/90 max-w-2xl mx-auto",children:"Our journey of innovation in retort technology spans decades of research and development"})]}),w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:124:10","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"124","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%20relative%22%7D",className:"max-w-4xl mx-auto relative",children:[w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:126:12","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"126","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20left-1%2F2%20transform%20-translate-x-1%2F2%20top-0%20bottom-0%20w-0.5%20bg-gradient-to-b%20from-green-500%2F30%20to-cyan-500%2F30%22%7D",className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-green-500/30 to-cyan-500/30"}),[{year:"1990",title:"First Generation",description:"Initial retort systems designed with basic thermal processing capabilities.",align:"right",delay:0},{year:"2005",title:"Digital Controls",description:"Introduction of computerized monitoring and temperature regulation systems.",align:"left",delay:.2},{year:"2015",title:"Efficiency Breakthrough",description:"Development of energy recovery systems reducing power consumption by 40%.",align:"right",delay:.4},{year:"2023",title:"AI Integration",description:"Smart processing algorithms for optimal temperature and pressure modulation.",align:"left",delay:.6}].map((l,p)=>w.jsxs(ke.div,{"data-lov-id":"src/pages/TechnologyPage.tsx:159:14","data-lov-name":"motion.div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"159","data-component-file":"TechnologyPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",className:`flex items-center mb-16 last:mb-0 ${l.align==="left"?"flex-row":"flex-row-reverse"}`,initial:{opacity:0,x:l.align==="left"?-30:30},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:l.delay},viewport:{once:!0},children:[w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:167:16","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"167","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`w-1/2 ${l.align==="left"?"pr-8 text-right":"pl-8"}`,children:[w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:168:18","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"168","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-green-400%20font-bold%20mb-1%22%7D",className:"text-green-400 font-bold mb-1",children:l.year}),w.jsx("h3",{"data-lov-id":"src/pages/TechnologyPage.tsx:169:18","data-lov-name":"h3","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"169","data-component-file":"TechnologyPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-white%20mb-2%22%7D",className:"text-xl font-semibold text-white mb-2",children:l.title}),w.jsx("p",{"data-lov-id":"src/pages/TechnologyPage.tsx:170:18","data-lov-name":"p","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"170","data-component-file":"TechnologyPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F70%22%7D",className:"text-white/70",children:l.description})]}),w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:173:16","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"173","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22z-10%20flex-shrink-0%22%7D",className:"z-10 flex-shrink-0",children:w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:174:18","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"174","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20rounded-full%20bg-gradient-to-r%20from-green-500%20to-cyan-500%20border-4%20border-black%22%7D",className:"w-5 h-5 rounded-full bg-gradient-to-r from-green-500 to-cyan-500 border-4 border-black"})}),w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:177:16","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"177","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-1%2F2%22%7D",className:"w-1/2"})]},p))]})]})}),w.jsx("section",{"data-lov-id":"src/pages/TechnologyPage.tsx:185:6","data-lov-name":"section","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"185","data-component-file":"TechnologyPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-16%20bg-green-900%2F50%20border-t%20border-green-500%2F30%22%7D",className:"py-16 bg-green-900/50 border-t border-green-500/30",children:w.jsx("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:186:8","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"186","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:187:10","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"187","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%20mx-auto%20text-center%22%7D",className:"max-w-3xl mx-auto text-center",children:[w.jsx("h2",{"data-lov-id":"src/pages/TechnologyPage.tsx:188:12","data-lov-name":"h2","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"188","data-component-file":"TechnologyPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Ready%20to%20Implement%20Retort%20Technology%20in%20Your%20Business%3F%22%2C%22className%22%3A%22text-2xl%20md%3Atext-4xl%20font-bold%20mb-6%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-green-400%20to-cyan-400%22%7D",className:"text-2xl md:text-4xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-cyan-400",children:"Ready to Implement Retort Technology in Your Business?"}),w.jsx("p",{"data-lov-id":"src/pages/TechnologyPage.tsx:191:12","data-lov-name":"p","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"191","data-component-file":"TechnologyPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20experts%20are%20ready%20to%20help%20you%20explore%20how%20our%20systems%20can%20enhance%20your%20food%20preservation%20capabilities%22%2C%22className%22%3A%22text-lg%20text-white%2F90%20mb-8%22%7D",className:"text-lg text-white/90 mb-8",children:"Our experts are ready to help you explore how our systems can enhance your food preservation capabilities"}),w.jsxs("div",{"data-lov-id":"src/pages/TechnologyPage.tsx:194:12","data-lov-name":"div","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"194","data-component-file":"TechnologyPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20justify-center%22%7D",className:"flex flex-col sm:flex-row gap-4 justify-center",children:[w.jsx(zn,{"data-lov-id":"src/pages/TechnologyPage.tsx:195:14","data-lov-name":"Link","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"195","data-component-file":"TechnologyPage.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",children:w.jsxs(pn,{"data-lov-id":"src/pages/TechnologyPage.tsx:196:16","data-lov-name":"Button","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"196","data-component-file":"TechnologyPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Contact%20Our%20Team%22%2C%22className%22%3A%22bg-gradient-to-r%20from-green-500%20to-cyan-500%20hover%3Afrom-green-600%20hover%3Ato-cyan-600%20text-white%20group%22%7D",size:"lg",className:"bg-gradient-to-r from-green-500 to-cyan-500 hover:from-green-600 hover:to-cyan-600 text-white group",children:["Contact Our Team",w.jsx($o,{"data-lov-id":"src/pages/TechnologyPage.tsx:198:18","data-lov-name":"ArrowRight","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"198","data-component-file":"TechnologyPage.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-2%20transition-transform%20group-hover%3Atranslate-x-1%22%7D",className:"ml-2 transition-transform group-hover:translate-x-1",size:16})]})}),w.jsx(zn,{"data-lov-id":"src/pages/TechnologyPage.tsx:201:14","data-lov-name":"Link","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"201","data-component-file":"TechnologyPage.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/templates",children:w.jsx(pn,{"data-lov-id":"src/pages/TechnologyPage.tsx:202:16","data-lov-name":"Button","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"202","data-component-file":"TechnologyPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22View%20Application%20Templates%22%2C%22className%22%3A%22border-green-400%20text-green-400%20hover%3Abg-green-900%2F50%22%7D",size:"lg",variant:"outline",className:"border-green-400 text-green-400 hover:bg-green-900/50",children:"View Application Templates"})})]})]})})}),w.jsx(qr,{"data-lov-id":"src/pages/TechnologyPage.tsx:211:6","data-lov-name":"Footer","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"211","data-component-file":"TechnologyPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(s3,{"data-lov-id":"src/pages/TechnologyPage.tsx:212:6","data-lov-name":"EnhancedChatMenu","data-component-path":"src/pages/TechnologyPage.tsx","data-component-line":"212","data-component-file":"TechnologyPage.tsx","data-component-name":"EnhancedChatMenu","data-component-content":"%7B%7D"})]})},gW=[{id:1,text:"Hello! I'm RetortBot, your retort technology assistant. How can I help you today?",isBot:!0}],xW=["How does retort technology work?","What are the benefits of retort technology?","How long can food stay fresh?","Is retort technology environmentally friendly?"],rP={"how does retort technology work":"Retort technology is a high-temperature sterilization process that preserves food in hermetically sealed containers. It works by applying precise temperature (121C) and pressure (15 PSI) to eliminate harmful microorganisms while preserving food quality and nutrients.","what are the benefits of retort technology":"The main benefits include extended shelf life (up to 24 months without refrigeration), no need for preservatives, excellent nutrient retention, energy efficiency, ready-to-eat convenience, and flexible packaging options.","how long can food stay fresh":"With our retort technology, food can stay fresh for up to 24 months at ambient temperature without any preservatives or refrigeration, while maintaining excellent quality and nutritional value.","is retort technology environmentally friendly":"Yes! Our retort technology significantly reduces food waste (by 30%), eliminates the need for cold chain transportation, uses energy-efficient systems, and requires fewer preservatives, making it an environmentally sustainable solution."},sc=()=>{const[t,e]=q.useState(!1),[r,l]=q.useState(gW),[p,g]=q.useState(""),[_,C]=q.useState(!1),[i,E]=q.useState(null),B=()=>{if(!p.trim()&&!i)return;const N=p||i||"",V={id:r.length+1,text:N,isBot:!1};l(Q=>[...Q,V]),g(""),E(null),C(!0),setTimeout(()=>{let Q="I don't have specific information about that. Would you like to know about how retort technology works, its benefits, shelf life, or environmental impact?";const H=N.toLowerCase();for(const W in rP)if(H.includes(W)){Q=rP[W];break}const tt={id:r.length+2,text:Q,isBot:!0};l(W=>[...W,tt]),C(!1)},1500)},F=N=>{N.key==="Enter"&&B()};return w.jsxs(w.Fragment,{children:[w.jsxs(ke.button,{"data-lov-id":"src/components/ChatbotButton.tsx:94:6","data-lov-name":"motion.button","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"94","data-component-file":"ChatbotButton.tsx","data-component-name":"motion.button","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-6%20right-6%20z-50%20w-14%20h-14%20rounded-full%20bg-nourish-600%20text-white%20shadow-lg%20flex%20items-center%20justify-center%20hover%3Abg-nourish-500%20transition-colors%22%7D",className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full bg-nourish-600 text-white shadow-lg flex items-center justify-center hover:bg-nourish-500 transition-colors",onClick:()=>e(!0),whileHover:{scale:1.1},whileTap:{scale:.9},children:[w.jsx(ax,{"data-lov-id":"src/components/ChatbotButton.tsx:100:8","data-lov-name":"Bot","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"100","data-component-file":"ChatbotButton.tsx","data-component-name":"Bot","data-component-content":"%7B%7D",size:24}),w.jsx("span",{"data-lov-id":"src/components/ChatbotButton.tsx:101:8","data-lov-name":"span","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"101","data-component-file":"ChatbotButton.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20right-0%20w-3%20h-3%20bg-red-500%20rounded-full%20animate-ping%22%7D",className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]}),w.jsx(Ow,{"data-lov-id":"src/components/ChatbotButton.tsx:105:6","data-lov-name":"AnimatePresence","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"105","data-component-file":"ChatbotButton.tsx","data-component-name":"AnimatePresence","data-component-content":"%7B%7D",children:t&&w.jsxs(ke.div,{"data-lov-id":"src/components/ChatbotButton.tsx:107:10","data-lov-name":"motion.div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"107","data-component-file":"ChatbotButton.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-24%20right-6%20z-50%20w-%5B350px%5D%20sm%3Aw-%5B400px%5D%20max-h-%5B600px%5D%20rounded-xl%20overflow-hidden%20shadow-2xl%20flex%20flex-col%20bg-black%20border%20border-nourish-500%2F30%22%7D",className:"fixed bottom-24 right-6 z-50 w-[350px] sm:w-[400px] max-h-[600px] rounded-xl overflow-hidden shadow-2xl flex flex-col bg-black border border-nourish-500/30",initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{duration:.3},children:[w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:115:12","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"115","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F70%20backdrop-blur-sm%20p-4%20flex%20items-center%20justify-between%20border-b%20border-nourish-500%2F30%22%7D",className:"bg-nourish-900/70 backdrop-blur-sm p-4 flex items-center justify-between border-b border-nourish-500/30",children:[w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:116:14","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"116","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%22%7D",className:"flex items-center",children:[w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:117:16","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"117","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20rounded-full%20bg-nourish-600%20flex%20items-center%20justify-center%20mr-3%22%7D",className:"w-8 h-8 rounded-full bg-nourish-600 flex items-center justify-center mr-3",children:w.jsx(ax,{"data-lov-id":"src/components/ChatbotButton.tsx:118:18","data-lov-name":"Bot","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"118","data-component-file":"ChatbotButton.tsx","data-component-name":"Bot","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",size:18,className:"text-white"})}),w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:120:16","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"120","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/components/ChatbotButton.tsx:121:18","data-lov-name":"h3","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"121","data-component-file":"ChatbotButton.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22RetortBot%22%2C%22className%22%3A%22font-semibold%20text-white%22%7D",className:"font-semibold text-white",children:"RetortBot"}),w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:122:18","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"122","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Online%22%2C%22className%22%3A%22flex%20items-center%20text-xs%20text-nourish-300%22%7D",className:"flex items-center text-xs text-nourish-300",children:[w.jsx(Lh,{"data-lov-id":"src/components/ChatbotButton.tsx:123:20","data-lov-name":"Circle","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"123","data-component-file":"ChatbotButton.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20fill-nourish-400%20text-transparent%20mr-1%22%7D",className:"w-2 h-2 fill-nourish-400 text-transparent mr-1"}),"Online"]})]})]}),w.jsx("button",{"data-lov-id":"src/components/ChatbotButton.tsx:128:14","data-lov-name":"button","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"128","data-component-file":"ChatbotButton.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20rounded-full%20hover%3Abg-black%2F20%20flex%20items-center%20justify-center%20transition-colors%22%7D",onClick:()=>e(!1),className:"w-8 h-8 rounded-full hover:bg-black/20 flex items-center justify-center transition-colors",children:w.jsx(hp,{"data-lov-id":"src/components/ChatbotButton.tsx:132:16","data-lov-name":"X","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"132","data-component-file":"ChatbotButton.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",size:18,className:"text-white"})})]}),w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:137:12","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"137","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%20overflow-y-auto%20p-4%20bg-gradient-to-b%20from-gray-900%2F80%20to-black%22%7D",className:"flex-grow overflow-y-auto p-4 bg-gradient-to-b from-gray-900/80 to-black",children:w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:138:14","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"138","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",className:"space-y-4",children:[r.map(N=>w.jsx(ke.div,{"data-lov-id":"src/components/ChatbotButton.tsx:140:18","data-lov-name":"motion.div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"140","data-component-file":"ChatbotButton.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",className:`flex ${N.isBot?"justify-start":"justify-end"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:146:20","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"146","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`max-w-[80%] p-3 rounded-lg ${N.isBot?"bg-nourish-900/50 border border-nourish-500/30 text-white":"bg-nourish-500/20 border border-nourish-400/30 text-white"}`,children:[N.isBot&&w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:154:24","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"154","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20mb-1%22%7D",className:"flex items-center mb-1",children:[w.jsx(ax,{"data-lov-id":"src/components/ChatbotButton.tsx:155:26","data-lov-name":"Bot","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"155","data-component-file":"ChatbotButton.tsx","data-component-name":"Bot","data-component-content":"%7B%22className%22%3A%22text-nourish-400%20mr-1%22%7D",size:12,className:"text-nourish-400 mr-1"}),w.jsx("span",{"data-lov-id":"src/components/ChatbotButton.tsx:156:26","data-lov-name":"span","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"156","data-component-file":"ChatbotButton.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22RetortBot%22%2C%22className%22%3A%22text-xs%20text-nourish-400%22%7D",className:"text-xs text-nourish-400",children:"RetortBot"})]}),w.jsx("p",{"data-lov-id":"src/components/ChatbotButton.tsx:159:22","data-lov-name":"p","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"159","data-component-file":"ChatbotButton.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",className:"text-sm",children:N.text})]})},N.id)),_&&w.jsx(ke.div,{"data-lov-id":"src/components/ChatbotButton.tsx:166:18","data-lov-name":"motion.div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"166","data-component-file":"ChatbotButton.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22flex%20justify-start%22%7D",className:"flex justify-start",initial:{opacity:0},animate:{opacity:1},children:w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:171:20","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"171","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F50%20border%20border-nourish-500%2F30%20p-3%20rounded-lg%20max-w-%5B80%25%5D%22%7D",className:"bg-nourish-900/50 border border-nourish-500/30 p-3 rounded-lg max-w-[80%]",children:w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:172:22","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"172","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",className:"flex items-center space-x-1",children:[w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:173:24","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"173","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20rounded-full%20bg-nourish-500%20animate-bounce%22%7D",className:"w-2 h-2 rounded-full bg-nourish-500 animate-bounce"}),w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:174:24","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"174","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20rounded-full%20bg-nourish-500%20animate-bounce%22%7D",className:"w-2 h-2 rounded-full bg-nourish-500 animate-bounce",style:{animationDelay:"0.2s"}}),w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:175:24","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"175","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20rounded-full%20bg-nourish-500%20animate-bounce%22%7D",className:"w-2 h-2 rounded-full bg-nourish-500 animate-bounce",style:{animationDelay:"0.4s"}})]})})})]})}),!i&&w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:185:14","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"185","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-black%2F50%20border-t%20border-nourish-500%2F20%20flex%20gap-2%20overflow-x-auto%20hide-scrollbar%22%7D",className:"px-4 py-2 bg-black/50 border-t border-nourish-500/20 flex gap-2 overflow-x-auto hide-scrollbar",children:xW.map((N,V)=>w.jsx(pn,{"data-lov-id":"src/components/ChatbotButton.tsx:187:18","data-lov-name":"Button","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"187","data-component-file":"ChatbotButton.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22text-xs%20whitespace-nowrap%20border-nourish-500%2F30%20text-nourish-300%20hover%3Abg-nourish-900%2F30%22%7D",variant:"outline",className:"text-xs whitespace-nowrap border-nourish-500/30 text-nourish-300 hover:bg-nourish-900/30",onClick:()=>E(N),children:N},V))}),w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:200:12","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"200","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20border-t%20border-nourish-500%2F30%20bg-black%2F80%22%7D",className:"p-3 border-t border-nourish-500/30 bg-black/80",children:[w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:201:14","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"201","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:202:16","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"202","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-grow%20relative%22%7D",className:"flex-grow relative",children:[i?w.jsxs("div",{"data-lov-id":"src/components/ChatbotButton.tsx:204:20","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"204","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20bg-nourish-900%2F30%20border%20border-nourish-500%2F30%20rounded-md%20py-2%20px-3%22%7D",className:"flex items-center justify-between bg-nourish-900/30 border border-nourish-500/30 rounded-md py-2 px-3",children:[w.jsx("span",{"data-lov-id":"src/components/ChatbotButton.tsx:205:22","data-lov-name":"span","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"205","data-component-file":"ChatbotButton.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-white%20truncate%22%7D",className:"text-sm text-white truncate",children:i}),w.jsx("button",{"data-lov-id":"src/components/ChatbotButton.tsx:206:22","data-lov-name":"button","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"206","data-component-file":"ChatbotButton.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22text-nourish-400%20hover%3Atext-white%22%7D",className:"text-nourish-400 hover:text-white",onClick:()=>E(null),children:w.jsx(hp,{"data-lov-id":"src/components/ChatbotButton.tsx:210:24","data-lov-name":"X","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"210","data-component-file":"ChatbotButton.tsx","data-component-name":"X","data-component-content":"%7B%7D",size:14})})]}):w.jsx("input",{"data-lov-id":"src/components/ChatbotButton.tsx:214:20","data-lov-name":"input","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"214","data-component-file":"ChatbotButton.tsx","data-component-name":"input","data-component-content":"%7B%22placeholder%22%3A%22Ask%20about%20Retort%20Technology...%22%2C%22className%22%3A%22w-full%20bg-nourish-900%2F30%20border%20border-nourish-500%2F30%20rounded-md%20py-2%20px-3%20text-white%20focus%3Aoutline-none%20focus%3Aring-1%20focus%3Aring-nourish-500%20placeholder%3Atext-gray-500%22%7D",type:"text",placeholder:"Ask about Retort Technology...",className:"w-full bg-nourish-900/30 border border-nourish-500/30 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-1 focus:ring-nourish-500 placeholder:text-gray-500",value:p,onChange:N=>g(N.target.value),onKeyPress:F}),w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:223:18","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"223","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-xs%20text-nourish-400%2F50%22%7D",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-nourish-400/50",children:w.jsx(y2,{"data-lov-id":"src/components/ChatbotButton.tsx:224:20","data-lov-name":"Zap","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"224","data-component-file":"ChatbotButton.tsx","data-component-name":"Zap","data-component-content":"%7B%7D",size:14})})]}),w.jsx(pn,{"data-lov-id":"src/components/ChatbotButton.tsx:227:16","data-lov-name":"Button","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"227","data-component-file":"ChatbotButton.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22bg-nourish-600%20hover%3Abg-nourish-700%20h-10%20w-10%20p-0%20rounded-md%22%7D",className:"bg-nourish-600 hover:bg-nourish-700 h-10 w-10 p-0 rounded-md",onClick:B,children:w.jsx($o,{"data-lov-id":"src/components/ChatbotButton.tsx:231:18","data-lov-name":"ArrowRight","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"231","data-component-file":"ChatbotButton.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%7D",size:18})})]}),w.jsx("div",{"data-lov-id":"src/components/ChatbotButton.tsx:234:14","data-lov-name":"div","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"234","data-component-file":"ChatbotButton.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mt-2%22%7D",className:"text-center mt-2",children:w.jsx("span",{"data-lov-id":"src/components/ChatbotButton.tsx:235:16","data-lov-name":"span","data-component-path":"src/components/ChatbotButton.tsx","data-component-line":"235","data-component-file":"ChatbotButton.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Powered%20by%20RetortAI%E2%84%A2%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:"Powered by RetortAI"})})]})]})})]})};var vW="Label",qB=q.forwardRef((t,e)=>w.jsx(Jn.label,{...t,ref:e,onMouseDown:r=>{var p;r.target.closest("button, input, select, textarea")||((p=t.onMouseDown)==null||p.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qB.displayName=vW;var WB=qB;const yW=Kb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Au=q.forwardRef(({className:t,...e},r)=>w.jsx(WB,{"data-lov-id":"src/components/ui/label.tsx:16:2","data-lov-name":"LabelPrimitive.Root","data-component-path":"src/components/ui/label.tsx","data-component-line":"16","data-component-file":"label.tsx","data-component-name":"LabelPrimitive.Root","data-component-content":"%7B%7D",ref:r,className:Hn(yW(),t),...e}));Au.displayName=WB.displayName;const y_=()=>{const{toast:t}=wp(),[e,r]=q.useState({name:"",email:"",company:"",message:"",industry:"food-manufacturing"}),[l,p]=q.useState(!1),g=C=>{const{name:i,value:E}=C.target;r(B=>({...B,[i]:E}))},_=C=>{C.preventDefault(),p(!0),setTimeout(()=>{t({title:"Message sent!",description:"Our team will get back to you shortly.",duration:5e3}),p(!1),r({name:"",email:"",company:"",message:"",industry:"food-manufacturing"})},1500)};return w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:55:4","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"55","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/ContactPage.tsx:56:6","data-lov-name":"Navbar","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"56","data-component-file":"ContactPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:58:6","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"58","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22py-16%20md%3Apy-24%22%7D",className:"py-16 md:py-24",children:w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:59:8","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"59","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:60:10","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"60","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-12%20items-center%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:61:12","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"61","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:w.jsxs(ke.div,{"data-lov-id":"src/pages/ContactPage.tsx:62:14","data-lov-name":"motion.div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"62","data-component-file":"ContactPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:67:16","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"67","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22GET%20IN%20TOUCH%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-6%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-6",children:"GET IN TOUCH"}),w.jsxs("h1",{"data-lov-id":"src/pages/ContactPage.tsx:70:16","data-lov-name":"h1","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"70","data-component-file":"ContactPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Let's%20Discuss%20Your%20Needs%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-3xl md:text-5xl font-bold text-white mb-6",children:["Let's Discuss Your ",w.jsx("span",{"data-lov-id":"src/pages/ContactPage.tsx:71:37","data-lov-name":"span","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"71","data-component-file":"ContactPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Retort%20Technology%22%2C%22className%22%3A%22text-nourish-400%22%7D",className:"text-nourish-400",children:"Retort Technology"})," Needs"]}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:73:16","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"73","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Whether%20you're%20looking%20to%20implement%20our%20retort%20systems%2C%20explore%20customization%20options%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20or%20learn%20more%20about%20our%20technology%2C%20our%20experts%20are%20ready%20to%20assist%20you.%22%2C%22className%22%3A%22text-lg%20text-gray-300%20mb-8%22%7D",className:"text-lg text-gray-300 mb-8",children:"Whether you're looking to implement our retort systems, explore customization options, or learn more about our technology, our experts are ready to assist you."}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:78:16","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"78","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%20mb-8%22%7D",className:"space-y-6 mb-8",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:79:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"79","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%22%7D",className:"flex items-start",children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:80:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"80","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F50%20p-2%20rounded-full%20mr-4%22%7D",className:"bg-nourish-900/50 p-2 rounded-full mr-4",children:w.jsx(Qb,{"data-lov-id":"src/pages/ContactPage.tsx:81:22","data-lov-name":"MessageCircle","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"81","data-component-file":"ContactPage.tsx","data-component-name":"MessageCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-nourish-400%22%7D",className:"w-5 h-5 text-nourish-400"})}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:83:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"83","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/pages/ContactPage.tsx:84:22","data-lov-name":"h3","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"84","data-component-file":"ContactPage.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%2224%2F7%20Support%22%2C%22className%22%3A%22font-semibold%20text-white%20mb-1%22%7D",className:"font-semibold text-white mb-1",children:"24/7 Support"}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:85:22","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"85","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20technical%20team%20is%20available%20around%20the%20clock%20for%20urgent%20inquiries%22%2C%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:"Our technical team is available around the clock for urgent inquiries"})]})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:89:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"89","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%22%7D",className:"flex items-start",children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:90:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"90","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F50%20p-2%20rounded-full%20mr-4%22%7D",className:"bg-nourish-900/50 p-2 rounded-full mr-4",children:w.jsx(ax,{"data-lov-id":"src/pages/ContactPage.tsx:91:22","data-lov-name":"Bot","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"91","data-component-file":"ContactPage.tsx","data-component-name":"Bot","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-nourish-400%22%7D",className:"w-5 h-5 text-nourish-400"})}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:93:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"93","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/pages/ContactPage.tsx:94:22","data-lov-name":"h3","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"94","data-component-file":"ContactPage.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22AI%20Assistance%22%2C%22className%22%3A%22font-semibold%20text-white%20mb-1%22%7D",className:"font-semibold text-white mb-1",children:"AI Assistance"}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:95:22","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"95","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Try%20our%20RetortBot%20for%20immediate%20answers%20to%20common%20questions%22%2C%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:"Try our RetortBot for immediate answers to common questions"})]})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:99:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"99","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%22%7D",className:"flex items-start",children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:100:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"100","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F50%20p-2%20rounded-full%20mr-4%22%7D",className:"bg-nourish-900/50 p-2 rounded-full mr-4",children:w.jsx(ck,{"data-lov-id":"src/pages/ContactPage.tsx:101:22","data-lov-name":"Share","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"101","data-component-file":"ContactPage.tsx","data-component-name":"Share","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-nourish-400%22%7D",className:"w-5 h-5 text-nourish-400"})}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:103:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"103","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx("h3",{"data-lov-id":"src/pages/ContactPage.tsx:104:22","data-lov-name":"h3","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"104","data-component-file":"ContactPage.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22Global%20Reach%22%2C%22className%22%3A%22font-semibold%20text-white%20mb-1%22%7D",className:"font-semibold text-white mb-1",children:"Global Reach"}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:105:22","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"105","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22With%20offices%20in%2015%20countries%2C%20we%20provide%20localized%20support%20worldwide%22%2C%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:"With offices in 15 countries, we provide localized support worldwide"})]})]})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:110:16","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"110","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-6%22%7D",className:"flex items-center gap-6",children:[w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:111:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"111","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20-space-x-3%22%7D",className:"flex -space-x-3",children:[1,2,3,4].map(C=>w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:113:22","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"113","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20rounded-full%20border-2%20border-nourish-500%20bg-nourish-900%20flex%20items-center%20justify-center%20text-white%22%7D",className:"w-10 h-10 rounded-full border-2 border-nourish-500 bg-nourish-900 flex items-center justify-center text-white",children:C},C))}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:118:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"118","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Join%20businesses%20already%20using%20our%20technology%22%2C%22className%22%3A%22text-sm%20text-gray-400%22%7D",className:"text-sm text-gray-400",children:["Join ",w.jsx("span",{"data-lov-id":"src/pages/ContactPage.tsx:119:25","data-lov-name":"span","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"119","data-component-file":"ContactPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22500%2B%22%2C%22className%22%3A%22text-white%20font-semibold%22%7D",className:"text-white font-semibold",children:"500+"})," businesses already using our technology"]})]})]})}),w.jsx(ke.div,{"data-lov-id":"src/pages/ContactPage.tsx:125:12","data-lov-name":"motion.div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"125","data-component-file":"ContactPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:130:14","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"130","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-nourish-500%2F30%20rounded-xl%20p-6%20md%3Ap-8%22%7D",className:"bg-black/30 backdrop-blur-sm border border-nourish-500/30 rounded-xl p-6 md:p-8",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:131:16","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"131","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20mb-6%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{"data-lov-id":"src/pages/ContactPage.tsx:132:18","data-lov-name":"h2","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"132","data-component-file":"ContactPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Contact%20Form%22%2C%22className%22%3A%22text-xl%20font-bold%20text-white%22%7D",className:"text-xl font-bold text-white",children:"Contact Form"}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:133:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"133","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22Secure%20Form%22%2C%22className%22%3A%22text-xs%20bg-nourish-900%2F50%20text-nourish-300%20px-2%20py-1%20rounded-full%20border%20border-nourish-500%2F30%22%7D",className:"text-xs bg-nourish-900/50 text-nourish-300 px-2 py-1 rounded-full border border-nourish-500/30",children:[w.jsx("span",{"data-lov-id":"src/pages/ContactPage.tsx:134:20","data-lov-name":"span","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"134","data-component-file":"ContactPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22%E2%97%8F%22%2C%22className%22%3A%22animate-pulse%22%7D",className:"animate-pulse",children:""})," Secure Form"]})]}),w.jsxs("form",{"data-lov-id":"src/pages/ContactPage.tsx:138:16","data-lov-name":"form","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"138","data-component-file":"ContactPage.tsx","data-component-name":"form","data-component-content":"%7B%22className%22%3A%22space-y-5%22%7D",onSubmit:_,className:"space-y-5",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:139:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"139","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-5%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:140:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"140","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx(Au,{"data-lov-id":"src/pages/ContactPage.tsx:141:22","data-lov-name":"Label","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"141","data-component-file":"ContactPage.tsx","data-component-name":"Label","data-component-content":"%7B%22text%22%3A%22Name%22%2C%22className%22%3A%22text-white%20mb-1%20block%22%7D",htmlFor:"name",className:"text-white mb-1 block",children:"Name"}),w.jsx(So,{"data-lov-id":"src/pages/ContactPage.tsx:142:22","data-lov-name":"Input","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"142","data-component-file":"ContactPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22John%20Doe%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20focus%3Aborder-nourish-400%20focus%3Aring-nourish-400%2F20%22%7D",id:"name",name:"name",placeholder:"John Doe",className:"bg-black/50 border-nourish-500/30 text-white placeholder:text-gray-500 focus:border-nourish-400 focus:ring-nourish-400/20",value:e.name,onChange:g,required:!0})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:152:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"152","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx(Au,{"data-lov-id":"src/pages/ContactPage.tsx:153:22","data-lov-name":"Label","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"153","data-component-file":"ContactPage.tsx","data-component-name":"Label","data-component-content":"%7B%22text%22%3A%22Email%22%2C%22className%22%3A%22text-white%20mb-1%20block%22%7D",htmlFor:"email",className:"text-white mb-1 block",children:"Email"}),w.jsx(So,{"data-lov-id":"src/pages/ContactPage.tsx:154:22","data-lov-name":"Input","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"154","data-component-file":"ContactPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22john%40company.com%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20focus%3Aborder-nourish-400%20focus%3Aring-nourish-400%2F20%22%7D",id:"email",name:"email",type:"email",placeholder:"john@company.com",className:"bg-black/50 border-nourish-500/30 text-white placeholder:text-gray-500 focus:border-nourish-400 focus:ring-nourish-400/20",value:e.email,onChange:g,required:!0})]})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:167:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"167","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-5%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:168:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"168","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx(Au,{"data-lov-id":"src/pages/ContactPage.tsx:169:22","data-lov-name":"Label","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"169","data-component-file":"ContactPage.tsx","data-component-name":"Label","data-component-content":"%7B%22text%22%3A%22Company%22%2C%22className%22%3A%22text-white%20mb-1%20block%22%7D",htmlFor:"company",className:"text-white mb-1 block",children:"Company"}),w.jsx(So,{"data-lov-id":"src/pages/ContactPage.tsx:170:22","data-lov-name":"Input","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"170","data-component-file":"ContactPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Company%20Inc.%22%2C%22className%22%3A%22bg-black%2F50%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20focus%3Aborder-nourish-400%20focus%3Aring-nourish-400%2F20%22%7D",id:"company",name:"company",placeholder:"Company Inc.",className:"bg-black/50 border-nourish-500/30 text-white placeholder:text-gray-500 focus:border-nourish-400 focus:ring-nourish-400/20",value:e.company,onChange:g,required:!0})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:180:20","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"180","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx(Au,{"data-lov-id":"src/pages/ContactPage.tsx:181:22","data-lov-name":"Label","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"181","data-component-file":"ContactPage.tsx","data-component-name":"Label","data-component-content":"%7B%22text%22%3A%22Industry%22%2C%22className%22%3A%22text-white%20mb-1%20block%22%7D",htmlFor:"industry",className:"text-white mb-1 block",children:"Industry"}),w.jsxs("select",{"data-lov-id":"src/pages/ContactPage.tsx:182:22","data-lov-name":"select","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"182","data-component-file":"ContactPage.tsx","data-component-name":"select","data-component-content":"%7B%22className%22%3A%22w-full%20h-10%20rounded-md%20border%20border-nourish-500%2F30%20bg-black%2F50%20text-white%20px-3%20py-2%20text-base%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-nourish-400%2F20%20focus%3Aborder-nourish-400%22%7D",id:"industry",name:"industry",className:"w-full h-10 rounded-md border border-nourish-500/30 bg-black/50 text-white px-3 py-2 text-base focus:outline-none focus:ring-2 focus:ring-nourish-400/20 focus:border-nourish-400",value:e.industry,onChange:g,required:!0,children:[w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:190:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"190","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Food%20Manufacturing%22%7D",value:"food-manufacturing",children:"Food Manufacturing"}),w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:191:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"191","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Beverages%22%7D",value:"beverages",children:"Beverages"}),w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:192:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"192","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Meal%20Kits%22%7D",value:"meal-kits",children:"Meal Kits"}),w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:193:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"193","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Pet%20Food%22%7D",value:"pet-food",children:"Pet Food"}),w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:194:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"194","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Ready%20Meals%22%7D",value:"ready-meals",children:"Ready Meals"}),w.jsx("option",{"data-lov-id":"src/pages/ContactPage.tsx:195:24","data-lov-name":"option","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"195","data-component-file":"ContactPage.tsx","data-component-name":"option","data-component-content":"%7B%22text%22%3A%22Other%22%7D",value:"other",children:"Other"})]})]})]}),w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:200:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"200","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",children:[w.jsx(Au,{"data-lov-id":"src/pages/ContactPage.tsx:201:20","data-lov-name":"Label","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"201","data-component-file":"ContactPage.tsx","data-component-name":"Label","data-component-content":"%7B%22text%22%3A%22Message%22%2C%22className%22%3A%22text-white%20mb-1%20block%22%7D",htmlFor:"message",className:"text-white mb-1 block",children:"Message"}),w.jsx("textarea",{"data-lov-id":"src/pages/ContactPage.tsx:202:20","data-lov-name":"textarea","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"202","data-component-file":"ContactPage.tsx","data-component-name":"textarea","data-component-content":"%7B%22placeholder%22%3A%22Tell%20us%20about%20your%20project%20or%20inquiry...%22%2C%22className%22%3A%22w-full%20rounded-md%20border%20border-nourish-500%2F30%20bg-black%2F50%20text-white%20px-3%20py-2%20text-base%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-nourish-400%2F20%20focus%3Aborder-nourish-400%20resize-none%22%7D",id:"message",name:"message",rows:4,className:"w-full rounded-md border border-nourish-500/30 bg-black/50 text-white px-3 py-2 text-base focus:outline-none focus:ring-2 focus:ring-nourish-400/20 focus:border-nourish-400 resize-none",placeholder:"Tell us about your project or inquiry...",value:e.message,onChange:g,required:!0})]}),w.jsx(pn,{"data-lov-id":"src/pages/ContactPage.tsx:214:18","data-lov-name":"Button","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"214","data-component-file":"ContactPage.tsx","data-component-name":"Button","data-component-content":"%7B%22className%22%3A%22w-full%20py-6%20bg-nourish-600%20hover%3Abg-nourish-700%20text-white%22%7D",type:"submit",className:"w-full py-6 bg-nourish-600 hover:bg-nourish-700 text-white",disabled:l,children:l?w.jsxs("span",{"data-lov-id":"src/pages/ContactPage.tsx:220:22","data-lov-name":"span","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"220","data-component-file":"ContactPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Processing...%22%2C%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[w.jsxs("svg",{"data-lov-id":"src/pages/ContactPage.tsx:221:24","data-lov-name":"svg","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"221","data-component-file":"ContactPage.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22animate-spin%20-ml-1%20mr-2%20h-4%20w-4%20text-white%22%7D",className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{"data-lov-id":"src/pages/ContactPage.tsx:222:26","data-lov-name":"circle","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"222","data-component-file":"ContactPage.tsx","data-component-name":"circle","data-component-content":"%7B%22className%22%3A%22opacity-25%22%7D",className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{"data-lov-id":"src/pages/ContactPage.tsx:223:26","data-lov-name":"path","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"223","data-component-file":"ContactPage.tsx","data-component-name":"path","data-component-content":"%7B%22className%22%3A%22opacity-75%22%7D",className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):w.jsxs("span",{"data-lov-id":"src/pages/ContactPage.tsx:228:22","data-lov-name":"span","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"228","data-component-file":"ContactPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Send%20Message%22%2C%22className%22%3A%22flex%20items-center%20gap-2%22%7D",className:"flex items-center gap-2",children:[w.jsx(y2,{"data-lov-id":"src/pages/ContactPage.tsx:229:24","data-lov-name":"Zap","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"229","data-component-file":"ContactPage.tsx","data-component-name":"Zap","data-component-content":"%7B%7D",size:16}),"Send Message"]})}),w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:235:18","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"235","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22By%20submitting%20this%20form%2C%20you%20agree%20to%20our%20Privacy%20Policy%20and%20Terms%20of%20Service.%22%2C%22className%22%3A%22text-center%20text-xs%20text-gray-500%22%7D",className:"text-center text-xs text-gray-500",children:"By submitting this form, you agree to our Privacy Policy and Terms of Service."})]})]})})]})})}),w.jsx("section",{"data-lov-id":"src/pages/ContactPage.tsx:246:6","data-lov-name":"section","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"246","data-component-file":"ContactPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-16%20bg-black%2F30%22%7D",className:"py-16 bg-black/30",children:w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:247:8","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"247","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/pages/ContactPage.tsx:248:10","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"248","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-12%22%7D",className:"text-center mb-12",children:[w.jsx("h2",{"data-lov-id":"src/pages/ContactPage.tsx:249:12","data-lov-name":"h2","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"249","data-component-file":"ContactPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Global%20Presence%22%2C%22className%22%3A%22text-2xl%20md%3Atext-4xl%20font-bold%20text-white%20mb-4%22%7D",className:"text-2xl md:text-4xl font-bold text-white mb-4",children:"Global Presence"}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:250:12","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"250","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22With%20offices%20and%20support%20centers%20across%20the%20globe%2C%20we%20provide%20localized%20assistance%20wherever%20you%20are%22%2C%22className%22%3A%22text-gray-400%20max-w-2xl%20mx-auto%22%7D",className:"text-gray-400 max-w-2xl mx-auto",children:"With offices and support centers across the globe, we provide localized assistance wherever you are"})]}),w.jsx("div",{"data-lov-id":"src/pages/ContactPage.tsx:255:10","data-lov-name":"div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"255","data-component-file":"ContactPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-6%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{city:"New York",country:"United States",phone:"+1 (212) 555-7890"},{city:"London",country:"United Kingdom",phone:"+44 20 7123 4567"},{city:"Singapore",country:"Singapore",phone:"+65 6123 4567"},{city:"Tokyo",country:"Japan",phone:"+81 3-1234-5678"}].map((C,i)=>w.jsxs(ke.div,{"data-lov-id":"src/pages/ContactPage.tsx:262:14","data-lov-name":"motion.div","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"262","data-component-file":"ContactPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F20%20backdrop-blur-sm%20border%20border-nourish-500%2F10%20p-5%20rounded-lg%22%7D",className:"bg-black/20 backdrop-blur-sm border border-nourish-500/10 p-5 rounded-lg",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0},children:[w.jsx("h3",{"data-lov-id":"src/pages/ContactPage.tsx:270:16","data-lov-name":"h3","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"270","data-component-file":"ContactPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-white%20mb-1%22%7D",className:"text-lg font-semibold text-white mb-1",children:C.city}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:271:16","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"271","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-400%20mb-3%22%7D",className:"text-gray-400 mb-3",children:C.country}),w.jsx("p",{"data-lov-id":"src/pages/ContactPage.tsx:272:16","data-lov-name":"p","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"272","data-component-file":"ContactPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-nourish-400%22%7D",className:"text-nourish-400",children:C.phone})]},i))})]})}),w.jsx(qr,{"data-lov-id":"src/pages/ContactPage.tsx:279:6","data-lov-name":"Footer","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"279","data-component-file":"ContactPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/ContactPage.tsx:280:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/ContactPage.tsx","data-component-line":"280","data-component-file":"ContactPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]})};var _W="AspectRatio",HB=q.forwardRef((t,e)=>{const{ratio:r=1/1,style:l,...p}=t;return w.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:w.jsx(Jn.div,{...p,ref:e,style:{...l,position:"absolute",top:0,right:0,bottom:0,left:0}})})});HB.displayName=_W;var bW=HB;const wW=bW,CW=[{id:1,title:"Ready Meals",description:"Complete meals with multi-compartment packaging for extended shelf life.",image:"https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?q=80&w=800&auto=format&fit=crop",category:"food"},{id:2,title:"Sauces & Condiments",description:"Preservative-free sauces with authentic flavor profiles.",image:"https://images.unsplash.com/photo-1472476443507-c7a5948772fc?q=80&w=800&auto=format&fit=crop",category:"food"},{id:3,title:"Soups & Broths",description:"Clear and cream-based soups with fresh ingredients.",image:"https://images.unsplash.com/photo-1547592166-23ac45744acd?q=80&w=800&auto=format&fit=crop",category:"food"},{id:4,title:"Pet Food",description:"Premium pet nutrition with extended shelf life and no additives.",image:"https://images.unsplash.com/photo-1589924691995-400dc9ecc119?q=80&w=800&auto=format&fit=crop",category:"food"},{id:5,title:"Seafood",description:"Pre-cooked seafood products with optimal texture and flavor.",image:"https://images.unsplash.com/photo-1498654077810-12c21d4d6dc3?q=80&w=800&auto=format&fit=crop",category:"food"},{id:6,title:"Rice & Grains",description:"Ready-to-eat rice and grain products with perfect consistency.",image:"https://images.unsplash.com/photo-1536304993881-ff6e9eefa2a6?q=80&w=800&auto=format&fit=crop",category:"food"},{id:7,title:"Baby Food",description:"Nutrient-rich, preservative-free infant and toddler foods.",image:"https://images.unsplash.com/photo-1594614271360-0ed9a570ae15?q=80&w=800&auto=format&fit=crop",category:"food"},{id:8,title:"Dairy Products",description:"Shelf-stable dairy products that maintain taste and nutrition.",image:"https://images.unsplash.com/photo-1628088062854-d1870b4553da?q=80&w=800&auto=format&fit=crop",category:"food"},{id:9,title:"Pouched Vegetables",description:"Pre-cooked vegetables with farm-fresh taste and extended shelf life.",image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?q=80&w=800&auto=format&fit=crop",category:"food"},{id:10,title:"Military Rations",description:"Durable, long-lasting field rations for defense applications.",image:"https://images.unsplash.com/photo-1612438214708-f428a707dd9e?q=80&w=800&auto=format&fit=crop",category:"specialized"},{id:11,title:"Meal Replacement",description:"Complete nutrition products for medical and dietary needs.",image:"https://images.unsplash.com/photo-1612199621372-ff9f6cf5cbad?q=80&w=800&auto=format&fit=crop",category:"specialized"},{id:12,title:"Emergency Supplies",description:"Long-term food storage solutions for disaster preparedness.",image:"https://images.unsplash.com/photo-1603964464235-9823eb397f91?q=80&w=800&auto=format&fit=crop",category:"specialized"},{id:13,title:"Space Food",description:"Specialized nutrition for zero-gravity environments.",image:"https://images.unsplash.com/photo-1446776877081-d282a0f896e2?q=80&w=800&auto=format&fit=crop",category:"specialized"},{id:14,title:"Plant-Based Meats",description:"Meat alternatives with long shelf life and authentic texture.",image:"https://images.unsplash.com/photo-1600850056064-a8b380df8395?q=80&w=800&auto=format&fit=crop",category:"food"},{id:15,title:"Travel & Camping",description:"Lightweight, nutritious options for outdoor adventures.",image:"https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?q=80&w=800&auto=format&fit=crop",category:"specialized"},{id:16,title:"Bulk Food Service",description:"Institutional-scale solutions for food service operations.",image:"https://images.unsplash.com/photo-1556911261-6bd341186b2f?q=80&w=800&auto=format&fit=crop",category:"equipment"},{id:17,title:"Micro Retort",description:"Compact systems for small-batch production and R&D.",image:"https://images.unsplash.com/photo-1581093196277-9f608af590ce?q=80&w=800&auto=format&fit=crop",category:"equipment"},{id:18,title:"Industrial Scale",description:"High-capacity systems for mass production environments.",image:"https://images.unsplash.com/photo-1581093458791-8a5d95c6b9ac?q=80&w=800&auto=format&fit=crop",category:"equipment"},{id:19,title:"Beverage Solutions",description:"Systems optimized for liquid products and drinks.",image:"https://images.unsplash.com/photo-1551024709-8f23befc6f87?q=80&w=800&auto=format&fit=crop",category:"equipment"},{id:20,title:"Quality Control",description:"Testing and validation equipment for retort processes.",image:"https://images.unsplash.com/photo-1576086135878-660c92b2f8fc?q=80&w=800&auto=format&fit=crop",category:"equipment"}],AW=[{id:"all",name:"All Templates"},{id:"food",name:"Food Applications"},{id:"specialized",name:"Specialized Solutions"},{id:"equipment",name:"Equipment & Systems"}],TW=()=>{const{toast:t}=wp(),[e,r]=q.useState(""),[l,p]=q.useState("all"),g=(C,i)=>{t({title:"Template Downloaded",description:`You've downloaded the ${i} template specification`,duration:3e3})},_=CW.filter(C=>{const i=C.title.toLowerCase().includes(e.toLowerCase())||C.description.toLowerCase().includes(e.toLowerCase()),E=l==="all"||C.category===l;return i&&E});return w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:185:4","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"185","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/TemplatesPage.tsx:186:6","data-lov-name":"Navbar","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"186","data-component-file":"TemplatesPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsx("section",{"data-lov-id":"src/pages/TemplatesPage.tsx:188:6","data-lov-name":"section","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"188","data-component-file":"TemplatesPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-12%20md%3Apy-16%22%7D",className:"py-12 md:py-16",children:w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:189:8","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"189","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs(ke.div,{"data-lov-id":"src/pages/TemplatesPage.tsx:190:10","data-lov-name":"motion.div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"190","data-component-file":"TemplatesPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22text-center%20max-w-3xl%20mx-auto%22%7D",className:"text-center max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:196:12","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"196","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22APPLICATION%20LIBRARY%22%2C%22className%22%3A%22inline-block%20px-3%20py-1%20rounded-full%20bg-nourish-900%2F50%20text-nourish-400%20border%20border-nourish-500%2F30%20text-sm%20mb-6%22%7D",className:"inline-block px-3 py-1 rounded-full bg-nourish-900/50 text-nourish-400 border border-nourish-500/30 text-sm mb-6",children:"APPLICATION LIBRARY"}),w.jsx("h1",{"data-lov-id":"src/pages/TemplatesPage.tsx:199:12","data-lov-name":"h1","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"199","data-component-file":"TemplatesPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Retort%20Technology%20Templates%22%2C%22className%22%3A%22text-3xl%20md%3Atext-5xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Retort Technology Templates"}),w.jsx("p",{"data-lov-id":"src/pages/TemplatesPage.tsx:202:12","data-lov-name":"p","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"202","data-component-file":"TemplatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Explore%20our%20collection%20of%2020%20application%20templates%20showcasing%20the%20versatility%20of%20retort%20technology%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20across%20different%20industries%20and%20food%20categories.%22%2C%22className%22%3A%22text-lg%20text-gray-300%20mb-8%22%7D",className:"text-lg text-gray-300 mb-8",children:"Explore our collection of 20 application templates showcasing the versatility of retort technology across different industries and food categories."}),w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:208:12","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"208","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20mb-12%20max-w-2xl%20mx-auto%22%7D",className:"flex flex-col sm:flex-row gap-4 mb-12 max-w-2xl mx-auto",children:[w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:209:14","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"209","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20flex-grow%22%7D",className:"relative flex-grow",children:[w.jsx(zh,{"data-lov-id":"src/pages/TemplatesPage.tsx:210:16","data-lov-name":"Search","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"210","data-component-file":"TemplatesPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-gray-400%22%7D",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),w.jsx(So,{"data-lov-id":"src/pages/TemplatesPage.tsx:211:16","data-lov-name":"Input","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"211","data-component-file":"TemplatesPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20templates...%22%2C%22className%22%3A%22pl-10%20bg-black%2F50%20border-nourish-500%2F30%20text-white%20placeholder%3Atext-gray-500%20w-full%22%7D",type:"text",placeholder:"Search templates...",className:"pl-10 bg-black/50 border-nourish-500/30 text-white placeholder:text-gray-500 w-full",value:e,onChange:C=>r(C.target.value)})]}),w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:220:14","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"220","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20overflow-x-auto%20hide-scrollbar%20flex-nowrap%20sm%3Aflex-wrap%20justify-center%22%7D",className:"flex gap-2 overflow-x-auto hide-scrollbar flex-nowrap sm:flex-wrap justify-center",children:AW.map(C=>w.jsx(pn,{"data-lov-id":"src/pages/TemplatesPage.tsx:222:18","data-lov-name":"Button","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"222","data-component-file":"TemplatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%7D",variant:l===C.id?"default":"outline",className:`whitespace-nowrap ${l===C.id?"bg-nourish-600 hover:bg-nourish-700 text-white":"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30"}`,onClick:()=>p(C.id),children:C.name},C.id))})]})]}),w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:240:10","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"240","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-3%20xl%3Agrid-cols-4%20gap-6%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.length>0?_.map((C,i)=>w.jsxs(ke.div,{"data-lov-id":"src/pages/TemplatesPage.tsx:243:16","data-lov-name":"motion.div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"243","data-component-file":"TemplatesPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-nourish-500%2F20%20rounded-xl%20overflow-hidden%20group%20hover%3Aborder-nourish-500%2F50%20transition-all%20duration-300%20hover%3Ashadow-%5B0_0_15px_rgba(78%2C159%2C51%2C0.2)%5D%22%7D",className:"bg-black/30 backdrop-blur-sm border border-nourish-500/20 rounded-xl overflow-hidden group hover:border-nourish-500/50 transition-all duration-300 hover:shadow-[0_0_15px_rgba(78,159,51,0.2)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.05},children:[w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:250:18","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"250","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-hidden%22%7D",className:"overflow-hidden",children:w.jsx(wW,{"data-lov-id":"src/pages/TemplatesPage.tsx:251:20","data-lov-name":"AspectRatio","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"251","data-component-file":"TemplatesPage.tsx","data-component-name":"AspectRatio","data-component-content":"%7B%7D",ratio:16/9,children:w.jsx("img",{"data-lov-id":"src/pages/TemplatesPage.tsx:252:22","data-lov-name":"img","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"252","data-component-file":"TemplatesPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%20transition-transform%20duration-500%20group-hover%3Ascale-110%22%7D",src:C.image,alt:C.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})})}),w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:260:18","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"260","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-5%22%7D",className:"p-5",children:[w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:261:20","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"261","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%20mb-2%22%7D",className:"flex justify-between items-start mb-2",children:[w.jsx("h3",{"data-lov-id":"src/pages/TemplatesPage.tsx:262:22","data-lov-name":"h3","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"262","data-component-file":"TemplatesPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-bold%20text-white%20text-lg%22%7D",className:"font-bold text-white text-lg",children:C.title}),w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:263:22","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"263","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-nourish-900%2F50%20text-nourish-300%20text-xs%20px-2%20py-1%20rounded-full%20border%20border-nourish-500%2F30%22%7D",className:"bg-nourish-900/50 text-nourish-300 text-xs px-2 py-1 rounded-full border border-nourish-500/30",children:[C.category==="food"&&"Food",C.category==="specialized"&&"Specialized",C.category==="equipment"&&"Equipment"]})]}),w.jsx("p",{"data-lov-id":"src/pages/TemplatesPage.tsx:269:20","data-lov-name":"p","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"269","data-component-file":"TemplatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-400%20text-sm%20mb-4%20line-clamp-2%22%7D",className:"text-gray-400 text-sm mb-4 line-clamp-2",children:C.description}),w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:270:20","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"270","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",className:"flex justify-between items-center",children:[w.jsxs(pn,{"data-lov-id":"src/pages/TemplatesPage.tsx:271:22","data-lov-name":"Button","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"271","data-component-file":"TemplatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Template%22%2C%22className%22%3A%22bg-nourish-600%20hover%3Abg-nourish-700%20text-white%22%7D",variant:"default",size:"sm",className:"bg-nourish-600 hover:bg-nourish-700 text-white",onClick:()=>g(C.id,C.title),children:[w.jsx(rk,{"data-lov-id":"src/pages/TemplatesPage.tsx:277:24","data-lov-name":"Download","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"277","data-component-file":"TemplatesPage.tsx","data-component-name":"Download","data-component-content":"%7B%22className%22%3A%22mr-1%22%7D",size:16,className:"mr-1"})," Template"]}),w.jsxs("button",{"data-lov-id":"src/pages/TemplatesPage.tsx:279:22","data-lov-name":"button","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"279","data-component-file":"TemplatesPage.tsx","data-component-name":"button","data-component-content":"%7B%22text%22%3A%22Details%22%2C%22className%22%3A%22text-nourish-400%20hover%3Atext-nourish-300%20text-sm%20flex%20items-center%22%7D",className:"text-nourish-400 hover:text-nourish-300 text-sm flex items-center",children:["Details ",w.jsx($o,{"data-lov-id":"src/pages/TemplatesPage.tsx:280:32","data-lov-name":"ArrowRight","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"280","data-component-file":"TemplatesPage.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",size:14,className:"ml-1"})]})]})]})]},C.id)):w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:287:14","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"287","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22col-span-full%20text-center%20py-16%22%7D",className:"col-span-full text-center py-16",children:[w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:288:16","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"288","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22%F0%9F%94%8D%22%2C%22className%22%3A%22text-6xl%20mb-4%22%7D",className:"text-6xl mb-4",children:""}),w.jsx("h3",{"data-lov-id":"src/pages/TemplatesPage.tsx:289:16","data-lov-name":"h3","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"289","data-component-file":"TemplatesPage.tsx","data-component-name":"h3","data-component-content":"%7B%22text%22%3A%22No%20templates%20found%22%2C%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-2%22%7D",className:"text-xl font-bold text-white mb-2",children:"No templates found"}),w.jsx("p",{"data-lov-id":"src/pages/TemplatesPage.tsx:290:16","data-lov-name":"p","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"290","data-component-file":"TemplatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Try%20adjusting%20your%20search%20or%20filters%22%2C%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:"Try adjusting your search or filters"})]})})]})}),w.jsx("section",{"data-lov-id":"src/pages/TemplatesPage.tsx:298:6","data-lov-name":"section","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"298","data-component-file":"TemplatesPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-16%20bg-nourish-900%2F30%20border-t%20border-nourish-500%2F20%22%7D",className:"py-16 bg-nourish-900/30 border-t border-nourish-500/20",children:w.jsx("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:299:8","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"299","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/pages/TemplatesPage.tsx:300:10","data-lov-name":"div","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"300","data-component-file":"TemplatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20max-w-2xl%20mx-auto%22%7D",className:"text-center max-w-2xl mx-auto",children:[w.jsx("h2",{"data-lov-id":"src/pages/TemplatesPage.tsx:301:12","data-lov-name":"h2","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"301","data-component-file":"TemplatesPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Need%20a%20Custom%20Solution%3F%22%2C%22className%22%3A%22text-2xl%20md%3Atext-3xl%20font-bold%20text-white%20mb-4%22%7D",className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Need a Custom Solution?"}),w.jsx("p",{"data-lov-id":"src/pages/TemplatesPage.tsx:304:12","data-lov-name":"p","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"304","data-component-file":"TemplatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20engineers%20can%20develop%20specialized%20retort%20applications%20tailored%20to%20your%20specific%20product%20requirements%22%2C%22className%22%3A%22text-gray-300%20mb-8%22%7D",className:"text-gray-300 mb-8",children:"Our engineers can develop specialized retort applications tailored to your specific product requirements"}),w.jsx(zn,{"data-lov-id":"src/pages/TemplatesPage.tsx:307:12","data-lov-name":"Link","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"307","data-component-file":"TemplatesPage.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",children:w.jsx(pn,{"data-lov-id":"src/pages/TemplatesPage.tsx:308:14","data-lov-name":"Button","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"308","data-component-file":"TemplatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Contact%20Our%20Team%22%2C%22className%22%3A%22bg-nourish-600%20hover%3Abg-nourish-700%22%7D",size:"lg",className:"bg-nourish-600 hover:bg-nourish-700",children:"Contact Our Team"})})]})})}),w.jsx(qr,{"data-lov-id":"src/pages/TemplatesPage.tsx:316:6","data-lov-name":"Footer","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"316","data-component-file":"TemplatesPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/TemplatesPage.tsx:317:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/TemplatesPage.tsx","data-component-line":"317","data-component-file":"TemplatesPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]})},SW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:12:4","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"12","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:13:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"13","data-component-file":"ConsumerPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:16:6","data-lov-name":"section","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"16","data-component-file":"ConsumerPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20relative%20overflow-hidden%22%7D",className:"py-32 relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:17:8","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"17","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-br%20from-nourish-900%2F90%20to-black%20z-0%22%7D",className:"absolute inset-0 bg-gradient-to-br from-nourish-900/90 to-black z-0"}),w.jsx(ke.div,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:18:8","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"18","data-component-file":"ConsumerPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"absolute inset-0 z-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1611419010196-a360856fc42f?q=80&w=2000&auto=format&fit=crop")',backgroundSize:"cover",backgroundPosition:"center",opacity:.2}}),w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:31:8","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"31","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:32:10","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"32","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%20mx-auto%20text-center%22%7D",className:"max-w-3xl mx-auto text-center",children:[w.jsxs(ke.div,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:33:12","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"33","data-component-file":"ConsumerPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:38:14","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"38","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22text%22%3A%22CONSUMER%20PLATFORM%22%2C%22className%22%3A%22inline-block%20mb-6%20px-4%20py-1.5%20bg-gradient-to-r%20from-nourish-600%2F30%20to-nourish-500%2F30%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rounded-full%20text-nourish-100%20border%20border-nourish-500%2F30%20backdrop-blur-sm%22%7D",className:`inline-block mb-6 px-4 py-1.5 bg-gradient-to-r from-nourish-600/30 to-nourish-500/30 
                rounded-full text-nourish-100 border border-nourish-500/30 backdrop-blur-sm`,children:"CONSUMER PLATFORM"}),w.jsxs("h1",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:42:14","data-lov-name":"h1","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"42","data-component-file":"ConsumerPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Preserved%20Food%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%20leading-tight%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6 leading-tight",children:["Preserved Food ",w.jsx("br",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:43:31","data-lov-name":"br","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"43","data-component-file":"ConsumerPage.tsx","data-component-name":"br","data-component-content":"%7B%7D"}),w.jsx("span",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:44:16","data-lov-name":"span","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"44","data-component-file":"ConsumerPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22At%20Your%20Fingertips%22%2C%22className%22%3A%22text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-nourish-600%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-nourish-600",children:"At Your Fingertips"})]}),w.jsx("p",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:46:14","data-lov-name":"p","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"46","data-component-file":"ConsumerPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Access%20nutritious%2C%20long-lasting%20food%20products%20directly%20from%20producers%20with%20our%20consumer%20mobile%20app.%22%2C%22className%22%3A%22text-xl%20text-gray-300%20mb-8%20max-w-2xl%20mx-auto%22%7D",className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Access nutritious, long-lasting food products directly from producers with our consumer mobile app."}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:50:14","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"50","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20justify-center%22%7D",className:"flex flex-col sm:flex-row gap-4 justify-center",children:[w.jsxs(pn,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:51:16","data-lov-name":"Button","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"51","data-component-file":"ConsumerPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Download%20The%20App%22%2C%22className%22%3A%22bg-nourish-600%20hover%3Abg-nourish-700%20gap-2%22%7D",size:"lg",className:"bg-nourish-600 hover:bg-nourish-700 gap-2",children:[w.jsx(rk,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:52:18","data-lov-name":"Download","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"52","data-component-file":"ConsumerPage.tsx","data-component-name":"Download","data-component-content":"%7B%7D",size:20}),"Download The App"]}),w.jsx(pn,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:55:16","data-lov-name":"Button","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"55","data-component-file":"ConsumerPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Browse%20Products%22%2C%22className%22%3A%22border-nourish-500%2F40%20text-nourish-400%20hover%3Abg-nourish-600%2F20%22%7D",size:"lg",variant:"outline",className:"border-nourish-500/40 text-nourish-400 hover:bg-nourish-600/20",children:"Browse Products"})]})]}),w.jsx(ke.div,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:61:12","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"61","data-component-file":"ConsumerPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22mt-16%22%7D",className:"mt-16",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:67:14","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"67","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",className:"relative",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:68:16","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"68","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-inset-0.5%20bg-gradient-to-r%20from-nourish-600%20to-green-500%20rounded-3xl%20blur-xl%20opacity-75%22%7D",className:"absolute -inset-0.5 bg-gradient-to-r from-nourish-600 to-green-500 rounded-3xl blur-xl opacity-75"}),w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:69:16","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"69","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20bg-black%20rounded-3xl%20overflow-hidden%20border%20border-nourish-500%2F30%22%7D",className:"relative bg-black rounded-3xl overflow-hidden border border-nourish-500/30",children:w.jsx("img",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:70:18","data-lov-name":"img","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"70","data-component-file":"ConsumerPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-auto%22%7D",src:"https://images.unsplash.com/photo-1607252650355-f7fd0460ccdb?q=80&w=1200&auto=format&fit=crop",alt:"Consumer app interface",className:"w-full h-auto"})})]})})]})})]}),w.jsx("section",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:83:6","data-lov-name":"section","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"83","data-component-file":"ConsumerPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%22%7D",className:"py-24",children:w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:84:8","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"84","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:85:10","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"85","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("h2",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:86:12","data-lov-name":"h2","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"86","data-component-file":"ConsumerPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22App%20Features%22%2C%22className%22%3A%22text-3xl%20md%3Atext-4xl%20font-bold%20mb-4%20text-white%22%7D",className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"App Features"}),w.jsx("p",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:89:12","data-lov-name":"p","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"89","data-component-file":"ConsumerPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20consumer%20platform%20makes%20accessing%20preserved%20foods%20simple%2C%20nutritious%2C%20and%20affordable.%22%2C%22className%22%3A%22text-lg%20text-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Our consumer platform makes accessing preserved foods simple, nutritious, and affordable."})]}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:94:10","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"94","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-8%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[w.jsx(__,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:95:12","data-lov-name":"FeatureCard","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"95","data-component-file":"ConsumerPage.tsx","data-component-name":"FeatureCard","data-component-content":"%7B%7D",icon:w.jsx(dk,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:96:20","data-lov-name":"Smartphone","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"96","data-component-file":"ConsumerPage.tsx","data-component-name":"Smartphone","data-component-content":"%7B%22className%22%3A%22text-nourish-500%22%7D",className:"text-nourish-500",size:24}),title:"Mobile First",description:"Order preserved foods directly from your smartphone with our intuitive app interface."}),w.jsx(__,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:100:12","data-lov-name":"FeatureCard","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"100","data-component-file":"ConsumerPage.tsx","data-component-name":"FeatureCard","data-component-content":"%7B%7D",icon:w.jsx(ak,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:101:20","data-lov-name":"Clock","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"101","data-component-file":"ConsumerPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22text-nourish-500%22%7D",className:"text-nourish-500",size:24}),title:"Subscription Plans",description:"Set up regular deliveries of your favorite preserved foods and never worry about running out."}),w.jsx(__,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:105:12","data-lov-name":"FeatureCard","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"105","data-component-file":"ConsumerPage.tsx","data-component-name":"FeatureCard","data-component-content":"%7B%7D",icon:w.jsx(uk,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:106:20","data-lov-name":"Star","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"106","data-component-file":"ConsumerPage.tsx","data-component-name":"Star","data-component-content":"%7B%22className%22%3A%22text-nourish-500%22%7D",className:"text-nourish-500",size:24}),title:"Quality Ratings",description:"See transparent quality ratings and reviews from other consumers before purchase."})]})]})}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:116:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"116","data-component-file":"ConsumerPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:117:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"117","data-component-file":"ConsumerPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),__=({icon:t,title:e,description:r})=>w.jsxs(ke.div,{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:130:4","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"130","data-component-file":"ConsumerPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20border%20border-nourish-500%2F20%20rounded-xl%20p-6%20hover%3Aborder-nourish-500%2F50%20transition-all%20duration-300%22%7D",className:"bg-black/30 border border-nourish-500/20 rounded-xl p-6 hover:border-nourish-500/50 transition-all duration-300",whileHover:{y:-5,boxShadow:"0 10px 30px -15px rgba(78, 159, 51, 0.5)"},children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:134:6","data-lov-name":"div","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"134","data-component-file":"ConsumerPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20rounded-full%20bg-nourish-900%2F50%20flex%20items-center%20justify-center%20mb-4%22%7D",className:"w-12 h-12 rounded-full bg-nourish-900/50 flex items-center justify-center mb-4",children:t}),w.jsx("h3",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:137:6","data-lov-name":"h3","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"137","data-component-file":"ConsumerPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-3%22%7D",className:"text-xl font-bold text-white mb-3",children:e}),w.jsx("p",{"data-lov-id":"src/pages/platforms/ConsumerPage.tsx:138:6","data-lov-name":"p","data-component-path":"src/pages/platforms/ConsumerPage.tsx","data-component-line":"138","data-component-file":"ConsumerPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:r})]}),EW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:9:4","data-lov-name":"div","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"9","data-component-file":"MarketplacePage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:10:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"10","data-component-file":"MarketplacePage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:12:6","data-lov-name":"section","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"12","data-component-file":"MarketplacePage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20container%20px-4%20md%3Apx-6%22%7D",className:"py-32 container px-4 md:px-6",children:[w.jsx("h1",{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:13:8","data-lov-name":"h1","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"13","data-component-file":"MarketplacePage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Global%20Marketplace%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Global Marketplace"}),w.jsx("p",{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:16:8","data-lov-name":"p","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"16","data-component-file":"MarketplacePage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Coming%20soon...%22%2C%22className%22%3A%22text-xl%20text-gray-300%22%7D",className:"text-xl text-gray-300",children:"Coming soon..."})]}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:19:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"19","data-component-file":"MarketplacePage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/platforms/MarketplacePage.tsx:20:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/platforms/MarketplacePage.tsx","data-component-line":"20","data-component-file":"MarketplacePage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),PW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:14:4","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"14","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:15:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"15","data-component-file":"RetailPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:17:6","data-lov-name":"section","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"17","data-component-file":"RetailPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22pt-24%20pb-16%20container%20px-4%20md%3Apx-6%20relative%22%7D",className:"pt-24 pb-16 container px-4 md:px-6 relative",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:18:8","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"18","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-6%20left-6%22%7D",className:"absolute top-6 left-6",children:w.jsx(GB,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:19:10","data-lov-name":"BackButton","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"19","data-component-file":"RetailPage.tsx","data-component-name":"BackButton","data-component-content":"%7B%7D"})}),w.jsxs(ke.div,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:22:8","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"22","data-component-file":"RetailPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-5xl%20mx-auto%22%7D",className:"max-w-5xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:28:10","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"28","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-gradient-to-r%20from-nourish-900%2F30%20to-black%2F30%20backdrop-blur-md%20rounded-2xl%20overflow-hidden%20shadow-xl%20mb-12%20border%20border-nourish-500%2F30%22%7D",className:"bg-gradient-to-r from-nourish-900/30 to-black/30 backdrop-blur-md rounded-2xl overflow-hidden shadow-xl mb-12 border border-nourish-500/30",children:w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:29:12","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"29","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20md%3Aflex-row%22%7D",className:"flex flex-col md:flex-row",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:30:14","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"30","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Aw-1%2F3%20overflow-hidden%22%7D",className:"md:w-1/3 overflow-hidden",children:w.jsx("img",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:31:16","data-lov-name":"img","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"31","data-component-file":"RetailPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22h-full%20w-full%20object-cover%22%7D",src:"https://images.unsplash.com/photo-1534723452862-4c874018d66d?q=80&w=2000&auto=format&fit=crop",alt:"Retail Solutions",className:"h-full w-full object-cover"})}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:37:14","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"37","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20md%3Aw-2%2F3%22%7D",className:"p-8 md:w-2/3",children:[w.jsx("h1",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:38:16","data-lov-name":"h1","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"38","data-component-file":"RetailPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Retail%20Solutions%22%2C%22className%22%3A%22text-4xl%20md%3Atext-5xl%20font-bold%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%20mb-6%22%7D",className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400 mb-6",children:"Retail Solutions"}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:41:16","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"41","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22prose%20prose-invert%20max-w-none%20text-lg%22%7D",className:"prose prose-invert max-w-none text-lg",children:[w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:42:18","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"42","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22At%20Retort%20Food%2C%20we%20are%20redefining%20the%20future%20of%20food%20preservation%20through%20the%20power%20of%20retort%20technology.%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Our%20mission%20is%20to%20provide%20innovative%2C%20shelf-stable%20meal%20solutions%20that%20not%20only%20meet%20modern%20consumer%20demands%20for%20convenience%20and%20quality%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20but%20also%20actively%20combat%20food%20waste%20across%20the%20supply%20chain.%22%2C%22className%22%3A%22text-white%2F90%20mb-4%22%7D",className:"text-white/90 mb-4",children:"At Retort Food, we are redefining the future of food preservation through the power of retort technology. Our mission is to provide innovative, shelf-stable meal solutions that not only meet modern consumer demands for convenience and quality, but also actively combat food waste across the supply chain."}),w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:47:18","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"47","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Utilizing%20cutting-edge%20retort%20processing%2C%20we%20are%20able%20to%20safely%20extend%20the%20shelf%20life%20of%20ready-to-eat%20meals%20without%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20use%20of%20preservatives%20or%20refrigeration.%20This%20process%20locks%20in%20flavor%2C%20texture%2C%20and%20nutritional%20value%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20making%20our%20products%20ideal%20for%20retail%20environments%2C%20emergency%20food%20supply%2C%20and%20everyday%20use.%22%2C%22className%22%3A%22text-white%2F90%20mb-4%22%7D",className:"text-white/90 mb-4",children:"Utilizing cutting-edge retort processing, we are able to safely extend the shelf life of ready-to-eat meals without the use of preservatives or refrigeration. This process locks in flavor, texture, and nutritional value, making our products ideal for retail environments, emergency food supply, and everyday use."}),w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:52:18","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"52","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22We%20are%20committed%20to%20sustainability%20and%20efficiency%20at%20every%20level.%20By%20leveraging%20surplus%20ingredients%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20optimizing%20packaging%2C%20and%20minimizing%20spoilage%2C%20Retort%20Food%20helps%20reduce%20the%20significant%20environmental%20and%20economic%20impact%20of%20food%20waste.%22%2C%22className%22%3A%22text-white%2F90%20mb-4%22%7D",className:"text-white/90 mb-4",children:"We are committed to sustainability and efficiency at every level. By leveraging surplus ingredients, optimizing packaging, and minimizing spoilage, Retort Food helps reduce the significant environmental and economic impact of food waste."}),w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:56:18","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"56","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Whether%20you're%20a%20retailer%20seeking%20long-lasting%2C%20high-quality%20meal%20options%20or%20a%20consumer%20looking%20for%20practical%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eco-conscious%20choices%2C%20Retort%20Food%20delivers%20reliability%2C%20safety%2C%20and%20flavor%E2%80%94without%20compromise.%22%2C%22className%22%3A%22text-white%2F90%22%7D",className:"text-white/90",children:"Whether you're a retailer seeking long-lasting, high-quality meal options or a consumer looking for practical, eco-conscious choices, Retort Food delivers reliability, safety, and flavorwithout compromise."})]})]})]})}),w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:65:10","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"65","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-6%20mb-16%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[{icon:Jb,title:"Extended Shelf Life",description:"Our products stay fresh without refrigeration for up to 24 months, dramatically reducing waste and ensuring stock flexibility.",color:"from-green-500 to-cyan-500"},{icon:uz,title:"Space Optimization",description:"Ambient storage conditions free up valuable refrigerated and frozen space while reducing energy costs.",color:"from-cyan-500 to-blue-500"},{icon:ak,title:"Inventory Management",description:"Longer shelf life means less frequent restocking, simplified inventory tracking, and reduced shrinkage.",color:"from-blue-500 to-purple-500"}].map((t,e)=>w.jsxs(ke.div,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:86:14","data-lov-name":"motion.div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"86","data-component-file":"RetailPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20backdrop-blur-sm%20border%20border-nourish-500%2F30%20rounded-xl%20p-6%22%7D",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2+e*.1},className:"bg-black/30 backdrop-blur-sm border border-nourish-500/30 rounded-xl p-6",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:93:16","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"93","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%7D",className:`w-12 h-12 mb-4 rounded-lg flex items-center justify-center bg-gradient-to-br ${t.color}`,children:w.jsx(t.icon,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:94:18","data-lov-name":"feature.icon","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"94","data-component-file":"RetailPage.tsx","data-component-name":"feature.icon","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",className:"text-white",size:24})}),w.jsx("h3",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:96:16","data-lov-name":"h3","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"96","data-component-file":"RetailPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-3%22%7D",className:"text-xl font-bold text-white mb-3",children:t.title}),w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:97:16","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"97","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F70%22%7D",className:"text-white/70",children:t.description})]},e))}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:102:10","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"102","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-gradient-to-r%20from-nourish-900%2F60%20to-black%2F60%20backdrop-blur-md%20rounded-xl%20p-8%20border%20border-nourish-500%2F30%22%7D",className:"bg-gradient-to-r from-nourish-900/60 to-black/60 backdrop-blur-md rounded-xl p-8 border border-nourish-500/30",children:[w.jsx("h2",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:103:12","data-lov-name":"h2","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"103","data-component-file":"RetailPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Why%20Choose%20Retort%20Food%20For%20Your%20Retail%20Business%3F%22%2C%22className%22%3A%22text-2xl%20md%3Atext-3xl%20font-bold%20text-transparent%20bg-clip-text%20bg-gradient-to-r%20from-nourish-400%20to-cyan-400%20mb-6%22%7D",className:"text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-nourish-400 to-cyan-400 mb-6",children:"Why Choose Retort Food For Your Retail Business?"}),w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:105:12","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"105","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%20mb-6%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:["Reduced food waste by up to 80%","Lower operational costs with ambient storage","Expanded product ranges without refrigeration constraints","Innovative packaging solutions that stand out on shelves","Consumer-focused designs with easy open and reheat options","Customizable white labeling opportunities"].map((t,e)=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:114:16","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"114","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",className:"flex items-start gap-3",children:[w.jsx("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:115:18","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"115","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-1%20bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20rounded-full%20p-1%22%7D",className:"mt-1 bg-gradient-to-r from-nourish-500 to-cyan-500 rounded-full p-1",children:w.jsx(KL,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:116:20","data-lov-name":"Check","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"116","data-component-file":"RetailPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",className:"text-white",size:16})}),w.jsx("p",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:118:18","data-lov-name":"p","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"118","data-component-file":"RetailPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-white%2F90%22%7D",className:"text-white/90",children:t})]},e))}),w.jsxs("div",{"data-lov-id":"src/pages/platforms/RetailPage.tsx:123:12","data-lov-name":"div","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"123","data-component-file":"RetailPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-4%20mt-8%22%7D",className:"flex flex-col sm:flex-row gap-4 mt-8",children:[w.jsx(zn,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:124:14","data-lov-name":"Link","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"124","data-component-file":"RetailPage.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/contact",children:w.jsxs(pn,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:125:16","data-lov-name":"Button","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"125","data-component-file":"RetailPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Schedule%20a%20Consultation%22%2C%22className%22%3A%22bg-gradient-to-r%20from-nourish-500%20to-cyan-500%20hover%3Afrom-nourish-600%20hover%3Ato-cyan-600%20text-white%20group%22%7D",className:"bg-gradient-to-r from-nourish-500 to-cyan-500 hover:from-nourish-600 hover:to-cyan-600 text-white group",children:["Schedule a Consultation",w.jsx($o,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:127:18","data-lov-name":"ArrowRight","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"127","data-component-file":"RetailPage.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%22className%22%3A%22ml-2%20transition-transform%20group-hover%3Atranslate-x-1%22%7D",className:"ml-2 transition-transform group-hover:translate-x-1",size:16})]})}),w.jsx(zn,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:130:14","data-lov-name":"Link","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"130","data-component-file":"RetailPage.tsx","data-component-name":"Link","data-component-content":"%7B%7D",to:"/templates",children:w.jsx(pn,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:131:16","data-lov-name":"Button","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"131","data-component-file":"RetailPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22View%20Product%20Catalog%22%2C%22className%22%3A%22border-nourish-500%2F30%20text-nourish-400%20hover%3Abg-nourish-900%2F30%22%7D",variant:"outline",className:"border-nourish-500/30 text-nourish-400 hover:bg-nourish-900/30",children:"View Product Catalog"})})]})]})]})]}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:140:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"140","data-component-file":"RetailPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(s3,{"data-lov-id":"src/pages/platforms/RetailPage.tsx:141:6","data-lov-name":"EnhancedChatMenu","data-component-path":"src/pages/platforms/RetailPage.tsx","data-component-line":"141","data-component-file":"RetailPage.tsx","data-component-name":"EnhancedChatMenu","data-component-content":"%7B%7D"})]}),DW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:9:4","data-lov-name":"div","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"9","data-component-file":"ManufacturingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:10:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"10","data-component-file":"ManufacturingPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:12:6","data-lov-name":"section","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"12","data-component-file":"ManufacturingPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20container%20px-4%20md%3Apx-6%22%7D",className:"py-32 container px-4 md:px-6",children:[w.jsx("h1",{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:13:8","data-lov-name":"h1","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"13","data-component-file":"ManufacturingPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Manufacturing%20Portal%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Manufacturing Portal"}),w.jsx("p",{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:16:8","data-lov-name":"p","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"16","data-component-file":"ManufacturingPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Coming%20soon...%22%2C%22className%22%3A%22text-xl%20text-gray-300%22%7D",className:"text-xl text-gray-300",children:"Coming soon..."})]}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:19:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"19","data-component-file":"ManufacturingPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/platforms/ManufacturingPage.tsx:20:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/platforms/ManufacturingPage.tsx","data-component-line":"20","data-component-file":"ManufacturingPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),MW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:9:4","data-lov-name":"div","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"9","data-component-file":"DistributionPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:10:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"10","data-component-file":"DistributionPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:12:6","data-lov-name":"section","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"12","data-component-file":"DistributionPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20container%20px-4%20md%3Apx-6%22%7D",className:"py-32 container px-4 md:px-6",children:[w.jsx("h1",{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:13:8","data-lov-name":"h1","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"13","data-component-file":"DistributionPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Distribution%20Network%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Distribution Network"}),w.jsx("p",{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:16:8","data-lov-name":"p","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"16","data-component-file":"DistributionPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Coming%20soon...%22%2C%22className%22%3A%22text-xl%20text-gray-300%22%7D",className:"text-xl text-gray-300",children:"Coming soon..."})]}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:19:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"19","data-component-file":"DistributionPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/platforms/DistributionPage.tsx:20:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/platforms/DistributionPage.tsx","data-component-line":"20","data-component-file":"DistributionPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),kW=()=>w.jsxs("div",{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:9:4","data-lov-name":"div","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"9","data-component-file":"CommunityPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:10:6","data-lov-name":"Navbar","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"10","data-component-file":"CommunityPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:12:6","data-lov-name":"section","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"12","data-component-file":"CommunityPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20container%20px-4%20md%3Apx-6%22%7D",className:"py-32 container px-4 md:px-6",children:[w.jsx("h1",{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:13:8","data-lov-name":"h1","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"13","data-component-file":"CommunityPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22Community%20Hub%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Community Hub"}),w.jsx("p",{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:16:8","data-lov-name":"p","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"16","data-component-file":"CommunityPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Coming%20soon...%22%2C%22className%22%3A%22text-xl%20text-gray-300%22%7D",className:"text-xl text-gray-300",children:"Coming soon..."})]}),w.jsx(qr,{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:19:6","data-lov-name":"Footer","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"19","data-component-file":"CommunityPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/platforms/CommunityPage.tsx:20:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/platforms/CommunityPage.tsx","data-component-line":"20","data-component-file":"CommunityPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),BW=()=>w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:12:4","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"12","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-b%20from-black%20to-background%22%7D",className:"min-h-screen bg-gradient-to-b from-black to-background",children:[w.jsx(Gr,{"data-lov-id":"src/pages/AboutPage.tsx:13:6","data-lov-name":"Navbar","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"13","data-component-file":"AboutPage.tsx","data-component-name":"Navbar","data-component-content":"%7B%7D"}),w.jsxs("section",{"data-lov-id":"src/pages/AboutPage.tsx:16:6","data-lov-name":"section","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"16","data-component-file":"AboutPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-32%20relative%20overflow-hidden%22%7D",className:"py-32 relative overflow-hidden",children:[w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:17:8","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"17","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-gradient-to-b%20from-green-900%2F90%20to-black%2F70%20z-0%22%7D",className:"absolute inset-0 bg-gradient-to-b from-green-900/90 to-black/70 z-0"}),w.jsx(ke.div,{"data-lov-id":"src/pages/AboutPage.tsx:18:8","data-lov-name":"motion.div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"18","data-component-file":"AboutPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20z-0%22%7D",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"absolute inset-0 z-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=2000&auto=format&fit=crop")',backgroundSize:"cover",backgroundPosition:"center",opacity:.2}}),w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:31:8","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"31","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%20relative%20z-10%22%7D",className:"container px-4 md:px-6 relative z-10",children:w.jsxs(ke.div,{"data-lov-id":"src/pages/AboutPage.tsx:32:10","data-lov-name":"motion.div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"32","data-component-file":"AboutPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22max-w-3xl%22%7D",className:"max-w-3xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[w.jsxs("h1",{"data-lov-id":"src/pages/AboutPage.tsx:38:12","data-lov-name":"h1","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"38","data-component-file":"AboutPage.tsx","data-component-name":"h1","data-component-content":"%7B%22text%22%3A%22About%22%2C%22className%22%3A%22text-4xl%20md%3Atext-6xl%20font-bold%20text-white%20mb-6%22%7D",className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["About ",w.jsx("span",{"data-lov-id":"src/pages/AboutPage.tsx:39:20","data-lov-name":"span","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"39","data-component-file":"AboutPage.tsx","data-component-name":"span","data-component-content":"%7B%22text%22%3A%22Retort%20Food%22%2C%22className%22%3A%22text-green-400%22%7D",className:"text-green-400",children:"Retort Food"})]}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:41:12","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"41","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Pioneers%20in%20sustainable%20food%20preservation%20technology%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20working%20to%20solve%20global%20food%20security%20challenges.%22%2C%22className%22%3A%22text-xl%20text-gray-300%20mb-8%20max-w-2xl%22%7D",className:"text-xl text-gray-300 mb-8 max-w-2xl",children:"Pioneers in sustainable food preservation technology, working to solve global food security challenges."})]})})]}),w.jsx("section",{"data-lov-id":"src/pages/AboutPage.tsx:50:6","data-lov-name":"section","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"50","data-component-file":"AboutPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%22%7D",className:"py-24",children:w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:51:8","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"51","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:52:10","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"52","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-16%20items-center%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[w.jsx(ke.div,{"data-lov-id":"src/pages/AboutPage.tsx:53:12","data-lov-name":"motion.div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"53","data-component-file":"AboutPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:59:14","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"59","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",className:"relative",children:[w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:60:16","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"60","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-square%20relative%20z-10%20rounded-2xl%20overflow-hidden%20shadow-xl%22%7D",className:"aspect-square relative z-10 rounded-2xl overflow-hidden shadow-xl",children:w.jsx("img",{"data-lov-id":"src/pages/AboutPage.tsx:61:18","data-lov-name":"img","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"61","data-component-file":"AboutPage.tsx","data-component-name":"img","data-component-content":"%7B%22className%22%3A%22w-full%20h-full%20object-cover%22%7D",src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1600&auto=format&fit=crop",alt:"CodeRacers Team",className:"w-full h-full object-cover"})}),w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:67:16","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"67","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-1%2F2%20left-1%2F2%20-translate-y-1%2F2%20translate-x-%5B-10%25%5D%20w-2%2F3%20h-2%2F3%20bg-green-100%20rounded-2xl%20-z-10%22%7D",className:"absolute top-1/2 left-1/2 -translate-y-1/2 translate-x-[-10%] w-2/3 h-2/3 bg-green-100 rounded-2xl -z-10"})]})}),w.jsxs(ke.div,{"data-lov-id":"src/pages/AboutPage.tsx:71:12","data-lov-name":"motion.div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"71","data-component-file":"AboutPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%7D",initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:[w.jsx("h2",{"data-lov-id":"src/pages/AboutPage.tsx:77:14","data-lov-name":"h2","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"77","data-component-file":"AboutPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Our%20Team's%20Story%22%2C%22className%22%3A%22text-3xl%20md%3Atext-4xl%20font-bold%20mb-6%20text-white%22%7D",className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Our Team's Story"}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:80:14","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"80","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Retort%20Food%20was%20founded%20in%202010%20by%20the%20CodeRacers%20team%20after%20witnessing%20the%20devastating%20impact%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20of%20food%20insecurity%20during%20humanitarian%20work%20across%20developing%20nations.%22%2C%22className%22%3A%22text-lg%20mb-6%20text-gray-300%22%7D",className:"text-lg mb-6 text-gray-300",children:"Retort Food was founded in 2010 by the CodeRacers team after witnessing the devastating impact of food insecurity during humanitarian work across developing nations."}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:84:14","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"84","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22With%20a%20background%20in%20food%20technology%20and%20sustainable%20agriculture%2C%20our%20team%20identified%20the%20enormous%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20potential%20of%20advanced%20retort%20technology%20to%20preserve%20food%20without%20refrigeration%2C%20making%20it%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20possible%20to%20distribute%20nutritious%20meals%20to%20areas%20lacking%20reliable%20cold%20chain%20infrastructure.%22%2C%22className%22%3A%22text-lg%20mb-6%20text-gray-300%22%7D",className:"text-lg mb-6 text-gray-300",children:"With a background in food technology and sustainable agriculture, our team identified the enormous potential of advanced retort technology to preserve food without refrigeration, making it possible to distribute nutritious meals to areas lacking reliable cold chain infrastructure."}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:89:14","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"89","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22Our%20vision%20has%20evolved%20from%20a%20simple%20food%20preservation%20technique%20into%20a%20multi-platform%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ecosystem%20that%20connects%20producers%2C%20distributors%2C%20retailers%2C%20and%20consumers%20across%20the%20globe%2C%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20all%20united%20by%20the%20mission%20to%20reduce%20food%20waste%20and%20increase%20access%20to%20nutrition.%22%2C%22className%22%3A%22text-lg%20mb-8%20text-gray-300%22%7D",className:"text-lg mb-8 text-gray-300",children:"Our vision has evolved from a simple food preservation technique into a multi-platform ecosystem that connects producers, distributors, retailers, and consumers across the globe, all united by the mission to reduce food waste and increase access to nutrition."}),w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:95:14","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"95","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-4%22%7D",className:"flex gap-4",children:w.jsxs(pn,{"data-lov-id":"src/pages/AboutPage.tsx:96:16","data-lov-name":"Button","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"96","data-component-file":"AboutPage.tsx","data-component-name":"Button","data-component-content":"%7B%22text%22%3A%22Meet%20Our%20Team%22%2C%22className%22%3A%22gap-2%20bg-green-600%20hover%3Abg-green-700%22%7D",className:"gap-2 bg-green-600 hover:bg-green-700",children:["Meet Our Team ",w.jsx($o,{"data-lov-id":"src/pages/AboutPage.tsx:97:32","data-lov-name":"ArrowRight","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"97","data-component-file":"AboutPage.tsx","data-component-name":"ArrowRight","data-component-content":"%7B%7D",size:16})]})})]})]})})}),w.jsx("section",{"data-lov-id":"src/pages/AboutPage.tsx:106:6","data-lov-name":"section","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"106","data-component-file":"AboutPage.tsx","data-component-name":"section","data-component-content":"%7B%22className%22%3A%22py-24%20bg-gradient-to-b%20from-black%2F40%20to-transparent%22%7D",className:"py-24 bg-gradient-to-b from-black/40 to-transparent",children:w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:107:8","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"107","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20px-4%20md%3Apx-6%22%7D",className:"container px-4 md:px-6",children:[w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:108:10","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"108","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20mb-16%22%7D",className:"text-center mb-16",children:[w.jsx("h2",{"data-lov-id":"src/pages/AboutPage.tsx:109:12","data-lov-name":"h2","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"109","data-component-file":"AboutPage.tsx","data-component-name":"h2","data-component-content":"%7B%22text%22%3A%22Our%20Mission%20%26%20Values%22%2C%22className%22%3A%22text-3xl%20md%3Atext-4xl%20font-bold%20mb-6%20text-white%22%7D",className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Our Mission & Values"}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:112:12","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"112","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22text%22%3A%22We're%20driven%20by%20a%20clear%20mission%20and%20guided%20by%20core%20values%20that%20prioritize%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20sustainability%2C%20innovation%2C%20and%20global%20food%20security.%22%2C%22className%22%3A%22text-lg%20text-gray-300%20max-w-2xl%20mx-auto%22%7D",className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We're driven by a clear mission and guided by core values that prioritize sustainability, innovation, and global food security."})]}),w.jsxs("div",{"data-lov-id":"src/pages/AboutPage.tsx:118:10","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"118","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-6%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[w.jsx($g,{"data-lov-id":"src/pages/AboutPage.tsx:119:12","data-lov-name":"ValueCard","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"119","data-component-file":"AboutPage.tsx","data-component-name":"ValueCard","data-component-content":"%7B%7D",icon:w.jsx(ik,{"data-lov-id":"src/pages/AboutPage.tsx:120:20","data-lov-name":"Heart","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"120","data-component-file":"AboutPage.tsx","data-component-name":"Heart","data-component-content":"%7B%22className%22%3A%22text-red-400%22%7D",className:"text-red-400",size:24}),title:"Food Access",description:"We believe nutritious food is a fundamental human right that should be accessible to everyone."}),w.jsx($g,{"data-lov-id":"src/pages/AboutPage.tsx:124:12","data-lov-name":"ValueCard","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"124","data-component-file":"AboutPage.tsx","data-component-name":"ValueCard","data-component-content":"%7B%7D",icon:w.jsx(Yb,{"data-lov-id":"src/pages/AboutPage.tsx:125:20","data-lov-name":"Globe","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"125","data-component-file":"AboutPage.tsx","data-component-name":"Globe","data-component-content":"%7B%22className%22%3A%22text-blue-400%22%7D",className:"text-blue-400",size:24}),title:"Sustainability",description:"All our technologies and practices are designed with environmental sustainability as a priority."}),w.jsx($g,{"data-lov-id":"src/pages/AboutPage.tsx:129:12","data-lov-name":"ValueCard","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"129","data-component-file":"AboutPage.tsx","data-component-name":"ValueCard","data-component-content":"%7B%7D",icon:w.jsx(tw,{"data-lov-id":"src/pages/AboutPage.tsx:130:20","data-lov-name":"Users","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"130","data-component-file":"AboutPage.tsx","data-component-name":"Users","data-component-content":"%7B%22className%22%3A%22text-amber-400%22%7D",className:"text-amber-400",size:24}),title:"Community",description:"We empower local communities to build food resilience through knowledge sharing and technology."}),w.jsx($g,{"data-lov-id":"src/pages/AboutPage.tsx:134:12","data-lov-name":"ValueCard","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"134","data-component-file":"AboutPage.tsx","data-component-name":"ValueCard","data-component-content":"%7B%7D",icon:w.jsx(ZL,{"data-lov-id":"src/pages/AboutPage.tsx:135:20","data-lov-name":"Award","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"135","data-component-file":"AboutPage.tsx","data-component-name":"Award","data-component-content":"%7B%22className%22%3A%22text-green-400%22%7D",className:"text-green-400",size:24}),title:"Excellence",description:"We maintain the highest standards in food safety, nutrition, and technological innovation."})]})]})}),w.jsx(qr,{"data-lov-id":"src/pages/AboutPage.tsx:143:6","data-lov-name":"Footer","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"143","data-component-file":"AboutPage.tsx","data-component-name":"Footer","data-component-content":"%7B%7D"}),w.jsx(sc,{"data-lov-id":"src/pages/AboutPage.tsx:144:6","data-lov-name":"ChatbotButton","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"144","data-component-file":"AboutPage.tsx","data-component-name":"ChatbotButton","data-component-content":"%7B%7D"})]}),$g=({icon:t,title:e,description:r})=>w.jsxs(ke.div,{"data-lov-id":"src/pages/AboutPage.tsx:157:4","data-lov-name":"motion.div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"157","data-component-file":"AboutPage.tsx","data-component-name":"motion.div","data-component-content":"%7B%22className%22%3A%22bg-black%2F30%20border%20border-green-500%2F20%20rounded-xl%20p-6%20hover%3Aborder-green-500%2F50%20transition-all%20duration-300%22%7D",className:"bg-black/30 border border-green-500/20 rounded-xl p-6 hover:border-green-500/50 transition-all duration-300",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:{y:-5},children:[w.jsx("div",{"data-lov-id":"src/pages/AboutPage.tsx:165:6","data-lov-name":"div","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"165","data-component-file":"AboutPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20rounded-full%20bg-white%2F10%20flex%20items-center%20justify-center%20mb-4%22%7D",className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center mb-4",children:t}),w.jsx("h3",{"data-lov-id":"src/pages/AboutPage.tsx:168:6","data-lov-name":"h3","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"168","data-component-file":"AboutPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-white%20mb-3%22%7D",className:"text-xl font-bold text-white mb-3",children:e}),w.jsx("p",{"data-lov-id":"src/pages/AboutPage.tsx:169:6","data-lov-name":"p","data-component-path":"src/pages/AboutPage.tsx","data-component-line":"169","data-component-file":"AboutPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-400%22%7D",className:"text-gray-400",children:r})]}),NW=new bO,IW=()=>w.jsx(CO,{"data-lov-id":"src/App.tsx:27:2","data-lov-name":"QueryClientProvider","data-component-path":"src/App.tsx","data-component-line":"27","data-component-file":"App.tsx","data-component-name":"QueryClientProvider","data-component-content":"%7B%7D",client:NW,children:w.jsxs(Qj,{"data-lov-id":"src/App.tsx:28:4","data-lov-name":"TooltipProvider","data-component-path":"src/App.tsx","data-component-line":"28","data-component-file":"App.tsx","data-component-name":"TooltipProvider","data-component-content":"%7B%7D",children:[w.jsx(Zz,{"data-lov-id":"src/App.tsx:29:6","data-lov-name":"Toaster","data-component-path":"src/App.tsx","data-component-line":"29","data-component-file":"App.tsx","data-component-name":"Toaster","data-component-content":"%7B%7D"}),w.jsx(C6,{"data-lov-id":"src/App.tsx:30:6","data-lov-name":"Sonner","data-component-path":"src/App.tsx","data-component-line":"30","data-component-file":"App.tsx","data-component-name":"Sonner","data-component-content":"%7B%7D"}),w.jsx(v8,{"data-lov-id":"src/App.tsx:31:6","data-lov-name":"BrowserRouter","data-component-path":"src/App.tsx","data-component-line":"31","data-component-file":"App.tsx","data-component-name":"BrowserRouter","data-component-content":"%7B%7D",children:w.jsxs(u8,{"data-lov-id":"src/App.tsx:32:8","data-lov-name":"Routes","data-component-path":"src/App.tsx","data-component-line":"32","data-component-file":"App.tsx","data-component-name":"Routes","data-component-content":"%7B%7D",children:[w.jsx(Ma,{"data-lov-id":"src/App.tsx:33:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"33","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/",element:w.jsx(mW,{"data-lov-id":"src/App.tsx:33:35","data-lov-name":"Index","data-component-path":"src/App.tsx","data-component-line":"33","data-component-file":"App.tsx","data-component-name":"Index","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:34:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"34","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/technology",element:w.jsx(fW,{"data-lov-id":"src/App.tsx:34:45","data-lov-name":"TechnologyPage","data-component-path":"src/App.tsx","data-component-line":"34","data-component-file":"App.tsx","data-component-name":"TechnologyPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:35:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"35","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/contact",element:w.jsx(y_,{"data-lov-id":"src/App.tsx:35:42","data-lov-name":"ContactPage","data-component-path":"src/App.tsx","data-component-line":"35","data-component-file":"App.tsx","data-component-name":"ContactPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:36:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"36","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/templates",element:w.jsx(TW,{"data-lov-id":"src/App.tsx:36:44","data-lov-name":"TemplatesPage","data-component-path":"src/App.tsx","data-component-line":"36","data-component-file":"App.tsx","data-component-name":"TemplatesPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:37:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"37","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/about",element:w.jsx(BW,{"data-lov-id":"src/App.tsx:37:40","data-lov-name":"AboutPage","data-component-path":"src/App.tsx","data-component-line":"37","data-component-file":"App.tsx","data-component-name":"AboutPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:38:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"38","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/get-involved",element:w.jsx(y_,{"data-lov-id":"src/App.tsx:38:47","data-lov-name":"ContactPage","data-component-path":"src/App.tsx","data-component-line":"38","data-component-file":"App.tsx","data-component-name":"ContactPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:39:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"39","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/donate",element:w.jsx(y_,{"data-lov-id":"src/App.tsx:39:41","data-lov-name":"ContactPage","data-component-path":"src/App.tsx","data-component-line":"39","data-component-file":"App.tsx","data-component-name":"ContactPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:42:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"42","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/consumer",element:w.jsx(SW,{"data-lov-id":"src/App.tsx:42:43","data-lov-name":"ConsumerPage","data-component-path":"src/App.tsx","data-component-line":"42","data-component-file":"App.tsx","data-component-name":"ConsumerPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:43:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"43","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/marketplace",element:w.jsx(EW,{"data-lov-id":"src/App.tsx:43:46","data-lov-name":"MarketplacePage","data-component-path":"src/App.tsx","data-component-line":"43","data-component-file":"App.tsx","data-component-name":"MarketplacePage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:44:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"44","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/retail",element:w.jsx(PW,{"data-lov-id":"src/App.tsx:44:41","data-lov-name":"RetailPage","data-component-path":"src/App.tsx","data-component-line":"44","data-component-file":"App.tsx","data-component-name":"RetailPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:45:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"45","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/manufacturing",element:w.jsx(DW,{"data-lov-id":"src/App.tsx:45:48","data-lov-name":"ManufacturingPage","data-component-path":"src/App.tsx","data-component-line":"45","data-component-file":"App.tsx","data-component-name":"ManufacturingPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:46:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"46","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/distribution",element:w.jsx(MW,{"data-lov-id":"src/App.tsx:46:47","data-lov-name":"DistributionPage","data-component-path":"src/App.tsx","data-component-line":"46","data-component-file":"App.tsx","data-component-name":"DistributionPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:47:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"47","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"/community",element:w.jsx(kW,{"data-lov-id":"src/App.tsx:47:44","data-lov-name":"CommunityPage","data-component-path":"src/App.tsx","data-component-line":"47","data-component-file":"App.tsx","data-component-name":"CommunityPage","data-component-content":"%7B%7D"})}),w.jsx(Ma,{"data-lov-id":"src/App.tsx:50:10","data-lov-name":"Route","data-component-path":"src/App.tsx","data-component-line":"50","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%7D",path:"*",element:w.jsx(hW,{"data-lov-id":"src/App.tsx:50:35","data-lov-name":"NotFound","data-component-path":"src/App.tsx","data-component-line":"50","data-component-file":"App.tsx","data-component-name":"NotFound","data-component-content":"%7B%7D"})})]})})]})});PM(document.getElementById("root")).render(w.jsx(IW,{"data-lov-id":"src/main.tsx:5:52","data-lov-name":"App","data-component-path":"src/main.tsx","data-component-line":"5","data-component-file":"main.tsx","data-component-name":"App","data-component-content":"%7B%7D"}));
